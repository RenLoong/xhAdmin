var Co=Object.defineProperty;var Do=(t,e,o)=>e in t?Co(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var He=(t,e,o)=>(Do(t,typeof e!="symbol"?e+"":e,o),o);import{d as B,r as x,c as I,z as Io,e as $o,a as tt,b as j,o as m,f as C,w,g as b,u as r,E as zt,N as qt,h as Ht,i as Bo,j as jo,k as Nt,l as Ft,m as Xt,n as P,p as A,t as M,F as X,q as J,s as U,v as F,x as Wt,y as Eo,A as Qt,B as re,C as Te,D as st,G as Ce,H as ve,I as ge,J as ye,K as ke,L as lt,M as To,O as wt,P as Ro,Q as So,R as Vo,S as Uo,T as Lo,U as Mo,V as _e,W as pe,X as Ue,Y as K,Z as ee,_ as Oo,$ as Z,a0 as zo,a1 as Gt,a2 as qo,a3 as Ho,a4 as No,a5 as Fo,a6 as Jt,a7 as At,a8 as Xo,a9 as Wo,aa as Qo,ab as rt,ac as Go,ad as Jo,ae as Zo,af as Yo,ag as Ko,ah as Pt,ai as Ct,aj as ct,ak as Dt,al as Be,am as ea,an as ta,ao as oa,ap as aa,aq as Zt,ar as na,as as sa,at as la}from"./.pnpm.53ee86f3.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();const ra=B({__name:"index",setup(t){const e=x("zh-cn"),o=I(()=>e.value==="zh-cn"?Io:$o),a=tt({autoInsertSpace:!1}),s=tt({max:1});return(n,l)=>{const i=j("router-view"),u=j("el-config-provider");return m(),C(u,{button:r(a),message:r(s),locale:r(o)},{default:w(()=>[b(i)]),_:1},8,["button","message","locale"])}}}),Ne="/login",Yt="/register",Kt="/password",ca="/user/personal",eo="/Index/index",ia=["/exception","/401","/403","/404","/401","/500","/502"],ua={401:"您没有权限访问该页面",403:"资源错误",404:"资源错误",500:"服务器内部错误",502:"请求错误，无法获取到数据"},da="modulepreload",pa=function(t){return"/"+t},It={},we=function(e,o,a){if(!o||o.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(o.map(n=>{if(n=pa(n),n in It)return;It[n]=!0;const l=n.endsWith(".css"),i=l?'[rel="stylesheet"]':"";if(!!a)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===n&&(!l||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${i}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":da,l||(c.as="script",c.crossOrigin=""),c.href=n,document.head.appendChild(c),l)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>e()).catch(n=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=n,window.dispatchEvent(l),!l.defaultPrevented)throw n})},oe=B({__name:"index",props:{icon:{},size:{default:18},color:{},type:{}},setup(t){const e=t,o=I(()=>e.type==="element"?zt:qt);return(a,s)=>{const n=j("el-icon");return m(),C(n,{size:a.size,color:a.color},{default:w(()=>[(m(),C(Ht(r(o)[a.icon])))]),_:1},8,["size","color"])}}}),W=(t,e,o="",a)=>{Bo({message:t,title:o,duration:2e3,type:e,...a})},de=(t,e="温馨提示",o)=>{W(t,"success",e,o)},E=(t,e="温馨提示",o)=>{W(t,"error",e,o)},it=()=>{var o,a;const t=G.currentRoute.value;let e="";return(o=t==null?void 0:t.meta)!=null&&o.moduleName?e=(a=t==null?void 0:t.meta)==null?void 0:a.moduleName:e=location.pathname.replace(/^\/(.*)\/$/,"$1"),e},De=(t="",e=!1)=>{var n;const o=G.currentRoute.value,a=((n=o==null?void 0:o.meta)==null?void 0:n.moduleName)??"",s=x(o.path);if(e){const l=s.value.indexOf("/",1);s.value=s.value.substring(0,l),s.value=`${s.value}/`}return`${a}${s.value}${t}`},Me=t=>{let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},ue=(t,e)=>{Me(t)?location.href=t:G.push({path:t,query:e})};function Je(t=6){let e="";for(let o=0;o<t;o++)e+=Math.floor(Math.random()*10);return e}const Le=(t,e)=>{for(const o in e)if(e[o]===t)return!0;return!1},Fe=()=>{var e;(e=G.currentRoute.value.query)!=null&&e.isBack||E("返回上次页面错误"),G.back()},ma=t=>t.replace(/\/(\w)/g,(e,o)=>o.toUpperCase()),to=(t,e="Enter")=>{const o=a=>{a.key===e&&(t(),a.preventDefault())};jo(()=>document.addEventListener("keydown",o)),Nt(()=>document.removeEventListener("keydown",o))},ut=t=>{let e;const o={},a=t.slice(t.indexOf("?")+1).split("&");for(let s=0;s<a.length;s++)e=a[s].split("="),o[e[0]]=e[1];return o},dt="authorization",pt="appid",Oe=Ft(()=>{const t=it();return Xt(`${t}_${dt}`,null)}),Ie=Ft(()=>{const t=it();return Xt(`${t}_${pt}`,null)}),Qe=B({__name:"menu-item",props:{menuData:{}},setup(t){const e=Ie(),o=a=>{const s=a.path,n=x({});a.ajaxParams&&(n.value=ut(a.ajaxParams));let l={...n.value};e.value&&(l={...l,appid:e.value}),ue(`/${s}`,l)};return(a,s)=>{const n=j("el-menu-item-group"),l=j("el-menu-item");return m(),P(X,null,[a.menuData.isGroup&&a.menuData.show?(m(),C(n,{key:0},{title:w(()=>[A("span",null,M(a.menuData.title),1)]),default:w(()=>[(m(!0),P(X,null,J(a.menuData.children,i=>(m(),C(Qe,{key:i.activeId,"menu-data":i},null,8,["menu-data"]))),128))]),_:1})):U("",!0),!a.menuData.isGroup&&a.menuData.show?(m(),C(l,{key:1,index:a.menuData.activeId,onClick:s[0]||(s[0]=i=>o(a.menuData))},{default:w(()=>[F(M(a.menuData.title),1)]),_:1},8,["index"])):U("",!0)],64)}}}),_a=B({__name:"menu-item-level",props:{menuData:{}},setup(t){const e=Ie(),o=a=>{const s=a.path,n=x({});a.ajaxParams&&(n.value=ut(a.ajaxParams));let l={...n.value};e.value&&(l={...l,appid:e.value}),ue(`/${s}`,l)};return(a,s)=>{const n=j("el-sub-menu"),l=j("el-menu-item");return m(),P(X,null,[a.menuData.isGroup&&a.menuData.show?(m(),C(n,{key:0,index:a.menuData.activeId},{title:w(()=>[A("span",null,M(a.menuData.title),1)]),default:w(()=>[(m(!0),P(X,null,J(a.menuData.children,i=>(m(),C(Qe,{key:i.activeId,"menu-data":i},null,8,["menu-data"]))),128))]),_:1},8,["index"])):U("",!0),!a.menuData.isGroup&&a.menuData.show?(m(),C(l,{key:1,index:a.menuData.activeId,onClick:s[0]||(s[0]=i=>o(a.menuData))},{default:w(()=>[F(M(a.menuData.title),1)]),_:1},8,["index"])):U("",!0)],64)}}}),fa={layout:"mix",layoutMenu:"group",theme:"OS",sideMenuWidth:80,sideWidth:200,headerHeight:50,logoHeight:30,footerHeight:35},$t={nickname:"",username:"",password:"",headimg:"",role:{},menus:[]},ot=x("OS"),at=matchMedia("(prefers-color-scheme: dark)"),Ze=()=>{at.matches?document.documentElement.dataset.theme="dark":document.documentElement.dataset.theme="light"};Wt(()=>{ot.value==="OS"?(at.addEventListener("change",Ze),Ze()):(document.documentElement.dataset.theme=ot.value,at.removeEventListener("change",Ze))});function ha(){return{theme:ot}}const va={web_name:"",web_title:""},mt="/",Y=Eo.create({baseURL:mt,timeout:6e4}),ga=async t=>{const e=Oe();e.value&&t.headers.set(dt,e.value);const o=Ie();return o.value&&t.headers.set(pt,o.value),t},ya=t=>{var s,n,l,i,u;const e=Oe(),o=t.data,a=t.headers["content-type"];if(a.includes("application/json")){if((o==null?void 0:o.code)===301)return ue(((s=o==null?void 0:o.data)==null?void 0:s.url)??""),Promise.reject(o);if((o==null?void 0:o.code)===302)return E((o==null?void 0:o.msg)||"302.网络错误~"),ue(((n=o==null?void 0:o.data)==null?void 0:n.url)??""),Promise.reject(o);if((o==null?void 0:o.code)===303)return E((o==null?void 0:o.msg)||"303.网络错误~"),ue(((l=o==null?void 0:o.data)==null?void 0:l.url)??""),Promise.reject(o);if((o==null?void 0:o.code)===304)return window.location.reload(),Promise.reject(o);if((o==null?void 0:o.code)===305)return E((o==null?void 0:o.msg)||"305.网络错误~"),setTimeout(()=>{window.location.reload()},2500),Promise.reject(o);if([600,666,11e3].includes(o==null?void 0:o.code))return Promise.reject(o);if((o==null?void 0:o.code)===200)return o;if((o==null?void 0:o.code)===12e3){e.value="";let c=(i=G.currentRoute.value)==null?void 0:i.fullPath;return(u=G.currentRoute.value.query)!=null&&u.redirect&&(c=G.currentRoute.value.query.redirect),c===Ne&&(c="/"),G.replace({path:Ne,query:{redirect:c}}),E((o==null?void 0:o.msg)||"登录超时啦~"),Promise.reject(o)}return o!=null&&o.msg&&E((o==null?void 0:o.msg)||"网络错误~"),Promise.reject(o)}else return a.includes("application/octet-stream")?Promise.resolve(o):Promise.reject(o)},ka=t=>{if(t.response){const{status:e}=t.response;e===401?ue("/exception",{code:401}):e===403?ue("/exception",{code:403}):e===500?ue("/exception",{code:500}):e===502&&ue("/exception",{code:502})}return Promise.reject(t)};Y.interceptors.request.use(ga);Y.interceptors.response.use(ya,ka);const xa=Object.freeze(Object.defineProperty({__proto__:null,baseURL:mt,default:Y,instance:Y},Symbol.toStringTag,{value:"Module"})),Pe=(t,e,o)=>Y.request({url:t,params:e,method:"GET",...o}),Ee=(t,e,o)=>Y.request({url:t,data:e,method:"POST",...o}),Xe=(t,e,o)=>Y.request({url:t,data:e,method:"PUT",...o}),We=(t,e,o)=>Y.request({url:t,data:e,method:"DELETE",...o}),ce=Qt("app",()=>{const e=`${it()}/Publics/site`,o=Ie(),a=x({...va}),s=x(),n=u=>{a.value=u};return{useAppId:o,siteInfo:a,getSite:async()=>{const{data:u}=await Pe(e);return n(u),u},setSiteInfo:n,setLoginLink:u=>{s.value=u}}}),Ae=(t,e="温馨提示",o="",a)=>re.confirm(t,e,{confirmButtonText:"确定",cancelButtonText:"取消",type:o,...a}),$e=Qt("user",()=>{const t=Oe(),e=x({...$t}),o=x([]),a=x([]),s=x({...fa}),n=_=>{if(!(_!=null&&_.menus)){E("用户信息缺少Menus字段参数");return}_.menus instanceof Array&&_.menus.length>0&&(o.value=Fc(_.menus),a.value=ho(_.menus)),_!=null&&_.theme&&(s.value={...s.value,..._.theme}),e.value=_};return{layoutInfo:s,userInfo:e,Authorization:t,login:async _=>{var v,y,D;const p=(y=(v=ce().siteInfo)==null?void 0:v.public_api)==null?void 0:y.login;if(!p){E("请配置登录接口");return}const{msg:k,data:g}=await Ee(p,_);if(g!=null&&g.token){let S=g.token;S.includes("Bearer")||(S=`Bearer ${S}`),t.value=S,de(k??"登录成功","温馨提示");const $=((D=G.currentRoute.value.query)==null?void 0:D.redirect)||"/";G.push($)}else E(k??"登录失败")},loginOut:()=>{Ae("是否确认退出登录？","温馨提示","error").then(()=>{t.value="",n({...$t}),G.push(Ne)})},getUserInfo:async()=>{var k;const f=(k=ce().siteInfo.public_api)==null?void 0:k.user;if(!f){E("请配置用户信息接口");return}const{data:p}=await Pe(f);p&&n(p)},routeList:o,menuList:a,setTheme:_=>{s.value.theme=_,ha().theme.value=_},setLayout:_=>{s.value.layout=_},setLayoutMenu:_=>{s.value.layoutMenu=_}}}),ba=t=>(ge("data-v-be4dd23e"),t=t(),ye(),t),wa={class:"xhadmin-menus-pro"},Aa=["onClick"],Pa={class:"text"},Ca=ba(()=>A("div",{class:"mask"},null,-1)),Da=B({__name:"menu",props:{active:{},menus:{},sideWidth:{default:200}},setup(t){const e=t;Te(_=>({"019f2ec6":r(l)}));const o=Ie(),a=$e(),{layoutInfo:s}=st(a),n=I(()=>{var _;return((_=s.value)==null?void 0:_.layoutMenu)||"group"}),l=I(()=>`${e.sideWidth}px`),i=x(""),u=x(""),c=_=>{i.value=_;const f=i.value.split("-");u.value=f[0]},d=_=>{var k;const f=_[0],p=(k=f==null?void 0:f.children)==null?void 0:k.find(g=>g.show===!0);return f!=null&&f.children&&p?d((f==null?void 0:f.children)??[]):f},h=_=>{var D;const f=(D=_==null?void 0:_.children)==null?void 0:D.find(S=>S.show===!0);let p=_;_!=null&&_.children&&f&&(p=d((_==null?void 0:_.children)??[]));const k=p.path,g=x({});p.ajaxParams&&(g.value=ut(p.ajaxParams));const v=p.activeId;c(v);let y={...g.value};o.value&&(y={...y,appid:o.value}),ue(`/${k}`,y)};return Ce(()=>{c(e.active)}),(_,f)=>{const p=oe,k=j("el-menu");return m(),P("div",wa,[(m(!0),P(X,null,J(_.menus,g=>(m(),P("div",{key:g.id,class:"item"},[g.show?(m(),P("div",{key:0,class:ve(["item-title",{active:r(u)===g.activeId}]),onClick:v=>h(g)},[b(p,{icon:g.icon,size:"24",type:(g==null?void 0:g.iconType)||""},null,8,["icon","type"]),A("div",Pa,M(g.title),1),Ca],10,Aa)):U("",!0),A("div",{class:ve(["item-children",{active:r(u)===g.activeId}])},[(m(!0),P(X,null,J(g.children,v=>(m(),P("div",{key:v.activeId},[b(k,{"default-active":_.active},{default:w(()=>[r(n)==="level"?(m(),C(_a,{key:0,"menu-data":v},null,8,["menu-data"])):(m(),C(Qe,{key:1,"menu-data":v},null,8,["menu-data"]))]),_:2},1032,["default-active"])]))),128))],2)]))),128))])}}});const O=(t,e)=>{const o=t.__vccOpts||t;for(const[a,s]of e)o[a]=s;return o},Ia=O(Da,[["__scopeId","data-v-be4dd23e"]]),Bt="data:image/png;base64,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",$a=["src"],Ba=B({__name:"image",props:{logoSrc:{},logoHeight:{default:35}},setup(t){const e=t;Te(s=>({"19b86320":r(a)}));const o=I(()=>e.logoSrc?e.logoSrc:Bt),a=I(()=>`${e.logoHeight}px`);return(s,n)=>{const l=j("el-image");return m(),C(l,{src:r(o),class:"logo"},{error:w(()=>[A("img",{src:r(Bt),class:"logo"},null,8,$a)]),_:1},8,["src"])}}});const oo=O(Ba,[["__scopeId","data-v-4fc29c9c"]]),ja=B({__name:"title",props:{sideName:{default:"XhAdmin"}},setup(t){return(e,o)=>(m(),P("span",null,M(e.sideName),1))}}),Ea={class:"xhadmin-logo-pro"},Ta={class:"logo-image"},Ra={class:"logo-text"},Sa=B({__name:"index",props:{headerHeight:{},sideWidth:{},sideMenuWidth:{},logoHeight:{},logoSrc:{},sideName:{}},setup(t){const e=t;Te(n=>({"8b156f6c":r(o),"42433e3e":r(s),"045d336e":r(a)}));const o=I(()=>`${e.sideWidth}px`),a=I(()=>`${e.sideMenuWidth}px`),s=I(()=>`${e.headerHeight}px`);return(n,l)=>(m(),P("div",Ea,[A("div",Ta,[b(oo,{"logo-src":n.logoSrc,"logo-height":n.logoHeight},null,8,["logo-src","logo-height"])]),A("div",Ra,[b(ja,{"side-name":n.sideName,"logo-height":n.logoHeight},null,8,["side-name","logo-height"])])]))}});const Va=O(Sa,[["__scopeId","data-v-3617cfe5"]]),ao=B({__name:"index",setup(t){const e=ke(),o=()=>`${new Date().getTime()}${Math.random()}`,a=x("");return lt(()=>e.fullPath,()=>{a.value=o()}),(s,n)=>{const l=j("router-view");return m(),C(l,{key:r(a)})}}}),jt="OUtzMas9edTHUH/JnNdjl4lHWYG9gISU6vl1DnlCzkumaS2EkD8OLhRzTMziPeF5AxwRwukfkvIVs2nzq7KWi2RxbtTzzLtOQMml5cLVHkQZs8dhEMLkXtyVFKOTAjsXTvU2NFMCfwUc8LhqIrDnbd11kU5oQoTcysWvQbk/P6wfBMd7p3TOZwWewFg+oz5qHfwhgtW2dXev4p+a9fknRNBKUgdBxStKVsImmh4SlXRfOlhgMhOoL6ycaOdbhz6LgvDynfuWIA7dngosFv6x9SXIW2WndIoztR/4A+9uYG6xxiuH7Por9QJjFVU/VzLytposud3gAQi7ba2gyN9I6g==e3dqJ6AL4KUa3qpU0WtHV215X5FP5e1CZeyTqT2ap9dEOIS8hp94xpVIod9MSyYorLrNVOo8OyocipT9zLZITtPJ5LNVczJcnzHrNi6goXzojZ7etvuGK0HRj8CygkIhZMb7PUF9lNodtoUJ8BOjKvvETpXXSnHmyhwyskBRtBZ3LwAbKNCNKPCDhDQgF/Zo8P0h+oUjCZ/3B2kvSxPhPS9OjPU583PqOlZZNf0/2TzC+JxCI2Du/87kDGUXS8Y7UKP2NzdlqT21VkOQnbsFHRGg3jfT/+uJu6M/qljnvGo6bp6nL0vpD0paZmKrSUGVE99FWkLYNRiWAKkttCDn2g==",Et=`-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCz+Ny6Y+2LRQb5
d81sZgzExl3EwWHJnP/BDOqD90UxEYStdzVulGtykumcfUPW+Hugspq8waetBGb7
MEFcbl3y7cTmrK/4Uninmy5Nf4nsGQk+/5WvQE2pzlLfPH0ZgxWyFepNdIXc6+k/
loXCOLus0jUZoDnN1YJfDMtGi+VyYl1jbatu3TQohO15NRb4KZ1TUeWQbOSnpXDA
WA2x9qVJtgKn1sD3KlxPu9Lm01QqCiIrEHEBWWCJQesgwP98JS438kCRmZMQBEJV
urr4UsLH889TMFg5ySKoGFLs3NOwOKbf0wwSpl4t7kAqyKOhbd4IprPVih/E9We5
VvYn5+7JAgMBAAECggEAMGRcRaoU93vKEk5KaDlQeaC1GfC9sI6MnoYwkOduLXF+
cX46Wc+CzL4AHtn34dfStjUQMm0H/xfN8QDaslXi4S1Z4oTQlD7ovniVjLUciuV4
fP4Qa50oxN37npcPNErxDH+kDsukKvEsOLLqqHzEygWDza4tnNEqSxCPoBqBya2B
TZomn3559fCOxGbKn7+3wlF7kKqr1HCbgX04RGISksh/EA1KPZRxOIol3B4dtz+H
xG/aG5aAGGnsFhlk/V/UiCBpyNYyJjVidJE9r8sY+GrszIEzsCLePhSWwG0UoTTN
PRt1o+nMCTuF8VoCkWGI7K6S5J5mQKdsFSaLPbLj4QKBgQDuEkf17kRNxWd2zBE7
fLGeRoezjyTBxcn6zzaJ1jQXs/ROV08q/LxNdRRNJ3jPk3V9y9Ceh6tyGvitumDF
m2fsrb+yofXQ8gL8xKFXhJHhbPRVqNKfb0DIWIeLSmhDM4xvmK3E+EuDQCe+t+7d
KRhUzYVXtsfid2MOrCfCkTwR5QKBgQDBhn/cs78V6hheZt0JUpV+bL01qelEC+SV
qwprkxbp6HWkRLp0yQb18Khq1s0NtMAQXlM5BGCQR9i7syy5vGi80a/lsR1O8F3y
PSo1GFYX9MGhIUHp7pw/6ls4WgZQ4eDMW7w0mrJ8DPUXlw2q/kY4SCAAHbGqarBo
nc8cv4UrFQKBgDbF0fSM+v4BmspELPrIt3y4sWPoXQaP4OZpYhzYQWfqqRyVDcvQ
FeqkMyWFHVB0lqV4jOjMQe+gsPIXXUhZdtGHMAGDLbEC3RkWjCA8ieuZS6Whj8PK
rtbpN1Yeqlo7s+XA9MnKbmUmD37bhoMvfz+TgUgq71X1Lb8kcIldLLrZAoGAJR1/
fjt25WQNImXF9JjDFQkTzKv2kddaEp5IFFOUbG3pygRoYid/z0FFe6AQmZVV1I3S
ljfRsTomRfFaHZEV4Uix3HJ4dYBB9EhoxOAS+us1C4sOUigyDUwMDKWvWmnHrEnX
sZsNqh7uDoUo2OeFXhvvDzaisVVe2eGSLChLCPUCgYEAqIu/Ws/C2OceneO25l/3
2WxcN3UbVT6x8TkwFjYv9UWs0/Opqlnj8aFy4zgU76zIDRGjVyObv53Gwhaaim1z
TeIrGe7RcWmPjzsERGlb+qe7tvCiNNDTd6RK0ywIrcSUrkEaZepqUepGFgB/vq9T
v07JgHIyR8viVUUqohaz5hM=
-----END PRIVATE KEY-----`,Ua=window.location.hostname,Ye=(t,e)=>{const o=new To;o.setPrivateKey(e);const a=t.match(/.{1,344}/g);if(!a)throw new Error("令牌表单解密失败");let s="";if(a==null||a.forEach(n=>{const l=o.decrypt(n);l&&(s+=l)}),!s)throw new Error("解密失败");return JSON.parse(new TextDecoder().decode(Uint8Array.from(window.atob(s),n=>n.charCodeAt(0))))},La=()=>{const e=ce().siteInfo;if(e!=null&&e.empower_token&&e.empower_private_key)try{const o=Ye(e.empower_token,e.empower_private_key);return o.systemUrl===Ua?o:Ye(jt,Et)}catch(o){console.error("服务端授权失败",o)}try{return Ye(jt,Et)}catch(o){console.error("系统授权错误",o)}},no=()=>{const e=ce().siteInfo;return{version_name:(e==null?void 0:e.version_name)??"v1.0.0",version:(e==null?void 0:e.version)??1e3}},Ma={class:"copyright-set"},Oa={key:0},za=["href"],qa=["href"],Ha=B({__name:"index",setup(t){const{systemAbout:e,systemAboutUrl:o,systemName:a,systemUrl:s}=La(),{version_name:n}=no();return(l,i)=>(m(),P("div",Ma,[F(" copyright © 2023 "),r(o)==="#"?(m(),P("span",Oa,M(r(e)),1)):(m(),P("a",{key:1,href:`http://${r(o)}`,target:"_blank",class:"pl-10px"},M(r(e)),9,za)),F(" All Rights Reserved "),A("a",{href:`http://${r(s)}`,target:"_blank",class:"pl-10px"},M(r(a))+" "+M(r(n)),9,qa)]))}});const so=O(Ha,[["__scopeId","data-v-6627a2d1"]]),Na={form:{inline:!1,labelPosition:"top",labelSuffix:void 0,hideRequiredAsterisk:!0,labelWidth:"auto",showMessage:!0,inlineMessage:!0,statusIcon:!1,validateOnRuleChange:!0,disabled:!1,size:void 0,title:!0},row:{gutter:50,type:void 0,align:void 0,justify:void 0,tag:"div"},global:{"*":{}},submitBtn:!1,resetBtn:!1},Fa=t=>t.map(e=>(e.handle=o=>{if((e==null?void 0:e.where)==="==")return o===e.value;if((e==null?void 0:e.where)==="!=")return o!==e.value;if((e==null?void 0:e.where)==="in"){const a=e.value;return a instanceof Array&&a instanceof Object?Le(o,e.value):(console.error("联动组件的IN条件值必须是数组或对象"),!1)}},e)),Xa=t=>t.map(e=>(e!=null&&e.control&&(e.control=Fa(e.control)),e)),Wa={};function Qa(t,e){return m(),P("div",null," 高德地图 ")}const Ga=O(Wa,[["render",Qa]]),Ja={};function Za(t,e){return m(),P("div",null," 百度地图 ")}const Ya=O(Ja,[["render",Za]]),Ka={};function en(t,e){return m(),P("div",null," 腾讯地图 ")}const tn=O(Ka,[["render",en]]),on={javascript:Ro,php:So,python:Vo,java:Uo,css:Lo,xml:Mo},an=t=>(wt.registerLanguage(t,on[t]),wt),nn={class:"w-100%"},sn=["innerHTML"],ln=B({__name:"index",props:{modelValue:{},language:{default:"javascript"},showLineNumbers:{type:Boolean}},setup(t){const e=t,o=an(e.language),a=x("");return Wt(()=>{a.value=o.highlight(e.modelValue,{language:e.language}).value}),(s,n)=>(m(),P("div",nn,[A("pre",null,[F("    "),A("code",{class:"hljs",innerHTML:r(a)},null,8,sn),F(`
    `)])]))}}),rn=B({__name:"xh-button",props:{type:{default:"default"},text:{type:Boolean}},setup(t){const e=t,o=I(()=>e.text?"":`xh-button-${e.type}`);return(a,s)=>(m(),P("button",{class:ve(["xh-button",r(o)])},[_e(a.$slots,"loading",{},void 0,!0),_e(a.$slots,"icon",{},void 0,!0),_e(a.$slots,"default",{},void 0,!0)],2))}});const cn=O(rn,[["__scopeId","data-v-dbf03c62"]]),Re=B({__name:"index",props:{type:{default:"default"}},setup(t){const e=t,o=["error","purple","cyan"],a=I(()=>o.includes(e.type));return(s,n)=>{const l=j("el-button");return r(a)?(m(),C(cn,{key:0,type:s.type},{default:w(()=>[_e(s.$slots,"loading"),_e(s.$slots,"icon"),_e(s.$slots,"default")]),_:3},8,["type"])):(m(),C(l,{key:1,type:s.type},{default:w(()=>[_e(s.$slots,"loading"),_e(s.$slots,"icon"),_e(s.$slots,"default")]),_:3},8,["type"]))}}}),lo=t=>(ge("data-v-f0d97d29"),t=t(),ye(),t),un={class:"xh-icons-modal"},dn={class:"xh-icons"},pn={class:"search-container"},mn=lo(()=>A("div",{class:"placeholder text-blueGray"}," 温馨提示：单击图标为选择，双击图标为复制 ",-1)),_n={class:"icon-list"},fn={class:"tools"},hn=lo(()=>A("div",{class:"title"}," 所有图标 ",-1)),vn={class:"options"},gn={class:"list"},yn=["onDblclick","onClick"],kn={class:"icon-title"},xn={class:"xh-action"},bn=B({__name:"modal",emits:["update:confirm","update:close"],setup(t,{emit:e}){const o=x([{title:"Element-Plus",type:"element",icons:Object.keys(zt)},{title:"vicons/antd",type:"naiveui",icons:Object.keys(qt)}]),a=x(""),s=x("element"),n=x(""),l=x([]),i=f=>{l.value=[];const p=o.value.find(k=>k.type===f);p&&u(p.icons)};function u(f){let p=0;function k(){globalThis.requestIdleCallback(g=>{for(;g.timeRemaining()>0&&p<f.length;)l.value.push(f[p++]);p<f.length&&k()})}k()}const c=f=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(f).then(p=>{});else{const p=document.createElement("input");p.value=f,document.body.appendChild(p),p.select(),document.execCommand("Copy"),p.remove()}de("复制成功")},d=f=>{n.value=f===n.value?"":f},h=()=>{e("update:confirm",{icon:n.value,type:s.value})},_=()=>{e("update:close")};return Ce(()=>{u(o.value[0].icons)}),(f,p)=>{const k=oe,g=j("el-button"),v=j("el-button-group"),y=j("el-input"),D=j("el-option"),S=j("el-select"),V=Re;return m(),P("div",un,[A("div",dn,[A("div",pn,[b(y,{modelValue:r(a),"onUpdate:modelValue":p[1]||(p[1]=$=>pe(a)?a.value=$:null),placeholder:"图标名称"},{prepend:w(()=>[b(k,{icon:"Search",type:"element"})]),append:w(()=>[b(v,null,{default:w(()=>[b(g,{onClick:p[0]||(p[0]=$=>a.value="")},{default:w(()=>[F(" 重置 ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),mn]),A("div",_n,[A("div",fn,[hn,A("div",vn,[b(S,{modelValue:r(s),"onUpdate:modelValue":p[2]||(p[2]=$=>pe(s)?s.value=$:null),onChange:i},{default:w(()=>[(m(!0),P(X,null,J(r(o),($,T)=>(m(),C(D,{key:T,label:$.title,value:$.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),A("div",gn,[(m(!0),P(X,null,J(r(l).filter($=>$.includes(r(a))),($,T)=>(m(),P("div",{key:T,class:ve(["item",{active:$===r(n)}]),onDblclick:Q=>c($),onClick:Q=>d($)},[b(k,{icon:$,size:26,type:r(s),color:"#888"},null,8,["icon","type"]),A("div",kn,M($),1)],42,yn))),128))])])]),A("div",xn,[b(V,{type:"primary",class:"xh-group-button",onClick:h},{default:w(()=>[F(" 确定 ")]),_:1}),b(V,{type:"danger",class:"xh-group-button",onClick:_},{default:w(()=>[F(" 取消 ")]),_:1})])])}}});const wn=O(bn,[["__scopeId","data-v-f0d97d29"]]),ie=(t,e,o)=>re({...o,showConfirmButton:!1,customClass:"xh-modal-mask",message:()=>Ue(t,e)}),_t=()=>{re.close()},An={key:1},Pn=B({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=()=>{ie(wn,{"onUpdate:confirm":s=>{e("update:modelValue",s),re.close()},"onUpdate:close":()=>{re.close()}},{title:"图标库",closeOnClickModal:!1,customStyle:{width:"45%",height:"650px"}})},a=()=>{e("update:modelValue",""),de("重置成功")};return(s,n)=>{var d;const l=oe,i=j("el-button"),u=j("el-button-group"),c=j("el-input");return m(),C(c,{value:((d=s.modelValue)==null?void 0:d.icon)||"",placeholder:"请选择图标",disabled:""},{prepend:w(()=>{var h,_,f;return[(h=s.modelValue)!=null&&h.icon?(m(),C(l,{key:0,icon:(_=s.modelValue)==null?void 0:_.icon,type:((f=s.modelValue)==null?void 0:f.type)||"",size:18},null,8,["icon","type"])):(m(),P("span",An,"无"))]}),append:w(()=>[b(u,null,{default:w(()=>[b(i,{type:"primary",onClick:a},{default:w(()=>[F(" 重置图标 ")]),_:1}),b(i,{type:"danger",onClick:o},{default:w(()=>[F(" 选择图标 ")]),_:1})]),_:1})]),_:1},8,["value"])}}}),Cn=B({__name:"index",props:{modelValue:{},style:{default:{}}},setup(t){return(e,o)=>(m(),P("div",K(ee(e.style)),M(e.modelValue),17))}}),Dn={};function In(t,e){return m(),P("div",null," 自定义输入框（未实现） ")}const $n=O(Dn,[["render",In]]),Bn=["innerHTML"],jn=B({__name:"index",props:{text:{},icon:{default:""},style:{default:{color:"#666",padding:"5px 0 0 0",fontSize:"12px"}},iconSize:{default:16}},setup(t){return(e,o)=>{const a=oe;return m(),P("div",{class:"form-prompt",style:Oo(e.style)},[e.icon?(m(),C(a,{key:0,icon:e.icon,size:e.iconSize},null,8,["icon","size"])):U("",!0),A("span",{class:"text",innerHTML:e.text},null,8,Bn)],4)}}});const En=O(jn,[["__scopeId","data-v-3e2f6421"]]),Tn=B({__name:"index",props:{modelValue:{},file:{},ajaxParams:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,a=n=>{e("update:modelValue",n)},s=x(o.modelValue);return(n,l)=>(m(),C(r(fe),Z({file:n.file},{modelValue:r(s),ajaxParams:n.ajaxParams},{"onUpdate:modelValue":a}),null,16,["file"]))}}),Rn={};function Sn(t,e){return m(),P("div",null," 表格展示器 ")}const Vn=O(Rn,[["render",Sn]]),ro=I(()=>t=>{const e=t.split(".").pop();return e?["png","jpg","jpeg","gif"].includes(e):!1}),ft=t=>(ge("data-v-d120635f"),t=t(),ye(),t),Un={class:"category-container"},Ln={class:"item"},Mn=ft(()=>A("div",{class:"title"}," 请输入分类名称 ",-1)),On={class:"item"},zn=ft(()=>A("div",{class:"title"}," 请输入分类目录 ",-1)),qn={class:"item"},Hn=ft(()=>A("div",{class:"title"}," 请输入分类排序 ",-1)),Nn=B({__name:"category",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=x({...t.modelValue});return lt(()=>a,s=>{e("update:modelValue",a.value)},{immediate:!0}),(s,n)=>{const l=j("el-input");return m(),P("div",Un,[A("div",Ln,[Mn,b(l,{modelValue:r(a).title,"onUpdate:modelValue":n[0]||(n[0]=i=>r(a).title=i),placeholder:"请输入分类名称"},null,8,["modelValue"])]),A("div",On,[zn,b(l,{modelValue:r(a).dir_name,"onUpdate:modelValue":n[1]||(n[1]=i=>r(a).dir_name=i),placeholder:"请输入分类目录"},null,8,["modelValue"])]),A("div",qn,[Hn,b(l,{modelValue:r(a).sort,"onUpdate:modelValue":n[2]||(n[2]=i=>r(a).sort=i),placeholder:"请输入分类排序"},null,8,["modelValue"])])])}}});const Tt=O(Nn,[["__scopeId","data-v-d120635f"]]);const Fn={class:"bundle-name"},Xn=A("div",{class:"flex-1"}," 附件分类 ",-1),Wn=A("div",{class:"bundle-title"}," 附件管理器 ",-1),Qn={class:"categrory"},Gn=A("div",{class:"categrory-item-title"}," 全部数据 ",-1),Jn=["onClick","onDblclick"],Zn={class:"categrory-item-title"},Yn=["onClick"],Kn=["title","onClick"],es=["src"],ts={class:"file-name"},os=A("div",{class:"flex-1"},null,-1),as={key:3,class:"btn-group"},ns={key:4,class:"btn-group"},ss=B({__name:"modal",emits:["update:confirm"],setup(t,{emit:e}){var bt;const o=ce(),a=Oe(),s=Ie(),n=o.siteInfo,l=x(),i=x(),u=x([]),c=x([]),d=x({active:"",list:[]}),h=x([]),_=x(!1),f=x(3),p=x(!1),k=(bt=n.uploadify_api)==null?void 0:bt.upload,g=x({[dt]:a.value||""});s.value&&(g.value={...g.value,[pt]:s.value});let v=mt;{const{protocol:R,hostname:L}=window.location;v=`${R}//${L}`}const y=x({action:`${v}/${k}`,data:{cid:d.value.cid||""},headers:g.value,multiple:!0,withCredentials:!0,showFileList:!1}),D=()=>i.value.scrollHeight>i.value.clientHeight,S=x({page:1,limit:20}),V=()=>{var H,q;if(_.value)return;_.value=!0;const R=((H=n==null?void 0:n.uploadify_api)==null?void 0:H.index)||"",L={cid:((q=d.value)==null?void 0:q.cid)||"",page:S.value.page,limit:S.value.limit};Pe(R,L).then(z=>{var le;(((le=z==null?void 0:z.data)==null?void 0:le.data)||[]).forEach(he=>{h.value.push(he)}),S.value.page++,setTimeout(()=>{var he,xe;!D()&&((he=z==null?void 0:z.data)==null?void 0:he.current_page)<((xe=z==null?void 0:z.data)==null?void 0:xe.last_page)&&V()})}).finally(()=>{_.value=!1})},$=()=>{S.value.page=1,S.value.limit=20,d.value.active="",d.value.moveCid=void 0,d.value.cid=void 0,h.value=[],u.value=[],c.value=[]},T=x(!1),Q=new IntersectionObserver(R=>{R[0].intersectionRatio<=0||V()}),te=R=>{p.value?c.value.includes(R)?c.value.splice(c.value.indexOf(R),1):c.value.push(R):f.value===1?u.value[0]=R:u.value.includes(R)?u.value.splice(u.value.indexOf(R),1):(f.value===0||u.value.length<f.value)&&u.value.push(R)},ae=R=>{(R==null?void 0:R.code)===200&&($(),V(),W((R==null?void 0:R.msg)||"上传成功！","success"))},me=R=>{console.error(R),W("上传失败","error")},qe=()=>{var L;const R=((L=n==null?void 0:n.uploadify_cate)==null?void 0:L.index)||"";Pe(R).then(H=>{d.value.list=(H==null?void 0:H.data)||[]})},xt=R=>{var L;d.value.active!==R&&($(),d.value.active=R,d.value.cid=(L=d.value.list.find((H,q)=>q===R))==null?void 0:L.id,V())},vo=()=>{var H;const R=(H=n==null?void 0:n.uploadify_cate)==null?void 0:H.add;if(!R){W("请先配置分类添加接口","error");return}const L=x({sort:100});re({title:"添加分类",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"保存",message:()=>Ue(Tt,{modelValue:L.value,"onUpdate:modelValue":q=>{L.value=q}}),beforeClose:(q,z,se)=>{if(q==="cancel"){se();return}if(!L.value.title){W("请输入分类名称","error");return}if(!L.value.dir_name){W("请输入分类目录","error");return}if(!L.value.sort){W("请输入分类排序","error");return}z.confirmButtonLoading=!0,z.confirmButtonText="保存中...",Ee(R,L.value).then(le=>{W((le==null?void 0:le.msg)||"添加成功！","success"),$(),qe(),V(),se()}).catch(()=>{z.confirmButtonLoading=!1,z.confirmButtonText="保存"})}})},go=R=>{var z;const L=(z=n==null?void 0:n.uploadify_cate)==null?void 0:z.edit;if(!L){W("请先配置分类修改接口","error");return}const H=d.value.list[R],q=x({...H});re({title:"添加分类",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"保存",message:()=>Ue(Tt,{modelValue:q.value,"onUpdate:modelValue":se=>{q.value=se}}),beforeClose:(se,le,he)=>{if(se==="cancel"){he();return}if(!q.value.title){W("请输入分类名称","error");return}if(!q.value.dir_name){W("请输入分类目录","error");return}if(!q.value.sort){W("请输入分类排序","error");return}le.confirmButtonLoading=!0,le.confirmButtonText="保存中...",Xe(`${L}?id=${H==null?void 0:H.id}`,q.value).then(xe=>{W((xe==null?void 0:xe.msg)||"添加成功！","success"),$(),qe(),V(),he()}).catch(()=>{le.confirmButtonLoading=!1,le.confirmButtonText="保存"})}})},yo=R=>{var q;const L=d.value.list[R],H=(q=n==null?void 0:n.uploadify_cate)==null?void 0:q.del;if(!H){W("请先配置分类删除接口","error");return}Ae("是否确认删除该分类？","温馨提示","error").then(()=>{const z={id:L==null?void 0:L.id};We(H,z).then(se=>{W((se==null?void 0:se.msg)||"添加成功！","success"),$(),qe(),V()})})},ko=()=>{var H,q;if(!((H=d.value)!=null&&H.moveCid)){W("请选择需要移动到的分类","error");return}if(c.value.length<=0){W("请选择需要移动的文件","error");return}const R=(q=n==null?void 0:n.uploadify_api)==null?void 0:q.move;if(!R){W("请先配置文件移动接口","error");return}const L={cid:d.value.moveCid,ids:c.value.map(z=>z.id)};Ee(R,L).then(z=>{$(),V(),p.value=!1,W((z==null?void 0:z.msg)||"移动成功！","success")})},xo=()=>{var H;if(c.value.length<=0){W("请选择需要删除的文件","error");return}const R=(H=n==null?void 0:n.uploadify_api)==null?void 0:H.del;if(!R){W("请先配置文件删除接口","error");return}const L={ids:c.value.map(q=>q.id)};Ae("是否确认删除选中的文件？","温馨提示","error").then(()=>{We(R,L).then(q=>{$(),V(),p.value=!1,W((q==null?void 0:q.msg)||"删除成功！","success")})})},bo=()=>{p.value=!1,c.value=[]},wo=()=>{c.value.length===h.value.length?c.value=[]:c.value=[...h.value]},Ao=()=>{if(u.value.length<=0){W("请选择文件","error");return}e("update:confirm",u.value),T.value=!1},Po=()=>{T.value=!0,qe(),V(),zo(()=>{l.value&&Q.observe(l.value)})};return Nt(()=>{l.value&&Q.unobserve(l.value)}),(R,L)=>{const H=oe,q=j("el-icon"),z=j("el-button"),se=j("el-upload"),le=j("el-option"),he=j("el-select"),xe=j("el-dialog");return m(),P(X,null,[_e(R.$slots,"open",{open:Po}),b(xe,{modelValue:r(T),"onUpdate:modelValue":L[4]||(L[4]=N=>pe(T)?T.value=N:null),width:"60%",class:"bundle-dialog",draggable:"","append-to-body":"","close-on-click-modal":!1,onClose:$},{header:w(()=>[A("div",Fn,[Xn,b(q,{size:20,class:"pointer",onClick:vo},{default:w(()=>[b(H,{icon:"FolderAdd",type:"element"})]),_:1})]),Wn]),footer:w(()=>[b(se,Z(r(y),{class:"mr-3","on-success":ae,"on-error":me}),{default:w(()=>[b(z,{type:"success"},{default:w(()=>[F(" 上传 ")]),_:1})]),_:1},16),r(p)?(m(),C(z,{key:0,type:"danger",onClick:bo},{default:w(()=>[F(" 退出 ")]),_:1})):(m(),C(z,{key:1,onClick:L[1]||(L[1]=N=>p.value=!0)},{default:w(()=>[F(" 管理 ")]),_:1})),r(p)?(m(),C(z,{key:2,onClick:wo},{default:w(()=>[F(" 全选 ")]),_:1})):U("",!0),os,r(p)?(m(),P("div",as,[b(he,{modelValue:r(d).moveCid,"onUpdate:modelValue":L[2]||(L[2]=N=>r(d).moveCid=N),class:"mr-2"},{default:w(()=>[(m(!0),P(X,null,J(r(d).list,(N,be)=>(m(),C(le,{key:be,label:N.title,value:N.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),b(z,{type:"warning",disabled:r(c).length<=0,onClick:ko},{default:w(()=>[F(" 移动 ")]),_:1},8,["disabled"]),b(z,{type:"danger",disabled:r(c).length<=0,onClick:xo},{default:w(()=>[F(" 删除("+M(r(c).length)+") ",1)]),_:1},8,["disabled"])])):(m(),P("div",ns,[b(z,{onClick:L[3]||(L[3]=N=>T.value=!1)},{default:w(()=>[F(" 取消 ")]),_:1}),b(z,{type:"primary",disabled:r(u).length<=0,onClick:Ao},{default:w(()=>[F(" 确认选择("+M(r(u).length)+") ",1)]),_:1},8,["disabled"])]))]),default:w(()=>[A("div",Qn,[A("div",{class:ve(["categrory-item",{active:r(d).active===""}])},[A("div",{class:"categrory-item-left-title",onClick:L[0]||(L[0]=N=>xt(""))},[b(q,{color:"#FBAC15"},{default:w(()=>[b(H,{icon:"FolderOpened",type:"element"})]),_:1}),Gn])],2),(m(!0),P(X,null,J(r(d).list,(N,be)=>(m(),P("div",{key:N,class:ve(["categrory-item",{active:be===r(d).active}])},[A("div",{class:"categrory-item-left-title",onClick:Ge=>xt(be),onDblclick:Ge=>go(be)},[b(q,{color:"#FBAC15"},{default:w(()=>[b(H,{icon:"FolderOpened",type:"element"})]),_:1}),A("div",Zn,M((N==null?void 0:N.title)||""),1)],40,Jn),(N==null?void 0:N.is_system)==="10"?(m(),P("div",{key:0,class:"categrory-item-right-icon",onClick:Ge=>yo(be)},[b(H,{icon:"Delete",class:"delete-icon",type:"element"})],8,Yn)):U("",!0)],2))),128))]),A("div",{ref_key:"bundleBodyRef",ref:i,class:"bundle-body"},[(m(!0),P(X,null,J(r(h),(N,be)=>(m(),P("div",{key:be,title:N.filename,class:ve(["file-item",{active:!r(p)&&r(u).includes(N),"active-warning":r(p)&&r(c).includes(N)}]),onClick:Ge=>te(N)},[r(ro)(N.url)?(m(),P("img",{key:0,src:(N==null?void 0:N.url)||"",class:"file-thumb"},null,8,es)):(m(),C(q,{key:1,class:"file-thumb"},{default:w(()=>[b(H,{icon:"Document",size:40,type:"element"})]),_:1})),A("div",ts,M((N==null?void 0:N.filename)||""),1)],10,Kn))),128)),A("div",{ref_key:"loadMoreRef",ref:l,class:"load-more"},null,512)],512)]),_:1},8,["modelValue"])],64)}}}),ls={class:"upload-container"},rs=["onClick"],cs=["onClick"],is=B({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,a=n=>{const l=n.map(i=>i==null?void 0:i.url);e("update:modelValue",l)},s=n=>{const l=o.modelValue.filter((i,u)=>u!==n);e("update:modelValue",l)};return Ce(()=>{if(typeof o.modelValue=="string"){const n=o.modelValue===""?"":[o.modelValue];e("update:modelValue",n)}}),(n,l)=>{const i=j("el-image"),u=oe,c=j("el-icon");return m(),P("div",null,[b(ss,{"onUpdate:confirm":a},{open:w(({open:d})=>[A("div",ls,[(m(!0),P(X,null,J(n.modelValue,(h,_)=>(m(),P("div",{key:_,class:"item"},[r(ro)(h)?(m(),C(i,{key:0,class:"image","preview-src-list":n.modelValue,"z-index":999,src:h,infinite:!1},null,8,["preview-src-list","src"])):(m(),C(c,{key:1,class:"file-thumb"},{default:w(()=>[b(u,{icon:"Document",size:28,type:"element"})]),_:1})),A("div",{class:"del-file",onClick:f=>s(_)},[b(u,{icon:"Delete",size:15,type:"element"})],8,rs)]))),128)),A("div",{class:"item",onClick:d},[b(u,{icon:"PlusOutlined",size:24,color:"#888"})],8,cs)])]),_:1})])}}});const us=O(is,[["__scopeId","data-v-8611f2b3"]]);class ds{constructor(){He(this,"title","");He(this,"iconSvg","");He(this,"tag","");this.title="My menu title",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M960 896H64A64 64 0 0 1 0 832v-341.321143c0-35.364571 28.672-64 64-64h896a64 64 0 0 1 64 64V832A64 64 0 0 1 960 896z m-21.321143-85.321143V512H85.321143V810.678857h853.357714zM469.321143 341.321143a42.678857 42.678857 0 0 0 5.010286-85.028572l-5.010286-0.292571h-384v-298.678857h384c21.650286 0 39.862857-16.164571 42.386286-37.668572l0.292571-4.973714c0-21.650286-16.201143-39.862857-37.668571-42.386286l-5.010286-0.292571H64a64 64 0 0 0-63.707429 57.856L0-64v341.321143a64 64 0 0 0 57.856 63.707428l6.144 0.292572h405.321143z m234.678857-256a64 64 0 1 1 128 0 64 64 0 0 1-128 0z m184.978286 213.357714h-241.956572l-119.954285-213.357714L647.021714-128h241.956572l119.954285 213.321143-119.954285 213.357714z m-49.956572-85.357714l72.009143-128-72.045714-128h-142.006857l-72.045715 128 71.972572 128h142.116571z m-604.342857 512h42.642286c14.262857 0 21.357714-7.094857 21.357714-21.321143v-85.321143c0-14.262857-7.131429-21.357714-21.357714-21.357714H234.678857c-14.262857 0-21.357714 7.131429-21.357714 21.357714V704c0 14.226286 7.131429 21.321143 21.357714 21.321143z m0-554.642286h42.642286c14.262857 0 21.357714-7.131429 21.357714-21.357714v-85.321143c0-14.226286-7.131429-21.321143-21.357714-21.321143H234.678857c-14.262857 0-21.357714 7.094857-21.357714 21.321143v85.321143c0 14.262857 7.131429 21.357714 21.357714 21.357714z m170.642286 554.642286h42.678857c14.226286 0 21.321143-7.094857 21.321143-21.321143v-85.321143c0-14.262857-7.094857-21.357714-21.321143-21.357714h-42.678857c-14.226286 0-21.321143 7.131429-21.321143 21.357714V704c0 14.226286 7.094857 21.321143 21.321143 21.321143z m0-554.642286h42.678857c14.226286 0 21.321143-7.131429 21.321143-21.357714v-85.321143c0-14.226286-7.094857-21.321143-21.321143-21.321143h-42.678857c-14.226286 0-21.321143 7.094857-21.321143 21.321143v85.321143c0 14.262857 7.094857 21.357714 21.321143 21.357714z"></path></svg>',this.tag="button"}getValue(e){return" hello "}isActive(e){return!1}isDisabled(e){return!1}exec(e,o){this.isDisabled(e)||e.insertText(o)}}const ps={class:"editor-container"},ms=B({__name:"index",props:{modelValue:{},toolbarConfig:{},editorConfig:{},editHeight:{default:300},isUploadify:{type:Boolean,default:!0},uploadifyLimit:{},uploadifyExt:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t;Te(d=>({ea3b2e2a:r(c)}));const a=Gt(),s=x(o.modelValue),n={key:"xhUploadify",factory(){return new ds}};qo.registerMenu(n);const l=I(()=>({}));Ho(()=>{const d=a.value;d!=null&&d.destroy()});const i=d=>{a.value=d},u=d=>{const h=d.getHtml();e("update:modelValue",h)},c=I(()=>`${o.editHeight}px`);return(d,h)=>(m(),P("div",ps,[b(r(No),Z({class:"toolbar",editor:r(a)},r(l)),null,16,["editor"]),b(r(Fo),{modelValue:r(s),"onUpdate:modelValue":h[0]||(h[0]=_=>pe(s)?s.value=_:null),"default-config":d.editorConfig,class:"editor-content",onOnCreated:i,onOnChange:u},null,8,["modelValue","default-config"])]))}});const Rt=O(ms,[["__scopeId","data-v-9a4165d5"]]),St={amap:Ga,bmap:Ya,icons:Pn,qmap:tn,remote:Tn,uploadify:us,info:Cn,HCode:ln,PromptTip:En,wangEditor:Rt,tinymceEditor:Rt,XInput:$n,XTable:Vn},_s=t=>{Object.keys(St).forEach(e=>{t.component(e,St[e])})},ht=B({__name:"index",props:{api:{default:""},method:{default:"GET"},ajaxParams:{},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{expose:e,emit:o}){const a=t,s=ke(),n=Jt(),l=x({}),i=x({api:"",method:"POST"}),u=x({}),c=x(),d=x(Na),h=x("");At.use(_s);const _=At.$form(),f=()=>{const g=x({method:a.method,params:{...a.ajaxParams},data:{...a.ajaxParams}});a.method==="GET"?delete g.value.data:delete g.value.params,o("update:init"),Y(a.api,g.value).then(v=>{const{data:y}=v;if(!(y!=null&&y.http))return E("提交接口获取失败"),Promise.reject(new Error("提交接口获取失败"));if(!(y!=null&&y.formRule))return E("表单规则获取失败"),Promise.reject(new Error("表单规则获取失败"));i.value=y.http,c.value=Xa(y.formRule),d.value={...d.value,...y.config},h.value=(y==null?void 0:y.redirect)??"",o("update:init-ok",{response:y,exposed:n.exposed})}).catch(v=>{o("update:init-error",v)})},p=()=>{var v,y,D;const g=x({method:((v=i.value)==null?void 0:v.method)??"GET",params:{...a.ajaxParams},data:{}});((y=i.value)==null?void 0:y.method)==="GET"?g.value.params={...g.value.params,...u.value}:g.value.data={...g.value.data,...u.value},o("update:submit",{api:i.value.api,queryParams:g}),Y(((D=i.value)==null?void 0:D.api)??"",g.value).then(S=>{var V;(V=s.query)!=null&&V.isBack&&!a.isModal&&!h.value?Fe():h.value&&ue(h.value),o("update:submit-ok",S),de((S==null?void 0:S.msg)??"操作失败")}).catch(S=>{o("update:submit-error",S)})},k=()=>{de("数据重置完成"),o("update:rest-ok")};return Ce(()=>f()),to(()=>p()),e({init:f,submit:p,reset:k}),(g,v)=>(m(),C(r(_),{api:r(l),"onUpdate:api":v[0]||(v[0]=y=>pe(l)?l.value=y:null),modelValue:r(u),"onUpdate:modelValue":v[1]||(v[1]=y=>pe(u)?u.value=y:null),modelModifiers:{lazy:!0},rule:r(c),option:r(d),title:""},null,8,["api","modelValue","rule","option"]))}}),fs={class:"xh-modal-container"},hs=B({__name:"info-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},setup(t){const e=x(),o=x({submitBtn:{},resetBtn:{}}),a=s=>{var l;const n=(l=s==null?void 0:s.response)==null?void 0:l.extraConfig;o.value=n};return(s,n)=>(m(),P("div",fs,[b(r(ht),{ref_key:"formRef",ref:e,class:"xh-form-create",api:s.api,method:s.method,"ajax-params":s.ajaxParams,"is-modal":!0,"onUpdate:initOk":a},null,8,["api","method","ajax-params"])]))}});const vt=O(hs,[["__scopeId","data-v-be00eddc"]]),vs={class:"xh-modal-container"},gs={class:"xh-modal-content"},ys=B({__name:"form-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{emit:e}){const o=x(),a=x(),s=x({submitBtn:{},resetBtn:{}}),n=()=>{a.value.setDisabled(!1)},l=h=>{var f;const _=(f=h==null?void 0:h.response)==null?void 0:f.extraConfig;s.value=_},i=()=>{o.value.submit()},u=()=>{n(),e("update:submit-ok")},c=()=>{n(),e("update:submit-error")},d=()=>{o.value.reset()};return(h,_)=>(m(),P("div",vs,[A("div",gs,[b(r(ht),{ref_key:"formRef",ref:o,class:"xh-form-create",api:h.api,method:h.method,"ajax-params":h.ajaxParams,"is-modal":!0,"onUpdate:initOk":l,"onUpdate:submitOk":u,"onUpdate:submitError":c,"onUpdate:restOk":n,"onUpdate:initError":n},null,8,["api","method","ajax-params"])]),b(r(co),{ref_key:"buttonRef",ref:a,"extra-config":r(s),"onUpdate:submit":i,"onUpdate:rest":d},null,8,["extra-config"])]))}});const gt=O(ys,[["__scopeId","data-v-0ce4204b"]]),ks=B({__name:"buttons",props:{extraConfig:{}},emits:["update:init","update:submit","update:rest"],setup(t,{expose:e,emit:o}){const a=Jt(),s=x(!1),n=u=>{s.value=u},l=()=>{n(!0),o("update:submit")},i=()=>{n(!0),o("update:rest")};return Ce(()=>{o("update:init",{exposed:a.exposed})}),e({setDisabled:n}),(u,c)=>{var _;const d=Re,h=j("el-space");return(_=u.extraConfig.submitBtn)!=null&&_.show?(m(),C(h,{key:0,alignment:"center",class:"footer-buttons",size:[30,0]},{default:w(()=>{var f,p,k,g;return[(f=u.extraConfig.submitBtn)!=null&&f.show?(m(),C(d,Z({key:0,type:"primary",class:"xh-extra-button"},((p=u.extraConfig)==null?void 0:p.submitBtn)??{},{loading:r(s),disabled:r(s),onClick:l}),{default:w(()=>{var v;return[F(M(r(s)?"请求中...":((v=u.extraConfig.submitBtn)==null?void 0:v.content)??"提交"),1)]}),_:1},16,["loading","disabled"])):U("",!0),(k=u.extraConfig.resetBtn)!=null&&k.show?(m(),C(d,Z({key:1,type:"warning",class:"xh-extra-button"},((g=u.extraConfig)==null?void 0:g.resetBtn)??{},{disabled:r(s),onClick:i}),{default:w(()=>{var v;return[F(M(((v=u.extraConfig.resetBtn)==null?void 0:v.content)??"重置"),1)]}),_:1},16,["disabled"])):U("",!0)]}),_:1})):U("",!0)}}});const co=O(ks,[["__scopeId","data-v-c3072cde"]]),io={vue:null},xs=(t,e,o)=>re.alert(t,{confirmButtonText:"确定",type:e,...o}),bs=(t,e,o)=>{Xo({message:t,type:e,...o})},ws=(t,e)=>Wo.service({text:t,...e}),As=(t,e,o)=>re({customStyle:{width:"45%",height:"500px"},showClose:!0,title:" ",...o,closeOnClickModal:!1,customClass:"xh-modal-mask",message:()=>Ue(fe,{file:t,isModal:!0,...e,"onUpdate:close":()=>{re.close()}})}),Ps=(t,e)=>{Qo.render(t).then(o=>{const a=document.createElement("style");if(a.setAttribute("type","text/css"),a.setAttribute("id",`css${e}`),a.styleSheet)a.styleSheet.cssText=o.css;else{const n=document.createTextNode(o.css);a.appendChild(n)}const s=document.getElementsByTagName("head");s.length?s[0].appendChild(a):document.documentElement.appendChild(a)})},Cs=t=>({templates:t.match(/<template>([\s\S]*)<\/template>/)[1],sctipts:t.match(/<script.*>([\s\S]*)<\/script>/)[1],styles:t.match(/<style.*>([\s\S]*)<\/style>/)[1],stylesHasScoped:t.match(/<style.*scoped>([\s\S]*)<\/style>/)!==null}),Ds=()=>{const t=io.vue,e=rt(),o=ke(),a=$e(),s=ce();t.config.globalProperties.$userApp=a,t.config.globalProperties.$siteApp=s,t.config.globalProperties.$routeApp=o,t.config.globalProperties.$routerApp=e,t.config.globalProperties.$axios=xa,t.config.globalProperties.$http={useGet:Pe,usePost:Ee,usePut:Xe,useDelete:We},t.config.globalProperties.$useGet=Pe,t.config.globalProperties.$usePost=Ee,t.config.globalProperties.$usePut=Xe,t.config.globalProperties.$useDelete=We,t.config.globalProperties.$echarts=Go,t.config.globalProperties.$useKeyCodeEvent=to,t.component("AppIcons")===void 0&&t.component("AppIcons",oe),t.config.globalProperties.$useAlert=xs,t.config.globalProperties.$useConfirm=Ae,t.config.globalProperties.$useMessage=bs,t.config.globalProperties.$useNotify=W,t.config.globalProperties.$useLoading=ws,t.config.globalProperties.$useRemote=As},Is={key:1,class:"remote-fail"},$s=B({__name:"index",props:{file:{},isModal:{type:Boolean}},emits:["update:init","update:modelValue","update:success","update:error","update:close"],setup(t,{emit:e}){const o=t,a=Jo(),s=x(o.file),n=x(),l=x({status:"",content:""}),i=x(""),u=x(Je()),c=(g,v,y)=>{const D=Cs(v),S=D.sctipts.indexOf("{"),V=D.sctipts.lastIndexOf("}"),$=D.sctipts.slice(S,V+1),T=new Function(`return ${$}`)();if(!T){l.value.status="code",l.value.content="远程组件代码格式解析失败";return}if(T.template=D==null?void 0:D.templates,g.setAttribute("class",`remote css${y}`),!document.querySelector(`style[id=css${y}]`)){let Q="";D.stylesHasScoped?Q=`
            .css${y}{
                ${D.styles}
            }
        `:Q=D.styles,Ps(Q,y)}return Ds(),T},d=I(()=>{if(l.value.status==="config"){l.value.content="请先配置远程文件";return}if(!i.value){l.value.content="正在加载中...";return}if(i.value==="fail"){l.value.content="远程组件加载失败";return}return c(n.value,i.value,u.value)}),h=g=>{e("update:modelValue",g)},_=()=>{if(!s.value){l.value.status="config";return}l.value.status="loading";const g=Date.now(),v=`${s.value}.vue?t=${g}`;Pe(v).then(y=>{i.value=y,l.value.status="success",e("update:init",y)}).catch(y=>{console.error(y),l.value.status="fail",e("update:error",y)})},f=g=>{s.value=g,u.value=Je(),_()},p=()=>{u.value=Je(),_()},k=()=>{o!=null&&o.isModal&&e("update:close")};return Ce(()=>_()),(g,v)=>{const y=j("el-empty");return m(),P("div",{ref_key:"remoteRef",ref:n,class:"h-100%"},[r(l).status==="success"?(m(),C(Ht(r(d)),Z({key:0},r(a),{"onUpdate:modelValue":h,"onUpdate:openWin":f,"onUpdate:reloadWin":p,"onUpdate:closeWin":k}),null,16)):(m(),P("div",Is,[b(y,{description:r(l).content},null,8,["description"])]))],512)}}});const fe=O($s,[["__scopeId","data-v-481770ee"]]),Bs=B({__name:"index",props:{gridConfig:{},xGrid:{}},setup(t){return(e,o)=>{var s;const a=fe;return m(),C(a,{file:((s=e.gridConfig.screenRemote)==null?void 0:s.file)||""},null,8,["file"])}}}),js=(t,e,o,a,s)=>{var h,_;o==null||o.xGrid;const n=o==null?void 0:o.form,l=o==null?void 0:o.page,i=o==null?void 0:o.sort,u=o==null?void 0:o.filters;o!=null&&o.code&&((h=a.screenConfig)!=null&&h.api)&&(t=(_=a.screenConfig)==null?void 0:_.api);const c=G.currentRoute.value,d=x({method:e,params:{page:l.currentPage??1,limit:l.pageSize??20,...s??{},...n,...(c==null?void 0:c.query)??{}}});return JSON.stringify(i)!=="{}"&&d.value.params&&(d.value.params={...d.value.params,field:i.field,order:i.order}),u.length>0&&d.value.params&&u.forEach(({field:f,values:p})=>{d.value.params={...d.value.params,[f]:p.join(",")}}),new Promise((f,p)=>{Y(t,d.value).then(k=>{f(k)}).catch(k=>{p(k)})})},Es=(t,e,o)=>{Y(o.file,{responseType:"blob"}).then(a=>{Zo.saveFile({filename:t,type:e,content:a.data})})},Ts=(t,e,o)=>new Promise((a,s)=>{var i;if(!((i=e.exportConfig)!=null&&i.api))return E("请设置请求API"),Promise.reject(new Error("请设置请求API"));const n=o==null?void 0:o.getProxyInfo(),l={format:t.type??"xlsx",filename:t.filename??"导出文件",sheetName:t.sheetName??"",isHeader:t.isHeader??!1,original:t.original??!1,mode:t.mode??"all",pager:n?n.pager:null,ids:t.mode==="selected"?t.data.map(u=>u.id):[],fields:t.columns.map(u=>({field:u.field,title:u.title}))};return new Promise(u=>{var h;const c={method:"POST",data:{...l}},d=((h=e.exportConfig)==null?void 0:h.api)??"";Y(d,c).then(_=>{const{data:f}=_;if(!(f!=null&&f.file))return E("导出数据失败，缺少[file]地址"),Promise.reject(new Error("导出数据失败，缺少导出地址"));Es(l.filename,l.format,f),u(_)})})}),Rs=(t,e,o)=>{const a=new FormData;return a.append("file",t.file),new Promise(s=>{var i;const n=((i=e.importConfig)==null?void 0:i.api)??"";Y(n,{method:"POST",data:a}).then(u=>{const{msg:c}=u;de(c||"操作成功"),o==null||o.commitProxy("query"),s(u)}).catch(u=>{console.error("导入失败",u)})})},Ss=(t,e,o)=>new Promise(a=>{const s=new FileReader;s.onload=n=>{const l=n.target?n.target.result:"",i=Yo(l,{type:"binary"}),u=Ko.sheet_to_json(i.Sheets.Sheet1);t.$table.loadData(u),de("已将数据导入至本地表格"),a(u)},s.readAsBinaryString(t.file)}),Vs=(t,e,o)=>{var a,s;return(a=e.importConfig)!=null&&a.api&&((s=e.importConfig)!=null&&s.isRemote)?Rs(t,e,o):Ss(t)},Us=(t,e,o,a,s)=>{const n={...o.toolbarConfig,slots:{buttons:"topButtonList"}};return o.toolbarConfig=n,n!=null&&n.import&&(o.importConfig={...o.importConfig,remote:!0,importMethod:l=>Vs(l,o,s)}),n!=null&&n.export&&(o.exportConfig={...o.exportConfig,remote:!0,exportMethod:l=>Ts(l,o,s)}),o.proxyConfig={...o.proxyConfig,ajax:{query:l=>js(t,e,l,o,a)}},o},ne=(t,e)=>{const o=t.field;let a=e[o];if(o.includes(".")){const s=o.split(".");let n=e;s.forEach(l=>{n=n[l]}),a=n}return a},Se=(t,e,o,a=!0)=>{if(!t){E("请设置请求API接口"),o==null||o.commitProxy("query");return}Xe(t,e).then(s=>{o==null||o.commitProxy("query"),a&&de((s==null?void 0:s.msg)??"操作成功")})},Ls=(t,e,o,a)=>{var i,u;const s=((i=o==null?void 0:o.rowConfig)==null?void 0:i.keyField)??"id",n=e[t==null?void 0:t.field],l={[s]:e[s],keyField:s,field:t==null?void 0:t.field,value:n};Se((u=t==null?void 0:t.params)==null?void 0:u.api,l,a)},Ms=(t,e)=>{let o={};for(const a in t){const s=t[a]||"id";o={...o,[s]:e[a]||""}}return o},ze=(t,e,o)=>{var l,i;const a=G.currentRoute.value;let n={...((l=t==null?void 0:t.pageData)==null?void 0:l.queryParams)??{},...a.query};return(i=t.pageData)!=null&&i.isBack&&(n={...n,isBack:1}),n},Os=(t,e,o,a,s)=>{var c,d,h,_,f;const n=G.currentRoute.value,l=((c=t==null?void 0:t.pageData)==null?void 0:c.queryParams)??{},i=x({...n.query}),u=x({...i.value});if(l instanceof Object&&(u.value={...u.value,...l}),o&&!Le(JSON.stringify((d=t==null?void 0:t.pageData)==null?void 0:d.aliasParams),["[]","{}"]))u.value={...u.value,...Ms((h=t==null?void 0:t.pageData)==null?void 0:h.aliasParams,o)};else{const p=((_=a==null?void 0:a.rowConfig)==null?void 0:_.keyField)??"id";if(!o[p]){E("当前数据错误");return}const k=o[p];u.value={...u.value,[p]:k}}return(f=t.pageData)!=null&&f.isBack&&(u.value={...u.value,isBack:1}),u.value},zs=(t,e,o)=>{var s,n;if(!((s=t==null?void 0:t.pageData)!=null&&s.path)){E("缺少跳转地址");return}const a=ze(t);G.push({path:(n=t==null?void 0:t.pageData)==null?void 0:n.path,query:{...a}})},qs=(t,e,o,a)=>{var s,n;if(!((s=t==null?void 0:t.pageData)!=null&&s.path)){E("缺少跳转地址");return}G.push({path:(n=t==null?void 0:t.pageData)==null?void 0:n.path,query:{...e}})},Hs=(t,e,o)=>{var u,c,d;const a=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",s=((c=t.pageData)==null?void 0:c.method)??"GET";let n=((d=t.pageData)==null?void 0:d.path)??"";const l=ze(t),i={method:s,params:{},data:{}};if(s==="GET"?i.params=l:i.data=l,n){window.open(n);return}Y(a,i).then(h=>{const{data:_}=h;if(!(_!=null&&_.url)){E("缺少目标跳转地址");return}n=_.url,Me(n)||(n=`http://${location.host}/${n}`),window.open(n)})},Ns=(t,e,o,a)=>{var d,h,_,f,p;const s=((d=t==null?void 0:t.pageData)==null?void 0:d.api)??"",n=((h=t.pageData)==null?void 0:h.method)??"GET";let l=((_=e.checkboxConfig)==null?void 0:_.labelField)??"";l||(l=((f=e==null?void 0:e.rowConfig)==null?void 0:f.keyField)??"id");let i=((p=t.pageData)==null?void 0:p.path)??"";const u=ze(t),c={method:n,params:{},data:{}};if(n==="GET"?c.params={...u,[l]:o}:c.data={...u,[l]:o},i){window.open(i);return}Y(s,c).then(k=>{const{data:g}=k;if(!(g!=null&&g.url)){E("缺少目标跳转地址");return}i=g.url,Me(i)||(i=`http://${location.host}/${i}`),window.open(i)})},Fs=(t,e,o,a)=>{var u,c,d;const s=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",n=((c=t.pageData)==null?void 0:c.method)??"GET";let l=((d=t.pageData)==null?void 0:d.path)??"";const i=x({method:n,params:{...e},data:{...e}});if(n==="GET"?delete i.value.data:delete i.value.params,l){window.open(l);return}Y(s,i.value).then(h=>{const{data:_}=h;if(!(_!=null&&_.url)){E("缺少目标跳转地址");return}l=_.url,Me(l)||(l=`http://${location.host}/${l}`),window.open(l)})},Xs=(t,e,o)=>{var n,l,i,u;if(!(((n=t.message)==null?void 0:n.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}const s={api:((l=t.pageData)==null?void 0:l.api)||"",method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{},"onUpdate:submit-ok":()=>{_t(),o==null||o.commitProxy("reload")}};ie(gt,s,{...t.message,beforeClose:(c,d,h)=>{h(),o==null||o.commitProxy("reload")}})},Ws=(t,e,o,a)=>{var i,u,c,d,h,_,f;if(!(((i=t.message)==null?void 0:i.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}let n=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";n||(n=((c=e==null?void 0:e.rowConfig)==null?void 0:c.keyField)??"id");const l=x({api:(d=t.pageData)==null?void 0:d.api,method:((h=t.pageData)==null?void 0:h.method)||"GET",ajaxParams:{[n]:o},"onUpdate:submit-ok":()=>{_t(),a==null||a.commitProxy("reload")}});((_=t.pageData)==null?void 0:_.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(f=t.pageData)==null?void 0:f.queryParams}),ie(gt,l.value,{...t.message,beforeClose:(p,k,g)=>{g(),a==null||a.commitProxy("reload")}})},Qs=(t,e,o,a)=>{var i,u,c,d,h;if(!(((i=t.message)==null?void 0:i.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}const n=x({api:((u=t.pageData)==null?void 0:u.api)||"",method:((c=t.pageData)==null?void 0:c.method)||"GET",ajaxParams:{...e},"onUpdate:submit-ok":()=>{_t(),a==null||a.commitProxy("reload")}}),l=((d=t.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(n.value.ajaxParams={...n.value.ajaxParams,...l}),(h=n.value.ajaxParams)!=null&&h.isBack&&delete n.value.ajaxParams.isBack,ie(gt,n.value,{...t.message,beforeClose:(_,f,p)=>{p(),a==null||a.commitProxy("reload")}})},Gs=(t,e,o)=>{var d,h,_,f,p;const a=(d=t.pageData)==null?void 0:d.api,s=((h=t.pageData)==null?void 0:h.method)??"GET",n=ze(t);n!=null&&n.isBack&&delete n.isBack;const l=x({method:s,params:{...n},data:{...n}});s==="GET"?delete l.value.data:delete l.value.params;const i=((_=t.message)==null?void 0:_.content)??"",u=((f=t.message)==null?void 0:f.title)??"",c=((p=t.message)==null?void 0:p.type)??"";if(!a){E("接口地址不存在");return}Ae(i,u,c).then(()=>{Y(a,l.value).then(k=>{de((k==null?void 0:k.msg)??"操作成功"),o==null||o.commitProxy("reload")})})},Js=(t,e,o,a)=>{var _,f,p,k,g,v,y;const s=(_=t.pageData)==null?void 0:_.api,n=((f=t.pageData)==null?void 0:f.method)??"GET",l=ze(t);l!=null&&l.isBack&&delete l.isBack;let i=((p=e.checkboxConfig)==null?void 0:p.labelField)??"";i||(i=((k=e==null?void 0:e.rowConfig)==null?void 0:k.keyField)??"id");const u=x({method:n,params:{...l,[i]:o},data:{...l,[i]:o}});n==="GET"?delete u.value.data:delete u.value.params;const c=((g=t.message)==null?void 0:g.content)??"",d=((v=t.message)==null?void 0:v.title)??"",h=((y=t.message)==null?void 0:y.type)??"";if(!s){E("接口地址不存在");return}Ae(c,d,h).then(()=>{Y(s,u.value).then(D=>{de((D==null?void 0:D.msg)??"操作成功"),a==null||a.commitProxy("reload")})})},Zs=(t,e,o,a)=>{var h,_,f,p,k,g,v;const s=(h=t.pageData)==null?void 0:h.api,n=((_=t.pageData)==null?void 0:_.method)??"GET";let l=((f=o.checkboxConfig)==null?void 0:f.labelField)??"";l||(l=((p=o==null?void 0:o.rowConfig)==null?void 0:p.keyField)??"id");const i=x({method:n,params:{...e},data:{...e}});n==="GET"?delete i.value.data:delete i.value.params;const u=((k=t.message)==null?void 0:k.content)??"",c=((g=t.message)==null?void 0:g.title)??"",d=((v=t.message)==null?void 0:v.type)??"";if(!s){E("接口地址不存在");return}Ae(u,c,d).then(()=>{Y(s,i.value).then(y=>{de((y==null?void 0:y.msg)??"操作成功"),a==null||a.commitProxy("reload")})})},Ys=(t,e,o)=>{var n,l,i;if(!(((n=t.message)==null?void 0:n.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.path){E("请提供远程组件地址");return}const s={file:((l=t.pageData)==null?void 0:l.path)||"",ajaxParams:((i=t.pageData)==null?void 0:i.queryParams)||{},"onUpdate:close":()=>{re.close(),o==null||o.commitProxy("reload")}};ie(kt,s,{...t.message,beforeClose:(u,c,d)=>{d(),o==null||o.commitProxy("reload")}})},Ks=(t,e,o,a)=>{var i,u,c,d,h,_;if(!(((i=t.message)==null?void 0:i.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.path){E("请提供远程组件地址");return}let n=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";n||(n=((c=e==null?void 0:e.rowConfig)==null?void 0:c.keyField)??"id");const l=x({file:(d=t.pageData)==null?void 0:d.path,ajaxParams:{[n]:o},"onUpdate:close":()=>{re.close(),a==null||a.commitProxy("reload")}});((h=t.pageData)==null?void 0:h.queryParams)instanceof Object&&(l.value.ajaxParams={...(_=t.pageData)==null?void 0:_.queryParams}),ie(kt,l.value,{...t.message,beforeClose:(f,p,k)=>{k(),a==null||a.commitProxy("reload")}})},el=(t,e,o,a)=>{var l,i;if(!(((l=t.message)==null?void 0:l.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.path){E("请提供远程组件地址");return}const n=x({file:(i=t.pageData)==null?void 0:i.path,ajaxParams:e,"onUpdate:close":()=>{re.close(),a==null||a.commitProxy("reload")}});ie(kt,n.value,{...t.message,beforeClose:(u,c,d)=>{d(),a==null||a.commitProxy("reload")}})},tl=(t,e,o)=>{var n,l,i,u;if(!(((n=t.message)==null?void 0:n.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供信息模态框接口");return}const s={api:((l=t.pageData)==null?void 0:l.api)||"",method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};ie(vt,s,{...t.message,beforeClose:(c,d,h)=>{h(),o==null||o.commitProxy("reload")}})},ol=(t,e,o,a)=>{var u,c,d,h,_,f;if(!(((u=t.message)==null?void 0:u.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}let n=((c=e.checkboxConfig)==null?void 0:c.labelField)??"";n||(n=((d=e==null?void 0:e.rowConfig)==null?void 0:d.keyField)??"id");const l=x({api:(h=t.pageData)==null?void 0:h.api,method:((_=t.pageData)==null?void 0:_.method)||"GET",ajaxParams:{[n]:o}}),i=((f=t==null?void 0:t.pageData)==null?void 0:f.queryParams)??"";i instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...i}),ie(vt,l.value,{...t.message,beforeClose:(p,k,g)=>{g(),a==null||a.commitProxy("reload")}})},al=(t,e,o,a)=>{var i,u,c,d,h;if(!(((i=t.message)==null?void 0:i.title)||"")){E("信息模态框标题不能为空");return}if(!t.pageData.api){E("请提供信息模态框接口");return}const n=x({api:((u=t.pageData)==null?void 0:u.api)||"",method:((c=t.pageData)==null?void 0:c.method)||"GET",ajaxParams:{...e}}),l=((d=t.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(n.value.ajaxParams={...n.value.ajaxParams,...l}),(h=n.value.ajaxParams)!=null&&h.isBack&&delete n.value.ajaxParams.isBack,ie(vt,n.value,{...t.message,beforeClose:(_,f,p)=>{p(),a==null||a.commitProxy("reload")}})},nl=(t,e,o)=>{var n,l,i,u;if(!(((n=t.message)==null?void 0:n.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供表格模态框接口");return}const s={api:((l=t.pageData)==null?void 0:l.api)||"",method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};ie(yt,s,{...t.message,beforeClose:(c,d,h)=>{h(),o==null||o.commitProxy("reload")}})},sl=(t,e,o,a)=>{var i,u,c,d,h,_,f;if(!(((i=t.message)==null?void 0:i.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}let n=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";n||(n=((c=e==null?void 0:e.rowConfig)==null?void 0:c.keyField)??"id");const l=x({api:(d=t.pageData)==null?void 0:d.api,method:((h=t.pageData)==null?void 0:h.method)||"GET",ajaxParams:{[n]:o}});((_=t.pageData)==null?void 0:_.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(f=t.pageData)==null?void 0:f.queryParams}),ie(yt,l.value,{...t.message,beforeClose:(p,k,g)=>{g(),a==null||a.commitProxy("reload")}})},ll=(t,e,o,a)=>{var i,u,c,d;if(!(((i=t.message)==null?void 0:i.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}const n=x({api:(u=t.pageData)==null?void 0:u.api,method:((c=t.pageData)==null?void 0:c.method)||"GET",ajaxParams:{...e}}),l=((d=t==null?void 0:t.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(n.value.ajaxParams={...n.value.ajaxParams,...l}),ie(yt,n.value,{...t.message,beforeClose:(h,_,f)=>{f(),a==null||a.commitProxy("reload")}})},rl=(t,e,o,a)=>{},Vt=(t,e,o)=>{var a;switch((a=e.pageData)==null?void 0:a.type){case"page":zs(e);break;case"link":Hs(e);break;case"down":break;case"confirm":Gs(e,t,o);break;case"modal":Xs(e,t,o);break;case"info":tl(e,t,o);break;case"table":nl(e,t,o);break;case"remote":Ys(e,t,o);break;default:E("按钮类型错误");break}},Ut=(t,e,o)=>{var i,u,c,d;const a=(i=t.columns)==null?void 0:i.filter(h=>h.type==="checkbox");if(!(a!=null&&a.length)){E("请先开启批量操作");return}const s=(o==null?void 0:o.getCheckboxRecords())??[];if(s.length<=0){E("请选择数据");return}let n=((u=t.checkboxConfig)==null?void 0:u.labelField)??"";n||(n=((c=t==null?void 0:t.rowConfig)==null?void 0:c.keyField)??"id");const l=s.map(h=>h[n]);switch((d=e.pageData)==null?void 0:d.type){case"link":Ns(e,t,l);break;case"down":break;case"confirm":Js(e,t,l,o);break;case"remote":Ks(e,t,l,o);break;case"modal":Ws(e,t,l,o);break;case"info":ol(e,t,l,o);break;case"table":sl(e,t,l,o);break;default:E("按钮类型错误");break}},Lt=(t,e,o,a,s)=>{var i,u;if(!a){E("行参数出错");return}const n=x({}),l=((i=e.pageData)==null?void 0:i.queryParams)??"";switch(l instanceof Object&&(n.value={...l}),n.value={...n.value,...Os(e,o,a,t)},(u=e.pageData)==null?void 0:u.type){case"page":qs(e,n.value);break;case"link":Fs(e,n.value);break;case"down":rl(e,n.value);break;case"confirm":Zs(e,n.value,t,s);break;case"modal":Qs(e,n.value,t,s);break;case"info":al(e,n.value,t,s);break;case"table":ll(e,n.value,t,s);break;case"remote":el(e,n.value,t,s);break;default:E("按钮类型错误");break}},cl={class:"flex"},il={class:"pr-1"},ul=B({__name:"buttons",props:{xGrid:{},selectButtonList:{},gridConfig:{}},setup(t){const e=t,o=I(()=>e.selectButtonList.filter(d=>{var h;return!((h=d.pageData)!=null&&h.group)})),a=I(()=>e.selectButtonList.filter(d=>{var h;return(h=d.pageData)==null?void 0:h.group})),s=I(()=>"更多"),n=I(()=>""),l=I(()=>"element"),i={size:"small"},u=d=>{Ut(e.gridConfig,d,e.xGrid)},c=d=>{Ut(e.gridConfig,d,e.xGrid)};return(d,h)=>{const _=Re,f=oe,p=j("el-dropdown-item"),k=j("el-dropdown-menu"),g=j("el-dropdown");return m(),P("div",cl,[(m(!0),P(X,null,J(r(o),(v,y)=>(m(),C(_,Z({key:y},v==null?void 0:v.button,{onClick:D=>u(v)}),{default:w(()=>[F(M(v.title),1)]),_:2},1040,["onClick"]))),128)),r(a).length?(m(),C(g,{key:0,onCommand:c},{dropdown:w(()=>[b(k,null,{default:w(()=>[(m(!0),P(X,null,J(r(a),(v,y)=>(m(),C(p,{key:y,command:v},{default:w(()=>{var D,S,V;return[(D=v==null?void 0:v.button)!=null&&D.icon?(m(),C(f,{key:0,icon:(S=v==null?void 0:v.button)==null?void 0:S.icon,type:(V=v==null?void 0:v.button)==null?void 0:V.iconType},null,8,["icon","type"])):U("",!0),A("span",null,M(v.title),1)]}),_:2},1032,["command"]))),128))]),_:1})]),default:w(()=>[b(_,Z({type:"primary",text:""},i),{default:w(()=>[A("span",il,M(r(s)),1),b(f,{icon:r(n),type:r(l)},null,8,["icon","type"])]),_:1},16)]),_:1})):U("",!0)])}}}),dl=B({__name:"pagination",props:{xGrid:{},gridConfig:{}},setup(t){const e=t,o=rt(),a=I(()=>{var c;return((c=e.xGrid)==null?void 0:c.reactData.tablePage.currentPage)??1}),s=I(()=>{var c;return((c=e.xGrid)==null?void 0:c.reactData.tablePage.pageSize)??20}),n=I(()=>{var c;return((c=e.xGrid)==null?void 0:c.reactData.tablePage.total)??0}),l=x({pageSizes:[10,20,30,50,100],layout:"total, sizes, prev, pager, next, jumper",background:!0,small:!0}),i=c=>{o.push({query:{...o.currentRoute.value.query,page:c}})},u=c=>{o.push({query:{...o.currentRoute.value.query,limit:c}})};return(c,d)=>{const h=j("el-pagination");return m(),C(h,Z(r(l),{"default-current-page":r(a),"default-page-size":r(s),total:r(n),onCurrentChange:i,onSizeChange:u}),null,16,["default-current-page","default-page-size","total"])}}}),pl={key:0,class:"pager-container"},ml={class:"item"},_l={class:"item"},fl=B({__name:"index",props:{xGrid:{},selectButtonList:{},gridConfig:{}},setup(t){const e=t,o=I(()=>{var a,s,n;return!!((n=(s=(a=e.xGrid)==null?void 0:a.props.proxyConfig)==null?void 0:s.props)!=null&&n.result)});return(a,s)=>{var n,l;return(n=a.selectButtonList)!=null&&n.length||r(o)?(m(),P("div",pl,[A("div",ml,[(l=a.selectButtonList)!=null&&l.length?(m(),C(ul,{key:0,"x-grid":a.xGrid,"select-button-list":a.selectButtonList,"grid-config":a.gridConfig},null,8,["x-grid","select-button-list","grid-config"])):U("",!0)]),A("div",_l,[r(o)?(m(),C(dl,{key:0,"x-grid":a.xGrid,"grid-config":a.gridConfig},null,8,["x-grid","grid-config"])):U("",!0)])])):U("",!0)}}});const hl=O(fl,[["__scopeId","data-v-93384ab1"]]),vl=()=>{var a;const t=$e(),e=(t==null?void 0:t.routeList)??[],o=[];for(const s of e){const n=`${(a=s.meta)==null?void 0:a.moduleName}${s.path}`;o.push(n)}return o},uo=t=>{const e=vl();return Le(t,e)},gl={class:"button-group"},yl={class:"pr-1"},kl={class:"no-group-buttons"},xl=B({__name:"index",props:{xGrid:{},column:{},rightButtonList:{},gridConfig:{},row:{}},setup(t){var f;const e=t,o=I(()=>{var p;return((p=e.column.params)==null?void 0:p.buttonGroupIcon)??"Operation"}),a=I(()=>{var p;return((p=e.column.params)==null?void 0:p.buttonGroupIconType)??"element"}),s={type:"primary",size:"small"},n=x(((f=e.column.params)==null?void 0:f.buttonStyle)??s),l=I(()=>e.rightButtonList.filter(p=>{var k,g;return((k=p.pageData)==null?void 0:k.group)||((g=e.column.params)==null?void 0:g.group)})),i=I(()=>e.rightButtonList.filter(p=>{var k;return!((k=p.pageData)!=null&&k.group)})),u=I(()=>{var p;return((p=e.column.params)==null?void 0:p.groupText)||"更多"}),c=I(()=>p=>{var S,V,$,T,Q,te,ae;const k=((S=p.pageData)==null?void 0:S.api)??"";if(!uo(k))return!1;const g=(($=(V=p==null?void 0:p.pageData)==null?void 0:V.params)==null?void 0:$.where)??"",v=(Q=(T=p==null?void 0:p.pageData)==null?void 0:T.params)==null?void 0:Q.field,y=(ae=(te=p==null?void 0:p.pageData)==null?void 0:te.params)==null?void 0:ae.value;if(v===void 0&&y===void 0)return!0;if(v===void 0||v===""||v&&(y===void 0||y===""))return!1;const D=e.row[v];switch(g){case"!=":return y!==D;case"in":return y instanceof Array&&Le(D,y);case"notIn":return y instanceof Array&&!Le(D,y);default:return y===D}}),d=I(()=>p=>{const k={...p};return k!=null&&k.icon&&delete k.icon,k}),h=p=>{Lt(e.gridConfig,p,e.column,e.row,e.xGrid)},_=p=>{Lt(e.gridConfig,p,e.column,e.row,e.xGrid)};return(p,k)=>{const g=oe,v=Re,y=j("el-dropdown-item"),D=j("el-dropdown-menu"),S=j("el-dropdown"),V=j("el-button");return m(),P("div",gl,[r(l).length?(m(),C(S,{key:0,onCommand:h},{dropdown:w(()=>[b(D,null,{default:w(()=>[(m(!0),P(X,null,J(r(l),($,T)=>Pt((m(),C(y,{key:T,command:$},{default:w(()=>{var Q,te,ae;return[(Q=$==null?void 0:$.button)!=null&&Q.icon?(m(),C(g,{key:0,icon:(te=$==null?void 0:$.button)==null?void 0:te.icon,type:(ae=$==null?void 0:$.button)==null?void 0:ae.iconType},null,8,["icon","type"])):U("",!0),A("span",null,M($.title),1)]}),_:2},1032,["command"])),[[Ct,r(c)($)]])),128))]),_:1})]),default:w(()=>[b(v,Z({type:"danger",class:"mr-2"},r(n)),{default:w(()=>[A("span",yl,M(r(u)),1),r(o)?(m(),C(g,{key:0,icon:r(o),type:r(a)},null,8,["icon","type"])):(m(),C(g,{key:1,icon:"ArrowDown",type:"element"}))]),_:1},16)]),_:1})):U("",!0),A("div",kl,[(m(!0),P(X,null,J(r(i),($,T)=>{var Q;return Pt((m(),P("div",{key:T,class:"item"},[(m(),C(V,Z({key:T},r(d)(($==null?void 0:$.button)??{}),{onClick:te=>_($)}),ct({default:w(()=>[F(" "+M($.title),1)]),_:2},[(Q=$==null?void 0:$.button)!=null&&Q.icon?{name:"icon",fn:w(()=>{var te,ae,me;return[(te=$==null?void 0:$.button)!=null&&te.icon?(m(),C(g,{key:0,icon:(ae=$==null?void 0:$.button)==null?void 0:ae.icon,type:((me=$==null?void 0:$.button)==null?void 0:me.iconType)??""},null,8,["icon","type"])):U("",!0)]}),key:"0"}:void 0]),1040,["onClick"]))])),[[Ct,r(c)($)]])}),128))])])}}});const bl=O(xl,[["__scopeId","data-v-5ab6a5df"]]),wl={class:"flex space-x-3"},Al={class:"pr-1"},Pl=B({__name:"index",props:{xGrid:{},topButton:{},topButtonList:{},gridConfig:{}},setup(t){var _;const e=t,o=ke(),a=I(()=>{var f;return((f=e.topButton)==null?void 0:f.buttonGroupIcon)??"Operation"}),s=I(()=>{var f;return((f=e.topButton)==null?void 0:f.buttonGroupIconType)??"element"}),n={type:"primary",size:"small"},l=x(((_=e.topButton)==null?void 0:_.buttonStyle)??n),i=I(()=>e.topButtonList.filter(f=>{var p,k;return((p=f.pageData)==null?void 0:p.group)||((k=e.topButton)==null?void 0:k.group)})),u=I(()=>e.topButtonList.filter(f=>{var p;return!((p=f.pageData)!=null&&p.group)})),c=I(()=>{var f;return((f=e.topButton)==null?void 0:f.groupText)??"更多"}),d=I(()=>f=>{var k;const p=((k=f.pageData)==null?void 0:k.api)??"";return!!uo(p)}),h=f=>{Vt(e.gridConfig,f.button,e.xGrid)};return(f,p)=>{var V,$;const k=Re,g=oe,v=j("el-dropdown-item"),y=j("el-dropdown-menu"),D=j("el-dropdown"),S=j("el-space");return m(),P("div",wl,[(V=r(o).query)!=null&&V.isBack?(m(),C(k,{key:0,type:"primary",onClick:r(Fe)},{default:w(()=>[F(" 返回 ")]),_:1},8,["onClick"])):U("",!0),r(i).length?(m(),C(D,{key:1,onCommand:h},{dropdown:w(()=>[b(y,null,{default:w(()=>[(m(!0),P(X,null,J(r(i),(T,Q)=>(m(),C(v,{key:Q,command:T},{default:w(()=>{var te,ae,me;return[(te=T==null?void 0:T.button)!=null&&te.icon?(m(),C(g,{key:0,icon:(ae=T==null?void 0:T.button)==null?void 0:ae.icon,type:(me=T==null?void 0:T.button)==null?void 0:me.iconType},null,8,["icon","type"])):U("",!0),A("span",null,M(T.title),1)]}),_:2},1032,["command"]))),128))]),_:1})]),default:w(()=>[b(k,Z({type:"primary",text:""},r(l)),{default:w(()=>[A("span",Al,M(r(c)),1),b(g,{icon:r(a),type:r(s)},null,8,["icon","type"])]),_:1},16)]),_:1})):U("",!0),r(u).length&&!(($=e.topButton)!=null&&$.group)?(m(),C(S,{key:2},{default:w(()=>[(m(!0),P(X,null,J(r(u),(T,Q)=>{var te;return m(),P(X,null,[r(d)(T)?(m(),C(k,Z({key:Q,type:"primary"},(T==null?void 0:T.button)??{},{onClick:ae=>r(Vt)(e.gridConfig,T,f.xGrid)}),ct({default:w(()=>[F(" "+M(T.title),1)]),_:2},[(te=T==null?void 0:T.button)!=null&&te.icon?{name:"icon",fn:w(()=>{var ae,me;return[b(g,{icon:(ae=T==null?void 0:T.button)==null?void 0:ae.icon,type:(me=T==null?void 0:T.button)==null?void 0:me.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):U("",!0)],64)}),256))]),_:1})):U("",!0)])}}}),Cl={key:0,class:"tabs-container"},Dl={class:"tabs-list"},Il=["onClick"],$l={class:"pl-1"},Bl=B({__name:"index",props:{xGrid:{},gridConfig:{},tabsConfig:{}},setup(t){var u;const e=t,o=ke(),a=rt(),s=((u=e.tabsConfig)==null?void 0:u.field)??"",n=o==null?void 0:o.query[s],l=I(()=>{var c;return n??((c=e.tabsConfig)==null?void 0:c.active)}),i=c=>{a.push({query:{[s]:c.value}})};return(c,d)=>{var f;const h=oe,_=j("el-space");return(f=c.tabsConfig)!=null&&f.list.length?(m(),P("div",Cl,[A("div",Dl,[b(_,null,{default:w(()=>[(m(!0),P(X,null,J(c.tabsConfig.list,(p,k)=>(m(),P("div",{key:k,class:ve(["item",{active:r(l)===(p==null?void 0:p.value)}]),onClick:g=>i(p)},[p!=null&&p.icon?(m(),C(h,{key:0,icon:p==null?void 0:p.icon},null,8,["icon"])):U("",!0),A("span",$l,M((p==null?void 0:p.label)??"错误"),1)],10,Il))),128))]),_:1})])])):U("",!0)}}});const jl=O(Bl,[["__scopeId","data-v-1a76f113"]]),El=t=>(ge("data-v-c11e2f2f"),t=t(),ye(),t),Tl=El(()=>A("div",null,null,-1)),Rl={class:"assets-container"},Sl={class:"item"},Vl=["src"],Ul=["src"],Ll=B({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,o="",a=I(()=>{var n,l;return((l=(n=e.column)==null?void 0:n.params)==null?void 0:l.resource)??[]}),s=I(()=>ne(e.column,e.row));return(n,l)=>{const i=oe,u=j("el-tooltip");return m(),P(X,null,[Tl,A("div",Rl,[(m(!0),P(X,null,J(r(a),(c,d)=>(m(),C(u,{key:d,show:c==null?void 0:c.isUpdate,trigger:"hover",placement:"top"},{content:w(()=>[F(M((c==null?void 0:c.title)??"错误"),1)]),default:w(()=>[A("div",Sl,[(c==null?void 0:c.type)==="url"&&r(Me)(c==null?void 0:c.icon)?(m(),P("img",{key:0,class:"logo",src:c==null?void 0:c.icon},null,8,Vl)):(c==null?void 0:c.type)==="path"?(m(),P("img",{key:1,class:"logo",src:`${r(o)}${c==null?void 0:c.icon}`},null,8,Ul)):(m(),C(i,{key:2,icon:c.icon},null,8,["icon"])),A("span",null,M(r(s)[c.field]??"字段错误"),1)])]),_:2},1032,["show"]))),128))])],64)}}});const Ml=O(Ll,[["__scopeId","data-v-c11e2f2f"]]),Ol=B({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var s,n;const e=t,o=I(()=>ne(e.column,e.row)),a=x(((n=(s=e.column)==null?void 0:s.params)==null?void 0:n.props)??{});return(l,i)=>{const u=oe;return m(),C(u,Z({icon:r(o)},r(a)),null,16,["icon"])}}}),zl=t=>(ge("data-v-51c7d910"),t=t(),ye(),t),ql={class:"xh-image-error"},Hl=zl(()=>A("span",null,"加载失败",-1)),Nl=B({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var s,n,l;const e=t,o=I(()=>ne(e.column,e.row)),a=x(((n=(s=e.column)==null?void 0:s.params)==null?void 0:n.props)??{});return(l=a.value)!=null&&l.style||(a.value.style={width:"30px",height:"30px"}),(i,u)=>{const c=oe,d=j("el-image");return m(),C(d,Z(r(a),{src:r(o)}),{error:w(()=>[A("div",ql,[b(c,{icon:"Picture",type:"element"}),Hl])]),_:1},16,["src"])}}});const Fl=O(Nl,[["__scopeId","data-v-51c7d910"]]),Xl=t=>(ge("data-v-257b233b"),t=t(),ye(),t),Wl={class:"xh-image-error"},Ql=Xl(()=>A("span",null,"加载失败",-1)),Gl=B({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var l,i,u;const e=t,o=I(()=>{var c;return((c=e.column.params)==null?void 0:c.previewDisabled)??!0}),a=I(()=>{const c=ne(e.column,e.row);return c instanceof Array?c.map(d=>d.url):[]}),s=I(()=>{const c=ne(e.column,e.row);return c instanceof Array&&c.length>0?c:[]}),n=x(((i=(l=e.column)==null?void 0:l.params)==null?void 0:i.props)??{});return(u=n.value)!=null&&u.style||(n.value.style={width:"30px",height:"30px"}),(c,d)=>{const h=oe,_=j("el-image");return m(!0),P(X,null,J(r(s),(f,p)=>(m(),C(_,Z(r(n),{key:p,src:f==null?void 0:f.url,"preview-src-list":r(o)?[]:r(a)}),{error:w(()=>[A("div",Wl,[b(h,{icon:"Picture",type:"element"}),Ql])]),_:2},1040,["src","preview-src-list"]))),128)}}});const Jl=O(Gl,[["__scopeId","data-v-257b233b"]]),Zl=t=>(ge("data-v-50a2462d"),t=t(),ye(),t),Yl={class:"xh-image-error"},Kl=Zl(()=>A("span",null,"加载失败",-1)),er=B({__name:"index",props:{column:{},row:{}},setup(t){var l,i,u;const e=t,o=I(()=>{var c;return((c=e.column.params)==null?void 0:c.previewDisabled)??!0}),a=I(()=>{const c=ne(e.column,e.row);return c instanceof Array?c.map(d=>d.url):[]}),s=I(()=>{const c=ne(e.column,e.row);return c instanceof Array&&c.length>0?c[0]:[]}),n=x(((i=(l=e.column)==null?void 0:l.params)==null?void 0:i.props)??{});return(u=n.value)!=null&&u.style||(n.value.style={width:"30px",height:"30px"}),(c,d)=>{var f;const h=oe,_=j("el-image");return m(),C(_,Z(r(n),{src:(f=r(s))==null?void 0:f.url,"preview-src-list":r(o)?[]:r(a)}),{error:w(()=>[A("div",Yl,[b(h,{icon:"Picture",type:"element"}),Kl])]),_:1},16,["src","preview-src-list"])}}});const tr=O(er,[["__scopeId","data-v-50a2462d"]]),or=B({__name:"index",props:{isBorder:{type:Boolean,default:!1},border:{default:"1px solid #b179ff"}},setup(t){const e=t;Te(a=>({"564a0163":r(o)}));const o=I(()=>e.isBorder?e.border:"");return(a,s)=>{const n=j("el-input");return m(),C(n,{class:ve({"xh-input":a.isBorder})},null,8,["class"])}}});const ar=B({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l,i;const e=t,o=I(()=>ne(e.column,e.row)),a=x(""),s=x(((i=(l=e.column)==null?void 0:l.params)==null?void 0:i.props)??{}),n=u=>{var f,p,k,g;const c=De("rowEdit",!0),d=((f=e.column.params)==null?void 0:f.api)??c,h=((k=(p=e.gridConfig)==null?void 0:p.rowConfig)==null?void 0:k.keyField)??"id",_={[h]:e.row[h],keyField:h,field:(g=e.column)==null?void 0:g.field,value:u};Se(d,_,e.xGrid)};return(u,c)=>{const d=or;return m(),C(d,Z({modelValue:r(a),"onUpdate:modelValue":c[0]||(c[0]=h=>pe(a)?a.value=h:null),value:r(o),placeholder:"请输入"},r(s),{"is-border":!0,onChange:n}),null,16,["modelValue","value"])}}}),nr=B({__name:"index",setup(t){return(e,o)=>{const a=j("el-input-number");return m(),C(a)}}}),sr=B({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var i,u;const e=t,o=I(()=>ne(e.column,e.row)),a=I(()=>{var c;return((c=e.column.params)==null?void 0:c.isMessage)??!1}),s=x(o),n=x(((u=(i=e.column)==null?void 0:i.params)==null?void 0:u.props)??{}),l=c=>{var p,k,g,v;const d=De("rowEdit",!0),h=((p=e.column.params)==null?void 0:p.api)??d,_=((g=(k=e.gridConfig)==null?void 0:k.rowConfig)==null?void 0:g.keyField)??"id",f={[_]:e.row[_],keyField:_,field:(v=e.column)==null?void 0:v.field,value:c};Se(h,f,e.xGrid,a.value)};return(c,d)=>{const h=nr;return m(),C(h,Z({modelValue:r(s),"onUpdate:modelValue":d[0]||(d[0]=_=>pe(s)?s.value=_:null),value:r(o)},r(n),{onChange:l}),null,16,["modelValue","value"])}}}),lr=B({__name:"index",props:{column:{},row:{}},setup(t){const e=t,o=I(()=>{var l;const n=((l=e.column)==null?void 0:l.params)??{};return n!=null&&n.type||delete n.type,n}),a=I(()=>{var n,l;return((l=(n=e.column)==null?void 0:n.params)==null?void 0:l.format)??"￥"}),s=I(()=>ne(e.column,e.row));return(n,l)=>(m(),P("div",K(ee(r(o))),M(r(a))+M(r(Dt).commafy(r(Dt).toNumber(r(s)),{digits:2})),17))}}),rr=B({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l;const e=t,o=I(()=>{var i,u;return(u=(i=e.column)==null?void 0:i.params)==null?void 0:u.file}),a=((l=e.column)==null?void 0:l.field)??"",s=I(()=>ne(e.column,e.row)),n=i=>{var _,f,p,k;const u=De("rowEdit",!0),c=((_=e.column.params)==null?void 0:_.api)??u,d=((p=(f=e.gridConfig)==null?void 0:f.rowConfig)==null?void 0:p.keyField)??"id",h={[d]:e.row[d],keyField:d,field:(k=e.column)==null?void 0:k.field,value:i};Se(c,h,e.xGrid)};return(i,u)=>{const c=fe;return m(),C(c,Z({file:r(o)},{modelValue:r(s),column:i.column,field:r(a),row:i.row},{"onUpdate:value":n}),null,16,["file"])}}}),cr=B({__name:"index",props:{options:{},value:{default:""}},setup(t){const e=t,o=I(()=>e.value);return(a,s)=>{const n=j("el-option"),l=j("el-select");return m(),C(l,{modelValue:r(o),"onUpdate:modelValue":s[0]||(s[0]=i=>pe(o)?o.value=i:null),placeholder:"请选择"},{default:w(()=>[(m(!0),P(X,null,J(a.options,i=>(m(),C(n,{key:i.value,label:i.label,value:i.value,disabled:i.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])}}}),ir=B({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var n;const e=t,o=I(()=>ne(e.column,e.row)),a=x(((n=e.column)==null?void 0:n.params)??{}),s=l=>{var h,_,f,p;const i=De("rowEdit",!0),u=((h=e.column.params)==null?void 0:h.api)??i,c=((f=(_=e.gridConfig)==null?void 0:_.rowConfig)==null?void 0:f.keyField)??"id",d={[c]:e.row[c],keyField:c,field:(p=e.column)==null?void 0:p.field,value:l};Se(u,d,e.xGrid)};return(l,i)=>{var c,d;const u=cr;return(d=(c=r(a))==null?void 0:c.options)!=null&&d.length?(m(),C(u,Z({key:0,value:r(o)},r(a),{onChange:s}),null,16,["value"])):U("",!0)}}}),ur=B({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,o=I(()=>ne(e.column,e.row)),a=s=>{var c,d,h,_;const n=De("rowEdit",!0),l=((c=e.column.params)==null?void 0:c.api)??n,i=((h=(d=e.gridConfig)==null?void 0:d.rowConfig)==null?void 0:h.keyField)??"id",u={[i]:e.row[i],keyField:i,field:(_=e.column)==null?void 0:_.field,value:s};Se(l,u,e.xGrid)};return(s,n)=>{var i,u,c,d,h,_,f,p,k,g,v,y,D,S,V,$,T,Q;const l=j("el-switch");return m(),C(l,{modelValue:r(o),"onUpdate:modelValue":n[0]||(n[0]=te=>pe(o)?o.value=te:null),"active-action-icon":((c=(u=(i=s.column)==null?void 0:i.params)==null?void 0:u.checked)==null?void 0:c.icon)??"","active-text":(_=(h=(d=s.column)==null?void 0:d.params)==null?void 0:h.checked)==null?void 0:_.text,"active-value":(k=(p=(f=s.column)==null?void 0:f.params)==null?void 0:p.checked)==null?void 0:k.value,"inactive-action-icon":((y=(v=(g=s.column)==null?void 0:g.params)==null?void 0:v.unchecked)==null?void 0:y.icon)??"","inactive-text":(V=(S=(D=s.column)==null?void 0:D.params)==null?void 0:S.unchecked)==null?void 0:V.text,"inactive-value":(Q=(T=($=s.column)==null?void 0:$.params)==null?void 0:T.unchecked)==null?void 0:Q.value,"inline-prompt":"",onChange:a},null,8,["modelValue","active-action-icon","active-text","active-value","inactive-action-icon","inactive-text","inactive-value"])}}}),dr=B({__name:"index",props:{column:{},row:{}},setup(t){const e=t,o=I(()=>ne(e.column,e.row)),a=I(()=>{var n;return(n=e.column.params)!=null&&n.options?e.column.params.options[o.value]||"标签错误":"选项错误"}),s=I(()=>{var i;const n=x({style:{},...e.column.params??{}});(i=n.value)!=null&&i.type&&delete n.value.type;const l=I(()=>{var u,c;if((u=e.column.params)!=null&&u.style)return((c=e.column.params)==null?void 0:c.style[o.value])||void 0});return n.value.style=l.value,n.value});return(n,l)=>{const i=j("el-tag");return m(),C(i,K(ee(r(s).style)),{default:w(()=>[F(M(r(a)),1)]),_:1},16)}}}),pr=(t,e,o,a)=>{if(e.length<=0){E("请先导入数据");return}if(!t){E("请设置导入API接口");return}Ee(t,{import:o,data:e}).then(n=>{var l;(l=a.xGrid)==null||l.commitProxy("query"),de((n==null?void 0:n.msg)??"操作成功")})},mr=t=>{Be.commands.add("importAllData",{commandMethod:e=>{var n;const{$table:o}=e,a=o==null?void 0:o.getTableData(),s=a==null?void 0:a.fullData;pr(((n=t.vxeTableConfig.importConfig)==null?void 0:n.api)??"",s,"all",t)}})},_r=A("div",null," 子数据 ",-1),po=B({__name:"index",props:{api:{},method:{default:"GET"},ajaxParams:{default:void 0}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{emit:e}){const o=t,a=x(),s=x(),n=x(),l=x([]),i=x([]),u=x([]),c=async()=>{const d=x({method:o.method,params:{},data:{}});o.ajaxParams&&(o.method==="GET"?d.value.params=o.ajaxParams:d.value.data=o.ajaxParams),e("update:init",d.value);const h=`${o.api}GetTable`;Y(h,d.value).then(_=>{const f=_.data;n.value=f.tabsConfig,s.value=Us(o.api,o.method,f.tableConfig,o.ajaxParams,a.value),l.value=f.topButtonList,i.value=f.rightButtonList,u.value=f.selectButtonList,mr({xGrid:a.value,vxeTableConfig:s.value}),e("update:init-ok",f)}).catch(_=>{e("update:init-error",_)})};return Ce(()=>c()),(d,h)=>{var p,k,g;const _=Bs,f=j("vxe-grid");return(p=r(s))!=null&&p.id?(m(),C(f,Z({key:0,ref_key:"xGrid",ref:a},r(s),{onEditClosed:h[0]||(h[0]=({column:v,row:y})=>r(Ls)(v,y,r(s),r(a)))}),ct({top:w(({$grid:v})=>[b(r(jl),K(ee({gridConfig:r(s),tabsConfig:r(n),xGrid:v})),null,16)]),topButtonList:w(({$grid:v})=>[b(r(Pl),K(ee({gridConfig:r(s),topButtonList:r(l),xGrid:v})),null,16)]),rightButtonList:w(({row:v,column:y,$grid:D})=>[b(r(bl),K(ee({gridConfig:r(s),rightButtonList:r(i),row:v,column:y,xGrid:D})),null,16)]),info:w(()=>[_r]),pager:w(({$grid:v})=>[b(r(hl),K(ee({xGrid:v,gridConfig:r(s),selectButtonList:r(u)})),null,16)]),remote:w(({row:v,column:y,$grid:D})=>[b(r(rr),K(ee({gridConfig:r(s),row:v,column:y,xGrid:D})),null,16)]),tags:w(({row:v,column:y,$grid:D})=>[b(r(dr),K(ee({gridConfig:r(s),row:v,column:y,xGrid:D})),null,16)]),input:w(({row:v,column:y,$grid:D})=>[b(r(ar),K(ee({gridConfig:r(s),row:v,column:y,xGrid:D})),null,16)]),InputNumber:w(({row:v,column:y,$grid:D})=>[b(r(sr),K(ee({gridConfig:r(s),row:v,column:y,xGrid:D})),null,16)]),assets:w(({row:v,column:y,$grid:D})=>[b(r(Ml),K(ee({gridConfig:r(s),row:v,column:y,xGrid:D})),null,16)]),money:w(({row:v,column:y,$grid:D})=>[b(r(lr),K(ee({gridConfig:r(s),row:v,column:y,xGrid:D})),null,16)]),image:w(({row:v,column:y,$grid:D})=>[b(r(Fl),K(ee({gridConfig:r(s),row:v,column:y,xGrid:D})),null,16)]),images:w(({row:v,column:y,$grid:D})=>[b(r(Jl),K(ee({gridConfig:r(s),row:v,column:y,xGrid:D})),null,16)]),photos:w(({row:v,column:y,$grid:D})=>[b(r(tr),K(ee({gridConfig:r(s),row:v,column:y,xGrid:D})),null,16)]),icons:w(({row:v,column:y,$grid:D})=>[b(r(Ol),K(ee({gridConfig:r(s),row:v,column:y,xGrid:D})),null,16)]),switch:w(({row:v,column:y,$grid:D})=>[b(r(ur),K(ee({gridConfig:r(s),row:v,column:y,xGrid:D})),null,16)]),select:w(({row:v,column:y,$grid:D})=>[b(r(ir),K(ee({gridConfig:r(s),row:v,column:y,xGrid:D})),null,16)]),_:2},[(g=(k=r(s))==null?void 0:k.screenRemote)!=null&&g.file?{name:"form",fn:w(({$grid:v})=>[b(_,K(ee({gridConfig:r(s),xGrid:v})),null,16)]),key:"0"}:void 0]),1040)):U("",!0)}}}),fr={class:"xhadmin-table-pro"},hr=B({__name:"table-modal",props:{api:{},method:{},ajaxParams:{}},setup(t){return(e,o)=>(m(),P("div",fr,[b(r(po),{api:e.api,method:e.method,"ajax-params":e.ajaxParams,"is-modal":!0},null,8,["api","method","ajax-params"])]))}});const yt=O(hr,[["__scopeId","data-v-62ed6f04"]]),vr={class:"xh-modal-container"},gr=B({__name:"remote-modal",props:{file:{},ajaxParams:{}},emits:["update:close"],setup(t,{emit:e}){const o=()=>{e("update:close")};return(a,s)=>(m(),P("div",vr,[b(r(fe),{file:a.file,"ajax-params":a.ajaxParams,"is-modal":!0,"onUpdate:close":o},null,8,["file","ajax-params"])]))}});const kt=O(gr,[["__scopeId","data-v-05e4fbfd"]]),yr={class:"flex-1 flex items-center"},kr=B({__name:"side",setup(t){var a;const o=((a=ce().siteInfo.public_api)==null?void 0:a.header_left_file)??"";return(s,n)=>(m(),P("div",yr,[r(o)?(m(),C(r(fe),{key:0,file:r(o)},null,8,["file"])):U("",!0)]))}}),mo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEXMo3zMonzMonvLonvMo33VtZXfxq7n1MLv4tb27+j69vL8+vj////RrYrhyrTv49f8+ffQq4jNpX/exazy6N////7+/v3x5drew6rOp4Pk0Lz79/TLoXvLoXrMo37iy7f8+fb7+Pbiy7bYuZz38ezq2MjTr4727+nZu5/ew6vexKzgxq/cwKbdwaf+/fzp2MjXt5n27ujiy7XLoXnOp4Hkz7rkz7vNpH77+PTexKvLoHnz6d/Rq4nhybPiybPMoXv9+/rWtJXVtJXKoHnfxq/o1sbp18bw49jv49jKoHj27uf9+/n69vP17ebKn3jw5Nno1sXp1sbfxa7VspPVs5XKn3fw5Njw5drhyLLhybLQqob//v7Qqofy6N7z6N/ewqnkzbnJn3fNpYD7+fbMpX/Konv38ev17ufKoXnWtpjJnnfJnnbLoXzRrIrRrYvcwafbv6Xfxa3dwqn+/f3WtZf69/P8+vfPqYb17OXPqIXp18fTsJDMpH/n08HNpH/JnnXYuZ3cwabJnXXTsI7n1MHSrozSr43gx6/9/PrPqIP9/Pv07OTr2szYuJrOpYHo1cPv4dX59fHu4NTm0r/UspLInXX38Ort39Pkz7zbvqTRrIvLon3KoXvInXTInHTVs5Ts3M706+PWtJbXtpnr283cwKfHnHTVtJbJn3jo18bOqIX07OXHnHPRro369fHRrozSr47RrYzPqob59PDOqYXJoHjHm3PWtZjdwqrdw6rWtpnHm3Lr28zGm3LHnXXTspLhy7XhyrXGmnLGmnHFmnHFmXHFmXDEmXDEmHDEmG/DmG/Dl2/Dl27jzrvCl27Clm7Clm3Blm3BlW3BlWzAlWzAlGzAlGu/lGu/k2u/k2q+k2q+kmqwNNwWAAAAAWJLR0QMgbNRYwAAAAd0SU1FB+YIFwwPLToqzwYAAAZPSURBVHja7dv5W1RVGMDxg+IyzAkmagAFE0RBpRTFcC8SxEAYs5rMbJsoDG+bli1Yafu+UE27JYlkWraYbWoWmpravlj2zwSIMszcufe8533vPcfxfn/0Ofe85wPOnWcWGPPy8vLSr7SkqZ1OmNrplBDVB/AgqQcZ1JsqyCDqQBDy6ZQQ1QfwIB5E8zyIbnkQ3fIgDjcYGikkfvP0IUOHDfdl+Dn3Z/iGDxs6JB18PgDEqZ3PyMwK8LgCWZlnOgVxZtvss84OctNycvOyTxnIiJH53KL8kSOsry/ob5RodJCTs88ZXchtKhqTLnxCUQjcblPxWDtGT2OLqSHE+2WPC4o4OA+Oy9YZUuITY/RUWqIvZHxA3NH95DJeV8iEHIij+1Y8UU9ImeDDI+aBUqYj5Fzg76P3d3KefpDiSXAH55OobsNkkBLQ47y/ANG9iwqSDbjvDsxH83xCBZks6+B8sk6QcvANq79guT6QtCnyDs6npGkDmYpxcD61Ap8UJH6TaUU4SOE0AgjBD6PifJyD80o9INNnYCEzpmsBmYl1cD4zYdNZwCggs/GQ2dBzm0GwW8xBPIecKDgHDUH/KGbNxTs4v0ADSC4FJFc95MIqCkhVmnLIRRQOzudV45KAxO1QQwOpwUKQ11dXz6eB1CqHLKCBXAwYWWcSHiL90nBg9XW4bCACO2TQQDKwEOT1dXULaSB+5RAaB+cehAoi+X5WfAuVQxpoIOof7I00EMDtN2QWHrKIBrIghMsaIrLDJTSQxVgI8vpQqIwGcqlyyGU0kMuVQ0bRvLAqEJ0XNg8PCV1BAVkSRmYFEdziSgrIUjQEu0E4fNUyvCN4tQaQ8DV4yLXoQ1BArsND8rSADMrHOvLTtICEr8dCKmHzIiaRQG5owjmaboygs4EI7pKJg2TiHRFGsEckclMzxrH8Zm0gEdTH0y1WO68QjAgSqZWH1IqeNVlGTzEQ1Ga3SH/S7htsUMTgdvNulf1SzW0kDoPRbNOd5NecyonG00GM2yUe8Dl3UE0nhBgr4V8FnEg2nBJirAL+77pzFd1sUohx12qI4+5iwtG0EOOee8UdPqL7lSMQ4z7Rl4vBVprnD4cga0oFHc1Ut11HIPc/IPhoL8ysJnZQQupqBF8prq58UHbG2qTRQdaJfSqak/tQxVrCHu4rKQS43yMxb9M1LHl0Zfljjz+RlfAe5JOLlj4VO50wBrebVLD4+M3q6Weenfvc8yf/ObRmwgsvNrYVLeNVGfUvvZz3Sij5FlFkDPVj6Nuk+lVe1fja62+8GcEeBwEh2eWtt9UJSCEa5EF0y4Po1ikLWR+Xu5D1ziUAcXA6JUT1AVIP8g4uJAQ5nTCGvN54d8yG9jbcd7YCbe0bRr+3QiEkurHDjyLE5u/YGFUDMTaJvtMgWukmI3FMp1jykHn1xIyelr8veG5LCOS6zfMJ/vzFpOAHmyUhcpdt2eoIo6etW8wGfmiXHOSjbY45ON/2se2phSACF32C/FzdpqZPZSAS13wGes9dou2fuwLZQfQFWYsad7gBaXXcwXlr95wvQMEhLc7cdwcW/BLG6INALohSP52bVxqFQqDyr1xxcP61w5BO1NdnADV3OgtpccnB+Td2R9k5IChkl2uQXbHH3G2bEKR/wyjd6w+7/N/anz4WsjMu6+V7XHNwvgcGAa3e/Z2LkO+dhHS4COlwEtLuIqQ9+TG6EgNCGlyEbO+CZAeJWy715TLJAjAIaHWXiw7OUx2y1zSdIXshWUISl2sMAa3WDbKvP50h+yCJQvqWawwBrfYgUv0AKZUgkOUaQ0Cr3YXsh5Q6ENDq/R7Eg9h24Hg6Qw5AgkC6l2sMAa12F3IQUupAQKsPugr5EVJqQcSXawwBrfYgHsSuQyfSGXIIkjikd7layGGLGIjtLuQwpCSQZMtdhRyBxEBsnSGg1Uc8iG6Qn9zMSYi+qYb8TJUUhGy6Xb+Ix5ROJ+jXvpjS6YQxpdMpIaoP4EE8iJp+E80RiPB0+X6PjymdThhTOj2xP2RjSqcTxlQfwIN4EPf6UyYyiNR06f5KiCmdTpgtxNHpVv0NiymdThhTOp0SovoApy/kqHkuQY46HlM63ap/YDGl0wljSqeb9q9UTOl0wpjqA5ymkGNJcwNyzI2Y0unA/rPof+AC6w/ykiczAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA4LTIzVDA0OjE1OjQ1KzA4OjAwIkHhYgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wOC0yM1QwNDoxNTo0NSswODowMFMcWd4AAAAgdEVYdHNvZnR3YXJlAGh0dHBzOi8vaW1hZ2VtYWdpY2sub3JnvM8dnQAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABh0RVh0VGh1bWI6OkltYWdlOjpIZWlnaHQAMjAwfdcVaQAAABd0RVh0VGh1bWI6OkltYWdlOjpXaWR0aAAyMDDuJkU0AAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADE2NjExOTkzNDXPEwzcAAAAEnRFWHRUaHVtYjo6U2l6ZQAzMzgzQkIcsIQgAAAAR3RFWHRUaHVtYjo6VVJJAGZpbGU6Ly8vYXBwL3RtcC9pbWFnZWxjL2ltZ3ZpZXcyXzEwXzE2NTgzOTg1NTU2OTM4NDYxXzk1X1swXSsTSOcAAAAASUVORK5CYII=",xr={themeTypeData:[{label:"浅色模式",value:"OS",disabled:!1},{label:"深色模式",value:"dark",disabled:!0}],layoutTypeData:[{label:"混合布局",value:"mix",disabled:!1,children:[{label:"分组菜单",value:"group",disabled:!1},{label:"层级菜单",value:"level",disabled:!1}]},{label:"常用布局",value:"side",disabled:!0,children:[]},{label:"顶部布局",value:"top",disabled:!0,children:[]},{label:"用户布局",value:"user",disabled:!0,children:[]}]},br=t=>(ge("data-v-b5e96e13"),t=t(),ye(),t),wr={class:"mask-container"},Ar=["src"],Pr={class:"info"},Cr={class:"user-name"},Dr={key:0,class:"user-role"},Ir={class:"icon"},$r={class:"theme-layouts"},Br={key:0,class:"item"},jr=br(()=>A("div",{class:"label"}," 菜单类型 ",-1)),Er={class:"value"},Tr={class:"action-container"},Rr=B({__name:"mask",props:{user:{}},setup(t){const e=$e(),{layoutInfo:o}=st(e),a=ce(),s=x(o.value.layout),n=x(o.value.layoutMenu),l=I(()=>{var d;return((d=xr.layoutTypeData.find(h=>h.value===o.value.layout))==null?void 0:d.children)??[]});I(()=>o.value.theme);const i=()=>{var c;if(!((c=a.siteInfo.public_api)!=null&&c.user_edit)){Ae("当前系统未开启个人资料修改功能","温馨提示");return}ue(ca)},u=c=>{e.setLayoutMenu(c)};return(c,d)=>{var g,v,y,D,S;const h=j("el-image"),_=oe,f=j("el-option"),p=j("el-select"),k=Re;return m(),P("div",wr,[A("div",{class:"userinfo",onClick:i},[b(h,{class:"headimg",src:c.user.headimg},{error:w(()=>[A("img",{class:"headimg",src:r(mo)},null,8,Ar)]),_:1},8,["src"]),A("div",Pr,[A("div",Cr,M(((g=c.user)==null?void 0:g.nickname)||"未设置昵称"),1),(y=(v=c.user)==null?void 0:v.role)!=null&&y.title?(m(),P("div",Dr,M((S=(D=c.user)==null?void 0:D.role)==null?void 0:S.title),1)):U("",!0)]),A("div",Ir,[b(_,{icon:"ArrowRight",type:"element"})])]),A("div",$r,[r(s)==="mix"&&r(l).length?(m(),P("div",Br,[jr,A("div",Er,[b(p,{modelValue:r(n),"onUpdate:modelValue":d[0]||(d[0]=V=>pe(n)?n.value=V:null),size:"small",teleported:!1,onChange:u},{default:w(()=>[(m(!0),P(X,null,J(r(l),V=>(m(),C(f,{key:V.value,label:V.label,value:V.value,disabled:V.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])])])):U("",!0)]),A("div",Tr,[b(k,{class:"button",type:"danger",bg:"",text:"",onClick:d[1]||(d[1]=V=>r(e).loginOut())},{default:w(()=>[F(" 退出登录 ")]),_:1})])])}}});const Sr=O(Rr,[["__scopeId","data-v-b5e96e13"]]),Vr={class:"userinfo-container"},Ur={class:"userinfo"},Lr=["src"],Mr={class:"user-info"},Or={class:"user-name"},zr={key:0,class:"user-role"},qr={class:"icon"},Hr={class:"profile-mask"},Nr=B({__name:"index",setup(t){const e=$e(),{userInfo:o}=st(e);return(a,s)=>{var i,u,c,d,h;const n=j("el-image"),l=oe;return m(),P("div",Vr,[A("div",Ur,[b(n,{class:"headimg",src:r(o).headimg},{error:w(()=>[A("img",{class:"headimg",src:r(mo)},null,8,Lr)]),_:1},8,["src"]),A("div",Mr,[A("div",Or,M(((i=r(o))==null?void 0:i.nickname)||"未设置昵称"),1),(c=(u=r(o))==null?void 0:u.role)!=null&&c.title?(m(),P("div",zr,M((h=(d=r(o))==null?void 0:d.role)==null?void 0:h.title),1)):U("",!0)]),A("div",qr,[b(l,{icon:"CaretTop",type:"element",size:"18"})])]),A("div",Hr,[b(Sr,{user:r(o)},null,8,["user"])])])}}});const _o=O(Nr,[["__scopeId","data-v-3639055f"]]),Fr={class:"flex-1 flex items-center justify-end"},Xr=B({__name:"tools",setup(t){var a;const o=((a=ce().siteInfo.public_api)==null?void 0:a.header_right_file)??"";return(s,n)=>(m(),P("div",Fr,[r(o)?(m(),C(r(fe),{key:0,file:r(o)},null,8,["file"])):U("",!0),b(_o)]))}}),Wr={class:"flex justify-between"},Qr=B({__name:"index",setup(t){return(e,o)=>(m(),P("div",Wr,[b(kr),b(Xr)]))}});const Gr={class:"xhadmin-mix-layout"},Jr={class:"xhadmin-header-pro"},Zr={class:"xhadmin-main-pro"},Yr={class:"xhadmin-side-pro"},Kr={class:"xhadmin-content-pro"},ec={class:"xhadmin-content pt-4 pl-4 pr-4"},tc={class:"xhadmin-copyright-pro"},oc=B({__name:"index",props:{active:{},menus:{},sideName:{},sideLogo:{},logoHeight:{},sideWidth:{},sideMenuWidth:{},headerHeight:{}},setup(t){const e=t;Te(s=>({"32f30502":r(o),"71aaffc9":r(a)}));const o=I(()=>`${e.headerHeight}px`),a=I(()=>e.sideWidth);return(s,n)=>(m(),P("div",Gr,[A("div",Jr,[b(Va,{"header-height":s.headerHeight,"side-width":s.sideWidth,"logo-src":s.sideLogo,"side-name":s.sideName,"logo-height":s.logoHeight,"side-menu-width":s.sideMenuWidth},null,8,["header-height","side-width","logo-src","side-name","logo-height","side-menu-width"]),b(Qr,{class:"xhadmin-toolbar"})]),A("div",Zr,[A("div",Yr,[b(Ia,{"side-width":s.sideWidth,"side-menu-width":s.sideMenuWidth,active:s.active,menus:s.menus},null,8,["side-width","side-menu-width","active","menus"])]),A("div",Kr,[A("div",ec,[b(ao)]),A("div",tc,[b(so)])])])]))}});const ac=O(oc,[["__scopeId","data-v-4bd77342"]]),nc={};function sc(t,e){return m(),P("div",null," 侧边栏布局 ")}const lc=O(nc,[["render",sc]]),rc=B({__name:"menus",props:{active:{},menus:{}},setup(t){return(e,o)=>{const a=j("el-menu");return m(),C(a,{mode:"horizontal",class:"menus","default-active":e.active},{default:w(()=>[(m(!0),P(X,null,J(e.menus,s=>(m(),C(Qe,{key:s.id,"menu-data":s},null,8,["menu-data"]))),128))]),_:1},8,["default-active"])}}});const cc={class:"xhadmin-top-layout"},ic={class:"xhadmin-header-pro"},uc={class:"logo"},dc={class:"menus"},pc={key:0,class:"tools"},mc={class:"user"},_c={class:"xhadmin-main-pro"},fc={class:"xhadmin-main"},hc={class:"xhadmin-copyright"},vc=B({__name:"index",props:{headerHeight:{},active:{},menus:{}},setup(t){const e=ce().siteInfo;return(o,a)=>{var s,n;return m(),P("div",cc,[A("div",ic,[A("div",uc,[b(oo)]),A("div",dc,[b(rc,{active:o.active,menus:o.menus},null,8,["active","menus"])]),(s=r(e).public_api)!=null&&s.header_right_file?(m(),P("div",pc,[b(r(fe),{file:(n=r(e).public_api)==null?void 0:n.header_right_file},null,8,["file"])])):U("",!0),A("div",mc,[b(_o)])]),A("div",_c,[A("div",fc,[b(ao)]),A("div",hc,[b(so)])])])}}});const gc=O(vc,[["__scopeId","data-v-07846549"]]),yc={};function kc(t,e){return m(),P("div",null," 用户中心布局 ")}const xc=O(yc,[["render",kc]]),bc=B({__name:"index",setup(t){const e=ce(),o=$e(),{active:a}=Gc(),s=o.layoutInfo,n=e.siteInfo,l=o.menuList;return(i,u)=>{var c,d;return m(),P(X,null,[r(s).layout==="mix"?(m(),C(r(ac),{key:0,"header-height":r(s).headerHeight,"side-width":r(s).sideWidth,"side-menu-width":r(s).sideMenuWidth,"side-logo":(c=r(n))==null?void 0:c.web_logo,"side-name":(d=r(n))==null?void 0:d.web_name,"logo-height":r(s).logoHeight,active:r(a),menus:r(l)},null,8,["header-height","side-width","side-menu-width","side-logo","side-name","logo-height","active","menus"])):U("",!0),r(s).layout==="side"?(m(),C(r(lc),{key:1})):U("",!0),r(s).layout==="top"?(m(),C(r(gc),{key:2,"header-height":r(s).headerHeight,active:r(a),menus:r(l)},null,8,["header-height","active","menus"])):U("",!0),r(s).layout==="user"?(m(),C(r(xc),{key:3})):U("",!0)],64)}}}),wc={path:"/",name:"default-router",component:bc,redirect:eo,children:[]},Ac=[{path:"/workspace/exception",name:"workspaceException",component:()=>we(()=>import("./index.a37bc6a5.js"),["xhadmin/js/index.a37bc6a5.js","xhadmin/js/.pnpm.53ee86f3.js","xhadmin/css/.pnpm.ad0d32c5.css"]),meta:{title:"出现错误啦~"}},{path:"/user/personal",name:"userPersonal",component:()=>we(()=>import("./index.855f9c64.js"),["xhadmin/js/index.855f9c64.js","xhadmin/js/.pnpm.53ee86f3.js","xhadmin/css/.pnpm.ad0d32c5.css","xhadmin/css/index.27a712b3.css"]),meta:{title:"个人资料"}}],Pc=[{...wc,children:[...Ac]},{path:"/login",name:"Login",component:()=>we(()=>import("./index.e1f3d7b5.js"),["xhadmin/js/index.e1f3d7b5.js","xhadmin/js/.pnpm.53ee86f3.js","xhadmin/css/.pnpm.ad0d32c5.css","xhadmin/css/index.728a17af.css"]),meta:{title:"用户登录"}},{path:"/redirect/:path(.*)",name:"redirect",component:()=>we(()=>import("./index.05589e0c.js"),["xhadmin/js/index.05589e0c.js","xhadmin/js/.pnpm.53ee86f3.js","xhadmin/css/.pnpm.ad0d32c5.css"])},{path:"/exception",name:"exception",meta:{title:"抱歉，你访问的页面不存在~"},component:()=>we(()=>import("./index.a37bc6a5.js"),["xhadmin/js/index.a37bc6a5.js","xhadmin/js/.pnpm.53ee86f3.js","xhadmin/css/.pnpm.ad0d32c5.css"])},{path:"/:pathMatch(.*)",component:()=>we(()=>import("./index.a37bc6a5.js"),["xhadmin/js/index.a37bc6a5.js","xhadmin/js/.pnpm.53ee86f3.js","xhadmin/css/.pnpm.ad0d32c5.css"])}],G=ea({routes:[...Pc],history:ta("/")}),Cc={class:"xhadmin-table-pro"},Dc=B({name:"/table"}),Ic=B({...Dc,setup(t){const e=ke(),o=De(),a=e.meta.method,s=e.query??{};return(n,l)=>(m(),P("div",Cc,[b(r(po),{api:r(o),method:r(a),"ajax-params":r(s)},null,8,["api","method","ajax-params"])]))}});const $c=O(Ic,[["__scopeId","data-v-479f8d33"]]),Bc=t=>(ge("data-v-10367abe"),t=t(),ye(),t),jc={class:"xhadmin-page-pro"},Ec={key:0,class:"flex items-center bg-white px-5 py-4 mb-[10px]"},Tc=Bc(()=>A("span",{class:"pl-1 text-[16px]"},"返回",-1)),Rc={key:0,class:"pl-20px text-[16px] select-none"},Sc={class:"form-pro flex-1"},Vc=B({name:"/form"}),Uc=B({...Vc,setup(t){const e=ke(),o=x(),a=x(),s=De(),n=e.meta.method,l={...e.query};l!=null&&l.isBack&&(l==null||delete l.isBack);const i=x({...l}),u=x({submitBtn:{},resetBtn:{}}),c=p=>{var g;const k=(g=p==null?void 0:p.response)==null?void 0:g.extraConfig;u.value=k},d=()=>{o.value.submit()},h=()=>{o.value.reset()},_=()=>{a.value.setDisabled(!0)},f=()=>{a.value.setDisabled(!1)};return(p,k)=>{var v,y,D;const g=oe;return m(),P("div",jc,[(v=r(e).query)!=null&&v.isBack?(m(),P("div",Ec,[A("div",{class:"flex items-center cursor-pointer select-none",onClick:k[0]||(k[0]=(...S)=>r(Fe)&&r(Fe)(...S))},[b(g,{icon:"ArrowLeftOutlined",size:16}),Tc]),(y=r(e).meta)!=null&&y.title?(m(),P("div",Rc,M((D=r(e).meta)==null?void 0:D.title),1)):U("",!0)])):U("",!0),A("div",Sc,[b(r(ht),{ref_key:"formRef",ref:o,class:"xh-form-create",api:r(s),method:r(n),"ajax-params":r(i),"onUpdate:initOk":c,"onUpdate:submit":_,"onUpdate:submitOk":f,"onUpdate:submitError":f,"onUpdate:restOk":f,"onUpdate:initError":f},null,8,["api","method","ajax-params"])]),b(r(co),{ref_key:"buttonRef",ref:a,class:"xh-buttons-pro","extra-config":r(u),"onUpdate:submit":d,"onUpdate:rest":h},null,8,["extra-config"])])}}});const Lc=O(Uc,[["__scopeId","data-v-10367abe"]]),Mc={class:"h-100%"},Oc=B({name:"remote"}),zc=B({...Oc,setup(t){const o=ke().meta.ajaxParams;return(a,s)=>(m(),P("div",Mc,[b(r(fe),{file:r(o)},null,8,["file"])]))}}),qc=Object.freeze(Object.defineProperty({__proto__:null,formIndex:Lc,remoteIndex:zc,tableIndex:$c},Symbol.toStringTag,{value:"Module"})),Ke={routeView:()=>we(()=>import("./index.b4a9fcff.js"),["xhadmin/js/index.b4a9fcff.js","xhadmin/js/.pnpm.53ee86f3.js","xhadmin/css/.pnpm.ad0d32c5.css"]),exceptionView:()=>we(()=>import("./exception.7c68aca5.js"),["xhadmin/js/exception.7c68aca5.js","xhadmin/js/.pnpm.53ee86f3.js","xhadmin/css/.pnpm.ad0d32c5.css"])},Hc=t=>{if(!t)return Ke.blankView;if(t in Ke)return Ke[t];const e=ma(t??"");return qc[e]},Nc=t=>{for(const e of t){const o=e.remote,a=o.replace("/","_"),s=()=>Ue(fe,{file:o});s.displayName=a;const n={path:e==null?void 0:e.path,name:a,component:s,meta:{title:(e==null?void 0:e.title)||"未知页面",path:(e==null?void 0:e.path)||"未知路径",pid:0,moduleName:(e==null?void 0:e.module)||"",method:"GET",ajaxParams:{}}};G.addRoute(n)}},Fc=t=>{const e=[];for(const o of t)if(o.path){const a={path:`/${o.path}`,name:o.path.replace("/","_"),component:Gt(Hc(o.component)),meta:{title:o.title,path:o.path,pid:o.pid,icon:o.icon,moduleName:o.module,method:o.method,ajaxParams:o.auth_params},children:[]};(!a.children||a.children.length<1)&&delete a.children,e.push(a)}return e},fo=new Map,ho=(t,e,o)=>{var n;const a=[];let s=[];e?s=t.filter(l=>(l==null?void 0:l.pid)===e):s=t.filter(l=>!l.pid);for(const l of s){const i=o?`${o}-${l.id}`:`${l.id}`;let u=`/${l.path}`;l.auth_params&&l.component!=="remote/index"&&(u=`${u}?${l.auth_params}`),fo.set(u,i);const c={activeId:i,title:l.title,icon:l.icon,ajaxParams:l.auth_params,path:l.path,show:l.show==="1",target:l.target??"_blank",isGroup:!1,children:ho(t,l.id,i)},d=(n=c.children)==null?void 0:n.some(h=>h.show);c.show&&d&&(c.isGroup=!0),a.push(c)}return a},Mt=fo,Xc=()=>{const t=ke(),e=tt({active:""}),o=a=>{let s=Mt.get(a);s||(s=Mt.get(eo)),e.active=s??""};return lt(()=>t.fullPath,()=>{o(t.fullPath)}),{...aa(e),updateActive:o}},[Wc,Qc]=oa(Xc),Gc=()=>Qc()??{active:x(""),updateActive:()=>{}},Jc=B({__name:"App",setup(t){return Wc(),(e,o)=>(m(),C(ra))}});const je=x(Ne),nt=x([...ia]),et=x([...nt.value,je.value,Yt,Kt]),Ot=x(!1);G.beforeEach(async(t,e,o)=>{var c,d,h,_,f;if(Zt.start(),nt.value.includes(t.path)){o();return}const a=$e(),s=Ie(),n=Oe(),l=I(()=>a.userInfo);if((c=t.query)!=null&&c.token){let p=(d=t.query)==null?void 0:d.token;p=p.includes("Bearer")?p:`Bearer ${p}`,n.value=p}if((h=t.query)!=null&&h.appid&&(s.value=(_=t.query)==null?void 0:_.appid),n.value&&[je.value,Yt,Kt].includes(t.path)){o({path:"/"});return}const i=ce(),u=I(()=>i.siteInfo);if(!u.value.web_name){if(await i.getSite(),!u.value.web_name){E("站点名称web_name字段缺失");return}if(u.value.login_link&&i.setLoginLink(u.value.login_link),(f=u.value)!=null&&f.remote_url&&!Ot.value){const p=u.value.remote_url;je.value&&(et.value=[...et.value,je.value]),Nc(p),Ot.value=!0,o({...t,replace:!0});return}}if(n.value){if(!l.value.username&&!nt.value.includes(t.path))try{if(await a.getUserInfo(),!l.value.username){E("用户信息缺少username字段");return}const p=a.routeList;if(p.length===0){a.Authorization="",E("您没有任何权限，请联系管理员！"),o({path:je.value});return}p.forEach(k=>{G.addRoute("default-router",k)}),o({...t,replace:!0});return}catch(p){console.error("前置路由错误",p)}}else if(!et.value.includes(t.path)){o({path:je.value,query:{redirect:t.path}});return}o()});G.afterEach(t=>{var i,u,c;const{version_name:e}=no(),a=((i=ce().siteInfo)==null?void 0:i.web_name)||"XHAdmin",s=`${a} ${e}`;let n=(u=t.meta)==null?void 0:u.title;const l=(c=t.query)==null?void 0:c.code;l&&(n=ua[l]||"抱歉，你访问的页面不存在"),n?document.title=`${n} - ${s}`:a&&(document.title=s),Zt.done()});const Zc=t=>{t.use(Be),t.config.globalProperties.$XModal=Be.modal,t.config.globalProperties.$XPrint=Be.print,t.config.globalProperties.$XSaveFile=Be.saveFile,t.config.globalProperties.$XReadFile=Be.readFile},Yc=na(),Ve=sa(Jc);Zc(Ve);Ve.use(Yc);Ve.use(G);Ve.use(la);Ve.mount("#app");io.vue=Ve;export{co as X,oe as _,ce as a,to as b,O as c,Oe as d,ua as e,Re as f,ao as g,Fe as h,ht as i,fe as j,Ne as l,ue as o,$e as u};
