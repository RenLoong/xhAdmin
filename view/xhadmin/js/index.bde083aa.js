var wa=Object.defineProperty;var Aa=(t,e,a)=>e in t?wa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var Ne=(t,e,a)=>(Aa(t,typeof e!="symbol"?e+"":e,a),a);import{d as I,r as y,c as j,z as Pa,e as Ca,a as nt,b as T,o as p,f as C,w as A,g as k,u as r,E as st,N as lt,h as qt,i as Da,j as Ia,k as Ht,l as zt,m as Ft,n as x,p as w,t as O,F as N,q as K,s as V,v as F,x as Nt,y as $a,A as Xt,B as le,C as Re,D as ut,G as Pe,H as he,I as ve,J as ge,K as ye,L as dt,M as Ba,O as Pt,P as ja,Q as Ea,R as Ta,S as Ra,T as Va,U as Sa,V as me,W as de,X as Ue,Y as G,Z as te,_ as Ua,$ as Q,a0 as La,a1 as Wt,a2 as Ma,a3 as Oa,a4 as qa,a5 as Ha,a6 as Qt,a7 as Ct,a8 as za,a9 as Fa,aa as Na,ab as Dt,ac as It,ad as Je,ae as $t,af as Xa,ag as Wa,ah as Qa,ai as Gt,aj as Ga,ak as Ja,al as Be,am as Za,an as Ya,ao as Ka,ap as eo,aq as Jt,ar as to,as as ao,at as oo}from"./.pnpm.1a2bd0ba.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();const no=I({__name:"index",setup(t){const e=y("zh-cn"),a=j(()=>e.value==="zh-cn"?Pa:Ca),n=nt({autoInsertSpace:!1}),s=nt({max:1});return(o,l)=>{const i=T("router-view"),u=T("el-config-provider");return p(),C(u,{button:r(n),message:r(s),locale:r(a)},{default:A(()=>[k(i)]),_:1},8,["button","message","locale"])}}}),Xe="/login",Zt="/register",Yt="/password",so="/user/personal",Kt="/Index/index",lo=["/exception","/401","/403","/404","/401","/500","/502"],co={401:"您没有权限访问该页面",403:"资源错误",404:"资源错误",500:"服务器内部错误",502:"请求错误，无法获取到数据"},ro="modulepreload",io=function(t){return"/"+t},Bt={},be=function(e,a,n){if(!a||a.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(a.map(o=>{if(o=io(o),o in Bt)return;Bt[o]=!0;const l=o.endsWith(".css"),i=l?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const _=s[d];if(_.href===o&&(!l||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${i}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":ro,l||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),l)return new Promise((d,_)=>{c.addEventListener("load",d),c.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},ee=I({__name:"index",props:{icon:{},size:{default:18},color:{}},setup(t){const e=t,a=j(()=>{if(st[e.icon])return st[e.icon];if(lt[e.icon])return lt[e.icon]});return(n,s)=>{const o=T("el-icon");return p(),C(o,{size:n.size,color:n.color},{default:A(()=>[(p(),C(qt(r(a))))]),_:1},8,["size","color"])}}}),W=(t,e,a="",n)=>{Da({message:t,title:a,duration:2e3,type:e,...n})},ue=(t,e="温馨提示",a)=>{W(t,"success",e,a)},E=(t,e="温馨提示",a)=>{W(t,"error",e,a)},Me=()=>location.pathname.replace(/^\/+|\/+$/g,""),Ce=(t="",e=!1)=>{const a=J.currentRoute.value,n=Me(),s=y(a.path);if(e){const o=s.value.indexOf("/",1);s.value=s.value.substring(0,o),s.value=`${s.value}/`}return`${n}${s.value}${t}`},Oe=t=>{let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},ie=(t,e)=>{Oe(t)?location.href=t:J.push({path:t,query:e})};function Ke(t=6){let e="";for(let a=0;a<t;a++)e+=Math.floor(Math.random()*10);return e}const Le=(t,e)=>{for(const a in e)if(e[a]===t)return!0;return!1},We=()=>{var e;(e=J.currentRoute.value.query)!=null&&e.isBack||E("返回上次页面错误"),J.back()},uo=t=>t.replace(/\/(\w)/g,(e,a)=>a.toUpperCase()),ea=(t,e="Enter")=>{const a=n=>{n.key===e&&(t(),n.preventDefault())};Ia(()=>document.addEventListener("keydown",a)),Ht(()=>document.removeEventListener("keydown",a))},pt=t=>{let e;const a={},n=t.slice(t.indexOf("?")+1).split("&");for(let s=0;s<n.length;s++)e=n[s].split("="),a[e[0]]=e[1];return a},mt="authorization",_t="appid",qe=zt(()=>{const t=Me();return Ft(`${t}_${mt}`,null)}),De=zt(()=>{const t=Me();return Ft(`${t}_${_t}`,null)}),Ze=I({__name:"menu-item",props:{menuData:{}},setup(t){const e=De(),a=n=>{const s=n.path,o=y({});n.ajaxParams&&(o.value=pt(n.ajaxParams));let l={...o.value};e.value&&(l={...l,appid:e.value}),ie(`/${s}`,l)};return(n,s)=>{const o=T("el-menu-item-group"),l=T("el-menu-item");return p(),x(N,null,[n.menuData.isGroup&&n.menuData.show?(p(),C(o,{key:0},{title:A(()=>[w("span",null,O(n.menuData.title),1)]),default:A(()=>[(p(!0),x(N,null,K(n.menuData.children,i=>(p(),C(Ze,{key:i.activeId,"menu-data":i},null,8,["menu-data"]))),128))]),_:1})):V("",!0),!n.menuData.isGroup&&n.menuData.show?(p(),C(l,{key:1,index:n.menuData.activeId,onClick:s[0]||(s[0]=i=>a(n.menuData))},{default:A(()=>[F(O(n.menuData.title),1)]),_:1},8,["index"])):V("",!0)],64)}}}),po=I({__name:"menu-item-level",props:{menuData:{}},setup(t){const e=De(),a=n=>{const s=n.path,o=y({});n.ajaxParams&&(o.value=pt(n.ajaxParams));let l={...o.value};e.value&&(l={...l,appid:e.value}),ie(`/${s}`,l)};return(n,s)=>{const o=T("el-sub-menu"),l=T("el-menu-item");return p(),x(N,null,[n.menuData.isGroup&&n.menuData.show?(p(),C(o,{key:0,index:n.menuData.activeId},{title:A(()=>[w("span",null,O(n.menuData.title),1)]),default:A(()=>[(p(!0),x(N,null,K(n.menuData.children,i=>(p(),C(Ze,{key:i.activeId,"menu-data":i},null,8,["menu-data"]))),128))]),_:1},8,["index"])):V("",!0),!n.menuData.isGroup&&n.menuData.show?(p(),C(l,{key:1,index:n.menuData.activeId,onClick:s[0]||(s[0]=i=>a(n.menuData))},{default:A(()=>[F(O(n.menuData.title),1)]),_:1},8,["index"])):V("",!0)],64)}}}),mo={layout:"mix",layoutMenu:"level",theme:"OS",sideMenuWidth:70,sideWidth:200,headerHeight:50,logoHeight:30,footerHeight:35},jt={nickname:"",username:"",password:"",headimg:"",role:{},menus:[]},ct=y("OS"),rt=matchMedia("(prefers-color-scheme: dark)"),et=()=>{rt.matches?document.documentElement.dataset.theme="dark":document.documentElement.dataset.theme="light"};Nt(()=>{ct.value==="OS"?(rt.addEventListener("change",et),et()):(document.documentElement.dataset.theme=ct.value,rt.removeEventListener("change",et))});function _o(){return{theme:ct}}const fo={web_name:"",web_title:""},ft="/",Z=$a.create({baseURL:ft,timeout:6e4}),ho=async t=>{const e=qe();e.value&&t.headers.set(mt,e.value);const a=De();return a.value&&t.headers.set(_t,a.value),t},vo=t=>{var s,o,l,i,u;const e=qe(),a=t.data,n=t.headers["content-type"];if(n.includes("application/json")){if((a==null?void 0:a.code)===301)return ie(((s=a==null?void 0:a.data)==null?void 0:s.url)??""),Promise.reject(a);if((a==null?void 0:a.code)===302)return E((a==null?void 0:a.msg)||"302.网络错误~"),ie(((o=a==null?void 0:a.data)==null?void 0:o.url)??""),Promise.reject(a);if((a==null?void 0:a.code)===303)return E((a==null?void 0:a.msg)||"303.网络错误~"),ie(((l=a==null?void 0:a.data)==null?void 0:l.url)??""),Promise.reject(a);if((a==null?void 0:a.code)===304)return window.location.reload(),Promise.reject(a);if((a==null?void 0:a.code)===305)return E((a==null?void 0:a.msg)||"305.网络错误~"),setTimeout(()=>{window.location.reload()},2500),Promise.reject(a);if([600,666,11e3].includes(a==null?void 0:a.code))return Promise.reject(a);if((a==null?void 0:a.code)===200)return a;if((a==null?void 0:a.code)===12e3){e.value="";let c=(i=J.currentRoute.value)==null?void 0:i.fullPath;return(u=J.currentRoute.value.query)!=null&&u.redirect&&(c=J.currentRoute.value.query.redirect),c===Xe&&(c="/"),J.replace({path:Xe,query:{redirect:c}}),E((a==null?void 0:a.msg)||"登录超时啦~"),Promise.reject(a)}return a!=null&&a.msg&&E((a==null?void 0:a.msg)||"网络错误~"),Promise.reject(a)}else return n.includes("application/octet-stream")?Promise.resolve(a):Promise.reject(a)},go=t=>{if(t.response){const{status:e}=t.response;e===401?ie("/exception",{code:401}):e===403?ie("/exception",{code:403}):e===500?ie("/exception",{code:500}):e===502&&ie("/exception",{code:502})}return Promise.reject(t)};Z.interceptors.request.use(ho);Z.interceptors.response.use(vo,go);const yo=Object.freeze(Object.defineProperty({__proto__:null,baseURL:ft,default:Z,instance:Z},Symbol.toStringTag,{value:"Module"})),Ae=(t,e,a)=>Z.request({url:t,params:e,method:"GET",...a}),Ee=(t,e,a)=>Z.request({url:t,data:e,method:"POST",...a}),Qe=(t,e,a)=>Z.request({url:t,data:e,method:"PUT",...a}),Ge=(t,e,a)=>Z.request({url:t,data:e,method:"DELETE",...a}),ce=Xt("app",()=>{const e=`/${Me()}/Publics/site`,a=De(),n=y({...fo}),s=y(),o=u=>{n.value=u};return{useAppId:a,siteInfo:n,getSite:async()=>{const{data:u}=await Ae(e);return o(u),u},setSiteInfo:o,setLoginLink:u=>{s.value=u}}}),we=(t,e="温馨提示",a="",n)=>le.confirm(t,e,{confirmButtonText:"确定",cancelButtonText:"取消",type:a,...n}),Ie=Xt("user",()=>{const t=qe(),e=y({...jt}),a=y([]),n=y([]),s=y({...mo}),o=h=>{if(!(h!=null&&h.menus)){E("用户信息缺少Menus字段参数");return}h.menus instanceof Array&&h.menus.length>0&&(a.value=zr(h.menus),n.value=ma(h.menus)),h!=null&&h.theme&&(s.value={...s.value,...h.theme}),e.value=h};return{layoutInfo:s,userInfo:e,Authorization:t,login:async h=>{var P,g,D;const m=(g=(P=ce().siteInfo)==null?void 0:P.public_api)==null?void 0:g.login;if(!m){E("请配置登录接口");return}const{msg:v,data:b}=await Ee(m,h);if(b!=null&&b.token){let B=b.token;B.includes("Bearer")||(B=`Bearer ${B}`),t.value=B,ue(v??"登录成功","温馨提示");const $=((D=J.currentRoute.value.query)==null?void 0:D.redirect)||"/";J.push($)}else E(v??"登录失败")},loginOut:()=>{we("是否确认退出登录？","温馨提示","error").then(()=>{t.value="",o({...jt}),J.push(Xe)})},getUserInfo:async()=>{var v;const f=(v=ce().siteInfo.public_api)==null?void 0:v.user;if(!f){E("请配置用户信息接口");return}const{data:m}=await Ae(f);m&&o(m)},routeList:a,menuList:n,setTheme:h=>{s.value.theme=h,_o().theme.value=h},setLayout:h=>{s.value.layout=h},setLayoutMenu:h=>{s.value.layoutMenu=h}}}),ko=t=>(ve("data-v-0633afa9"),t=t(),ge(),t),xo={class:"xhadmin-menus-pro"},bo=["onClick"],wo={class:"text"},Ao=ko(()=>w("div",{class:"mask"},null,-1)),Po=I({__name:"menu",props:{active:{},menus:{},sideMenuWidth:{default:60},sideWidth:{default:200}},setup(t){const e=t;Re(f=>({"8d056d9e":r(i),"45909bb0":r(l)}));const a=De(),n=Ie(),{layoutInfo:s}=ut(n),o=j(()=>{var f;return((f=s.value)==null?void 0:f.layoutMenu)||"group"}),l=j(()=>`${e.sideMenuWidth}px`),i=j(()=>`${e.sideWidth}px`),u=y(""),c=y(""),d=f=>{u.value=f;const m=u.value.split("-");c.value=m[0]},_=f=>{var b;const m=f[0],v=(b=m==null?void 0:m.children)==null?void 0:b.find(P=>P.show===!0);return m!=null&&m.children&&v?_((m==null?void 0:m.children)??[]):m},h=f=>{var B;const m=(B=f==null?void 0:f.children)==null?void 0:B.find(U=>U.show===!0);let v=f;f!=null&&f.children&&m&&(v=_((f==null?void 0:f.children)??[]));const b=v.path,P=y({});v.ajaxParams&&(P.value=pt(v.ajaxParams));const g=v.activeId;d(g);let D={...P.value};a.value&&(D={...D,appid:a.value}),ie(`/${b}`,D)};return Pe(()=>{d(e.active)}),(f,m)=>{const v=ee,b=T("el-menu");return p(),x("div",xo,[(p(!0),x(N,null,K(f.menus,P=>(p(),x("div",{key:P.id,class:"item"},[P.show?(p(),x("div",{key:0,class:he(["item-title",{active:r(c)===P.activeId}]),onClick:g=>h(P)},[k(v,{icon:P.icon,size:"22",type:(P==null?void 0:P.iconType)||""},null,8,["icon","type"]),w("div",wo,O(P.title),1),Ao],10,bo)):V("",!0),w("div",{class:he(["item-children",{active:r(c)===P.activeId}])},[k(b,{"default-active":f.active,"unique-opened":r(o)==="level"},{default:A(()=>[(p(!0),x(N,null,K(P.children,g=>(p(),x(N,{key:g.activeId},[r(o)==="level"?(p(),C(po,{key:0,"menu-data":g},null,8,["menu-data"])):(p(),C(Ze,{key:1,"menu-data":g},null,8,["menu-data"]))],64))),128))]),_:2},1032,["default-active","unique-opened"])],2)]))),128))])}}});const L=(t,e)=>{const a=t.__vccOpts||t;for(const[n,s]of e)a[n]=s;return a},Co=L(Po,[["__scopeId","data-v-0633afa9"]]),Et="data:image/png;base64,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",Do=["src"],Io=I({__name:"image",props:{logoSrc:{},logoHeight:{default:35}},setup(t){const e=t;Re(s=>({"19b86320":r(n)}));const a=j(()=>e.logoSrc?e.logoSrc:Et),n=j(()=>`${e.logoHeight}px`);return(s,o)=>{const l=T("el-image");return p(),C(l,{src:r(a),class:"logo"},{error:A(()=>[w("img",{src:r(Et),class:"logo"},null,8,Do)]),_:1},8,["src"])}}});const ta=L(Io,[["__scopeId","data-v-4fc29c9c"]]),$o=I({__name:"title",props:{sideName:{default:"XhAdmin"}},setup(t){return(e,a)=>(p(),x("span",null,O(e.sideName),1))}}),Bo={class:"xhadmin-logo-pro"},jo={class:"logo-image"},Eo={class:"logo-text"},To=I({__name:"index",props:{headerHeight:{},sideWidth:{},sideMenuWidth:{},logoHeight:{},logoSrc:{},sideName:{}},setup(t){const e=t;Re(o=>({"8b156f6c":r(a),"42433e3e":r(s),"045d336e":r(n)}));const a=j(()=>`${e.sideWidth}px`),n=j(()=>`${e.sideMenuWidth}px`),s=j(()=>`${e.headerHeight}px`);return(o,l)=>(p(),x("div",Bo,[w("div",jo,[k(ta,{"logo-src":o.logoSrc,"logo-height":o.logoHeight},null,8,["logo-src","logo-height"])]),w("div",Eo,[k($o,{"side-name":o.sideName,"logo-height":o.logoHeight},null,8,["side-name","logo-height"])])]))}});const Ro=L(To,[["__scopeId","data-v-3617cfe5"]]),aa=I({__name:"index",setup(t){const e=ye(),a=()=>`${new Date().getTime()}${Math.random()}`,n=y("");return dt(()=>e.fullPath,()=>{n.value=a()}),(s,o)=>{const l=T("router-view");return p(),C(l,{key:r(n)})}}}),Tt="OUtzMas9edTHUH/JnNdjl4lHWYG9gISU6vl1DnlCzkumaS2EkD8OLhRzTMziPeF5AxwRwukfkvIVs2nzq7KWi2RxbtTzzLtOQMml5cLVHkQZs8dhEMLkXtyVFKOTAjsXTvU2NFMCfwUc8LhqIrDnbd11kU5oQoTcysWvQbk/P6wfBMd7p3TOZwWewFg+oz5qHfwhgtW2dXev4p+a9fknRNBKUgdBxStKVsImmh4SlXRfOlhgMhOoL6ycaOdbhz6LgvDynfuWIA7dngosFv6x9SXIW2WndIoztR/4A+9uYG6xxiuH7Por9QJjFVU/VzLytposud3gAQi7ba2gyN9I6g==e3dqJ6AL4KUa3qpU0WtHV215X5FP5e1CZeyTqT2ap9dEOIS8hp94xpVIod9MSyYorLrNVOo8OyocipT9zLZITtPJ5LNVczJcnzHrNi6goXzojZ7etvuGK0HRj8CygkIhZMb7PUF9lNodtoUJ8BOjKvvETpXXSnHmyhwyskBRtBZ3LwAbKNCNKPCDhDQgF/Zo8P0h+oUjCZ/3B2kvSxPhPS9OjPU583PqOlZZNf0/2TzC+JxCI2Du/87kDGUXS8Y7UKP2NzdlqT21VkOQnbsFHRGg3jfT/+uJu6M/qljnvGo6bp6nL0vpD0paZmKrSUGVE99FWkLYNRiWAKkttCDn2g==",Rt=`-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCz+Ny6Y+2LRQb5
d81sZgzExl3EwWHJnP/BDOqD90UxEYStdzVulGtykumcfUPW+Hugspq8waetBGb7
MEFcbl3y7cTmrK/4Uninmy5Nf4nsGQk+/5WvQE2pzlLfPH0ZgxWyFepNdIXc6+k/
loXCOLus0jUZoDnN1YJfDMtGi+VyYl1jbatu3TQohO15NRb4KZ1TUeWQbOSnpXDA
WA2x9qVJtgKn1sD3KlxPu9Lm01QqCiIrEHEBWWCJQesgwP98JS438kCRmZMQBEJV
urr4UsLH889TMFg5ySKoGFLs3NOwOKbf0wwSpl4t7kAqyKOhbd4IprPVih/E9We5
VvYn5+7JAgMBAAECggEAMGRcRaoU93vKEk5KaDlQeaC1GfC9sI6MnoYwkOduLXF+
cX46Wc+CzL4AHtn34dfStjUQMm0H/xfN8QDaslXi4S1Z4oTQlD7ovniVjLUciuV4
fP4Qa50oxN37npcPNErxDH+kDsukKvEsOLLqqHzEygWDza4tnNEqSxCPoBqBya2B
TZomn3559fCOxGbKn7+3wlF7kKqr1HCbgX04RGISksh/EA1KPZRxOIol3B4dtz+H
xG/aG5aAGGnsFhlk/V/UiCBpyNYyJjVidJE9r8sY+GrszIEzsCLePhSWwG0UoTTN
PRt1o+nMCTuF8VoCkWGI7K6S5J5mQKdsFSaLPbLj4QKBgQDuEkf17kRNxWd2zBE7
fLGeRoezjyTBxcn6zzaJ1jQXs/ROV08q/LxNdRRNJ3jPk3V9y9Ceh6tyGvitumDF
m2fsrb+yofXQ8gL8xKFXhJHhbPRVqNKfb0DIWIeLSmhDM4xvmK3E+EuDQCe+t+7d
KRhUzYVXtsfid2MOrCfCkTwR5QKBgQDBhn/cs78V6hheZt0JUpV+bL01qelEC+SV
qwprkxbp6HWkRLp0yQb18Khq1s0NtMAQXlM5BGCQR9i7syy5vGi80a/lsR1O8F3y
PSo1GFYX9MGhIUHp7pw/6ls4WgZQ4eDMW7w0mrJ8DPUXlw2q/kY4SCAAHbGqarBo
nc8cv4UrFQKBgDbF0fSM+v4BmspELPrIt3y4sWPoXQaP4OZpYhzYQWfqqRyVDcvQ
FeqkMyWFHVB0lqV4jOjMQe+gsPIXXUhZdtGHMAGDLbEC3RkWjCA8ieuZS6Whj8PK
rtbpN1Yeqlo7s+XA9MnKbmUmD37bhoMvfz+TgUgq71X1Lb8kcIldLLrZAoGAJR1/
fjt25WQNImXF9JjDFQkTzKv2kddaEp5IFFOUbG3pygRoYid/z0FFe6AQmZVV1I3S
ljfRsTomRfFaHZEV4Uix3HJ4dYBB9EhoxOAS+us1C4sOUigyDUwMDKWvWmnHrEnX
sZsNqh7uDoUo2OeFXhvvDzaisVVe2eGSLChLCPUCgYEAqIu/Ws/C2OceneO25l/3
2WxcN3UbVT6x8TkwFjYv9UWs0/Opqlnj8aFy4zgU76zIDRGjVyObv53Gwhaaim1z
TeIrGe7RcWmPjzsERGlb+qe7tvCiNNDTd6RK0ywIrcSUrkEaZepqUepGFgB/vq9T
v07JgHIyR8viVUUqohaz5hM=
-----END PRIVATE KEY-----`,Vo=window.location.hostname,tt=(t,e)=>{const a=new Ba;a.setPrivateKey(e);const n=t.match(/.{1,344}/g);if(!n)throw new Error("令牌表单解密失败");let s="";if(n==null||n.forEach(o=>{const l=a.decrypt(o);l&&(s+=l)}),!s)throw new Error("解密失败");return JSON.parse(new TextDecoder().decode(Uint8Array.from(window.atob(s),o=>o.charCodeAt(0))))},So=()=>{const e=ce().siteInfo;if(e!=null&&e.empower_token&&e.empower_private_key)try{const a=tt(e.empower_token,e.empower_private_key);return a.systemUrl===Vo?a:tt(Tt,Rt)}catch(a){console.error("服务端授权失败",a)}try{return tt(Tt,Rt)}catch(a){console.error("系统授权错误",a)}},oa=()=>{const e=ce().siteInfo;return{version_name:(e==null?void 0:e.version_name)??"v1.0.0",version:(e==null?void 0:e.version)??1e3}},Uo={class:"copyright-set"},Lo={key:0},Mo=["href"],Oo=["href"],qo=I({__name:"index",setup(t){const{systemAbout:e,systemAboutUrl:a,systemName:n,systemUrl:s}=So(),{version_name:o}=oa();return(l,i)=>(p(),x("div",Uo,[F(" copyright © 2023 "),r(a)==="#"?(p(),x("span",Lo,O(r(e)),1)):(p(),x("a",{key:1,href:`http://${r(a)}`,target:"_blank",class:"pl-10px"},O(r(e)),9,Mo)),F(" All Rights Reserved "),w("a",{href:`http://${r(s)}`,target:"_blank",class:"pl-10px"},O(r(n))+" "+O(r(o)),9,Oo)]))}});const na=L(qo,[["__scopeId","data-v-6627a2d1"]]),Ho={form:{inline:!1,labelPosition:"top",labelSuffix:void 0,hideRequiredAsterisk:!0,labelWidth:"auto",showMessage:!0,inlineMessage:!0,statusIcon:!1,validateOnRuleChange:!0,disabled:!1,size:void 0,title:!0},row:{gutter:50,type:void 0,align:void 0,justify:void 0,tag:"div"},global:{"*":{}},submitBtn:!1,resetBtn:!1},zo=t=>t.map(e=>(e.handle=a=>{if((e==null?void 0:e.where)==="==")return a===e.value;if((e==null?void 0:e.where)==="!=")return a!==e.value;if((e==null?void 0:e.where)==="in"){const n=e.value;return n instanceof Array&&n instanceof Object?Le(a,e.value):(console.error("联动组件的IN条件值必须是数组或对象"),!1)}},e)),Fo=t=>t.map(e=>(e!=null&&e.control&&(e.control=zo(e.control)),e)),No={};function Xo(t,e){return p(),x("div",null," 高德地图 ")}const Wo=L(No,[["render",Xo]]),Qo={};function Go(t,e){return p(),x("div",null," 百度地图 ")}const Jo=L(Qo,[["render",Go]]),Zo={};function Yo(t,e){return p(),x("div",null," 腾讯地图 ")}const Ko=L(Zo,[["render",Yo]]),en={javascript:ja,php:Ea,python:Ta,java:Ra,css:Va,xml:Sa},tn=t=>(Pt.registerLanguage(t,en[t]),Pt),an={class:"w-100%"},on=["innerHTML"],nn=I({__name:"index",props:{modelValue:{},language:{default:"javascript"},showLineNumbers:{type:Boolean}},setup(t){const e=t,a=tn(e.language),n=y("");return Nt(()=>{n.value=a.highlight(e.modelValue,{language:e.language}).value}),(s,o)=>(p(),x("div",an,[w("pre",null,[F("    "),w("code",{class:"hljs",innerHTML:r(n)},null,8,on),F(`
    `)])]))}}),sn=I({__name:"xh-button",props:{type:{default:"default"},text:{type:Boolean}},setup(t){const e=t,a=j(()=>e.text?"":`xh-button-${e.type}`);return(n,s)=>(p(),x("button",{class:he(["xh-button",r(a)])},[me(n.$slots,"loading",{},void 0,!0),me(n.$slots,"icon",{},void 0,!0),me(n.$slots,"default",{},void 0,!0)],2))}});const ln=L(sn,[["__scopeId","data-v-dbf03c62"]]),$e=I({__name:"index",props:{type:{default:"default"}},setup(t){const e=t,a=["error","purple","cyan"],n=j(()=>a.includes(e.type));return(s,o)=>{const l=T("el-button");return r(n)?(p(),C(ln,{key:0,type:s.type},{default:A(()=>[me(s.$slots,"loading"),me(s.$slots,"icon"),me(s.$slots,"default")]),_:3},8,["type"])):(p(),C(l,{key:1,type:s.type},{default:A(()=>[me(s.$slots,"loading"),me(s.$slots,"icon"),me(s.$slots,"default")]),_:3},8,["type"]))}}}),sa=t=>(ve("data-v-f0d97d29"),t=t(),ge(),t),cn={class:"xh-icons-modal"},rn={class:"xh-icons"},un={class:"search-container"},dn=sa(()=>w("div",{class:"placeholder text-blueGray"}," 温馨提示：单击图标为选择，双击图标为复制 ",-1)),pn={class:"icon-list"},mn={class:"tools"},_n=sa(()=>w("div",{class:"title"}," 所有图标 ",-1)),fn={class:"options"},hn={class:"list"},vn=["onDblclick","onClick"],gn={class:"icon-title"},yn={class:"xh-action"},kn=I({__name:"modal",emits:["update:confirm","update:close"],setup(t,{emit:e}){const a=y([{title:"Element-Plus",type:"element",icons:Object.keys(st)},{title:"vicons/antd",type:"naiveui",icons:Object.keys(lt)}]),n=y(""),s=y("element"),o=y(""),l=y([]),i=f=>{l.value=[];const m=a.value.find(v=>v.type===f);m&&u(m.icons)};function u(f){let m=0;function v(){globalThis.requestIdleCallback(b=>{for(;b.timeRemaining()>0&&m<f.length;)l.value.push(f[m++]);m<f.length&&v()})}v()}const c=f=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(f).then(m=>{});else{const m=document.createElement("input");m.value=f,document.body.appendChild(m),m.select(),document.execCommand("Copy"),m.remove()}ue("复制成功")},d=f=>{o.value=f===o.value?"":f},_=()=>{e("update:confirm",{icon:o.value,type:s.value})},h=()=>{e("update:close")};return Pe(()=>{u(a.value[0].icons)}),(f,m)=>{const v=ee,b=T("el-button"),P=T("el-button-group"),g=T("el-input"),D=T("el-option"),B=T("el-select"),U=$e;return p(),x("div",cn,[w("div",rn,[w("div",un,[k(g,{modelValue:r(n),"onUpdate:modelValue":m[1]||(m[1]=$=>de(n)?n.value=$:null),placeholder:"图标名称"},{prepend:A(()=>[k(v,{icon:"Search",type:"element"})]),append:A(()=>[k(P,null,{default:A(()=>[k(b,{onClick:m[0]||(m[0]=$=>n.value="")},{default:A(()=>[F(" 重置 ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),dn]),w("div",pn,[w("div",mn,[_n,w("div",fn,[k(B,{modelValue:r(s),"onUpdate:modelValue":m[2]||(m[2]=$=>de(s)?s.value=$:null),onChange:i},{default:A(()=>[(p(!0),x(N,null,K(r(a),($,X)=>(p(),C(D,{key:X,label:$.title,value:$.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),w("div",hn,[(p(!0),x(N,null,K(r(l).filter($=>$.includes(r(n))),($,X)=>(p(),x("div",{key:X,class:he(["item",{active:$===r(o)}]),onDblclick:Y=>c($),onClick:Y=>d($)},[k(v,{icon:$,size:26,type:r(s),color:"#888"},null,8,["icon","type"]),w("div",gn,O($),1)],42,vn))),128))])])]),w("div",yn,[k(U,{type:"primary",class:"xh-group-button",onClick:_},{default:A(()=>[F(" 确定 ")]),_:1}),k(U,{type:"danger",class:"xh-group-button",onClick:h},{default:A(()=>[F(" 取消 ")]),_:1})])])}}});const xn=L(kn,[["__scopeId","data-v-f0d97d29"]]),re=(t,e,a)=>le({...a,showConfirmButton:!1,customClass:"xh-modal-mask",message:()=>Ue(t,e)}),Te=()=>{le.close()},bn={key:1},wn=I({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=()=>{re(xn,{"onUpdate:confirm":s=>{e("update:modelValue",s),le.close()},"onUpdate:close":()=>{le.close()}},{title:"图标库",closeOnClickModal:!1,customStyle:{width:"45%",height:"650px"}})},n=()=>{e("update:modelValue",""),ue("重置成功")};return(s,o)=>{var d;const l=ee,i=T("el-button"),u=T("el-button-group"),c=T("el-input");return p(),C(c,{value:((d=s.modelValue)==null?void 0:d.icon)||"",placeholder:"请选择图标",disabled:""},{prepend:A(()=>{var _,h,f;return[(_=s.modelValue)!=null&&_.icon?(p(),C(l,{key:0,icon:(h=s.modelValue)==null?void 0:h.icon,type:((f=s.modelValue)==null?void 0:f.type)||"",size:18},null,8,["icon","type"])):(p(),x("span",bn,"无"))]}),append:A(()=>[k(u,null,{default:A(()=>[k(i,{type:"primary",onClick:n},{default:A(()=>[F(" 重置图标 ")]),_:1}),k(i,{type:"danger",onClick:a},{default:A(()=>[F(" 选择图标 ")]),_:1})]),_:1})]),_:1},8,["value"])}}}),An=I({__name:"index",props:{modelValue:{},style:{default:{}}},setup(t){return(e,a)=>(p(),x("div",G(te(e.style)),O(e.modelValue),17))}}),Pn={};function Cn(t,e){return p(),x("div",null," 自定义输入框（未实现） ")}const Dn=L(Pn,[["render",Cn]]),In=["innerHTML"],$n=I({__name:"index",props:{text:{},icon:{default:""},style:{default:{color:"#666",padding:"5px 0 0 0",fontSize:"12px"}},iconSize:{default:16}},setup(t){return(e,a)=>{const n=ee;return p(),x("div",{class:"form-prompt",style:Ua(e.style)},[e.icon?(p(),C(n,{key:0,icon:e.icon,size:e.iconSize},null,8,["icon","size"])):V("",!0),w("span",{class:"text",innerHTML:e.text},null,8,In)],4)}}});const Bn=L($n,[["__scopeId","data-v-3e2f6421"]]),jn=I({__name:"index",props:{modelValue:{},file:{},ajaxParams:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,n=o=>{e("update:modelValue",o)},s=y(a.modelValue);return(o,l)=>(p(),C(r(_e),Q({file:o.file},{modelValue:r(s),ajaxParams:o.ajaxParams},{"onUpdate:modelValue":n}),null,16,["file"]))}}),En={};function Tn(t,e){return p(),x("div",null," 表格展示器 ")}const Rn=L(En,[["render",Tn]]),la=j(()=>t=>{const e=t.split(".").pop();return e?["png","jpg","jpeg","gif"].includes(e):!1}),ht=t=>(ve("data-v-d120635f"),t=t(),ge(),t),Vn={class:"category-container"},Sn={class:"item"},Un=ht(()=>w("div",{class:"title"}," 请输入分类名称 ",-1)),Ln={class:"item"},Mn=ht(()=>w("div",{class:"title"}," 请输入分类目录 ",-1)),On={class:"item"},qn=ht(()=>w("div",{class:"title"}," 请输入分类排序 ",-1)),Hn=I({__name:"category",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=y({...t.modelValue});return dt(()=>n,s=>{e("update:modelValue",n.value)},{immediate:!0}),(s,o)=>{const l=T("el-input");return p(),x("div",Vn,[w("div",Sn,[Un,k(l,{modelValue:r(n).title,"onUpdate:modelValue":o[0]||(o[0]=i=>r(n).title=i),placeholder:"请输入分类名称"},null,8,["modelValue"])]),w("div",Ln,[Mn,k(l,{modelValue:r(n).dir_name,"onUpdate:modelValue":o[1]||(o[1]=i=>r(n).dir_name=i),placeholder:"请输入分类目录"},null,8,["modelValue"])]),w("div",On,[qn,k(l,{modelValue:r(n).sort,"onUpdate:modelValue":o[2]||(o[2]=i=>r(n).sort=i),placeholder:"请输入分类排序"},null,8,["modelValue"])])])}}});const Vt=L(Hn,[["__scopeId","data-v-d120635f"]]);const zn={class:"bundle-name"},Fn=w("div",{class:"flex-1"}," 附件分类 ",-1),Nn=w("div",{class:"bundle-title"}," 附件管理器 ",-1),Xn={class:"categrory"},Wn=w("div",{class:"categrory-item-title"}," 全部数据 ",-1),Qn=["onClick","onDblclick"],Gn={class:"categrory-item-title"},Jn=["onClick"],Zn=["title","onClick"],Yn=["src"],Kn={class:"file-name"},es=w("div",{class:"flex-1"},null,-1),ts={key:3,class:"btn-group"},as={key:4,class:"btn-group"},os=I({__name:"modal",emits:["update:confirm"],setup(t,{emit:e}){var At;const a=ce(),n=qe(),s=De(),o=a.siteInfo,l=y(),i=y(),u=y([]),c=y([]),d=y({active:"",list:[]}),_=y([]),h=y(!1),f=y(3),m=y(!1),v=(At=o.uploadify_api)==null?void 0:At.upload,b=y({[mt]:n.value||""});s.value&&(b.value={...b.value,[_t]:s.value});let P=ft;{const{protocol:R,hostname:S}=window.location;P=`${R}//${S}`}const g=y({action:`${P}/${v}`,data:{cid:d.value.cid||""},headers:b.value,multiple:!0,withCredentials:!0,showFileList:!1}),D=()=>i.value.scrollHeight>i.value.clientHeight,B=y({page:1,limit:20}),U=()=>{var H,q;if(h.value)return;h.value=!0;const R=((H=o==null?void 0:o.uploadify_api)==null?void 0:H.index)||"",S={cid:((q=d.value)==null?void 0:q.cid)||"",page:B.value.page,limit:B.value.limit};Ae(R,S).then(M=>{var se;(((se=M==null?void 0:M.data)==null?void 0:se.data)||[]).forEach(fe=>{_.value.push(fe)}),B.value.page++,setTimeout(()=>{var fe,ke;!D()&&((fe=M==null?void 0:M.data)==null?void 0:fe.current_page)<((ke=M==null?void 0:M.data)==null?void 0:ke.last_page)&&U()})}).finally(()=>{h.value=!1})},$=()=>{B.value.page=1,B.value.limit=20,d.value.active="",d.value.moveCid=void 0,d.value.cid=void 0,_.value=[],u.value=[],c.value=[]},X=y(!1),Y=new IntersectionObserver(R=>{R[0].intersectionRatio<=0||U()}),oe=R=>{m.value?c.value.includes(R)?c.value.splice(c.value.indexOf(R),1):c.value.push(R):f.value===1?u.value[0]=R:u.value.includes(R)?u.value.splice(u.value.indexOf(R),1):(f.value===0||u.value.length<f.value)&&u.value.push(R)},pe=R=>{(R==null?void 0:R.code)===200&&($(),U(),W((R==null?void 0:R.msg)||"上传成功！","success"))},ze=R=>{console.error(R),W("上传失败","error")},Fe=()=>{var S;const R=((S=o==null?void 0:o.uploadify_cate)==null?void 0:S.index)||"";Ae(R).then(H=>{d.value.list=(H==null?void 0:H.data)||[]})},wt=R=>{var S;d.value.active!==R&&($(),d.value.active=R,d.value.cid=(S=d.value.list.find((H,q)=>q===R))==null?void 0:S.id,U())},_a=()=>{var H;const R=(H=o==null?void 0:o.uploadify_cate)==null?void 0:H.add;if(!R){W("请先配置分类添加接口","error");return}const S=y({sort:100});le({title:"添加分类",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"保存",message:()=>Ue(Vt,{modelValue:S.value,"onUpdate:modelValue":q=>{S.value=q}}),beforeClose:(q,M,ne)=>{if(q==="cancel"){ne();return}if(!S.value.title){W("请输入分类名称","error");return}if(!S.value.dir_name){W("请输入分类目录","error");return}if(!S.value.sort){W("请输入分类排序","error");return}M.confirmButtonLoading=!0,M.confirmButtonText="保存中...",Ee(R,S.value).then(se=>{W((se==null?void 0:se.msg)||"添加成功！","success"),$(),Fe(),U(),ne()}).catch(()=>{M.confirmButtonLoading=!1,M.confirmButtonText="保存"})}})},fa=R=>{var M;const S=(M=o==null?void 0:o.uploadify_cate)==null?void 0:M.edit;if(!S){W("请先配置分类修改接口","error");return}const H=d.value.list[R],q=y({...H});le({title:"添加分类",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"保存",message:()=>Ue(Vt,{modelValue:q.value,"onUpdate:modelValue":ne=>{q.value=ne}}),beforeClose:(ne,se,fe)=>{if(ne==="cancel"){fe();return}if(!q.value.title){W("请输入分类名称","error");return}if(!q.value.dir_name){W("请输入分类目录","error");return}if(!q.value.sort){W("请输入分类排序","error");return}se.confirmButtonLoading=!0,se.confirmButtonText="保存中...",Qe(`${S}?id=${H==null?void 0:H.id}`,q.value).then(ke=>{W((ke==null?void 0:ke.msg)||"添加成功！","success"),$(),Fe(),U(),fe()}).catch(()=>{se.confirmButtonLoading=!1,se.confirmButtonText="保存"})}})},ha=R=>{var q;const S=d.value.list[R],H=(q=o==null?void 0:o.uploadify_cate)==null?void 0:q.del;if(!H){W("请先配置分类删除接口","error");return}we("是否确认删除该分类？","温馨提示","error").then(()=>{const M={id:S==null?void 0:S.id};Ge(H,M).then(ne=>{W((ne==null?void 0:ne.msg)||"添加成功！","success"),$(),Fe(),U()})})},va=()=>{var H,q;if(!((H=d.value)!=null&&H.moveCid)){W("请选择需要移动到的分类","error");return}if(c.value.length<=0){W("请选择需要移动的文件","error");return}const R=(q=o==null?void 0:o.uploadify_api)==null?void 0:q.move;if(!R){W("请先配置文件移动接口","error");return}const S={cid:d.value.moveCid,ids:c.value.map(M=>M.id)};Ee(R,S).then(M=>{$(),U(),m.value=!1,W((M==null?void 0:M.msg)||"移动成功！","success")})},ga=()=>{var H;if(c.value.length<=0){W("请选择需要删除的文件","error");return}const R=(H=o==null?void 0:o.uploadify_api)==null?void 0:H.del;if(!R){W("请先配置文件删除接口","error");return}const S={ids:c.value.map(q=>q.id)};we("是否确认删除选中的文件？","温馨提示","error").then(()=>{Ge(R,S).then(q=>{$(),U(),m.value=!1,W((q==null?void 0:q.msg)||"删除成功！","success")})})},ya=()=>{m.value=!1,c.value=[]},ka=()=>{c.value.length===_.value.length?c.value=[]:c.value=[..._.value]},xa=()=>{if(u.value.length<=0){W("请选择文件","error");return}e("update:confirm",u.value),X.value=!1},ba=()=>{X.value=!0,Fe(),U(),La(()=>{l.value&&Y.observe(l.value)})};return Ht(()=>{l.value&&Y.unobserve(l.value)}),(R,S)=>{const H=ee,q=T("el-icon"),M=T("el-button"),ne=T("el-upload"),se=T("el-option"),fe=T("el-select"),ke=T("el-dialog");return p(),x(N,null,[me(R.$slots,"open",{open:ba}),k(ke,{modelValue:r(X),"onUpdate:modelValue":S[4]||(S[4]=z=>de(X)?X.value=z:null),width:"60%",class:"bundle-dialog",draggable:"","append-to-body":"","close-on-click-modal":!1,onClose:$},{header:A(()=>[w("div",zn,[Fn,k(q,{size:20,class:"pointer",onClick:_a},{default:A(()=>[k(H,{icon:"FolderAdd",type:"element"})]),_:1})]),Nn]),footer:A(()=>[k(ne,Q(r(g),{class:"mr-3","on-success":pe,"on-error":ze}),{default:A(()=>[k(M,{type:"success"},{default:A(()=>[F(" 上传 ")]),_:1})]),_:1},16),r(m)?(p(),C(M,{key:0,type:"danger",onClick:ya},{default:A(()=>[F(" 退出 ")]),_:1})):(p(),C(M,{key:1,onClick:S[1]||(S[1]=z=>m.value=!0)},{default:A(()=>[F(" 管理 ")]),_:1})),r(m)?(p(),C(M,{key:2,onClick:ka},{default:A(()=>[F(" 全选 ")]),_:1})):V("",!0),es,r(m)?(p(),x("div",ts,[k(fe,{modelValue:r(d).moveCid,"onUpdate:modelValue":S[2]||(S[2]=z=>r(d).moveCid=z),class:"mr-2"},{default:A(()=>[(p(!0),x(N,null,K(r(d).list,(z,xe)=>(p(),C(se,{key:xe,label:z.title,value:z.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),k(M,{type:"warning",disabled:r(c).length<=0,onClick:va},{default:A(()=>[F(" 移动 ")]),_:1},8,["disabled"]),k(M,{type:"danger",disabled:r(c).length<=0,onClick:ga},{default:A(()=>[F(" 删除("+O(r(c).length)+") ",1)]),_:1},8,["disabled"])])):(p(),x("div",as,[k(M,{onClick:S[3]||(S[3]=z=>X.value=!1)},{default:A(()=>[F(" 取消 ")]),_:1}),k(M,{type:"primary",disabled:r(u).length<=0,onClick:xa},{default:A(()=>[F(" 确认选择("+O(r(u).length)+") ",1)]),_:1},8,["disabled"])]))]),default:A(()=>[w("div",Xn,[w("div",{class:he(["categrory-item",{active:r(d).active===""}])},[w("div",{class:"categrory-item-left-title",onClick:S[0]||(S[0]=z=>wt(""))},[k(q,{color:"#FBAC15"},{default:A(()=>[k(H,{icon:"FolderOpened",type:"element"})]),_:1}),Wn])],2),(p(!0),x(N,null,K(r(d).list,(z,xe)=>(p(),x("div",{key:z,class:he(["categrory-item",{active:xe===r(d).active}])},[w("div",{class:"categrory-item-left-title",onClick:Ye=>wt(xe),onDblclick:Ye=>fa(xe)},[k(q,{color:"#FBAC15"},{default:A(()=>[k(H,{icon:"FolderOpened",type:"element"})]),_:1}),w("div",Gn,O((z==null?void 0:z.title)||""),1)],40,Qn),(z==null?void 0:z.is_system)==="10"?(p(),x("div",{key:0,class:"categrory-item-right-icon",onClick:Ye=>ha(xe)},[k(H,{icon:"Delete",class:"delete-icon",type:"element"})],8,Jn)):V("",!0)],2))),128))]),w("div",{ref_key:"bundleBodyRef",ref:i,class:"bundle-body"},[(p(!0),x(N,null,K(r(_),(z,xe)=>(p(),x("div",{key:xe,title:z.filename,class:he(["file-item",{active:!r(m)&&r(u).includes(z),"active-warning":r(m)&&r(c).includes(z)}]),onClick:Ye=>oe(z)},[r(la)(z.url)?(p(),x("img",{key:0,src:(z==null?void 0:z.url)||"",class:"file-thumb"},null,8,Yn)):(p(),C(q,{key:1,class:"file-thumb"},{default:A(()=>[k(H,{icon:"Document",size:40,type:"element"})]),_:1})),w("div",Kn,O((z==null?void 0:z.filename)||""),1)],10,Zn))),128)),w("div",{ref_key:"loadMoreRef",ref:l,class:"load-more"},null,512)],512)]),_:1},8,["modelValue"])],64)}}}),ns={class:"upload-container"},ss=["onClick"],ls=["onClick"],cs=I({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,n=o=>{const l=o.map(i=>i==null?void 0:i.url);e("update:modelValue",l)},s=o=>{const l=a.modelValue.filter((i,u)=>u!==o);e("update:modelValue",l)};return Pe(()=>{if(typeof a.modelValue=="string"){const o=a.modelValue===""?"":[a.modelValue];e("update:modelValue",o)}}),(o,l)=>{const i=T("el-image"),u=ee,c=T("el-icon");return p(),x("div",null,[k(os,{"onUpdate:confirm":n},{open:A(({open:d})=>[w("div",ns,[(p(!0),x(N,null,K(o.modelValue,(_,h)=>(p(),x("div",{key:h,class:"item"},[r(la)(_)?(p(),C(i,{key:0,class:"image","preview-src-list":o.modelValue,"z-index":999,src:_,infinite:!1},null,8,["preview-src-list","src"])):(p(),C(c,{key:1,class:"file-thumb"},{default:A(()=>[k(u,{icon:"Document",size:28,type:"element"})]),_:1})),w("div",{class:"del-file",onClick:f=>s(h)},[k(u,{icon:"Delete",size:15,type:"element"})],8,ss)]))),128)),w("div",{class:"item",onClick:d},[k(u,{icon:"PlusOutlined",size:24,color:"#888"})],8,ls)])]),_:1})])}}});const rs=L(cs,[["__scopeId","data-v-8611f2b3"]]);class is{constructor(){Ne(this,"title","");Ne(this,"iconSvg","");Ne(this,"tag","");this.title="My menu title",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M960 896H64A64 64 0 0 1 0 832v-341.321143c0-35.364571 28.672-64 64-64h896a64 64 0 0 1 64 64V832A64 64 0 0 1 960 896z m-21.321143-85.321143V512H85.321143V810.678857h853.357714zM469.321143 341.321143a42.678857 42.678857 0 0 0 5.010286-85.028572l-5.010286-0.292571h-384v-298.678857h384c21.650286 0 39.862857-16.164571 42.386286-37.668572l0.292571-4.973714c0-21.650286-16.201143-39.862857-37.668571-42.386286l-5.010286-0.292571H64a64 64 0 0 0-63.707429 57.856L0-64v341.321143a64 64 0 0 0 57.856 63.707428l6.144 0.292572h405.321143z m234.678857-256a64 64 0 1 1 128 0 64 64 0 0 1-128 0z m184.978286 213.357714h-241.956572l-119.954285-213.357714L647.021714-128h241.956572l119.954285 213.321143-119.954285 213.357714z m-49.956572-85.357714l72.009143-128-72.045714-128h-142.006857l-72.045715 128 71.972572 128h142.116571z m-604.342857 512h42.642286c14.262857 0 21.357714-7.094857 21.357714-21.321143v-85.321143c0-14.262857-7.131429-21.357714-21.357714-21.357714H234.678857c-14.262857 0-21.357714 7.131429-21.357714 21.357714V704c0 14.226286 7.131429 21.321143 21.357714 21.321143z m0-554.642286h42.642286c14.262857 0 21.357714-7.131429 21.357714-21.357714v-85.321143c0-14.226286-7.131429-21.321143-21.357714-21.321143H234.678857c-14.262857 0-21.357714 7.094857-21.357714 21.321143v85.321143c0 14.262857 7.131429 21.357714 21.357714 21.357714z m170.642286 554.642286h42.678857c14.226286 0 21.321143-7.094857 21.321143-21.321143v-85.321143c0-14.262857-7.094857-21.357714-21.321143-21.357714h-42.678857c-14.226286 0-21.321143 7.131429-21.321143 21.357714V704c0 14.226286 7.094857 21.321143 21.321143 21.321143z m0-554.642286h42.678857c14.226286 0 21.321143-7.131429 21.321143-21.357714v-85.321143c0-14.226286-7.094857-21.321143-21.321143-21.321143h-42.678857c-14.226286 0-21.321143 7.094857-21.321143 21.321143v85.321143c0 14.262857 7.094857 21.357714 21.321143 21.357714z"></path></svg>',this.tag="button"}getValue(e){return" hello "}isActive(e){return!1}isDisabled(e){return!1}exec(e,a){this.isDisabled(e)||e.insertText(a)}}const us={class:"editor-container"},ds=I({__name:"index",props:{modelValue:{},toolbarConfig:{},editorConfig:{},editHeight:{default:300},isUploadify:{type:Boolean,default:!0},uploadifyLimit:{},uploadifyExt:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t;Re(d=>({ea3b2e2a:r(c)}));const n=Wt(),s=y(a.modelValue),o={key:"xhUploadify",factory(){return new is}};Ma.registerMenu(o);const l=j(()=>({}));Oa(()=>{const d=n.value;d!=null&&d.destroy()});const i=d=>{n.value=d},u=d=>{const _=d.getHtml();e("update:modelValue",_)},c=j(()=>`${a.editHeight}px`);return(d,_)=>(p(),x("div",us,[k(r(qa),Q({class:"toolbar",editor:r(n)},r(l)),null,16,["editor"]),k(r(Ha),{modelValue:r(s),"onUpdate:modelValue":_[0]||(_[0]=h=>de(s)?s.value=h:null),"default-config":d.editorConfig,class:"editor-content",onOnCreated:i,onOnChange:u},null,8,["modelValue","default-config"])]))}});const St=L(ds,[["__scopeId","data-v-9a4165d5"]]),Ut={amap:Wo,bmap:Jo,icons:wn,qmap:Ko,remote:jn,uploadify:rs,info:An,HCode:nn,PromptTip:Bn,wangEditor:St,tinymceEditor:St,XInput:Dn,XTable:Rn},ps=t=>{Object.keys(Ut).forEach(e=>{t.component(e,Ut[e])})},vt=I({__name:"index",props:{api:{default:""},method:{default:"GET"},ajaxParams:{},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{expose:e,emit:a}){const n=t,s=ye(),o=Qt(),l=y({}),i=y({api:"",method:"POST"}),u=y({}),c=y(),d=y(Ho),_=y("");Ct.use(ps);const h=Ct.$form(),f=()=>{const b=y({method:n.method,params:{...n.ajaxParams},data:{...n.ajaxParams}});n.method==="GET"?delete b.value.data:delete b.value.params,a("update:init"),Z(n.api,b.value).then(P=>{const{data:g}=P;if(!(g!=null&&g.http))return E("提交接口获取失败"),Promise.reject(new Error("提交接口获取失败"));if(!(g!=null&&g.formRule))return E("表单规则获取失败"),Promise.reject(new Error("表单规则获取失败"));i.value=g.http,c.value=Fo(g.formRule),d.value={...d.value,...g.config},_.value=(g==null?void 0:g.redirect)??"",a("update:init-ok",{response:g,exposed:o.exposed})}).catch(P=>{a("update:init-error",P)})},m=()=>{var P,g,D;const b=y({method:((P=i.value)==null?void 0:P.method)??"GET",params:{...n.ajaxParams},data:{}});((g=i.value)==null?void 0:g.method)==="GET"?b.value.params={...b.value.params,...u.value}:b.value.data={...b.value.data,...u.value},a("update:submit",{api:i.value.api,queryParams:b}),Z(((D=i.value)==null?void 0:D.api)??"",b.value).then(B=>{var U;(U=s.query)!=null&&U.isBack&&!n.isModal&&!_.value?We():_.value&&ie(_.value),a("update:submit-ok",B),ue((B==null?void 0:B.msg)??"操作失败")}).catch(B=>{a("update:submit-error",B)})},v=()=>{a("update:rest-ok")};return Pe(()=>f()),ea(()=>m()),e({init:f,submit:m,reset:v}),(b,P)=>(p(),C(r(h),{api:r(l),"onUpdate:api":P[0]||(P[0]=g=>de(l)?l.value=g:null),modelValue:r(u),"onUpdate:modelValue":P[1]||(P[1]=g=>de(u)?u.value=g:null),modelModifiers:{lazy:!0},rule:r(c),option:r(d),title:""},null,8,["api","modelValue","rule","option"]))}}),ms={class:"xh-modal-container"},_s=I({__name:"info-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},setup(t){const e=y(),a=y({submitBtn:{},resetBtn:{}}),n=s=>{var l;const o=(l=s==null?void 0:s.response)==null?void 0:l.extraConfig;a.value=o};return(s,o)=>(p(),x("div",ms,[k(r(vt),{ref_key:"formRef",ref:e,class:"xh-form-create",api:s.api,method:s.method,"ajax-params":s.ajaxParams,"is-modal":!0,"onUpdate:initOk":n},null,8,["api","method","ajax-params"])]))}});const gt=L(_s,[["__scopeId","data-v-be00eddc"]]),fs={class:"xh-modal-container"},hs={class:"xh-modal-content"},vs=I({__name:"form-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{emit:e}){const a=y(),n=y(),s=y({submitBtn:{},resetBtn:{}}),o=()=>{n.value.setDisabled(!1)},l=_=>{var f;const h=(f=_==null?void 0:_.response)==null?void 0:f.extraConfig;h.resetBtn.content="关闭窗口",h.resetBtn.type="error",s.value=h},i=()=>{a.value.submit()},u=()=>{o(),e("update:submit-ok")},c=()=>{o(),e("update:submit-error")},d=()=>{a.value.reset(),e("update:rest-ok")};return(_,h)=>(p(),x("div",fs,[w("div",hs,[k(r(vt),{ref_key:"formRef",ref:a,class:"xh-form-create",api:_.api,method:_.method,"ajax-params":_.ajaxParams,"is-modal":!0,"onUpdate:initOk":l,"onUpdate:submitOk":u,"onUpdate:submitError":c,"onUpdate:restOk":o,"onUpdate:initError":o},null,8,["api","method","ajax-params"])]),k(r(ca),{ref_key:"buttonRef",ref:n,"extra-config":r(s),"onUpdate:submit":i,"onUpdate:rest":d},null,8,["extra-config"])]))}});const yt=L(vs,[["__scopeId","data-v-cea8d9fb"]]),gs=I({__name:"buttons",props:{extraConfig:{}},emits:["update:init","update:submit","update:rest"],setup(t,{expose:e,emit:a}){const n=Qt(),s=y(!1),o=u=>{s.value=u},l=()=>{o(!0),a("update:submit")},i=()=>{o(!0),a("update:rest")};return Pe(()=>{a("update:init",{exposed:n.exposed})}),e({setDisabled:o}),(u,c)=>{var h;const d=$e,_=T("el-space");return(h=u.extraConfig.submitBtn)!=null&&h.show?(p(),C(_,{key:0,alignment:"center",class:"footer-buttons",size:[30,0]},{default:A(()=>{var f,m,v,b;return[(f=u.extraConfig.submitBtn)!=null&&f.show?(p(),C(d,Q({key:0,type:"primary",class:"xh-extra-button"},((m=u.extraConfig)==null?void 0:m.submitBtn)??{},{loading:r(s),disabled:r(s),onClick:l}),{default:A(()=>{var P;return[F(O(r(s)?"请求中...":((P=u.extraConfig.submitBtn)==null?void 0:P.content)??"提交"),1)]}),_:1},16,["loading","disabled"])):V("",!0),(v=u.extraConfig.resetBtn)!=null&&v.show?(p(),C(d,Q({key:1,type:"warning",class:"xh-extra-button"},((b=u.extraConfig)==null?void 0:b.resetBtn)??{},{disabled:r(s),onClick:i}),{default:A(()=>{var P;return[F(O(((P=u.extraConfig.resetBtn)==null?void 0:P.content)??"重置"),1)]}),_:1},16,["disabled"])):V("",!0)]}),_:1})):V("",!0)}}});const ca=L(gs,[["__scopeId","data-v-c3072cde"]]),ys=(t,e,a,n,s)=>{var _,h;a==null||a.xGrid;const o=a==null?void 0:a.form,l=a==null?void 0:a.page,i=a==null?void 0:a.sort,u=a==null?void 0:a.filters;a!=null&&a.code&&((_=n.screenConfig)!=null&&_.api)&&(t=(h=n.screenConfig)==null?void 0:h.api);const c=J.currentRoute.value,d=y({method:e,params:{page:l.currentPage??1,limit:l.pageSize??20,...s??{},...o,...(c==null?void 0:c.query)??{}}});return JSON.stringify(i)!=="{}"&&d.value.params&&(d.value.params={...d.value.params,field:i.field,order:i.order}),u.length>0&&d.value.params&&u.forEach(({field:f,values:m})=>{d.value.params={...d.value.params,[f]:m.join(",")}}),new Promise((f,m)=>{Z(t,d.value).then(v=>{f(v)}).catch(v=>{m(v)})})},ks=(t,e,a)=>{Z(a.file,{responseType:"blob"}).then(n=>{za.saveFile({filename:t,type:e,content:n.data})})},xs=(t,e,a)=>new Promise((n,s)=>{var i;if(!((i=e.exportConfig)!=null&&i.api))return E("请设置请求API"),Promise.reject(new Error("请设置请求API"));const o=a==null?void 0:a.getProxyInfo(),l={format:t.type??"xlsx",filename:t.filename??"导出文件",sheetName:t.sheetName??"",isHeader:t.isHeader??!1,original:t.original??!1,mode:t.mode??"all",pager:o?o.pager:null,ids:t.mode==="selected"?t.data.map(u=>u.id):[],fields:t.columns.map(u=>({field:u.field,title:u.title}))};return new Promise(u=>{var _;const c={method:"POST",data:{...l}},d=((_=e.exportConfig)==null?void 0:_.api)??"";Z(d,c).then(h=>{const{data:f}=h;if(!(f!=null&&f.file))return E("导出数据失败，缺少[file]地址"),Promise.reject(new Error("导出数据失败，缺少导出地址"));ks(l.filename,l.format,f),u(h)})})}),bs=(t,e,a)=>{const n=new FormData;return n.append("file",t.file),new Promise(s=>{var i;const o=((i=e.importConfig)==null?void 0:i.api)??"";Z(o,{method:"POST",data:n}).then(u=>{const{msg:c}=u;ue(c||"操作成功"),a==null||a.commitProxy("query"),s(u)}).catch(u=>{console.error("导入失败",u)})})},ws=(t,e,a)=>new Promise(n=>{const s=new FileReader;s.onload=o=>{const l=o.target?o.target.result:"",i=Fa(l,{type:"binary"}),u=Na.sheet_to_json(i.Sheets.Sheet1);t.$table.loadData(u),ue("已将数据导入至本地表格"),n(u)},s.readAsBinaryString(t.file)}),As=(t,e,a)=>{var n,s;return(n=e.importConfig)!=null&&n.api&&((s=e.importConfig)!=null&&s.isRemote)?bs(t,e,a):ws(t)},Ps=(t,e,a,n,s)=>{const o={...a.toolbarConfig,slots:{buttons:"topButtonList"}};return a.toolbarConfig=o,o!=null&&o.import&&(a.importConfig={...a.importConfig,remote:!0,importMethod:l=>As(l,a,s)}),o!=null&&o.export&&(a.exportConfig={...a.exportConfig,remote:!0,exportMethod:l=>xs(l,a,s)}),a.proxyConfig={...a.proxyConfig,ajax:{query:l=>ys(t,e,l,a,n)}},a},ae=(t,e)=>{const a=t.field;let n=e[a];if(a.includes(".")){const s=a.split(".");let o=e;s.forEach(l=>{o=o[l]}),n=o}return n},Ve=(t,e,a,n=!0)=>{if(!t){E("请设置请求API接口"),a==null||a.commitProxy("query");return}Qe(t,e).then(s=>{a==null||a.commitProxy("query"),n&&ue((s==null?void 0:s.msg)??"操作成功")})},Cs=(t,e,a,n)=>{var i,u;const s=((i=a==null?void 0:a.rowConfig)==null?void 0:i.keyField)??"id",o=e[t==null?void 0:t.field],l={[s]:e[s],keyField:s,field:t==null?void 0:t.field,value:o};Ve((u=t==null?void 0:t.params)==null?void 0:u.api,l,n)},Ds=(t,e)=>{let a={};for(const n in t){const s=t[n]||"id";a={...a,[s]:e[n]||""}}return a},He=(t,e,a)=>{var l,i;const n=J.currentRoute.value;let o={...((l=t==null?void 0:t.pageData)==null?void 0:l.queryParams)??{},...n.query};return(i=t.pageData)!=null&&i.isBack&&(o={...o,isBack:1}),o},Is=(t,e,a,n,s)=>{var c,d,_,h,f;const o=J.currentRoute.value,l=((c=t==null?void 0:t.pageData)==null?void 0:c.queryParams)??{},i=y({...o.query}),u=y({...i.value});if(l instanceof Object&&(u.value={...u.value,...l}),a&&!Le(JSON.stringify((d=t==null?void 0:t.pageData)==null?void 0:d.aliasParams),["[]","{}"]))u.value={...u.value,...Ds((_=t==null?void 0:t.pageData)==null?void 0:_.aliasParams,a)};else{const m=((h=n==null?void 0:n.rowConfig)==null?void 0:h.keyField)??"id";if(!a[m]){E("当前数据错误");return}const v=a[m];u.value={...u.value,[m]:v}}return(f=t.pageData)!=null&&f.isBack&&(u.value={...u.value,isBack:1}),u.value},$s=(t,e,a)=>{var s,o;if(!((s=t==null?void 0:t.pageData)!=null&&s.path)){E("缺少跳转地址");return}const n=He(t);J.push({path:(o=t==null?void 0:t.pageData)==null?void 0:o.path,query:{...n}})},Bs=(t,e,a,n)=>{var s,o;if(!((s=t==null?void 0:t.pageData)!=null&&s.path)){E("缺少跳转地址");return}J.push({path:(o=t==null?void 0:t.pageData)==null?void 0:o.path,query:{...e}})},js=(t,e,a)=>{var u,c,d;const n=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",s=((c=t.pageData)==null?void 0:c.method)??"GET";let o=((d=t.pageData)==null?void 0:d.path)??"";const l=He(t),i={method:s,params:{},data:{}};if(s==="GET"?i.params=l:i.data=l,o){window.open(o);return}Z(n,i).then(_=>{const{data:h}=_;if(!(h!=null&&h.url)){E("缺少目标跳转地址");return}o=h.url,Oe(o)||(o=`http://${location.host}/${o}`),window.open(o)})},Es=(t,e,a,n)=>{var d,_,h,f,m;const s=((d=t==null?void 0:t.pageData)==null?void 0:d.api)??"",o=((_=t.pageData)==null?void 0:_.method)??"GET";let l=((h=e.checkboxConfig)==null?void 0:h.labelField)??"";l||(l=((f=e==null?void 0:e.rowConfig)==null?void 0:f.keyField)??"id");let i=((m=t.pageData)==null?void 0:m.path)??"";const u=He(t),c={method:o,params:{},data:{}};if(o==="GET"?c.params={...u,[l]:a}:c.data={...u,[l]:a},i){window.open(i);return}Z(s,c).then(v=>{const{data:b}=v;if(!(b!=null&&b.url)){E("缺少目标跳转地址");return}i=b.url,Oe(i)||(i=`http://${location.host}/${i}`),window.open(i)})},Ts=(t,e,a,n)=>{var u,c,d;const s=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",o=((c=t.pageData)==null?void 0:c.method)??"GET";let l=((d=t.pageData)==null?void 0:d.path)??"";const i=y({method:o,params:{...e},data:{...e}});if(o==="GET"?delete i.value.data:delete i.value.params,l){window.open(l);return}Z(s,i.value).then(_=>{const{data:h}=_;if(!(h!=null&&h.url)){E("缺少目标跳转地址");return}l=h.url,Oe(l)||(l=`http://${location.host}/${l}`),window.open(l)})},Rs=(t,e,a)=>{var o,l,i,u;if(!(((o=t.message)==null?void 0:o.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}const s={api:((l=t.pageData)==null?void 0:l.api)||"",method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{},"onUpdate:submit-ok":()=>{Te(),a==null||a.commitProxy("reload")},"onUpdate:rest-ok":()=>{Te(),a==null||a.commitProxy("reload")}};re(yt,s,{...t.message,beforeClose:(c,d,_)=>{_(),a==null||a.commitProxy("reload")}})},Vs=(t,e,a,n)=>{var i,u,c,d,_,h,f;if(!(((i=t.message)==null?void 0:i.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}let o=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";o||(o=((c=e==null?void 0:e.rowConfig)==null?void 0:c.keyField)??"id");const l=y({api:(d=t.pageData)==null?void 0:d.api,method:((_=t.pageData)==null?void 0:_.method)||"GET",ajaxParams:{[o]:a},"onUpdate:submit-ok":()=>{Te(),n==null||n.commitProxy("reload")},"onUpdate:rest-ok":()=>{Te(),n==null||n.commitProxy("reload")}});((h=t.pageData)==null?void 0:h.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(f=t.pageData)==null?void 0:f.queryParams}),re(yt,l.value,{...t.message,beforeClose:(m,v,b)=>{b(),n==null||n.commitProxy("reload")}})},Ss=(t,e,a,n)=>{var i,u,c,d,_;if(!(((i=t.message)==null?void 0:i.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}const o=y({api:((u=t.pageData)==null?void 0:u.api)||"",method:((c=t.pageData)==null?void 0:c.method)||"GET",ajaxParams:{...e},"onUpdate:submit-ok":()=>{Te(),n==null||n.commitProxy("reload")},"onUpdate:rest-ok":()=>{Te(),n==null||n.commitProxy("reload")}}),l=((d=t.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(o.value.ajaxParams={...o.value.ajaxParams,...l}),(_=o.value.ajaxParams)!=null&&_.isBack&&delete o.value.ajaxParams.isBack,re(yt,o.value,{...t.message,beforeClose:(h,f,m)=>{m(),n==null||n.commitProxy("reload")}})},Us=(t,e,a)=>{var d,_,h,f,m;const n=(d=t.pageData)==null?void 0:d.api,s=((_=t.pageData)==null?void 0:_.method)??"GET",o=He(t);o!=null&&o.isBack&&delete o.isBack;const l=y({method:s,params:{...o},data:{...o}});s==="GET"?delete l.value.data:delete l.value.params;const i=((h=t.message)==null?void 0:h.content)??"",u=((f=t.message)==null?void 0:f.title)??"",c=((m=t.message)==null?void 0:m.type)??"";if(!n){E("接口地址不存在");return}we(i,u,c).then(()=>{Z(n,l.value).then(v=>{ue((v==null?void 0:v.msg)??"操作成功"),a==null||a.commitProxy("reload")})})},Ls=(t,e,a,n)=>{var h,f,m,v,b,P,g;const s=(h=t.pageData)==null?void 0:h.api,o=((f=t.pageData)==null?void 0:f.method)??"GET",l=He(t);l!=null&&l.isBack&&delete l.isBack;let i=((m=e.checkboxConfig)==null?void 0:m.labelField)??"";i||(i=((v=e==null?void 0:e.rowConfig)==null?void 0:v.keyField)??"id");const u=y({method:o,params:{...l,[i]:a},data:{...l,[i]:a}});o==="GET"?delete u.value.data:delete u.value.params;const c=((b=t.message)==null?void 0:b.content)??"",d=((P=t.message)==null?void 0:P.title)??"",_=((g=t.message)==null?void 0:g.type)??"";if(!s){E("接口地址不存在");return}we(c,d,_).then(()=>{Z(s,u.value).then(D=>{ue((D==null?void 0:D.msg)??"操作成功"),n==null||n.commitProxy("reload")})})},Ms=(t,e,a,n)=>{var _,h,f,m,v,b,P;const s=(_=t.pageData)==null?void 0:_.api,o=((h=t.pageData)==null?void 0:h.method)??"GET";let l=((f=a.checkboxConfig)==null?void 0:f.labelField)??"";l||(l=((m=a==null?void 0:a.rowConfig)==null?void 0:m.keyField)??"id");const i=y({method:o,params:{...e},data:{...e}});o==="GET"?delete i.value.data:delete i.value.params;const u=((v=t.message)==null?void 0:v.content)??"",c=((b=t.message)==null?void 0:b.title)??"",d=((P=t.message)==null?void 0:P.type)??"";if(!s){E("接口地址不存在");return}we(u,c,d).then(()=>{Z(s,i.value).then(g=>{ue((g==null?void 0:g.msg)??"操作成功"),n==null||n.commitProxy("reload")})})},Os=(t,e,a)=>{var o,l,i;if(!(((o=t.message)==null?void 0:o.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.path){E("请提供远程组件地址");return}const s={file:((l=t.pageData)==null?void 0:l.path)||"",ajaxParams:((i=t.pageData)==null?void 0:i.queryParams)||{},"onUpdate:close":()=>{le.close(),a==null||a.commitProxy("reload")}};re(bt,s,{...t.message,beforeClose:(u,c,d)=>{d(),a==null||a.commitProxy("reload")}})},qs=(t,e,a,n)=>{var i,u,c,d,_,h;if(!(((i=t.message)==null?void 0:i.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.path){E("请提供远程组件地址");return}let o=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";o||(o=((c=e==null?void 0:e.rowConfig)==null?void 0:c.keyField)??"id");const l=y({file:(d=t.pageData)==null?void 0:d.path,ajaxParams:{[o]:a},"onUpdate:close":()=>{le.close(),n==null||n.commitProxy("reload")}});((_=t.pageData)==null?void 0:_.queryParams)instanceof Object&&(l.value.ajaxParams={...(h=t.pageData)==null?void 0:h.queryParams}),re(bt,l.value,{...t.message,beforeClose:(f,m,v)=>{v(),n==null||n.commitProxy("reload")}})},Hs=(t,e,a,n)=>{var l,i;if(!(((l=t.message)==null?void 0:l.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.path){E("请提供远程组件地址");return}const o=y({file:(i=t.pageData)==null?void 0:i.path,ajaxParams:e,"onUpdate:close":()=>{le.close(),n==null||n.commitProxy("reload")}});re(bt,o.value,{...t.message,beforeClose:(u,c,d)=>{d(),n==null||n.commitProxy("reload")}})},zs=(t,e,a)=>{var o,l,i,u;if(!(((o=t.message)==null?void 0:o.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供信息模态框接口");return}const s={api:((l=t.pageData)==null?void 0:l.api)||"",method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};re(gt,s,{...t.message,beforeClose:(c,d,_)=>{_(),a==null||a.commitProxy("reload")}})},Fs=(t,e,a,n)=>{var u,c,d,_,h,f;if(!(((u=t.message)==null?void 0:u.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}let o=((c=e.checkboxConfig)==null?void 0:c.labelField)??"";o||(o=((d=e==null?void 0:e.rowConfig)==null?void 0:d.keyField)??"id");const l=y({api:(_=t.pageData)==null?void 0:_.api,method:((h=t.pageData)==null?void 0:h.method)||"GET",ajaxParams:{[o]:a}}),i=((f=t==null?void 0:t.pageData)==null?void 0:f.queryParams)??"";i instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...i}),re(gt,l.value,{...t.message,beforeClose:(m,v,b)=>{b(),n==null||n.commitProxy("reload")}})},Ns=(t,e,a,n)=>{var i,u,c,d,_;if(!(((i=t.message)==null?void 0:i.title)||"")){E("信息模态框标题不能为空");return}if(!t.pageData.api){E("请提供信息模态框接口");return}const o=y({api:((u=t.pageData)==null?void 0:u.api)||"",method:((c=t.pageData)==null?void 0:c.method)||"GET",ajaxParams:{...e}}),l=((d=t.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(o.value.ajaxParams={...o.value.ajaxParams,...l}),(_=o.value.ajaxParams)!=null&&_.isBack&&delete o.value.ajaxParams.isBack,re(gt,o.value,{...t.message,beforeClose:(h,f,m)=>{m(),n==null||n.commitProxy("reload")}})},Xs=(t,e,a)=>{var o,l,i,u;if(!(((o=t.message)==null?void 0:o.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供表格模态框接口");return}const s={api:((l=t.pageData)==null?void 0:l.api)||"",method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};re(xt,s,{...t.message,beforeClose:(c,d,_)=>{_(),a==null||a.commitProxy("reload")}})},Ws=(t,e,a,n)=>{var i,u,c,d,_,h,f;if(!(((i=t.message)==null?void 0:i.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}let o=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";o||(o=((c=e==null?void 0:e.rowConfig)==null?void 0:c.keyField)??"id");const l=y({api:(d=t.pageData)==null?void 0:d.api,method:((_=t.pageData)==null?void 0:_.method)||"GET",ajaxParams:{[o]:a}});((h=t.pageData)==null?void 0:h.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(f=t.pageData)==null?void 0:f.queryParams}),re(xt,l.value,{...t.message,beforeClose:(m,v,b)=>{b(),n==null||n.commitProxy("reload")}})},Qs=(t,e,a,n)=>{var i,u,c,d;if(!(((i=t.message)==null?void 0:i.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}const o=y({api:(u=t.pageData)==null?void 0:u.api,method:((c=t.pageData)==null?void 0:c.method)||"GET",ajaxParams:{...e}}),l=((d=t==null?void 0:t.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(o.value.ajaxParams={...o.value.ajaxParams,...l}),re(xt,o.value,{...t.message,beforeClose:(_,h,f)=>{f(),n==null||n.commitProxy("reload")}})},Gs=(t,e,a,n)=>{},Js=(t,e,a)=>{var n;switch((n=e.pageData)==null?void 0:n.type){case"page":$s(e);break;case"link":js(e);break;case"down":break;case"confirm":Us(e,t,a);break;case"modal":Rs(e,t,a);break;case"info":zs(e,t,a);break;case"table":Xs(e,t,a);break;case"remote":Os(e,t,a);break;default:E("按钮类型错误");break}},Zs=(t,e,a)=>{var i,u,c,d;const n=(i=t.columns)==null?void 0:i.filter(_=>_.type==="checkbox");if(!(n!=null&&n.length)){E("请先开启批量操作");return}const s=(a==null?void 0:a.getCheckboxRecords())??[];if(s.length<=0){E("请选择数据");return}let o=((u=t.checkboxConfig)==null?void 0:u.labelField)??"";o||(o=((c=t==null?void 0:t.rowConfig)==null?void 0:c.keyField)??"id");const l=s.map(_=>_[o]);switch((d=e.pageData)==null?void 0:d.type){case"link":Es(e,t,l);break;case"down":break;case"confirm":Ls(e,t,l,a);break;case"remote":qs(e,t,l,a);break;case"modal":Vs(e,t,l,a);break;case"info":Fs(e,t,l,a);break;case"table":Ws(e,t,l,a);break;default:E("按钮类型错误");break}},Lt=(t,e,a,n,s)=>{var i,u;if(!n){E("行参数出错");return}const o=y({}),l=((i=e.pageData)==null?void 0:i.queryParams)??"";switch(l instanceof Object&&(o.value={...l}),o.value={...o.value,...Is(e,a,n,t)},(u=e.pageData)==null?void 0:u.type){case"page":Bs(e,o.value);break;case"link":Ts(e,o.value);break;case"down":Gs(e,o.value);break;case"confirm":Ms(e,o.value,t,s);break;case"modal":Ss(e,o.value,t,s);break;case"info":Ns(e,o.value,t,s);break;case"table":Qs(e,o.value,t,s);break;case"remote":Hs(e,o.value,t,s);break;default:E("按钮类型错误");break}};const Ys=()=>{const t=Ie(),e=Me(),a=(t==null?void 0:t.routeList)??[],n=[];for(const s of a){const o=`${e}${s.path}`;n.push(o)}return n},kt=t=>{const e=Ys();return Le(t,e)},Ks={class:"button-group"},el={class:"pr-1"},tl={class:"no-group-buttons"},al=I({__name:"index",props:{xGrid:{},column:{},rightButtonList:{},gridConfig:{},row:{}},setup(t){var f;const e=t,a=j(()=>{var m;return((m=e.column.params)==null?void 0:m.buttonGroupIcon)??"Operation"}),n=j(()=>{var m;return((m=e.column.params)==null?void 0:m.buttonGroupIconType)??"element"}),s={type:"primary",size:"small"},o=y(((f=e.column.params)==null?void 0:f.buttonStyle)??s),l=j(()=>e.rightButtonList.filter(m=>{var v,b;return((v=m.pageData)==null?void 0:v.group)||((b=e.column.params)==null?void 0:b.group)})),i=j(()=>e.rightButtonList.filter(m=>{var v;return!((v=m.pageData)!=null&&v.group)})),u=j(()=>{var m;return((m=e.column.params)==null?void 0:m.groupText)||"更多"}),c=j(()=>m=>{var B,U,$,X,Y,oe,pe;const v=((B=m.pageData)==null?void 0:B.api)??"";if(!kt(v))return!1;const b=(($=(U=m==null?void 0:m.pageData)==null?void 0:U.params)==null?void 0:$.where)??"",P=(Y=(X=m==null?void 0:m.pageData)==null?void 0:X.params)==null?void 0:Y.field,g=(pe=(oe=m==null?void 0:m.pageData)==null?void 0:oe.params)==null?void 0:pe.value;if(P===void 0&&g===void 0)return!0;if(P===void 0||P===""||P&&(g===void 0||g===""))return!1;const D=e.row[P];switch(b){case"!=":return g!==D;case"in":return g instanceof Array&&Le(D,g);case"notIn":return g instanceof Array&&!Le(D,g);default:return g===D}}),d=j(()=>m=>{const v={...m};return v!=null&&v.icon&&delete v.icon,v}),_=m=>{Lt(e.gridConfig,m,e.column,e.row,e.xGrid)},h=m=>{Lt(e.gridConfig,m,e.column,e.row,e.xGrid)};return(m,v)=>{const b=ee,P=$e,g=T("el-dropdown-item"),D=T("el-dropdown-menu"),B=T("el-dropdown"),U=T("el-button");return p(),x("div",Ks,[r(l).length?(p(),C(B,{key:0,onCommand:_},{dropdown:A(()=>[k(D,null,{default:A(()=>[(p(!0),x(N,null,K(r(l),($,X)=>Dt((p(),C(g,{key:X,command:$},{default:A(()=>{var Y,oe,pe;return[(Y=$==null?void 0:$.button)!=null&&Y.icon?(p(),C(b,{key:0,icon:(oe=$==null?void 0:$.button)==null?void 0:oe.icon,type:(pe=$==null?void 0:$.button)==null?void 0:pe.iconType},null,8,["icon","type"])):V("",!0),w("span",null,O($.title),1)]}),_:2},1032,["command"])),[[It,r(c)($)]])),128))]),_:1})]),default:A(()=>[k(P,Q({type:"danger",class:"mr-2"},r(o)),{default:A(()=>[w("span",el,O(r(u)),1),r(a)?(p(),C(b,{key:0,icon:r(a),type:r(n)},null,8,["icon","type"])):(p(),C(b,{key:1,icon:"ArrowDown",type:"element"}))]),_:1},16)]),_:1})):V("",!0),w("div",tl,[(p(!0),x(N,null,K(r(i),($,X)=>{var Y;return Dt((p(),x("div",{key:X,class:"item"},[(p(),C(U,Q({key:X},r(d)(($==null?void 0:$.button)??{}),{onClick:oe=>h($)}),Je({default:A(()=>[F(" "+O($.title),1)]),_:2},[(Y=$==null?void 0:$.button)!=null&&Y.icon?{name:"icon",fn:A(()=>{var oe,pe,ze;return[(oe=$==null?void 0:$.button)!=null&&oe.icon?(p(),C(b,{key:0,icon:(pe=$==null?void 0:$.button)==null?void 0:pe.icon,type:((ze=$==null?void 0:$.button)==null?void 0:ze.iconType)??""},null,8,["icon","type"])):V("",!0)]}),key:"0"}:void 0]),1040,["onClick"]))])),[[It,r(c)($)]])}),128))])])}}});const ol=L(al,[["__scopeId","data-v-5ab6a5df"]]),nl={class:"flex space-x-2"},sl=I({__name:"index",props:{xGrid:{},topButtonList:{},gridConfig:{}},setup(t){const e=t,a=j(()=>e.topButtonList.filter(s=>{var o;return!((o=s.pageData)!=null&&o.group)})),n=j(()=>s=>{var l;const o=((l=s.pageData)==null?void 0:l.api)??"";return!!kt(o)});return(s,o)=>{const l=ee,i=$e,u=T("el-space");return p(),x("div",nl,[r(a).length?(p(),C(u,{key:0},{default:A(()=>[(p(!0),x(N,null,K(r(a),(c,d)=>{var _;return p(),x(N,null,[r(n)(c)?(p(),C(i,Q({key:d,type:"primary"},(c==null?void 0:c.button)??{},{onClick:h=>r(Js)(e.gridConfig,c,s.xGrid)}),Je({default:A(()=>[F(" "+O(c.title),1)]),_:2},[(_=c==null?void 0:c.button)!=null&&_.icon?{name:"icon",fn:A(()=>{var h,f;return[k(l,{icon:(h=c==null?void 0:c.button)==null?void 0:h.icon,type:(f=c==null?void 0:c.button)==null?void 0:f.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):V("",!0)],64)}),256))]),_:1})):V("",!0)])}}}),ll={class:"flex space-x-2"},cl=I({__name:"index",props:{xGrid:{},gridConfig:{},selectButtonList:{}},setup(t){const e=t,a=j(()=>{var s;return((s=e.selectButtonList)==null?void 0:s.filter(o=>{var l;return!((l=o.pageData)!=null&&l.group)}))||[]}),n=j(()=>s=>{var l;const o=((l=s.pageData)==null?void 0:l.api)??"";return!!kt(o)});return(s,o)=>{const l=ee,i=$e,u=T("el-space");return p(),x("div",ll,[r(a).length?(p(),C(u,{key:0},{default:A(()=>[(p(!0),x(N,null,K(r(a),(c,d)=>{var _;return p(),x(N,null,[r(n)(c)?(p(),C(i,Q({key:d,type:"primary"},(c==null?void 0:c.button)??{},{onClick:h=>r(Zs)(e.gridConfig,c,s.xGrid)}),Je({default:A(()=>[F(" "+O(c.title),1)]),_:2},[(_=c==null?void 0:c.button)!=null&&_.icon?{name:"icon",fn:A(()=>{var h,f;return[k(l,{icon:(h=c==null?void 0:c.button)==null?void 0:h.icon,type:(f=c==null?void 0:c.button)==null?void 0:f.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):V("",!0)],64)}),256))]),_:1})):V("",!0)])}}}),rl={class:"flex space-x-3"},il={key:1,class:"flex space-x-1"},ul=I({__name:"index",props:{xGrid:{},gridConfig:{},topButton:{},topButtonList:{},selectButtonList:{}},setup(t){const e=ye();return(a,n)=>{var o,l,i;const s=$e;return p(),x("div",rl,[(o=r(e).query)!=null&&o.isBack?(p(),C(s,{key:0,type:"primary",onClick:r(We)},{default:A(()=>[F(" 返回 ")]),_:1},8,["onClick"])):V("",!0),a.topButtonList.length||(l=a.selectButtonList)!=null&&l.length?(p(),x("div",il,[a.topButtonList.length?(p(),C(sl,G(Q({key:0},{xGrid:a.xGrid,gridConfig:a.gridConfig,topButtonList:a.topButtonList})),null,16)):V("",!0),(i=a.selectButtonList)!=null&&i.length?(p(),C(cl,G(Q({key:1},{xGrid:a.xGrid,gridConfig:a.gridConfig,selectButtonList:a.selectButtonList})),null,16)):V("",!0)])):V("",!0)])}}}),dl=t=>(ve("data-v-c11e2f2f"),t=t(),ge(),t),pl=dl(()=>w("div",null,null,-1)),ml={class:"assets-container"},_l={class:"item"},fl=["src"],hl=["src"],vl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,a="",n=j(()=>{var o,l;return((l=(o=e.column)==null?void 0:o.params)==null?void 0:l.resource)??[]}),s=j(()=>ae(e.column,e.row));return(o,l)=>{const i=ee,u=T("el-tooltip");return p(),x(N,null,[pl,w("div",ml,[(p(!0),x(N,null,K(r(n),(c,d)=>(p(),C(u,{key:d,show:c==null?void 0:c.isUpdate,trigger:"hover",placement:"top"},{content:A(()=>[F(O((c==null?void 0:c.title)??"错误"),1)]),default:A(()=>[w("div",_l,[(c==null?void 0:c.type)==="url"&&r(Oe)(c==null?void 0:c.icon)?(p(),x("img",{key:0,class:"logo",src:c==null?void 0:c.icon},null,8,fl)):(c==null?void 0:c.type)==="path"?(p(),x("img",{key:1,class:"logo",src:`${r(a)}${c==null?void 0:c.icon}`},null,8,hl)):(p(),C(i,{key:2,icon:c.icon},null,8,["icon"])),w("span",null,O(r(s)[c.field]??"字段错误"),1)])]),_:2},1032,["show"]))),128))])],64)}}});const gl=L(vl,[["__scopeId","data-v-c11e2f2f"]]),yl=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var s,o;const e=t,a=j(()=>ae(e.column,e.row)),n=y(((o=(s=e.column)==null?void 0:s.params)==null?void 0:o.props)??{});return(l,i)=>{const u=ee;return p(),C(u,Q({icon:r(a)},r(n)),null,16,["icon"])}}}),kl=t=>(ve("data-v-51c7d910"),t=t(),ge(),t),xl={class:"xh-image-error"},bl=kl(()=>w("span",null,"加载失败",-1)),wl=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var s,o,l;const e=t,a=j(()=>ae(e.column,e.row)),n=y(((o=(s=e.column)==null?void 0:s.params)==null?void 0:o.props)??{});return(l=n.value)!=null&&l.style||(n.value.style={width:"30px",height:"30px"}),(i,u)=>{const c=ee,d=T("el-image");return p(),C(d,Q(r(n),{src:r(a)}),{error:A(()=>[w("div",xl,[k(c,{icon:"Picture",type:"element"}),bl])]),_:1},16,["src"])}}});const Al=L(wl,[["__scopeId","data-v-51c7d910"]]),Pl=t=>(ve("data-v-257b233b"),t=t(),ge(),t),Cl={class:"xh-image-error"},Dl=Pl(()=>w("span",null,"加载失败",-1)),Il=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var l,i,u;const e=t,a=j(()=>{var c;return((c=e.column.params)==null?void 0:c.previewDisabled)??!0}),n=j(()=>{const c=ae(e.column,e.row);return c instanceof Array?c.map(d=>d.url):[]}),s=j(()=>{const c=ae(e.column,e.row);return c instanceof Array&&c.length>0?c:[]}),o=y(((i=(l=e.column)==null?void 0:l.params)==null?void 0:i.props)??{});return(u=o.value)!=null&&u.style||(o.value.style={width:"30px",height:"30px"}),(c,d)=>{const _=ee,h=T("el-image");return p(!0),x(N,null,K(r(s),(f,m)=>(p(),C(h,Q(r(o),{key:m,src:f==null?void 0:f.url,"preview-src-list":r(a)?[]:r(n)}),{error:A(()=>[w("div",Cl,[k(_,{icon:"Picture",type:"element"}),Dl])]),_:2},1040,["src","preview-src-list"]))),128)}}});const $l=L(Il,[["__scopeId","data-v-257b233b"]]),Bl=t=>(ve("data-v-50a2462d"),t=t(),ge(),t),jl={class:"xh-image-error"},El=Bl(()=>w("span",null,"加载失败",-1)),Tl=I({__name:"index",props:{column:{},row:{}},setup(t){var l,i,u;const e=t,a=j(()=>{var c;return((c=e.column.params)==null?void 0:c.previewDisabled)??!0}),n=j(()=>{const c=ae(e.column,e.row);return c instanceof Array?c.map(d=>d.url):[]}),s=j(()=>{const c=ae(e.column,e.row);return c instanceof Array&&c.length>0?c[0]:[]}),o=y(((i=(l=e.column)==null?void 0:l.params)==null?void 0:i.props)??{});return(u=o.value)!=null&&u.style||(o.value.style={width:"30px",height:"30px"}),(c,d)=>{var f;const _=ee,h=T("el-image");return p(),C(h,Q(r(o),{src:(f=r(s))==null?void 0:f.url,"preview-src-list":r(a)?[]:r(n)}),{error:A(()=>[w("div",jl,[k(_,{icon:"Picture",type:"element"}),El])]),_:1},16,["src","preview-src-list"])}}});const Rl=L(Tl,[["__scopeId","data-v-50a2462d"]]),Vl=I({__name:"index",props:{isBorder:{type:Boolean,default:!1},border:{default:"1px solid #b179ff"}},setup(t){const e=t;Re(n=>({"564a0163":r(a)}));const a=j(()=>e.isBorder?e.border:"");return(n,s)=>{const o=T("el-input");return p(),C(o,{class:he({"xh-input":n.isBorder})},null,8,["class"])}}});const Sl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l,i;const e=t,a=j(()=>ae(e.column,e.row)),n=y(""),s=y(((i=(l=e.column)==null?void 0:l.params)==null?void 0:i.props)??{}),o=u=>{var f,m,v,b;const c=Ce("rowEdit",!0),d=((f=e.column.params)==null?void 0:f.api)??c,_=((v=(m=e.gridConfig)==null?void 0:m.rowConfig)==null?void 0:v.keyField)??"id",h={[_]:e.row[_],keyField:_,field:(b=e.column)==null?void 0:b.field,value:u};Ve(d,h,e.xGrid)};return(u,c)=>{const d=Vl;return p(),C(d,Q({modelValue:r(n),"onUpdate:modelValue":c[0]||(c[0]=_=>de(n)?n.value=_:null),value:r(a),placeholder:"请输入"},r(s),{"is-border":!0,onChange:o}),null,16,["modelValue","value"])}}}),Ul=I({__name:"index",setup(t){return(e,a)=>{const n=T("el-input-number");return p(),C(n)}}}),Ll=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var i,u;const e=t,a=j(()=>ae(e.column,e.row)),n=j(()=>{var c;return((c=e.column.params)==null?void 0:c.isMessage)??!1}),s=y(a),o=y(((u=(i=e.column)==null?void 0:i.params)==null?void 0:u.props)??{}),l=c=>{var m,v,b,P;const d=Ce("rowEdit",!0),_=((m=e.column.params)==null?void 0:m.api)??d,h=((b=(v=e.gridConfig)==null?void 0:v.rowConfig)==null?void 0:b.keyField)??"id",f={[h]:e.row[h],keyField:h,field:(P=e.column)==null?void 0:P.field,value:c};Ve(_,f,e.xGrid,n.value)};return(c,d)=>{const _=Ul;return p(),C(_,Q({modelValue:r(s),"onUpdate:modelValue":d[0]||(d[0]=h=>de(s)?s.value=h:null),value:r(a)},r(o),{onChange:l}),null,16,["modelValue","value"])}}}),Ml=I({__name:"index",props:{column:{},row:{}},setup(t){const e=t,a=j(()=>{var l;const o=((l=e.column)==null?void 0:l.params)??{};return o!=null&&o.type||delete o.type,o}),n=j(()=>{var o,l;return((l=(o=e.column)==null?void 0:o.params)==null?void 0:l.format)??"￥"}),s=j(()=>ae(e.column,e.row));return(o,l)=>(p(),x("div",G(te(r(a))),O(r(n))+O(r($t).commafy(r($t).toNumber(r(s)),{digits:2})),17))}}),ra={vue:null},Ol=(t,e,a)=>le.alert(t,{confirmButtonText:"确定",type:e,...a}),ql=(t,e,a)=>{Xa({message:t,type:e,...a})},Hl=(t,e)=>Wa.service({text:t,...e}),zl=(t,e,a)=>le({customStyle:{width:"45%",height:"500px"},showClose:!0,title:" ",...a,closeOnClickModal:!1,customClass:"xh-modal-mask",message:()=>Ue(_e,{file:t,isModal:!0,...e,"onUpdate:close":()=>{le.close()}})}),Fl=(t,e)=>{Qa.render(t).then(a=>{const n=document.createElement("style");if(n.setAttribute("type","text/css"),n.setAttribute("id",`css${e}`),n.styleSheet)n.styleSheet.cssText=a.css;else{const o=document.createTextNode(a.css);n.appendChild(o)}const s=document.getElementsByTagName("head");s.length?s[0].appendChild(n):document.documentElement.appendChild(n)})},Nl=t=>({templates:t.match(/<template>([\s\S]*)<\/template>/)[1],sctipts:t.match(/<script.*>([\s\S]*)<\/script>/)[1],styles:t.match(/<style.*>([\s\S]*)<\/style>/)[1],stylesHasScoped:t.match(/<style.*scoped>([\s\S]*)<\/style>/)!==null}),Xl=()=>{const t=ra.vue,e=Gt(),a=ye(),n=Ie(),s=ce();t.config.globalProperties.$userApp=n,t.config.globalProperties.$siteApp=s,t.config.globalProperties.$routeApp=a,t.config.globalProperties.$routerApp=e,t.config.globalProperties.$axios=yo,t.config.globalProperties.$http={useGet:Ae,usePost:Ee,usePut:Qe,useDelete:Ge},t.config.globalProperties.$useGet=Ae,t.config.globalProperties.$usePost=Ee,t.config.globalProperties.$usePut=Qe,t.config.globalProperties.$useDelete=Ge,t.config.globalProperties.$echarts=Ga,t.config.globalProperties.$useKeyCodeEvent=ea,t.component("AppIcons")===void 0&&t.component("AppIcons",ee),t.config.globalProperties.$useAlert=Ol,t.config.globalProperties.$useConfirm=we,t.config.globalProperties.$useMessage=ql,t.config.globalProperties.$useNotify=W,t.config.globalProperties.$useLoading=Hl,t.config.globalProperties.$useRemote=zl},Wl={key:1,class:"remote-fail"},Ql=I({__name:"index",props:{file:{},isModal:{type:Boolean}},emits:["update:init","update:modelValue","update:success","update:error","update:close"],setup(t,{emit:e}){const a=t,n=Ja(),s=y(a.file),o=y(),l=y({status:"",content:""}),i=y(""),u=y(Ke()),c=(b,P,g)=>{const D=Nl(P),B=D.sctipts.indexOf("{"),U=D.sctipts.lastIndexOf("}"),$=D.sctipts.slice(B,U+1),X=new Function(`return ${$}`)();if(!X){l.value.status="code",l.value.content="远程组件代码格式解析失败";return}if(X.template=D==null?void 0:D.templates,b.setAttribute("class",`remote css${g}`),!document.querySelector(`style[id=css${g}]`)){let Y="";D.stylesHasScoped?Y=`
            .css${g}{
                ${D.styles}
            }
        `:Y=D.styles,Fl(Y,g)}return Xl(),X},d=j(()=>{if(l.value.status==="config"){l.value.content="请先配置远程文件";return}if(!i.value){l.value.content="正在加载中...";return}if(i.value==="fail"){l.value.content="远程组件加载失败";return}return c(o.value,i.value,u.value)}),_=b=>{e("update:modelValue",b)},h=()=>{if(!s.value){l.value.status="config";return}l.value.status="loading";const b=Date.now(),P=`${s.value}.vue?t=${b}`;Ae(P).then(g=>{i.value=g,l.value.status="success",e("update:init",g)}).catch(g=>{console.error(g),l.value.status="fail",e("update:error",g)})},f=b=>{s.value=b,u.value=Ke(),h()},m=()=>{u.value=Ke(),h()},v=()=>{a!=null&&a.isModal&&e("update:close")};return Pe(()=>h()),(b,P)=>{const g=T("el-empty");return p(),x("div",{ref_key:"remoteRef",ref:o,class:"h-100%"},[r(l).status==="success"?(p(),C(qt(r(d)),Q({key:0},r(n),{"onUpdate:modelValue":_,"onUpdate:openWin":f,"onUpdate:reloadWin":m,"onUpdate:closeWin":v}),null,16)):(p(),x("div",Wl,[k(g,{description:r(l).content},null,8,["description"])]))],512)}}});const _e=L(Ql,[["__scopeId","data-v-481770ee"]]),Gl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l;const e=t,a=j(()=>{var i,u;return(u=(i=e.column)==null?void 0:i.params)==null?void 0:u.file}),n=((l=e.column)==null?void 0:l.field)??"",s=j(()=>ae(e.column,e.row)),o=i=>{var h,f,m,v;const u=Ce("rowEdit",!0),c=((h=e.column.params)==null?void 0:h.api)??u,d=((m=(f=e.gridConfig)==null?void 0:f.rowConfig)==null?void 0:m.keyField)??"id",_={[d]:e.row[d],keyField:d,field:(v=e.column)==null?void 0:v.field,value:i};Ve(c,_,e.xGrid)};return(i,u)=>{const c=_e;return p(),C(c,Q({file:r(a)},{modelValue:r(s),column:i.column,field:r(n),row:i.row},{"onUpdate:value":o}),null,16,["file"])}}}),Jl={key:0,class:"tabs-container"},Zl={class:"tabs-list"},Yl=["onClick"],Kl={class:"pl-1"},ec=I({__name:"index",props:{xGrid:{},gridConfig:{},tabsConfig:{}},setup(t){var u;const e=t,a=ye(),n=Gt(),s=((u=e.tabsConfig)==null?void 0:u.field)??"",o=a==null?void 0:a.query[s],l=j(()=>{var c;return o??((c=e.tabsConfig)==null?void 0:c.active)}),i=c=>{n.push({query:{[s]:c.value}})};return(c,d)=>{var f,m;const _=ee,h=T("el-space");return(m=(f=c.tabsConfig)==null?void 0:f.list)!=null&&m.length?(p(),x("div",Jl,[w("div",Zl,[k(h,null,{default:A(()=>[(p(!0),x(N,null,K(c.tabsConfig.list,(v,b)=>(p(),x("div",{key:b,class:he(["item",{active:r(l)===(v==null?void 0:v.value)}]),onClick:P=>i(v)},[v!=null&&v.icon?(p(),C(_,{key:0,icon:v==null?void 0:v.icon},null,8,["icon"])):V("",!0),w("span",Kl,O((v==null?void 0:v.label)??"错误"),1)],10,Yl))),128))]),_:1})])])):V("",!0)}}});const tc=L(ec,[["__scopeId","data-v-23503682"]]),ac=I({__name:"index",props:{gridConfig:{},xGrid:{},formScreen:{}},setup(t){return(e,a)=>{var s;const n=_e;return p(),C(n,{file:((s=e.formScreen)==null?void 0:s.file)||""},null,8,["file"])}}}),oc={class:"form-tabs-container"},nc=I({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{},tabsConfig:{}},setup(t){return(e,a)=>{var o,l,i;const n=ac,s=tc;return p(),x("div",oc,[(o=e.formScreen)!=null&&o.file?(p(),C(n,G(Q({key:0},{gridConfig:e.gridConfig,formScreen:e.formScreen,xGrid:e.xGrid})),null,16)):V("",!0),(i=(l=e.tabsConfig)==null?void 0:l.list)!=null&&i.length?(p(),C(s,G(Q({key:1},{gridConfig:e.gridConfig,tabsConfig:e.tabsConfig,xGrid:e.xGrid})),null,16)):V("",!0)])}}});const sc=L(nc,[["__scopeId","data-v-aa667a00"]]),lc=I({__name:"index",props:{options:{},value:{default:""}},setup(t){const e=t,a=j(()=>e.value);return(n,s)=>{const o=T("el-option"),l=T("el-select");return p(),C(l,{modelValue:r(a),"onUpdate:modelValue":s[0]||(s[0]=i=>de(a)?a.value=i:null),placeholder:"请选择"},{default:A(()=>[(p(!0),x(N,null,K(n.options,i=>(p(),C(o,{key:i.value,label:i.label,value:i.value,disabled:i.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])}}}),cc=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var o;const e=t,a=j(()=>ae(e.column,e.row)),n=y(((o=e.column)==null?void 0:o.params)??{}),s=l=>{var _,h,f,m;const i=Ce("rowEdit",!0),u=((_=e.column.params)==null?void 0:_.api)??i,c=((f=(h=e.gridConfig)==null?void 0:h.rowConfig)==null?void 0:f.keyField)??"id",d={[c]:e.row[c],keyField:c,field:(m=e.column)==null?void 0:m.field,value:l};Ve(u,d,e.xGrid)};return(l,i)=>{var c,d;const u=lc;return(d=(c=r(n))==null?void 0:c.options)!=null&&d.length?(p(),C(u,Q({key:0,value:r(a)},r(n),{onChange:s}),null,16,["value"])):V("",!0)}}}),rc=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,a=j(()=>ae(e.column,e.row)),n=s=>{var c,d,_,h;const o=Ce("rowEdit",!0),l=((c=e.column.params)==null?void 0:c.api)??o,i=((_=(d=e.gridConfig)==null?void 0:d.rowConfig)==null?void 0:_.keyField)??"id",u={[i]:e.row[i],keyField:i,field:(h=e.column)==null?void 0:h.field,value:s};Ve(l,u,e.xGrid)};return(s,o)=>{var i,u,c,d,_,h,f,m,v,b,P,g,D,B,U,$,X,Y;const l=T("el-switch");return p(),C(l,{modelValue:r(a),"onUpdate:modelValue":o[0]||(o[0]=oe=>de(a)?a.value=oe:null),"active-action-icon":((c=(u=(i=s.column)==null?void 0:i.params)==null?void 0:u.checked)==null?void 0:c.icon)??"","active-text":(h=(_=(d=s.column)==null?void 0:d.params)==null?void 0:_.checked)==null?void 0:h.text,"active-value":(v=(m=(f=s.column)==null?void 0:f.params)==null?void 0:m.checked)==null?void 0:v.value,"inactive-action-icon":((g=(P=(b=s.column)==null?void 0:b.params)==null?void 0:P.unchecked)==null?void 0:g.icon)??"","inactive-text":(U=(B=(D=s.column)==null?void 0:D.params)==null?void 0:B.unchecked)==null?void 0:U.text,"inactive-value":(Y=(X=($=s.column)==null?void 0:$.params)==null?void 0:X.unchecked)==null?void 0:Y.value,"inline-prompt":"",onChange:n},null,8,["modelValue","active-action-icon","active-text","active-value","inactive-action-icon","inactive-text","inactive-value"])}}}),ic=I({__name:"index",props:{column:{},row:{}},setup(t){const e=t,a=j(()=>ae(e.column,e.row)),n=j(()=>{var o;return(o=e.column.params)!=null&&o.options?e.column.params.options[a.value]||"标签错误":"选项错误"}),s=j(()=>{var i;const o=y({style:{},...e.column.params??{}});(i=o.value)!=null&&i.type&&delete o.value.type;const l=j(()=>{var u,c;if((u=e.column.params)!=null&&u.style)return((c=e.column.params)==null?void 0:c.style[a.value])||void 0});return o.value.style=l.value,o.value});return(o,l)=>{const i=T("el-tag");return p(),C(i,G(te(r(s).style)),{default:A(()=>[F(O(r(n)),1)]),_:1},16)}}}),uc=(t,e,a,n)=>{if(e.length<=0){E("请先导入数据");return}if(!t){E("请设置导入API接口");return}Ee(t,{import:a,data:e}).then(o=>{var l;(l=n.xGrid)==null||l.commitProxy("query"),ue((o==null?void 0:o.msg)??"操作成功")})},dc=t=>{Be.commands.add("importAllData",{commandMethod:e=>{var o;const{$table:a}=e,n=a==null?void 0:a.getTableData(),s=n==null?void 0:n.fullData;uc(((o=t.vxeTableConfig.importConfig)==null?void 0:o.api)??"",s,"all",t)}})},pc=w("div",null," 子数据 ",-1),ia=I({__name:"index",props:{api:{},method:{default:"GET"},ajaxParams:{default:void 0}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{emit:e}){const a=t,n=y(),s=y(),o=y(),l=y([]),i=y([]),u=y([]),c=async()=>{const d=y({method:a.method,params:{},data:{}});a.ajaxParams&&(a.method==="GET"?d.value.params=a.ajaxParams:d.value.data=a.ajaxParams),e("update:init",d.value);const _=`${a.api}GetTable`;Z(_,d.value).then(h=>{const f=h.data;o.value=f.tabsConfig,s.value=Ps(a.api,a.method,f.tableConfig,a.ajaxParams,n.value),l.value=f.topButtonList,i.value=f.rightButtonList,u.value=f.selectButtonList,dc({xGrid:n.value,vxeTableConfig:s.value}),e("update:init-ok",f)}).catch(h=>{e("update:init-error",h)})};return Pe(()=>c()),(d,_)=>{var f,m,v,b,P;const h=T("vxe-grid");return(f=r(s))!=null&&f.id?(p(),C(h,Q({key:0,ref_key:"xGrid",ref:n,class:"xh-table"},r(s),{onEditClosed:_[0]||(_[0]=({column:g,row:D})=>r(Cs)(g,D,r(s),r(n)))}),Je({topButtonList:A(({$grid:g})=>[k(r(ul),G(te({gridConfig:r(s),topButtonList:r(l),selectButtonList:r(u),xGrid:g})),null,16)]),rightButtonList:A(({row:g,column:D,$grid:B})=>[k(r(ol),G(te({gridConfig:r(s),rightButtonList:r(i),row:g,column:D,xGrid:B})),null,16)]),childrenData:A(()=>[pc]),remote:A(({row:g,column:D,$grid:B})=>[k(r(Gl),G(te({gridConfig:r(s),row:g,column:D,xGrid:B})),null,16)]),tags:A(({row:g,column:D,$grid:B})=>[k(r(ic),G(te({gridConfig:r(s),row:g,column:D,xGrid:B})),null,16)]),input:A(({row:g,column:D,$grid:B})=>[k(r(Sl),G(te({gridConfig:r(s),row:g,column:D,xGrid:B})),null,16)]),InputNumber:A(({row:g,column:D,$grid:B})=>[k(r(Ll),G(te({gridConfig:r(s),row:g,column:D,xGrid:B})),null,16)]),assets:A(({row:g,column:D,$grid:B})=>[k(r(gl),G(te({gridConfig:r(s),row:g,column:D,xGrid:B})),null,16)]),money:A(({row:g,column:D,$grid:B})=>[k(r(Ml),G(te({gridConfig:r(s),row:g,column:D,xGrid:B})),null,16)]),image:A(({row:g,column:D,$grid:B})=>[k(r(Al),G(te({gridConfig:r(s),row:g,column:D,xGrid:B})),null,16)]),images:A(({row:g,column:D,$grid:B})=>[k(r($l),G(te({gridConfig:r(s),row:g,column:D,xGrid:B})),null,16)]),photos:A(({row:g,column:D,$grid:B})=>[k(r(Rl),G(te({gridConfig:r(s),row:g,column:D,xGrid:B})),null,16)]),icons:A(({row:g,column:D,$grid:B})=>[k(r(yl),G(te({gridConfig:r(s),row:g,column:D,xGrid:B})),null,16)]),switch:A(({row:g,column:D,$grid:B})=>[k(r(rc),G(te({gridConfig:r(s),row:g,column:D,xGrid:B})),null,16)]),select:A(({row:g,column:D,$grid:B})=>[k(r(cc),G(te({gridConfig:r(s),row:g,column:D,xGrid:B})),null,16)]),_:2},[(v=(m=r(s))==null?void 0:m.screenRemote)!=null&&v.file||(P=(b=r(o))==null?void 0:b.list)!=null&&P.length?{name:"form",fn:A(({$grid:g})=>{var D;return[k(r(sc),G(te({gridConfig:r(s),xGrid:g,formScreen:(D=r(s))==null?void 0:D.screenRemote,tabsConfig:r(o)})),null,16)]}),key:"0"}:void 0]),1040)):V("",!0)}}}),mc={class:"xhadmin-table-pro"},_c=I({__name:"table-modal",props:{api:{},method:{},ajaxParams:{}},setup(t){return(e,a)=>(p(),x("div",mc,[k(r(ia),{api:e.api,method:e.method,"ajax-params":e.ajaxParams,"is-modal":!0},null,8,["api","method","ajax-params"])]))}});const xt=L(_c,[["__scopeId","data-v-62ed6f04"]]),fc={class:"xh-modal-container"},hc=I({__name:"remote-modal",props:{file:{},ajaxParams:{}},emits:["update:close"],setup(t,{emit:e}){const a=()=>{e("update:close")};return(n,s)=>(p(),x("div",fc,[k(r(_e),{file:n.file,"ajax-params":n.ajaxParams,"is-modal":!0,"onUpdate:close":a},null,8,["file","ajax-params"])]))}});const bt=L(hc,[["__scopeId","data-v-05e4fbfd"]]),vc={class:"flex-1 flex items-center"},gc=I({__name:"side",setup(t){var n;const a=((n=ce().siteInfo.public_api)==null?void 0:n.header_left_file)??"";return(s,o)=>(p(),x("div",vc,[r(a)?(p(),C(r(_e),{key:0,file:r(a)},null,8,["file"])):V("",!0)]))}}),ua="data:image/png;base64,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cXA6JUT1AVIP8g4uJAQ5nTCGvN54d8yG9jbcd7YCbe0bRr+3QiEkurHDjyLE5u/YGFUDMTaJvtMgWukmI3FMp1jykHn1xIyelr8veG5LCOS6zfMJ/vzFpOAHmyUhcpdt2eoIo6etW8wGfmiXHOSjbY45ON/2se2phSACF32C/FzdpqZPZSAS13wGes9dou2fuwLZQfQFWYsad7gBaXXcwXlr95wvQMEhLc7cdwcW/BLG6INALohSP52bVxqFQqDyr1xxcP61w5BO1NdnADV3OgtpccnB+Td2R9k5IChkl2uQXbHH3G2bEKR/wyjd6w+7/N/anz4WsjMu6+V7XHNwvgcGAa3e/Z2LkO+dhHS4COlwEtLuIqQ9+TG6EgNCGlyEbO+CZAeJWy715TLJAjAIaHWXiw7OUx2y1zSdIXshWUISl2sMAa3WDbKvP50h+yCJQvqWawwBrfYgUv0AKZUgkOUaQ0Cr3YXsh5Q6ENDq/R7Eg9h24Hg6Qw5AgkC6l2sMAa12F3IQUupAQKsPugr5EVJqQcSXawwBrfYgHsSuQyfSGXIIkjikd7layGGLGIjtLuQwpCSQZMtdhRyBxEBsnSGg1Uc8iG6Qn9zMSYi+qYb8TJUUhGy6Xb+Ix5ROJ+jXvpjS6YQxpdMpIaoP4EE8iJp+E80RiPB0+X6PjymdThhTOj2xP2RjSqcTxlQfwIN4EPf6UyYyiNR06f5KiCmdTpgtxNHpVv0NiymdThhTOp0SovoApy/kqHkuQY46HlM63ap/YDGl0wljSqeb9q9UTOl0wpjqA5ymkGNJcwNyzI2Y0unA/rPof+AC6w/ykiczAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA4LTIzVDA0OjE1OjQ1KzA4OjAwIkHhYgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wOC0yM1QwNDoxNTo0NSswODowMFMcWd4AAAAgdEVYdHNvZnR3YXJlAGh0dHBzOi8vaW1hZ2VtYWdpY2sub3JnvM8dnQAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABh0RVh0VGh1bWI6OkltYWdlOjpIZWlnaHQAMjAwfdcVaQAAABd0RVh0VGh1bWI6OkltYWdlOjpXaWR0aAAyMDDuJkU0AAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADE2NjExOTkzNDXPEwzcAAAAEnRFWHRUaHVtYjo6U2l6ZQAzMzgzQkIcsIQgAAAAR3RFWHRUaHVtYjo6VVJJAGZpbGU6Ly8vYXBwL3RtcC9pbWFnZWxjL2ltZ3ZpZXcyXzEwXzE2NTgzOTg1NTU2OTM4NDYxXzk1X1swXSsTSOcAAAAASUVORK5CYII=",yc={themeTypeData:[{label:"浅色模式",value:"OS",disabled:!1},{label:"深色模式",value:"dark",disabled:!0}],layoutTypeData:[{label:"混合布局",value:"mix",disabled:!1,children:[{label:"分组菜单",value:"group",disabled:!1},{label:"层级菜单",value:"level",disabled:!1}]},{label:"常用布局",value:"side",disabled:!0,children:[]},{label:"顶部布局",value:"top",disabled:!0,children:[]},{label:"用户布局",value:"user",disabled:!0,children:[]}]},kc=t=>(ve("data-v-b5e96e13"),t=t(),ge(),t),xc={class:"mask-container"},bc=["src"],wc={class:"info"},Ac={class:"user-name"},Pc={key:0,class:"user-role"},Cc={class:"icon"},Dc={class:"theme-layouts"},Ic={key:0,class:"item"},$c=kc(()=>w("div",{class:"label"}," 菜单类型 ",-1)),Bc={class:"value"},jc={class:"action-container"},Ec=I({__name:"mask",props:{user:{}},setup(t){const e=Ie(),{layoutInfo:a}=ut(e),n=ce(),s=y(a.value.layout),o=y(a.value.layoutMenu),l=j(()=>{var d;return((d=yc.layoutTypeData.find(_=>_.value===a.value.layout))==null?void 0:d.children)??[]});j(()=>a.value.theme);const i=()=>{var c;if(!((c=n.siteInfo.public_api)!=null&&c.user_edit)){we("当前系统未开启个人资料修改功能","温馨提示");return}ie(so)},u=c=>{e.setLayoutMenu(c)};return(c,d)=>{var b,P,g,D,B;const _=T("el-image"),h=ee,f=T("el-option"),m=T("el-select"),v=$e;return p(),x("div",xc,[w("div",{class:"userinfo",onClick:i},[k(_,{class:"headimg",src:c.user.headimg},{error:A(()=>[w("img",{class:"headimg",src:r(ua)},null,8,bc)]),_:1},8,["src"]),w("div",wc,[w("div",Ac,O(((b=c.user)==null?void 0:b.nickname)||"未设置昵称"),1),(g=(P=c.user)==null?void 0:P.role)!=null&&g.title?(p(),x("div",Pc,O((B=(D=c.user)==null?void 0:D.role)==null?void 0:B.title),1)):V("",!0)]),w("div",Cc,[k(h,{icon:"ArrowRight",type:"element"})])]),w("div",Dc,[r(s)==="mix"&&r(l).length?(p(),x("div",Ic,[$c,w("div",Bc,[k(m,{modelValue:r(o),"onUpdate:modelValue":d[0]||(d[0]=U=>de(o)?o.value=U:null),size:"small",teleported:!1,onChange:u},{default:A(()=>[(p(!0),x(N,null,K(r(l),U=>(p(),C(f,{key:U.value,label:U.label,value:U.value,disabled:U.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])])])):V("",!0)]),w("div",jc,[k(v,{class:"button",type:"danger",bg:"",text:"",onClick:d[1]||(d[1]=U=>r(e).loginOut())},{default:A(()=>[F(" 退出登录 ")]),_:1})])])}}});const Tc=L(Ec,[["__scopeId","data-v-b5e96e13"]]),Rc={class:"userinfo-container"},Vc={class:"userinfo"},Sc=["src"],Uc={class:"user-info"},Lc={class:"user-name"},Mc={key:0,class:"user-role"},Oc={class:"icon"},qc={class:"profile-mask"},Hc=I({__name:"index",setup(t){const e=Ie(),{userInfo:a}=ut(e);return(n,s)=>{var i,u,c,d,_;const o=T("el-image"),l=ee;return p(),x("div",Rc,[w("div",Vc,[k(o,{class:"headimg",src:r(a).headimg},{error:A(()=>[w("img",{class:"headimg",src:r(ua)},null,8,Sc)]),_:1},8,["src"]),w("div",Uc,[w("div",Lc,O(((i=r(a))==null?void 0:i.nickname)||"未设置昵称"),1),(c=(u=r(a))==null?void 0:u.role)!=null&&c.title?(p(),x("div",Mc,O((_=(d=r(a))==null?void 0:d.role)==null?void 0:_.title),1)):V("",!0)]),w("div",Oc,[k(l,{icon:"CaretTop",type:"element",size:"18"})])]),w("div",qc,[k(Tc,{user:r(a)},null,8,["user"])])])}}});const da=L(Hc,[["__scopeId","data-v-3639055f"]]),zc={class:"flex-1 flex items-center justify-end"},Fc=I({__name:"tools",setup(t){var n;const a=((n=ce().siteInfo.public_api)==null?void 0:n.header_right_file)??"";return(s,o)=>(p(),x("div",zc,[r(a)?(p(),C(r(_e),{key:0,file:r(a)},null,8,["file"])):V("",!0),k(da)]))}}),Nc={class:"flex justify-between"},Xc=I({__name:"index",setup(t){return(e,a)=>(p(),x("div",Nc,[k(gc),k(Fc)]))}});const Wc={class:"xhadmin-mix-layout"},Qc={class:"xhadmin-header-pro"},Gc={class:"xhadmin-main-pro"},Jc={class:"xhadmin-side-pro"},Zc={class:"xhadmin-content-pro"},Yc={class:"xhadmin-content pt-4 pl-4 pr-4"},Kc={class:"xhadmin-copyright-pro"},er=I({__name:"index",props:{active:{},menus:{},sideName:{},sideLogo:{},logoHeight:{},sideWidth:{},sideMenuWidth:{},headerHeight:{}},setup(t){const e=t;Re(s=>({"32f30502":r(a),"71aaffc9":r(n)}));const a=j(()=>`${e.headerHeight}px`),n=j(()=>e.sideWidth);return(s,o)=>(p(),x("div",Wc,[w("div",Qc,[k(Ro,{"header-height":s.headerHeight,"side-width":s.sideWidth,"logo-src":s.sideLogo,"side-name":s.sideName,"logo-height":s.logoHeight,"side-menu-width":s.sideMenuWidth},null,8,["header-height","side-width","logo-src","side-name","logo-height","side-menu-width"]),k(Xc,{class:"xhadmin-toolbar"})]),w("div",Gc,[w("div",Jc,[k(Co,{"side-width":s.sideWidth,"side-menu-width":s.sideMenuWidth,active:s.active,menus:s.menus},null,8,["side-width","side-menu-width","active","menus"])]),w("div",Zc,[w("div",Yc,[k(aa)]),w("div",Kc,[k(na)])])])]))}});const tr=L(er,[["__scopeId","data-v-4bd77342"]]),ar={};function or(t,e){return p(),x("div",null," 侧边栏布局 ")}const nr=L(ar,[["render",or]]),sr=I({__name:"menus",props:{active:{},menus:{}},setup(t){return(e,a)=>{const n=T("el-menu");return p(),C(n,{mode:"horizontal",class:"menus","default-active":e.active},{default:A(()=>[(p(!0),x(N,null,K(e.menus,s=>(p(),C(Ze,{key:s.id,"menu-data":s},null,8,["menu-data"]))),128))]),_:1},8,["default-active"])}}});const lr={class:"xhadmin-top-layout"},cr={class:"xhadmin-header-pro"},rr={class:"logo"},ir={class:"menus"},ur={key:0,class:"tools"},dr={class:"user"},pr={class:"xhadmin-main-pro"},mr={class:"xhadmin-main"},_r={class:"xhadmin-copyright"},fr=I({__name:"index",props:{headerHeight:{},active:{},menus:{}},setup(t){const e=ce().siteInfo;return(a,n)=>{var s,o;return p(),x("div",lr,[w("div",cr,[w("div",rr,[k(ta)]),w("div",ir,[k(sr,{active:a.active,menus:a.menus},null,8,["active","menus"])]),(s=r(e).public_api)!=null&&s.header_right_file?(p(),x("div",ur,[k(r(_e),{file:(o=r(e).public_api)==null?void 0:o.header_right_file},null,8,["file"])])):V("",!0),w("div",dr,[k(da)])]),w("div",pr,[w("div",mr,[k(aa)]),w("div",_r,[k(na)])])])}}});const hr=L(fr,[["__scopeId","data-v-07846549"]]),vr={};function gr(t,e){return p(),x("div",null," 用户中心布局 ")}const yr=L(vr,[["render",gr]]),kr=I({__name:"index",setup(t){const e=ce(),a=Ie(),{active:n}=Wr(),s=a.layoutInfo,o=e.siteInfo,l=a.menuList;return(i,u)=>{var c,d;return p(),x(N,null,[r(s).layout==="mix"?(p(),C(r(tr),{key:0,"header-height":r(s).headerHeight,"side-width":r(s).sideWidth,"side-menu-width":r(s).sideMenuWidth,"side-logo":(c=r(o))==null?void 0:c.web_logo,"side-name":(d=r(o))==null?void 0:d.web_name,"logo-height":r(s).logoHeight,active:r(n),menus:r(l)},null,8,["header-height","side-width","side-menu-width","side-logo","side-name","logo-height","active","menus"])):V("",!0),r(s).layout==="side"?(p(),C(r(nr),{key:1})):V("",!0),r(s).layout==="top"?(p(),C(r(hr),{key:2,"header-height":r(s).headerHeight,active:r(n),menus:r(l)},null,8,["header-height","active","menus"])):V("",!0),r(s).layout==="user"?(p(),C(r(yr),{key:3})):V("",!0)],64)}}}),xr={path:"/",name:"default-router",component:kr,redirect:Kt,children:[]},br=[{path:"/workspace/exception",name:"workspaceException",component:()=>be(()=>import("./index.022b66e5.js"),["xhadmin/js/index.022b66e5.js","xhadmin/js/.pnpm.1a2bd0ba.js","xhadmin/css/.pnpm.ad0d32c5.css"]),meta:{title:"出现错误啦~"}},{path:"/user/personal",name:"userPersonal",component:()=>be(()=>import("./index.97e02f77.js"),["xhadmin/js/index.97e02f77.js","xhadmin/js/.pnpm.1a2bd0ba.js","xhadmin/css/.pnpm.ad0d32c5.css","xhadmin/css/index.27a712b3.css"]),meta:{title:"个人资料"}}],wr=[{...xr,children:[...br]},{path:"/login",name:"Login",component:()=>be(()=>import("./index.66b230f6.js"),["xhadmin/js/index.66b230f6.js","xhadmin/js/.pnpm.1a2bd0ba.js","xhadmin/css/.pnpm.ad0d32c5.css","xhadmin/css/index.728a17af.css"]),meta:{title:"用户登录"}},{path:"/redirect/:path(.*)",name:"redirect",component:()=>be(()=>import("./index.96e8280c.js"),["xhadmin/js/index.96e8280c.js","xhadmin/js/.pnpm.1a2bd0ba.js","xhadmin/css/.pnpm.ad0d32c5.css"])},{path:"/exception",name:"exception",meta:{title:"抱歉，你访问的页面不存在~"},component:()=>be(()=>import("./index.022b66e5.js"),["xhadmin/js/index.022b66e5.js","xhadmin/js/.pnpm.1a2bd0ba.js","xhadmin/css/.pnpm.ad0d32c5.css"])},{path:"/:pathMatch(.*)",component:()=>be(()=>import("./index.022b66e5.js"),["xhadmin/js/index.022b66e5.js","xhadmin/js/.pnpm.1a2bd0ba.js","xhadmin/css/.pnpm.ad0d32c5.css"])}],J=Za({routes:[...wr],history:Ya("/")}),Ar={class:"xhadmin-table-pro"},Pr=I({name:"/table"}),Cr=I({...Pr,setup(t){const e=ye(),a=Ce(),n=e.meta.method,s=e.query??{};return(o,l)=>(p(),x("div",Ar,[k(r(ia),{api:r(a),method:r(n),"ajax-params":r(s)},null,8,["api","method","ajax-params"])]))}});const Dr=L(Cr,[["__scopeId","data-v-a39226b1"]]),Ir=t=>(ve("data-v-7ca0a0aa"),t=t(),ge(),t),$r={class:"xhadmin-page-pro"},Br={key:0,class:"flex items-center bg-white px-5 py-4 mb-[10px]"},jr=Ir(()=>w("span",{class:"pl-1 text-[16px]"},"返回",-1)),Er={key:0,class:"pl-20px text-[16px] select-none"},Tr={class:"form-pro flex-1"},Rr=I({name:"/form"}),Vr=I({...Rr,setup(t){const e=ye(),a=y(),n=y(),s=Ce(),o=e.meta.method,l={...e.query};l!=null&&l.isBack&&(l==null||delete l.isBack);const i=y({...l}),u=y({submitBtn:{},resetBtn:{}}),c=m=>{var b;const v=(b=m==null?void 0:m.response)==null?void 0:b.extraConfig;u.value=v},d=()=>{a.value.submit()},_=()=>{a.value.reset(),ue("数据重置完成")},h=()=>{n.value.setDisabled(!0)},f=()=>{n.value.setDisabled(!1)};return(m,v)=>{var P,g,D;const b=ee;return p(),x("div",$r,[(P=r(e).query)!=null&&P.isBack?(p(),x("div",Br,[w("div",{class:"flex items-center cursor-pointer select-none",onClick:v[0]||(v[0]=(...B)=>r(We)&&r(We)(...B))},[k(b,{icon:"ArrowLeftOutlined",size:16}),jr]),(g=r(e).meta)!=null&&g.title?(p(),x("div",Er,O((D=r(e).meta)==null?void 0:D.title),1)):V("",!0)])):V("",!0),w("div",Tr,[k(r(vt),{ref_key:"formRef",ref:a,class:"xh-form-create",api:r(s),method:r(o),"ajax-params":r(i),"onUpdate:initOk":c,"onUpdate:submit":h,"onUpdate:submitOk":f,"onUpdate:submitError":f,"onUpdate:restOk":f,"onUpdate:initError":f},null,8,["api","method","ajax-params"])]),k(r(ca),{ref_key:"buttonRef",ref:n,class:"xh-buttons-pro","extra-config":r(u),"onUpdate:submit":d,"onUpdate:rest":_},null,8,["extra-config"])])}}});const Sr=L(Vr,[["__scopeId","data-v-7ca0a0aa"]]),Ur={class:"h-100%"},Lr=I({name:"remote"}),Mr=I({...Lr,setup(t){const a=ye().meta.ajaxParams;return(n,s)=>(p(),x("div",Ur,[k(r(_e),{file:r(a)},null,8,["file"])]))}}),Or=Object.freeze(Object.defineProperty({__proto__:null,formIndex:Sr,remoteIndex:Mr,tableIndex:Dr},Symbol.toStringTag,{value:"Module"})),at={routeView:()=>be(()=>import("./index.9c63fa32.js"),["xhadmin/js/index.9c63fa32.js","xhadmin/js/.pnpm.1a2bd0ba.js","xhadmin/css/.pnpm.ad0d32c5.css"]),exceptionView:()=>be(()=>import("./exception.83fe0b21.js"),["xhadmin/js/exception.83fe0b21.js","xhadmin/js/.pnpm.1a2bd0ba.js","xhadmin/css/.pnpm.ad0d32c5.css"])},qr=t=>{if(!t)return at.blankView;if(t in at)return at[t];const e=uo(t??"");return Or[e]},Hr=t=>{for(const e of t){const a=e.remote,n=a.replace("/","_"),s=()=>Ue(_e,{file:a});s.displayName=n;const o={path:e==null?void 0:e.path,name:n,component:s,meta:{title:(e==null?void 0:e.title)||"未知页面",path:(e==null?void 0:e.path)||"未知路径",pid:0,method:"GET",ajaxParams:{}}};J.addRoute(o)}},zr=t=>{const e=[];for(const a of t)if(a.path){const n={path:`/${a.path}`,name:a.path.replace("/","_"),component:Wt(qr(a.component)),meta:{title:a.title,path:a.path,pid:a.pid,icon:a.icon,method:a.method,ajaxParams:a.auth_params},children:[]};(!n.children||n.children.length<1)&&delete n.children,e.push(n)}return e},pa=new Map,ma=(t,e,a)=>{var o;const n=[];let s=[];e?s=t.filter(l=>(l==null?void 0:l.pid)===e):s=t.filter(l=>!l.pid);for(const l of s){const i=a?`${a}-${l.id}`:`${l.id}`,u=`/${l.path}`;pa.set(u,i);const c={activeId:i,title:l.title,icon:l.icon,ajaxParams:l.auth_params,path:l.path,show:l.show==="1",target:l.target??"_blank",isGroup:!1,children:ma(t,l.id,i)},d=(o=c.children)==null?void 0:o.some(_=>_.show);c.show&&d&&(c.isGroup=!0),n.push(c)}return n},Mt=pa,Fr=()=>{const t=ye(),e=nt({active:""}),a=n=>{let s=Mt.get(n);s||(s=Mt.get(Kt)),e.active=s??""};return dt(()=>t.path,()=>{a(t.path)}),{...eo(e),updateActive:a}},[Nr,Xr]=Ka(Fr),Wr=()=>Xr()??{active:y(""),updateActive:()=>{}},Qr=I({__name:"App",setup(t){return Nr(),(e,a)=>(p(),C(no))}});const je=y(Xe),it=y([...lo]),ot=y([...it.value,je.value,Zt,Yt]),Ot=y(!1);J.beforeEach(async(t,e,a)=>{var c,d,_,h,f;if(Jt.start(),it.value.includes(t.path)){a();return}const n=Ie(),s=De(),o=qe(),l=j(()=>n.userInfo);if((c=t.query)!=null&&c.token){let m=(d=t.query)==null?void 0:d.token;m=m.includes("Bearer")?m:`Bearer ${m}`,o.value=m}if((_=t.query)!=null&&_.appid&&(s.value=(h=t.query)==null?void 0:h.appid),o.value&&[je.value,Zt,Yt].includes(t.path)){a({path:"/"});return}const i=ce(),u=j(()=>i.siteInfo);if(!u.value.web_name){if(await i.getSite(),!u.value.web_name){E("站点名称web_name字段缺失");return}if(u.value.login_link&&i.setLoginLink(u.value.login_link),(f=u.value)!=null&&f.remote_url&&!Ot.value){const m=u.value.remote_url;je.value&&(ot.value=[...ot.value,je.value]),Hr(m),Ot.value=!0,a({...t,replace:!0});return}}if(o.value){if(!l.value.username&&!it.value.includes(t.path))try{if(await n.getUserInfo(),!l.value.username){E("用户信息缺少username字段");return}const m=n.routeList;if(m.length===0){n.Authorization="",E("您没有任何权限，请联系管理员！"),a({path:je.value});return}m.forEach(v=>{J.addRoute("default-router",v)}),a({...t,replace:!0});return}catch(m){console.error("前置路由错误",m)}}else if(!ot.value.includes(t.path)){a({path:je.value,query:{redirect:t.path}});return}a()});J.afterEach(t=>{var i,u,c;const{version_name:e}=oa(),n=((i=ce().siteInfo)==null?void 0:i.web_name)||"XHAdmin",s=`${n} ${e}`;let o=(u=t.meta)==null?void 0:u.title;const l=(c=t.query)==null?void 0:c.code;l&&(o=co[l]||"抱歉，你访问的页面不存在"),o?document.title=`${o} - ${s}`:n&&(document.title=s),Jt.done()});const Gr=t=>{t.use(Be),t.config.globalProperties.$XModal=Be.modal,t.config.globalProperties.$XPrint=Be.print,t.config.globalProperties.$XSaveFile=Be.saveFile,t.config.globalProperties.$XReadFile=Be.readFile},Jr=to(),Se=ao(Qr);Gr(Se);Se.use(Jr);Se.use(J);Se.use(oo);Se.mount("#app");ra.vue=Se;export{ca as X,ee as _,ce as a,ea as b,L as c,qe as d,co as e,$e as f,aa as g,We as h,vt as i,_e as j,Xe as l,ie as o,Ie as u};
