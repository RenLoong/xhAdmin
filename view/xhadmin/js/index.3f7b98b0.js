var wa=Object.defineProperty;var ba=(t,e,a)=>e in t?wa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var Ne=(t,e,a)=>(ba(t,typeof e!="symbol"?e+"":e,a),a);import{d as A,r as y,c as j,z as Pa,e as Ca,a as st,b as T,o as m,f as C,w,g as k,u as c,E as lt,N as rt,h as Ot,i as $a,j as Da,k as Ft,l as qt,m as zt,n as x,p as $,t as F,F as N,q as G,s as S,v as H,x as Ht,y as Ia,A as Nt,B as re,C as Te,D as Wt,G as Ce,H as he,I as ve,J as dt,K as Aa,L as Pt,M as Ba,O as ja,P as Ea,Q as Ta,R as Ra,S as Va,T as _e,U as de,V as $e,W as De,X as Me,Y as Z,Z as ee,_ as Sa,$ as X,a0 as Ua,a1 as Xt,a2 as La,a3 as Ma,a4 as Oa,a5 as Fa,a6 as Qt,a7 as Ct,a8 as qa,a9 as za,aa as Ha,ab as $t,ac as Dt,ad as Je,ae as It,af as Na,ag as Wa,ah as Xa,ai as Zt,aj as Qa,ak as Za,al as Ae,am as Ja,an as Ka,ao as Ga,ap as Ya,aq as Jt,ar as eo,as as to,at as ao}from"./.pnpm.cb614f95.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();const oo=A({__name:"index",setup(t){const e=y("zh-cn"),a=j(()=>e.value==="zh-cn"?Pa:Ca),n=st({autoInsertSpace:!1}),s=st({max:1});return(o,l)=>{const r=T("router-view"),u=T("el-config-provider");return m(),C(u,{button:c(n),message:c(s),locale:c(a)},{default:w(()=>[k(r)]),_:1},8,["button","message","locale"])}}}),We="/login",Kt="/register",Gt="/password",no="/user/personal",Yt="/Index/index",so=["/exception","/401","/403","/404","/401","/500","/502"],lo={401:"您没有权限访问该页面",403:"资源错误",404:"资源错误",500:"服务器内部错误",502:"请求错误，无法获取到数据"},ro="modulepreload",co=function(t){return"/"+t},At={},xe=function(e,a,n){if(!a||a.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(a.map(o=>{if(o=co(o),o in At)return;At[o]=!0;const l=o.endsWith(".css"),r=l?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const _=s[d];if(_.href===o&&(!l||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${r}`))return;const i=document.createElement("link");if(i.rel=l?"stylesheet":ro,l||(i.as="script",i.crossOrigin=""),i.href=o,document.head.appendChild(i),l)return new Promise((d,_)=>{i.addEventListener("load",d),i.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},te=A({__name:"index",props:{icon:{},size:{default:18},color:{}},setup(t){const e=t,a=j(()=>{if(lt[e.icon])return lt[e.icon];if(rt[e.icon])return rt[e.icon]});return(n,s)=>{const o=T("el-icon");return m(),C(o,{size:n.size,color:n.color},{default:w(()=>[(m(),C(Ot(c(a))))]),_:1},8,["size","color"])}}}),W=(t,e,a="",n)=>{$a({message:t,title:a,duration:2e3,type:e,...n})},pe=(t,e="温馨提示",a)=>{W(t,"success",e,a)},E=(t,e="温馨提示",a)=>{W(t,"error",e,a)},Re=()=>location.pathname.replace(/^\/+|\/+$/g,""),Pe=(t="",e=!1)=>{const a=J.currentRoute.value,n=Re(),s=y(a.path);if(e){const o=s.value.indexOf("/",1);s.value=s.value.substring(0,o),s.value=`${s.value}/`}return`${n}${s.value}${t}`},Fe=t=>{let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},ue=(t,e)=>{Fe(t)?location.href=t:J.push({path:t,query:e})};function et(t=6){let e="";for(let a=0;a<t;a++)e+=Math.floor(Math.random()*10);return e}const Oe=(t,e)=>{for(const a in e)if(e[a]===t)return!0;return!1},Xe=()=>{var e;(e=J.currentRoute.value.query)!=null&&e.isBack||E("返回上次页面错误"),J.back()},io=t=>t.replace(/\/(\w)/g,(e,a)=>a.toUpperCase()),ea=(t,e="Enter")=>{const a=n=>{n.key===e&&(t(),n.preventDefault())};Da(()=>document.addEventListener("keydown",a)),Ft(()=>document.removeEventListener("keydown",a))},pt=t=>{let e;const a={},n=t.slice(t.indexOf("?")+1).split("&");for(let s=0;s<n.length;s++)e=n[s].split("="),a[e[0]]=e[1];return a},mt="authorization",_t="appid",qe=qt(()=>{const t=Re();return zt(`${t}_${mt}`,null)}),Ie=qt(()=>{const t=Re();return zt(`${t}_${_t}`,null)}),Ke=A({__name:"menu-item",props:{menuData:{}},setup(t){const e=Ie(),a=n=>{const s=n.path,o=y({});n.ajaxParams&&(o.value=pt(n.ajaxParams));let l={...o.value};e.value&&(l={...l,appid:e.value}),ue(`/${s}`,l)};return(n,s)=>{const o=T("el-menu-item-group"),l=T("el-menu-item");return m(),x(N,null,[n.menuData.isGroup&&n.menuData.show?(m(),C(o,{key:0},{title:w(()=>[$("span",null,F(n.menuData.title),1)]),default:w(()=>[(m(!0),x(N,null,G(n.menuData.children,r=>(m(),C(Ke,{key:r.activeId,"menu-data":r},null,8,["menu-data"]))),128))]),_:1})):S("",!0),!n.menuData.isGroup&&n.menuData.show?(m(),C(l,{key:1,index:n.menuData.activeId,onClick:s[0]||(s[0]=r=>a(n.menuData))},{default:w(()=>[H(F(n.menuData.title),1)]),_:1},8,["index"])):S("",!0)],64)}}}),uo=A({__name:"menu-item-level",props:{menuData:{}},setup(t){const e=Ie(),a=n=>{const s=n.path,o=y({});n.ajaxParams&&(o.value=pt(n.ajaxParams));let l={...o.value};e.value&&(l={...l,appid:e.value}),ue(`/${s}`,l)};return(n,s)=>{const o=T("el-sub-menu"),l=T("el-menu-item");return m(),x(N,null,[n.menuData.isGroup&&n.menuData.show?(m(),C(o,{key:0,index:n.menuData.activeId},{title:w(()=>[$("span",null,F(n.menuData.title),1)]),default:w(()=>[(m(!0),x(N,null,G(n.menuData.children,r=>(m(),C(Ke,{key:r.activeId,"menu-data":r},null,8,["menu-data"]))),128))]),_:1},8,["index"])):S("",!0),!n.menuData.isGroup&&n.menuData.show?(m(),C(l,{key:1,index:n.menuData.activeId,onClick:s[0]||(s[0]=r=>a(n.menuData))},{default:w(()=>[H(F(n.menuData.title),1)]),_:1},8,["index"])):S("",!0)],64)}}}),po={layout:"mix",layoutMenu:"level",layoutTabsTheme:"radius",theme:"OS",sideMenuWidth:80,sideWidth:200,headerHeight:50,logoHeight:30,footerHeight:35},Bt={nickname:"",username:"",password:"",headimg:"",role:{},menus:[]},ct=y("OS"),it=matchMedia("(prefers-color-scheme: dark)"),tt=()=>{it.matches?document.documentElement.dataset.theme="dark":document.documentElement.dataset.theme="light"};Ht(()=>{ct.value==="OS"?(it.addEventListener("change",tt),tt()):(document.documentElement.dataset.theme=ct.value,it.removeEventListener("change",tt))});function mo(){return{theme:ct}}const _o={web_name:"",web_title:""},ft="/",K=Ia.create({baseURL:ft,timeout:6e4}),fo=async t=>{const e=qe();e.value&&t.headers.set(mt,e.value);const a=Ie();return a.value&&t.headers.set(_t,a.value),t},ho=t=>{var s,o,l,r,u;const e=qe(),a=t.data,n=t.headers["content-type"];if(n.includes("application/json")){if((a==null?void 0:a.code)===301)return ue(((s=a==null?void 0:a.data)==null?void 0:s.url)??""),Promise.reject(a);if((a==null?void 0:a.code)===302)return E((a==null?void 0:a.msg)||"302.网络错误~"),ue(((o=a==null?void 0:a.data)==null?void 0:o.url)??""),Promise.reject(a);if((a==null?void 0:a.code)===303)return E((a==null?void 0:a.msg)||"303.网络错误~"),ue(((l=a==null?void 0:a.data)==null?void 0:l.url)??""),Promise.reject(a);if((a==null?void 0:a.code)===304)return window.location.reload(),Promise.reject(a);if((a==null?void 0:a.code)===305)return E((a==null?void 0:a.msg)||"305.网络错误~"),setTimeout(()=>{window.location.reload()},2500),Promise.reject(a);if([600,666,11e3].includes(a==null?void 0:a.code))return Promise.reject(a);if((a==null?void 0:a.code)===200)return a;if((a==null?void 0:a.code)===12e3){e.value="";let i=(r=J.currentRoute.value)==null?void 0:r.fullPath;return(u=J.currentRoute.value.query)!=null&&u.redirect&&(i=J.currentRoute.value.query.redirect),i===We&&(i="/"),J.replace({path:We,query:{redirect:i}}),E((a==null?void 0:a.msg)||"登录超时啦~"),Promise.reject(a)}return a!=null&&a.msg&&E((a==null?void 0:a.msg)||"网络错误~"),Promise.reject(a)}else return n.includes("application/octet-stream")?Promise.resolve(a):Promise.reject(a)},vo=t=>{if(t.response){const{status:e}=t.response;e===401?ue("/exception",{code:401}):e===403?ue("/exception",{code:403}):e===500?ue("/exception",{code:500}):e===502&&ue("/exception",{code:502})}return Promise.reject(t)};K.interceptors.request.use(fo);K.interceptors.response.use(ho,vo);const go=Object.freeze(Object.defineProperty({__proto__:null,baseURL:ft,default:K,instance:K},Symbol.toStringTag,{value:"Module"})),we=(t,e,a)=>K.request({url:t,params:e,method:"GET",...a}),je=(t,e,a)=>K.request({url:t,data:e,method:"POST",...a}),Qe=(t,e,a)=>K.request({url:t,data:e,method:"PUT",...a}),Ze=(t,e,a)=>K.request({url:t,data:e,method:"DELETE",...a}),ce=Nt("app",()=>{const e=`/${Re()}/Publics/site`,a=Ie(),n=y({..._o}),s=y(),o=u=>{n.value=u};return{useAppId:a,siteInfo:n,getSite:async()=>{const{data:u}=await we(e);return o(u),u},setSiteInfo:o,setLoginLink:u=>{s.value=u}}}),be=(t,e="温馨提示",a="",n)=>re.confirm(t,e,{confirmButtonText:"确定",cancelButtonText:"取消",type:a,...n}),Ve=Nt("user",()=>{const t=qe(),e=y({...Bt}),a=y([]),n=y([]),s=y({...po}),o=f=>{if(!(f!=null&&f.menus)){E("用户信息缺少Menus字段参数");return}f.menus instanceof Array&&f.menus.length>0&&(a.value=Dc(f.menus),n.value=pa(f.menus)),f!=null&&f.theme&&(s.value={...s.value,...f.theme}),e.value=f};return{layoutInfo:s,userInfo:e,Authorization:t,login:async f=>{var B,g,D;const p=(g=(B=ce().siteInfo)==null?void 0:B.public_api)==null?void 0:g.login;if(!p){E("请配置登录接口");return}const{msg:v,data:b}=await je(p,f);if(b!=null&&b.token){let P=b.token;P.includes("Bearer")||(P=`Bearer ${P}`),t.value=P,pe(v??"登录成功","温馨提示");const I=((D=J.currentRoute.value.query)==null?void 0:D.redirect)||"/";J.push(I)}else E(v??"登录失败")},loginOut:()=>{be("是否确认退出登录？","温馨提示","error").then(()=>{t.value="",o({...Bt}),J.push(We)})},getUserInfo:async()=>{var v;const h=(v=ce().siteInfo.public_api)==null?void 0:v.user;if(!h){E("请配置用户信息接口");return}const{data:p}=await we(h);p&&o(p)},routeList:a,menuList:n,setTheme:f=>{s.value.theme=f,mo().theme.value=f},setLayout:f=>{s.value.layout=f},setLayoutMenu:f=>{s.value.layoutMenu=f}}}),yo={class:"xhadmin-menus-pro"},ko=["onClick"],xo={class:"text"},wo={key:0,class:"mask"},bo=A({__name:"menu",props:{active:{},menus:{},sideMenuWidth:{default:60},sideWidth:{default:200}},setup(t){const e=t;Te(p=>({"680266e8":c(u),"6a9af98b":c(r)}));const a=Ie(),n=Ve(),{layoutInfo:s}=Wt(n),o=j(()=>{var p;return((p=s.value)==null?void 0:p.layoutMenu)||"group"}),l=j(()=>{var p;return((p=s.value)==null?void 0:p.layoutTabsTheme)||"radius"}),r=j(()=>`${e.sideMenuWidth}px`),u=j(()=>`${e.sideWidth}px`),i=y(""),d=y(""),_=p=>{i.value=p;const v=i.value.split("-");d.value=v[0]},f=p=>{var B;const v=p[0],b=(B=v==null?void 0:v.children)==null?void 0:B.find(g=>g.show===!0);return v!=null&&v.children&&b?f((v==null?void 0:v.children)??[]):v},h=p=>{var R;const v=(R=p==null?void 0:p.children)==null?void 0:R.find(I=>I.show===!0);let b=p;p!=null&&p.children&&v&&(b=f((p==null?void 0:p.children)??[]));const B=b.path,g=y({});b.ajaxParams&&(g.value=pt(b.ajaxParams));const D=b.activeId;_(D);let P={...g.value};a.value&&(P={...P,appid:a.value}),ue(`/${B}`,P)};return Ce(()=>{_(e.active)}),(p,v)=>{const b=te,B=T("el-menu");return m(),x("div",yo,[(m(!0),x(N,null,G(p.menus,g=>(m(),x("div",{key:g.id,class:"item"},[g.show?(m(),x("div",{key:0,class:he({"item-triangle":c(l)==="triangle","item-radius":c(l)==="radius",active:c(d)===g.activeId}),onClick:D=>h(g)},[k(b,{icon:g.icon,size:"22",type:(g==null?void 0:g.iconType)||""},null,8,["icon","type"]),$("div",xo,F(g.title),1),c(l)==="triangle"?(m(),x("div",wo)):S("",!0)],10,ko)):S("",!0),$("div",{class:he(["item-children",{active:c(d)===g.activeId}])},[k(B,{"default-active":p.active,"unique-opened":c(o)==="level"},{default:w(()=>[(m(!0),x(N,null,G(g.children,D=>(m(),x(N,{key:D.activeId},[c(o)==="level"?(m(),C(uo,{key:0,"menu-data":D},null,8,["menu-data"])):(m(),C(Ke,{key:1,"menu-data":D},null,8,["menu-data"]))],64))),128))]),_:2},1032,["default-active","unique-opened"])],2)]))),128))])}}});const L=(t,e)=>{const a=t.__vccOpts||t;for(const[n,s]of e)a[n]=s;return a},Po=L(bo,[["__scopeId","data-v-c17fd2f9"]]),jt="data:image/png;base64,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",Co=["src"],$o=A({__name:"image",props:{logoSrc:{},logoHeight:{default:35}},setup(t){const e=t;Te(s=>({"81a0ee70":c(n)}));const a=j(()=>e.logoSrc?e.logoSrc:jt),n=j(()=>`${e.logoHeight}px`);return(s,o)=>{const l=T("el-image");return m(),C(l,{src:c(a),class:"logo"},{error:w(()=>[$("img",{src:c(jt),class:"logo"},null,8,Co)]),_:1},8,["src"])}}});const ta=L($o,[["__scopeId","data-v-cf3a1c93"]]),Do=A({__name:"title",props:{sideName:{default:"XhAdmin"}},setup(t){return(e,a)=>(m(),x("span",null,F(e.sideName),1))}}),Io={class:"xhadmin-logo-pro"},Ao={class:"logo-image"},Bo={class:"logo-text"},jo=A({__name:"index",props:{headerHeight:{},sideWidth:{},sideMenuWidth:{},logoHeight:{},logoSrc:{},sideName:{}},setup(t){const e=t;Te(o=>({"8b156f6c":c(a),"42433e3e":c(s),"045d336e":c(n)}));const a=j(()=>`${e.sideWidth}px`),n=j(()=>`${e.sideMenuWidth}px`),s=j(()=>`${e.headerHeight}px`);return(o,l)=>(m(),x("div",Io,[$("div",Ao,[k(ta,{"logo-src":o.logoSrc,"logo-height":o.logoHeight},null,8,["logo-src","logo-height"])]),$("div",Bo,[k(Do,{"side-name":o.sideName,"logo-height":o.logoHeight},null,8,["side-name","logo-height"])])]))}});const Eo=L(jo,[["__scopeId","data-v-3617cfe5"]]),aa=A({__name:"index",setup(t){const e=ve(),a=()=>`${new Date().getTime()}${Math.random()}`,n=y("");return dt(()=>e.fullPath,()=>{n.value=a()}),(s,o)=>{const l=T("router-view");return m(),C(l,{key:c(n)})}}}),Et="OUtzMas9edTHUH/JnNdjl4lHWYG9gISU6vl1DnlCzkumaS2EkD8OLhRzTMziPeF5AxwRwukfkvIVs2nzq7KWi2RxbtTzzLtOQMml5cLVHkQZs8dhEMLkXtyVFKOTAjsXTvU2NFMCfwUc8LhqIrDnbd11kU5oQoTcysWvQbk/P6wfBMd7p3TOZwWewFg+oz5qHfwhgtW2dXev4p+a9fknRNBKUgdBxStKVsImmh4SlXRfOlhgMhOoL6ycaOdbhz6LgvDynfuWIA7dngosFv6x9SXIW2WndIoztR/4A+9uYG6xxiuH7Por9QJjFVU/VzLytposud3gAQi7ba2gyN9I6g==e3dqJ6AL4KUa3qpU0WtHV215X5FP5e1CZeyTqT2ap9dEOIS8hp94xpVIod9MSyYorLrNVOo8OyocipT9zLZITtPJ5LNVczJcnzHrNi6goXzojZ7etvuGK0HRj8CygkIhZMb7PUF9lNodtoUJ8BOjKvvETpXXSnHmyhwyskBRtBZ3LwAbKNCNKPCDhDQgF/Zo8P0h+oUjCZ/3B2kvSxPhPS9OjPU583PqOlZZNf0/2TzC+JxCI2Du/87kDGUXS8Y7UKP2NzdlqT21VkOQnbsFHRGg3jfT/+uJu6M/qljnvGo6bp6nL0vpD0paZmKrSUGVE99FWkLYNRiWAKkttCDn2g==",Tt=`-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCz+Ny6Y+2LRQb5
d81sZgzExl3EwWHJnP/BDOqD90UxEYStdzVulGtykumcfUPW+Hugspq8waetBGb7
MEFcbl3y7cTmrK/4Uninmy5Nf4nsGQk+/5WvQE2pzlLfPH0ZgxWyFepNdIXc6+k/
loXCOLus0jUZoDnN1YJfDMtGi+VyYl1jbatu3TQohO15NRb4KZ1TUeWQbOSnpXDA
WA2x9qVJtgKn1sD3KlxPu9Lm01QqCiIrEHEBWWCJQesgwP98JS438kCRmZMQBEJV
urr4UsLH889TMFg5ySKoGFLs3NOwOKbf0wwSpl4t7kAqyKOhbd4IprPVih/E9We5
VvYn5+7JAgMBAAECggEAMGRcRaoU93vKEk5KaDlQeaC1GfC9sI6MnoYwkOduLXF+
cX46Wc+CzL4AHtn34dfStjUQMm0H/xfN8QDaslXi4S1Z4oTQlD7ovniVjLUciuV4
fP4Qa50oxN37npcPNErxDH+kDsukKvEsOLLqqHzEygWDza4tnNEqSxCPoBqBya2B
TZomn3559fCOxGbKn7+3wlF7kKqr1HCbgX04RGISksh/EA1KPZRxOIol3B4dtz+H
xG/aG5aAGGnsFhlk/V/UiCBpyNYyJjVidJE9r8sY+GrszIEzsCLePhSWwG0UoTTN
PRt1o+nMCTuF8VoCkWGI7K6S5J5mQKdsFSaLPbLj4QKBgQDuEkf17kRNxWd2zBE7
fLGeRoezjyTBxcn6zzaJ1jQXs/ROV08q/LxNdRRNJ3jPk3V9y9Ceh6tyGvitumDF
m2fsrb+yofXQ8gL8xKFXhJHhbPRVqNKfb0DIWIeLSmhDM4xvmK3E+EuDQCe+t+7d
KRhUzYVXtsfid2MOrCfCkTwR5QKBgQDBhn/cs78V6hheZt0JUpV+bL01qelEC+SV
qwprkxbp6HWkRLp0yQb18Khq1s0NtMAQXlM5BGCQR9i7syy5vGi80a/lsR1O8F3y
PSo1GFYX9MGhIUHp7pw/6ls4WgZQ4eDMW7w0mrJ8DPUXlw2q/kY4SCAAHbGqarBo
nc8cv4UrFQKBgDbF0fSM+v4BmspELPrIt3y4sWPoXQaP4OZpYhzYQWfqqRyVDcvQ
FeqkMyWFHVB0lqV4jOjMQe+gsPIXXUhZdtGHMAGDLbEC3RkWjCA8ieuZS6Whj8PK
rtbpN1Yeqlo7s+XA9MnKbmUmD37bhoMvfz+TgUgq71X1Lb8kcIldLLrZAoGAJR1/
fjt25WQNImXF9JjDFQkTzKv2kddaEp5IFFOUbG3pygRoYid/z0FFe6AQmZVV1I3S
ljfRsTomRfFaHZEV4Uix3HJ4dYBB9EhoxOAS+us1C4sOUigyDUwMDKWvWmnHrEnX
sZsNqh7uDoUo2OeFXhvvDzaisVVe2eGSLChLCPUCgYEAqIu/Ws/C2OceneO25l/3
2WxcN3UbVT6x8TkwFjYv9UWs0/Opqlnj8aFy4zgU76zIDRGjVyObv53Gwhaaim1z
TeIrGe7RcWmPjzsERGlb+qe7tvCiNNDTd6RK0ywIrcSUrkEaZepqUepGFgB/vq9T
v07JgHIyR8viVUUqohaz5hM=
-----END PRIVATE KEY-----`,To=window.location.hostname,at=(t,e)=>{const a=new Aa;a.setPrivateKey(e);const n=t.match(/.{1,344}/g);if(!n)throw new Error("令牌表单解密失败");let s="";if(n==null||n.forEach(o=>{const l=a.decrypt(o);l&&(s+=l)}),!s)throw new Error("解密失败");return JSON.parse(new TextDecoder().decode(Uint8Array.from(window.atob(s),o=>o.charCodeAt(0))))},Ro=()=>{const e=ce().siteInfo;if(e!=null&&e.empower_token&&e.empower_private_key)try{const a=at(e.empower_token,e.empower_private_key);return a.systemUrl===To?a:at(Et,Tt)}catch(a){console.error("服务端授权失败",a)}try{return at(Et,Tt)}catch(a){console.error("系统授权错误",a)}},oa=()=>{const e=ce().siteInfo;return{version_name:(e==null?void 0:e.version_name)??"v1.0.0",version:(e==null?void 0:e.version)??1e3}},Vo={class:"copyright-set"},So={key:0},Uo=["href"],Lo=["href"],Mo=A({__name:"index",setup(t){const{systemAbout:e,systemAboutUrl:a,systemName:n,systemUrl:s}=Ro(),{version_name:o}=oa();return(l,r)=>(m(),x("div",Vo,[H(" copyright © 2023 "),c(a)==="#"?(m(),x("span",So,F(c(e)),1)):(m(),x("a",{key:1,href:`http://${c(a)}`,target:"_blank",class:"pl-10px"},F(c(e)),9,Uo)),H(" All Rights Reserved "),$("a",{href:`http://${c(s)}`,target:"_blank",class:"pl-10px"},F(c(n))+" "+F(c(o)),9,Lo)]))}});const na=L(Mo,[["__scopeId","data-v-0f253ebc"]]),Oo={form:{inline:!1,labelPosition:"top",labelSuffix:void 0,hideRequiredAsterisk:!0,labelWidth:"auto",showMessage:!0,inlineMessage:!0,statusIcon:!1,validateOnRuleChange:!0,disabled:!1,size:void 0,title:!0},row:{gutter:50,type:void 0,align:void 0,justify:void 0,tag:"div"},global:{"*":{}},submitBtn:!1,resetBtn:!1},Fo=t=>t.map(e=>(e.handle=a=>{if((e==null?void 0:e.where)==="==")return a===e.value;if((e==null?void 0:e.where)==="!=")return a!==e.value;if((e==null?void 0:e.where)==="in"){const n=e.value;return n instanceof Array&&n instanceof Object?Oe(a,e.value):(console.error("联动组件的IN条件值必须是数组或对象"),!1)}},e)),qo=t=>t.map(e=>(e!=null&&e.control&&(e.control=Fo(e.control)),e)),zo={};function Ho(t,e){return m(),x("div",null," 高德地图 ")}const No=L(zo,[["render",Ho]]),Wo={};function Xo(t,e){return m(),x("div",null," 百度地图 ")}const Qo=L(Wo,[["render",Xo]]),Zo={};function Jo(t,e){return m(),x("div",null," 腾讯地图 ")}const Ko=L(Zo,[["render",Jo]]),Go={javascript:Ba,php:ja,python:Ea,java:Ta,css:Ra,xml:Va},Yo=t=>(Pt.registerLanguage(t,Go[t]),Pt),en={class:"w-100%"},tn=["innerHTML"],an=A({__name:"index",props:{modelValue:{},language:{default:"javascript"},showLineNumbers:{type:Boolean}},setup(t){const e=t,a=Yo(e.language),n=y("");return Ht(()=>{n.value=a.highlight(e.modelValue,{language:e.language}).value}),(s,o)=>(m(),x("div",en,[$("pre",null,[H("    "),$("code",{class:"hljs",innerHTML:c(n)},null,8,tn),H(`
    `)])]))}}),on=A({__name:"xh-button",props:{type:{default:"default"},text:{type:Boolean}},setup(t){const e=t,a=j(()=>e.text?"":`xh-button-${e.type}`);return(n,s)=>(m(),x("button",{class:he(["xh-button",c(a)])},[_e(n.$slots,"loading",{},void 0,!0),_e(n.$slots,"icon",{},void 0,!0),_e(n.$slots,"default",{},void 0,!0)],2))}});const nn=L(on,[["__scopeId","data-v-a0bd6118"]]),Se=A({__name:"index",props:{type:{default:"default"}},setup(t){const e=t,a=["error","purple","cyan"],n=j(()=>a.includes(e.type));return(s,o)=>{const l=T("el-button");return c(n)?(m(),C(nn,{key:0,type:s.type},{default:w(()=>[_e(s.$slots,"loading"),_e(s.$slots,"icon"),_e(s.$slots,"default")]),_:3},8,["type"])):(m(),C(l,{key:1,type:s.type},{default:w(()=>[_e(s.$slots,"loading"),_e(s.$slots,"icon"),_e(s.$slots,"default")]),_:3},8,["type"]))}}}),sa=t=>($e("data-v-16442ce3"),t=t(),De(),t),sn={class:"xh-icons-modal"},ln={class:"xh-icons"},rn={class:"search-container"},cn=sa(()=>$("div",{class:"placeholder text-blueGray"}," 温馨提示：单击图标为选择，双击图标为复制 ",-1)),un={class:"icon-list"},dn={class:"tools"},pn=sa(()=>$("div",{class:"title"}," 所有图标 ",-1)),mn={class:"options"},_n={class:"list"},fn=["onDblclick","onClick"],hn={class:"icon-title"},vn={class:"xh-action"},gn=A({__name:"modal",emits:["update:confirm","update:close"],setup(t,{emit:e}){const a=y([{title:"Element-Plus",type:"element",icons:Object.keys(lt)},{title:"vicons/antd",type:"naiveui",icons:Object.keys(rt)}]),n=y(""),s=y("element"),o=y(""),l=y([]),r=h=>{l.value=[];const p=a.value.find(v=>v.type===h);p&&u(p.icons)};function u(h){let p=0;function v(){globalThis.requestIdleCallback(b=>{for(;b.timeRemaining()>0&&p<h.length;)l.value.push(h[p++]);p<h.length&&v()})}v()}const i=h=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(h).then(p=>{});else{const p=document.createElement("input");p.value=h,document.body.appendChild(p),p.select(),document.execCommand("Copy"),p.remove()}pe("复制成功")},d=h=>{o.value=h===o.value?"":h},_=()=>{e("update:confirm",{icon:o.value,type:s.value})},f=()=>{e("update:close")};return Ce(()=>{u(a.value[0].icons)}),(h,p)=>{const v=te,b=T("el-button"),B=T("el-button-group"),g=T("el-input"),D=T("el-option"),P=T("el-select"),R=Se;return m(),x("div",sn,[$("div",ln,[$("div",rn,[k(g,{modelValue:c(n),"onUpdate:modelValue":p[1]||(p[1]=I=>de(n)?n.value=I:null),placeholder:"图标名称"},{prepend:w(()=>[k(v,{icon:"Search",type:"element"})]),append:w(()=>[k(B,null,{default:w(()=>[k(b,{onClick:p[0]||(p[0]=I=>n.value="")},{default:w(()=>[H(" 重置 ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),cn]),$("div",un,[$("div",dn,[pn,$("div",mn,[k(P,{modelValue:c(s),"onUpdate:modelValue":p[2]||(p[2]=I=>de(s)?s.value=I:null),onChange:r},{default:w(()=>[(m(!0),x(N,null,G(c(a),(I,Q)=>(m(),C(D,{key:Q,label:I.title,value:I.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),$("div",_n,[(m(!0),x(N,null,G(c(l).filter(I=>I.includes(c(n))),(I,Q)=>(m(),x("div",{key:Q,class:he(["item",{active:I===c(o)}]),onDblclick:Y=>i(I),onClick:Y=>d(I)},[k(v,{icon:I,size:26,type:c(s),color:"#888"},null,8,["icon","type"]),$("div",hn,F(I),1)],42,fn))),128))])])]),$("div",vn,[k(R,{type:"primary",class:"xh-group-button",onClick:_},{default:w(()=>[H(" 确定 ")]),_:1}),k(R,{type:"danger",class:"xh-group-button",onClick:f},{default:w(()=>[H(" 取消 ")]),_:1})])])}}});const yn=L(gn,[["__scopeId","data-v-16442ce3"]]),ie=(t,e,a)=>re({...a,showConfirmButton:!1,customClass:"xh-modal-mask",message:()=>Me(t,e)}),Ee=()=>{re.close()},kn={key:1},xn=A({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=()=>{ie(yn,{"onUpdate:confirm":s=>{e("update:modelValue",s),re.close()},"onUpdate:close":()=>{re.close()}},{title:"图标库",closeOnClickModal:!1,customStyle:{width:"45%",height:"650px"}})},n=()=>{e("update:modelValue",""),pe("重置成功")};return(s,o)=>{var d;const l=te,r=T("el-button"),u=T("el-button-group"),i=T("el-input");return m(),C(i,{value:((d=s.modelValue)==null?void 0:d.icon)||"",placeholder:"请选择图标",disabled:""},{prepend:w(()=>{var _,f,h;return[(_=s.modelValue)!=null&&_.icon?(m(),C(l,{key:0,icon:(f=s.modelValue)==null?void 0:f.icon,type:((h=s.modelValue)==null?void 0:h.type)||"",size:18},null,8,["icon","type"])):(m(),x("span",kn,"无"))]}),append:w(()=>[k(u,null,{default:w(()=>[k(r,{type:"primary",onClick:n},{default:w(()=>[H(" 重置图标 ")]),_:1}),k(r,{type:"danger",onClick:a},{default:w(()=>[H(" 选择图标 ")]),_:1})]),_:1})]),_:1},8,["value"])}}}),wn=A({__name:"index",props:{modelValue:{},style:{default:{}}},setup(t){return(e,a)=>(m(),x("div",Z(ee(e.style)),F(e.modelValue),17))}}),bn={};function Pn(t,e){return m(),x("div",null," 自定义输入框（未实现） ")}const Cn=L(bn,[["render",Pn]]),$n=["innerHTML"],Dn=A({__name:"index",props:{text:{},icon:{default:""},style:{default:{color:"#666",padding:"5px 0 0 0",fontSize:"12px"}},iconSize:{default:16}},setup(t){return(e,a)=>{const n=te;return m(),x("div",{class:"form-prompt",style:Sa(e.style)},[e.icon?(m(),C(n,{key:0,icon:e.icon,size:e.iconSize},null,8,["icon","size"])):S("",!0),$("span",{class:"text",innerHTML:e.text},null,8,$n)],4)}}});const In=L(Dn,[["__scopeId","data-v-3e2f6421"]]),An=A({__name:"index",props:{modelValue:{},file:{},ajaxParams:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,n=o=>{e("update:modelValue",o)},s=y(a.modelValue);return(o,l)=>(m(),C(c(me),X({modelValue:c(s),"onUpdate:modelValue":l[0]||(l[0]=r=>de(s)?s.value=r:null),file:o.file},{ajaxParams:o.ajaxParams},{"onUpdate:modelValue":n}),null,16,["modelValue","file"]))}}),Bn={};function jn(t,e){return m(),x("div",null," 表格展示器 ")}const En=L(Bn,[["render",jn]]),la=j(()=>t=>{const e=t.split(".").pop();return e?["png","jpg","jpeg","gif"].includes(e):!1}),ht=t=>($e("data-v-d120635f"),t=t(),De(),t),Tn={class:"category-container"},Rn={class:"item"},Vn=ht(()=>$("div",{class:"title"}," 请输入分类名称 ",-1)),Sn={class:"item"},Un=ht(()=>$("div",{class:"title"}," 请输入分类目录 ",-1)),Ln={class:"item"},Mn=ht(()=>$("div",{class:"title"}," 请输入分类排序 ",-1)),On=A({__name:"category",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=y({...t.modelValue});return dt(()=>n,s=>{e("update:modelValue",n.value)},{immediate:!0}),(s,o)=>{const l=T("el-input");return m(),x("div",Tn,[$("div",Rn,[Vn,k(l,{modelValue:c(n).title,"onUpdate:modelValue":o[0]||(o[0]=r=>c(n).title=r),placeholder:"请输入分类名称"},null,8,["modelValue"])]),$("div",Sn,[Un,k(l,{modelValue:c(n).dir_name,"onUpdate:modelValue":o[1]||(o[1]=r=>c(n).dir_name=r),placeholder:"请输入分类目录"},null,8,["modelValue"])]),$("div",Ln,[Mn,k(l,{modelValue:c(n).sort,"onUpdate:modelValue":o[2]||(o[2]=r=>c(n).sort=r),placeholder:"请输入分类排序"},null,8,["modelValue"])])])}}});const Rt=L(On,[["__scopeId","data-v-d120635f"]]);const Fn={class:"bundle-name"},qn=$("div",{class:"flex-1"}," 附件分类 ",-1),zn=$("div",{class:"bundle-title"}," 附件管理器 ",-1),Hn={class:"categrory"},Nn=$("div",{class:"categrory-item-title"}," 全部数据 ",-1),Wn=["onClick","onDblclick"],Xn={class:"categrory-item-title"},Qn=["onClick"],Zn=["title","onClick"],Jn=["src"],Kn={class:"file-name"},Gn=$("div",{class:"flex-1"},null,-1),Yn={key:3,class:"btn-group"},es={key:4,class:"btn-group"},ts=A({__name:"modal",emits:["update:confirm"],setup(t,{emit:e}){var bt;const a=ce(),n=qe(),s=Ie(),o=a.siteInfo,l=y(),r=y(),u=y([]),i=y([]),d=y({active:"",list:[]}),_=y([]),f=y(!1),h=y(3),p=y(!1),v=(bt=o.uploadify_api)==null?void 0:bt.upload,b=y({[mt]:n.value||""});s.value&&(b.value={...b.value,[_t]:s.value});let B=ft;{const{protocol:V,hostname:U}=window.location;B=`${V}//${U}`}const g=y({action:`${B}/${v}`,data:{cid:d.value.cid||""},headers:b.value,multiple:!0,withCredentials:!0,showFileList:!1}),D=()=>r.value.scrollHeight>r.value.clientHeight,P=y({page:1,limit:20}),R=()=>{var q,O;if(f.value)return;f.value=!0;const V=((q=o==null?void 0:o.uploadify_api)==null?void 0:q.index)||"",U={cid:((O=d.value)==null?void 0:O.cid)||"",page:P.value.page,limit:P.value.limit};we(V,U).then(M=>{var le;(((le=M==null?void 0:M.data)==null?void 0:le.data)||[]).forEach(fe=>{_.value.push(fe)}),P.value.page++,setTimeout(()=>{var fe,ye;!D()&&((fe=M==null?void 0:M.data)==null?void 0:fe.current_page)<((ye=M==null?void 0:M.data)==null?void 0:ye.last_page)&&R()})}).finally(()=>{f.value=!1})},I=()=>{P.value.page=1,P.value.limit=20,d.value.active="",d.value.moveCid=void 0,d.value.cid=void 0,_.value=[],u.value=[],i.value=[]},Q=y(!1),Y=new IntersectionObserver(V=>{V[0].intersectionRatio<=0||R()}),ae=V=>{p.value?i.value.includes(V)?i.value.splice(i.value.indexOf(V),1):i.value.push(V):h.value===1?u.value[0]=V:u.value.includes(V)?u.value.splice(u.value.indexOf(V),1):(h.value===0||u.value.length<h.value)&&u.value.push(V)},oe=V=>{(V==null?void 0:V.code)===200&&(I(),R(),W((V==null?void 0:V.msg)||"上传成功！","success"))},ge=V=>{console.error(V),W("上传失败","error")},He=()=>{var U;const V=((U=o==null?void 0:o.uploadify_cate)==null?void 0:U.index)||"";we(V).then(q=>{d.value.list=(q==null?void 0:q.data)||[]})},wt=V=>{var U;d.value.active!==V&&(I(),d.value.active=V,d.value.cid=(U=d.value.list.find((q,O)=>O===V))==null?void 0:U.id,R())},ma=()=>{var q;const V=(q=o==null?void 0:o.uploadify_cate)==null?void 0:q.add;if(!V){W("请先配置分类添加接口","error");return}const U=y({sort:100});re({title:"添加分类",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"保存",message:()=>Me(Rt,{modelValue:U.value,"onUpdate:modelValue":O=>{U.value=O}}),beforeClose:(O,M,se)=>{if(O==="cancel"){se();return}if(!U.value.title){W("请输入分类名称","error");return}if(!U.value.dir_name){W("请输入分类目录","error");return}if(!U.value.sort){W("请输入分类排序","error");return}M.confirmButtonLoading=!0,M.confirmButtonText="保存中...",je(V,U.value).then(le=>{W((le==null?void 0:le.msg)||"添加成功！","success"),I(),He(),R(),se()}).catch(()=>{M.confirmButtonLoading=!1,M.confirmButtonText="保存"})}})},_a=V=>{var M;const U=(M=o==null?void 0:o.uploadify_cate)==null?void 0:M.edit;if(!U){W("请先配置分类修改接口","error");return}const q=d.value.list[V],O=y({...q});re({title:"添加分类",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"保存",message:()=>Me(Rt,{modelValue:O.value,"onUpdate:modelValue":se=>{O.value=se}}),beforeClose:(se,le,fe)=>{if(se==="cancel"){fe();return}if(!O.value.title){W("请输入分类名称","error");return}if(!O.value.dir_name){W("请输入分类目录","error");return}if(!O.value.sort){W("请输入分类排序","error");return}le.confirmButtonLoading=!0,le.confirmButtonText="保存中...",Qe(`${U}?id=${q==null?void 0:q.id}`,O.value).then(ye=>{W((ye==null?void 0:ye.msg)||"添加成功！","success"),I(),He(),R(),fe()}).catch(()=>{le.confirmButtonLoading=!1,le.confirmButtonText="保存"})}})},fa=V=>{var O;const U=d.value.list[V],q=(O=o==null?void 0:o.uploadify_cate)==null?void 0:O.del;if(!q){W("请先配置分类删除接口","error");return}be("是否确认删除该分类？","温馨提示","error").then(()=>{const M={id:U==null?void 0:U.id};Ze(q,M).then(se=>{W((se==null?void 0:se.msg)||"添加成功！","success"),I(),He(),R()})})},ha=()=>{var q,O;if(!((q=d.value)!=null&&q.moveCid)){W("请选择需要移动到的分类","error");return}if(i.value.length<=0){W("请选择需要移动的文件","error");return}const V=(O=o==null?void 0:o.uploadify_api)==null?void 0:O.move;if(!V){W("请先配置文件移动接口","error");return}const U={cid:d.value.moveCid,ids:i.value.map(M=>M.id)};je(V,U).then(M=>{I(),R(),p.value=!1,W((M==null?void 0:M.msg)||"移动成功！","success")})},va=()=>{var q;if(i.value.length<=0){W("请选择需要删除的文件","error");return}const V=(q=o==null?void 0:o.uploadify_api)==null?void 0:q.del;if(!V){W("请先配置文件删除接口","error");return}const U={ids:i.value.map(O=>O.id)};be("是否确认删除选中的文件？","温馨提示","error").then(()=>{Ze(V,U).then(O=>{I(),R(),p.value=!1,W((O==null?void 0:O.msg)||"删除成功！","success")})})},ga=()=>{p.value=!1,i.value=[]},ya=()=>{i.value.length===_.value.length?i.value=[]:i.value=[..._.value]},ka=()=>{if(u.value.length<=0){W("请选择文件","error");return}e("update:confirm",u.value),Q.value=!1},xa=()=>{Q.value=!0,He(),R(),Ua(()=>{l.value&&Y.observe(l.value)})};return Ft(()=>{l.value&&Y.unobserve(l.value)}),(V,U)=>{const q=te,O=T("el-icon"),M=T("el-button"),se=T("el-upload"),le=T("el-option"),fe=T("el-select"),ye=T("el-dialog");return m(),x(N,null,[_e(V.$slots,"open",{open:xa}),k(ye,{modelValue:c(Q),"onUpdate:modelValue":U[4]||(U[4]=z=>de(Q)?Q.value=z:null),width:"60%",class:"bundle-dialog",draggable:"","append-to-body":"","close-on-click-modal":!1,onClose:I},{header:w(()=>[$("div",Fn,[qn,k(O,{size:20,class:"pointer",onClick:ma},{default:w(()=>[k(q,{icon:"FolderAdd",type:"element"})]),_:1})]),zn]),footer:w(()=>[k(se,X(c(g),{class:"mr-3","on-success":oe,"on-error":ge}),{default:w(()=>[k(M,{type:"success"},{default:w(()=>[H(" 上传 ")]),_:1})]),_:1},16),c(p)?(m(),C(M,{key:0,type:"danger",onClick:ga},{default:w(()=>[H(" 退出 ")]),_:1})):(m(),C(M,{key:1,onClick:U[1]||(U[1]=z=>p.value=!0)},{default:w(()=>[H(" 管理 ")]),_:1})),c(p)?(m(),C(M,{key:2,onClick:ya},{default:w(()=>[H(" 全选 ")]),_:1})):S("",!0),Gn,c(p)?(m(),x("div",Yn,[k(fe,{modelValue:c(d).moveCid,"onUpdate:modelValue":U[2]||(U[2]=z=>c(d).moveCid=z),class:"mr-2"},{default:w(()=>[(m(!0),x(N,null,G(c(d).list,(z,ke)=>(m(),C(le,{key:ke,label:z.title,value:z.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),k(M,{type:"warning",disabled:c(i).length<=0,onClick:ha},{default:w(()=>[H(" 移动 ")]),_:1},8,["disabled"]),k(M,{type:"danger",disabled:c(i).length<=0,onClick:va},{default:w(()=>[H(" 删除("+F(c(i).length)+") ",1)]),_:1},8,["disabled"])])):(m(),x("div",es,[k(M,{onClick:U[3]||(U[3]=z=>Q.value=!1)},{default:w(()=>[H(" 取消 ")]),_:1}),k(M,{type:"primary",disabled:c(u).length<=0,onClick:ka},{default:w(()=>[H(" 确认选择("+F(c(u).length)+") ",1)]),_:1},8,["disabled"])]))]),default:w(()=>[$("div",Hn,[$("div",{class:he(["categrory-item",{active:c(d).active===""}])},[$("div",{class:"categrory-item-left-title",onClick:U[0]||(U[0]=z=>wt(""))},[k(O,{color:"#FBAC15"},{default:w(()=>[k(q,{icon:"FolderOpened",type:"element"})]),_:1}),Nn])],2),(m(!0),x(N,null,G(c(d).list,(z,ke)=>(m(),x("div",{key:z,class:he(["categrory-item",{active:ke===c(d).active}])},[$("div",{class:"categrory-item-left-title",onClick:Ye=>wt(ke),onDblclick:Ye=>_a(ke)},[k(O,{color:"#FBAC15"},{default:w(()=>[k(q,{icon:"FolderOpened",type:"element"})]),_:1}),$("div",Xn,F((z==null?void 0:z.title)||""),1)],40,Wn),(z==null?void 0:z.is_system)==="10"?(m(),x("div",{key:0,class:"categrory-item-right-icon",onClick:Ye=>fa(ke)},[k(q,{icon:"Delete",class:"delete-icon",type:"element"})],8,Qn)):S("",!0)],2))),128))]),$("div",{ref_key:"bundleBodyRef",ref:r,class:"bundle-body"},[(m(!0),x(N,null,G(c(_),(z,ke)=>(m(),x("div",{key:ke,title:z.filename,class:he(["file-item",{active:!c(p)&&c(u).includes(z),"active-warning":c(p)&&c(i).includes(z)}]),onClick:Ye=>ae(z)},[c(la)(z.url)?(m(),x("img",{key:0,src:(z==null?void 0:z.url)||"",class:"file-thumb"},null,8,Jn)):(m(),C(O,{key:1,class:"file-thumb"},{default:w(()=>[k(q,{icon:"Document",size:40,type:"element"})]),_:1})),$("div",Kn,F((z==null?void 0:z.filename)||""),1)],10,Zn))),128)),$("div",{ref_key:"loadMoreRef",ref:l,class:"load-more"},null,512)],512)]),_:1},8,["modelValue"])],64)}}}),as={class:"upload-container"},os=["onClick"],ns=["onClick"],ss=A({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,n=o=>{const l=o.map(r=>r==null?void 0:r.url);e("update:modelValue",l)},s=o=>{const l=a.modelValue.filter((r,u)=>u!==o);e("update:modelValue",l)};return Ce(()=>{if(typeof a.modelValue=="string"){const o=a.modelValue===""?"":[a.modelValue];e("update:modelValue",o)}}),(o,l)=>{const r=T("el-image"),u=te,i=T("el-icon");return m(),x("div",null,[k(ts,{"onUpdate:confirm":n},{open:w(({open:d})=>[$("div",as,[(m(!0),x(N,null,G(o.modelValue,(_,f)=>(m(),x("div",{key:f,class:"item"},[c(la)(_)?(m(),C(r,{key:0,class:"image","preview-src-list":o.modelValue,"z-index":999,src:_,infinite:!1},null,8,["preview-src-list","src"])):(m(),C(i,{key:1,class:"file-thumb"},{default:w(()=>[k(u,{icon:"Document",size:28,type:"element"})]),_:1})),$("div",{class:"del-file",onClick:h=>s(f)},[k(u,{icon:"Delete",size:15,type:"element"})],8,os)]))),128)),$("div",{class:"item",onClick:d},[k(u,{icon:"PlusOutlined",size:24,color:"#888"})],8,ns)])]),_:1})])}}});const ls=L(ss,[["__scopeId","data-v-8611f2b3"]]);class rs{constructor(){Ne(this,"title","");Ne(this,"iconSvg","");Ne(this,"tag","");this.title="My menu title",this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M960 896H64A64 64 0 0 1 0 832v-341.321143c0-35.364571 28.672-64 64-64h896a64 64 0 0 1 64 64V832A64 64 0 0 1 960 896z m-21.321143-85.321143V512H85.321143V810.678857h853.357714zM469.321143 341.321143a42.678857 42.678857 0 0 0 5.010286-85.028572l-5.010286-0.292571h-384v-298.678857h384c21.650286 0 39.862857-16.164571 42.386286-37.668572l0.292571-4.973714c0-21.650286-16.201143-39.862857-37.668571-42.386286l-5.010286-0.292571H64a64 64 0 0 0-63.707429 57.856L0-64v341.321143a64 64 0 0 0 57.856 63.707428l6.144 0.292572h405.321143z m234.678857-256a64 64 0 1 1 128 0 64 64 0 0 1-128 0z m184.978286 213.357714h-241.956572l-119.954285-213.357714L647.021714-128h241.956572l119.954285 213.321143-119.954285 213.357714z m-49.956572-85.357714l72.009143-128-72.045714-128h-142.006857l-72.045715 128 71.972572 128h142.116571z m-604.342857 512h42.642286c14.262857 0 21.357714-7.094857 21.357714-21.321143v-85.321143c0-14.262857-7.131429-21.357714-21.357714-21.357714H234.678857c-14.262857 0-21.357714 7.131429-21.357714 21.357714V704c0 14.226286 7.131429 21.321143 21.357714 21.321143z m0-554.642286h42.642286c14.262857 0 21.357714-7.131429 21.357714-21.357714v-85.321143c0-14.226286-7.131429-21.321143-21.357714-21.321143H234.678857c-14.262857 0-21.357714 7.094857-21.357714 21.321143v85.321143c0 14.262857 7.131429 21.357714 21.357714 21.357714z m170.642286 554.642286h42.678857c14.226286 0 21.321143-7.094857 21.321143-21.321143v-85.321143c0-14.262857-7.094857-21.357714-21.321143-21.357714h-42.678857c-14.226286 0-21.321143 7.131429-21.321143 21.357714V704c0 14.226286 7.094857 21.321143 21.321143 21.321143z m0-554.642286h42.678857c14.226286 0 21.321143-7.131429 21.321143-21.357714v-85.321143c0-14.226286-7.094857-21.321143-21.321143-21.321143h-42.678857c-14.226286 0-21.321143 7.094857-21.321143 21.321143v85.321143c0 14.262857 7.094857 21.357714 21.321143 21.357714z"></path></svg>',this.tag="button"}getValue(e){return" hello "}isActive(e){return!1}isDisabled(e){return!1}exec(e,a){this.isDisabled(e)||e.insertText(a)}}const cs={class:"editor-container"},is=A({__name:"index",props:{modelValue:{},toolbarConfig:{},editorConfig:{},editHeight:{default:300},isUploadify:{type:Boolean,default:!0},uploadifyLimit:{},uploadifyExt:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t;Te(d=>({ea3b2e2a:c(i)}));const n=Xt(),s=y(a.modelValue),o={key:"xhUploadify",factory(){return new rs}};La.registerMenu(o);const l=j(()=>({}));Ma(()=>{const d=n.value;d!=null&&d.destroy()});const r=d=>{n.value=d},u=d=>{const _=d.getHtml();e("update:modelValue",_)},i=j(()=>`${a.editHeight}px`);return(d,_)=>(m(),x("div",cs,[k(c(Oa),X({class:"toolbar",editor:c(n)},c(l)),null,16,["editor"]),k(c(Fa),{modelValue:c(s),"onUpdate:modelValue":_[0]||(_[0]=f=>de(s)?s.value=f:null),"default-config":d.editorConfig,class:"editor-content",onOnCreated:r,onOnChange:u},null,8,["modelValue","default-config"])]))}});const Vt=L(is,[["__scopeId","data-v-9a4165d5"]]),St={amap:No,bmap:Qo,icons:xn,qmap:Ko,remote:An,uploadify:ls,info:wn,HCode:an,PromptTip:In,wangEditor:Vt,tinymceEditor:Vt,XInput:Cn,XTable:En},us=t=>{Object.keys(St).forEach(e=>{t.component(e,St[e])})},vt=A({__name:"index",props:{api:{default:""},method:{default:"GET"},ajaxParams:{},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{expose:e,emit:a}){const n=t,s=ve(),o=Qt(),l=y({}),r=y({api:"",method:"POST"}),u=y({}),i=y(),d=y(Oo),_=y("");Ct.use(us);const f=Ct.$form(),h=()=>{const b=y({method:n.method,params:{...n.ajaxParams},data:{...n.ajaxParams}});n.method==="GET"?delete b.value.data:delete b.value.params,a("update:init"),K(n.api,b.value).then(B=>{const{data:g}=B;if(!(g!=null&&g.http))return E("提交接口获取失败"),Promise.reject(new Error("提交接口获取失败"));if(!(g!=null&&g.formRule))return E("表单规则获取失败"),Promise.reject(new Error("表单规则获取失败"));r.value=g.http,i.value=qo(g.formRule),d.value={...d.value,...g.config},_.value=(g==null?void 0:g.redirect)??"",a("update:init-ok",{response:g,exposed:o.exposed})}).catch(B=>{a("update:init-error",B)})},p=()=>{var B,g,D;const b=y({method:((B=r.value)==null?void 0:B.method)??"GET",params:{...n.ajaxParams},data:{}});((g=r.value)==null?void 0:g.method)==="GET"?b.value.params={...b.value.params,...u.value}:b.value.data={...b.value.data,...u.value},a("update:submit",{api:r.value.api,queryParams:b}),K(((D=r.value)==null?void 0:D.api)??"",b.value).then(P=>{var R;(R=s.query)!=null&&R.isBack&&!n.isModal&&!_.value?Xe():_.value&&ue(_.value),a("update:submit-ok",P),pe((P==null?void 0:P.msg)??"操作失败")}).catch(P=>{a("update:submit-error",P)})},v=()=>{a("update:rest-ok")};return Ce(()=>h()),ea(()=>p()),e({init:h,submit:p,reset:v}),(b,B)=>(m(),C(c(f),{api:c(l),"onUpdate:api":B[0]||(B[0]=g=>de(l)?l.value=g:null),modelValue:c(u),"onUpdate:modelValue":B[1]||(B[1]=g=>de(u)?u.value=g:null),modelModifiers:{lazy:!0},rule:c(i),option:c(d),title:""},null,8,["api","modelValue","rule","option"]))}}),ds={class:"xh-modal-container"},ps=A({__name:"info-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},setup(t){const e=y(),a=y({submitBtn:{},resetBtn:{}}),n=s=>{var l;const o=(l=s==null?void 0:s.response)==null?void 0:l.extraConfig;a.value=o};return(s,o)=>(m(),x("div",ds,[k(c(vt),{ref_key:"formRef",ref:e,class:"xh-form-create",api:s.api,method:s.method,"ajax-params":s.ajaxParams,"is-modal":!0,"onUpdate:initOk":n},null,8,["api","method","ajax-params"])]))}});const gt=L(ps,[["__scopeId","data-v-74729329"]]),ms={class:"xh-modal-container"},_s={class:"xh-modal-content"},fs=A({__name:"form-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{emit:e}){const a=y(),n=y(),s=y({submitBtn:{},resetBtn:{}}),o=()=>{n.value.setDisabled(!1)},l=_=>{var h;const f=(h=_==null?void 0:_.response)==null?void 0:h.extraConfig;f.resetBtn.content="关闭窗口",f.resetBtn.type="error",s.value=f},r=()=>{a.value.submit()},u=()=>{o(),e("update:submit-ok")},i=()=>{o(),e("update:submit-error")},d=()=>{a.value.reset(),e("update:rest-ok")};return(_,f)=>(m(),x("div",ms,[$("div",_s,[k(c(vt),{ref_key:"formRef",ref:a,class:"xh-form-create",api:_.api,method:_.method,"ajax-params":_.ajaxParams,"is-modal":!0,"onUpdate:initOk":l,"onUpdate:submitOk":u,"onUpdate:submitError":i,"onUpdate:restOk":o,"onUpdate:initError":o},null,8,["api","method","ajax-params"])]),k(c(ra),{ref_key:"buttonRef",ref:n,"extra-config":c(s),"onUpdate:submit":r,"onUpdate:rest":d},null,8,["extra-config"])]))}});const yt=L(fs,[["__scopeId","data-v-cea8d9fb"]]),hs=A({__name:"buttons",props:{extraConfig:{}},emits:["update:init","update:submit","update:rest"],setup(t,{expose:e,emit:a}){const n=Qt(),s=y(!1),o=u=>{s.value=u},l=()=>{o(!0),a("update:submit")},r=()=>{o(!0),a("update:rest")};return Ce(()=>{a("update:init",{exposed:n.exposed})}),e({setDisabled:o}),(u,i)=>{var f;const d=Se,_=T("el-space");return(f=u.extraConfig.submitBtn)!=null&&f.show?(m(),C(_,{key:0,alignment:"center",class:"footer-buttons",size:[30,0]},{default:w(()=>{var h,p,v,b;return[(h=u.extraConfig.submitBtn)!=null&&h.show?(m(),C(d,X({key:0,type:"primary",class:"xh-extra-button"},((p=u.extraConfig)==null?void 0:p.submitBtn)??{},{loading:c(s),disabled:c(s),onClick:l}),{default:w(()=>{var B;return[H(F(c(s)?"请求中...":((B=u.extraConfig.submitBtn)==null?void 0:B.content)??"提交"),1)]}),_:1},16,["loading","disabled"])):S("",!0),(v=u.extraConfig.resetBtn)!=null&&v.show?(m(),C(d,X({key:1,type:"warning",class:"xh-extra-button"},((b=u.extraConfig)==null?void 0:b.resetBtn)??{},{disabled:c(s),onClick:r}),{default:w(()=>{var B;return[H(F(((B=u.extraConfig.resetBtn)==null?void 0:B.content)??"重置"),1)]}),_:1},16,["disabled"])):S("",!0)]}),_:1})):S("",!0)}}});const ra=L(hs,[["__scopeId","data-v-c923fedc"]]),vs=(t,e,a,n,s)=>{var _,f;a==null||a.xGrid;const o=a==null?void 0:a.form,l=a==null?void 0:a.page,r=a==null?void 0:a.sort,u=a==null?void 0:a.filters;a!=null&&a.code&&((_=n.screenConfig)!=null&&_.api)&&(t=(f=n.screenConfig)==null?void 0:f.api);const i=J.currentRoute.value,d=y({method:e,params:{page:l.currentPage??1,limit:l.pageSize??20,...s??{},...o,...(i==null?void 0:i.query)??{}}});return JSON.stringify(r)!=="{}"&&d.value.params&&(d.value.params={...d.value.params,field:r.field,order:r.order}),u.length>0&&d.value.params&&u.forEach(({field:h,values:p})=>{d.value.params={...d.value.params,[h]:p.join(",")}}),new Promise((h,p)=>{K(t,d.value).then(v=>{h(v)}).catch(v=>{p(v)})})},gs=(t,e,a)=>{K(a.file,{responseType:"blob"}).then(n=>{qa.saveFile({filename:t,type:e,content:n.data})})},ys=(t,e,a)=>new Promise((n,s)=>{var r;if(!((r=e.exportConfig)!=null&&r.api))return E("请设置请求API"),Promise.reject(new Error("请设置请求API"));const o=a==null?void 0:a.getProxyInfo(),l={format:t.type??"xlsx",filename:t.filename??"导出文件",sheetName:t.sheetName??"",isHeader:t.isHeader??!1,original:t.original??!1,mode:t.mode??"all",pager:o?o.pager:null,ids:t.mode==="selected"?t.data.map(u=>u.id):[],fields:t.columns.map(u=>({field:u.field,title:u.title}))};return new Promise(u=>{var _;const i={method:"POST",data:{...l}},d=((_=e.exportConfig)==null?void 0:_.api)??"";K(d,i).then(f=>{const{data:h}=f;if(!(h!=null&&h.file))return E("导出数据失败，缺少[file]地址"),Promise.reject(new Error("导出数据失败，缺少导出地址"));gs(l.filename,l.format,h),u(f)})})}),ks=(t,e,a)=>{const n=new FormData;return n.append("file",t.file),new Promise(s=>{var r;const o=((r=e.importConfig)==null?void 0:r.api)??"";K(o,{method:"POST",data:n}).then(u=>{const{msg:i}=u;pe(i||"操作成功"),a==null||a.commitProxy("query"),s(u)}).catch(u=>{console.error("导入失败",u)})})},xs=(t,e,a)=>new Promise(n=>{const s=new FileReader;s.onload=o=>{const l=o.target?o.target.result:"",r=za(l,{type:"binary"}),u=Ha.sheet_to_json(r.Sheets.Sheet1);t.$table.loadData(u),pe("已将数据导入至本地表格"),n(u)},s.readAsBinaryString(t.file)}),ws=(t,e,a)=>{var n,s;return(n=e.importConfig)!=null&&n.api&&((s=e.importConfig)!=null&&s.isRemote)?ks(t,e,a):xs(t)},bs=(t,e,a,n,s)=>{const o={...a.toolbarConfig,slots:{buttons:"topButtonList"}};return a.toolbarConfig=o,o!=null&&o.import&&(a.importConfig={...a.importConfig,remote:!0,importMethod:l=>ws(l,a,s)}),o!=null&&o.export&&(a.exportConfig={...a.exportConfig,remote:!0,exportMethod:l=>ys(l,a,s)}),a.proxyConfig={...a.proxyConfig,ajax:{query:l=>vs(t,e,l,a,n)}},a},ne=(t,e)=>{const a=t.field;let n=e[a];if(a.includes(".")){const s=a.split(".");let o=e;s.forEach(l=>{o=o[l]}),n=o}return n},Ue=(t,e,a,n=!0)=>{if(!t){E("请设置请求API接口"),a==null||a.commitProxy("query");return}Qe(t,e).then(s=>{a==null||a.commitProxy("query"),n&&pe((s==null?void 0:s.msg)??"操作成功")})},Ps=(t,e,a,n)=>{var r,u;const s=((r=a==null?void 0:a.rowConfig)==null?void 0:r.keyField)??"id",o=e[t==null?void 0:t.field],l={[s]:e[s],keyField:s,field:t==null?void 0:t.field,value:o};Ue((u=t==null?void 0:t.params)==null?void 0:u.api,l,n)},Cs=(t,e)=>{let a={};for(const n in t){const s=t[n]||"id";a={...a,[s]:e[n]||""}}return a},ze=(t,e,a)=>{var l,r;const n=J.currentRoute.value;let o={...((l=t==null?void 0:t.pageData)==null?void 0:l.queryParams)??{},...n.query};return(r=t.pageData)!=null&&r.isBack&&(o={...o,isBack:1}),o},$s=(t,e,a,n,s)=>{var i,d,_,f,h;const o=J.currentRoute.value,l=((i=t==null?void 0:t.pageData)==null?void 0:i.queryParams)??{},r=y({...o.query}),u=y({...r.value});if(l instanceof Object&&(u.value={...u.value,...l}),a&&!Oe(JSON.stringify((d=t==null?void 0:t.pageData)==null?void 0:d.aliasParams),["[]","{}"]))u.value={...u.value,...Cs((_=t==null?void 0:t.pageData)==null?void 0:_.aliasParams,a)};else{const p=((f=n==null?void 0:n.rowConfig)==null?void 0:f.keyField)??"id";if(!a[p]){E("当前数据错误");return}const v=a[p];u.value={...u.value,[p]:v}}return(h=t.pageData)!=null&&h.isBack&&(u.value={...u.value,isBack:1}),u.value},Ds=(t,e,a)=>{var s,o;if(!((s=t==null?void 0:t.pageData)!=null&&s.path)){E("缺少跳转地址");return}const n=ze(t);J.push({path:(o=t==null?void 0:t.pageData)==null?void 0:o.path,query:{...n}})},Is=(t,e,a,n)=>{var s,o;if(!((s=t==null?void 0:t.pageData)!=null&&s.path)){E("缺少跳转地址");return}J.push({path:(o=t==null?void 0:t.pageData)==null?void 0:o.path,query:{...e}})},As=(t,e,a)=>{var u,i,d;const n=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",s=((i=t.pageData)==null?void 0:i.method)??"GET";let o=((d=t.pageData)==null?void 0:d.path)??"";const l=ze(t),r={method:s,params:{},data:{}};if(s==="GET"?r.params=l:r.data=l,o){window.open(o);return}K(n,r).then(_=>{const{data:f}=_;if(!(f!=null&&f.url)){E("缺少目标跳转地址");return}o=f.url,Fe(o)||(o=`http://${location.host}/${o}`),window.open(o)})},Bs=(t,e,a,n)=>{var d,_,f,h,p;const s=((d=t==null?void 0:t.pageData)==null?void 0:d.api)??"",o=((_=t.pageData)==null?void 0:_.method)??"GET";let l=((f=e.checkboxConfig)==null?void 0:f.labelField)??"";l||(l=((h=e==null?void 0:e.rowConfig)==null?void 0:h.keyField)??"id");let r=((p=t.pageData)==null?void 0:p.path)??"";const u=ze(t),i={method:o,params:{},data:{}};if(o==="GET"?i.params={...u,[l]:a}:i.data={...u,[l]:a},r){window.open(r);return}K(s,i).then(v=>{const{data:b}=v;if(!(b!=null&&b.url)){E("缺少目标跳转地址");return}r=b.url,Fe(r)||(r=`http://${location.host}/${r}`),window.open(r)})},js=(t,e,a,n)=>{var u,i,d;const s=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",o=((i=t.pageData)==null?void 0:i.method)??"GET";let l=((d=t.pageData)==null?void 0:d.path)??"";const r=y({method:o,params:{...e},data:{...e}});if(o==="GET"?delete r.value.data:delete r.value.params,l){window.open(l);return}K(s,r.value).then(_=>{const{data:f}=_;if(!(f!=null&&f.url)){E("缺少目标跳转地址");return}l=f.url,Fe(l)||(l=`http://${location.host}/${l}`),window.open(l)})},Es=(t,e,a)=>{var o,l,r,u;if(!(((o=t.message)==null?void 0:o.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}const s={api:((l=t.pageData)==null?void 0:l.api)||"",method:((r=t.pageData)==null?void 0:r.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{},"onUpdate:submit-ok":()=>{Ee(),a==null||a.commitProxy("reload")},"onUpdate:rest-ok":()=>{Ee(),a==null||a.commitProxy("reload")}};ie(yt,s,{...t.message,beforeClose:(i,d,_)=>{_(),a==null||a.commitProxy("reload")}})},Ts=(t,e,a,n)=>{var r,u,i,d,_,f,h;if(!(((r=t.message)==null?void 0:r.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}let o=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";o||(o=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({api:(d=t.pageData)==null?void 0:d.api,method:((_=t.pageData)==null?void 0:_.method)||"GET",ajaxParams:{[o]:a},"onUpdate:submit-ok":()=>{Ee(),n==null||n.commitProxy("reload")},"onUpdate:rest-ok":()=>{Ee(),n==null||n.commitProxy("reload")}});((f=t.pageData)==null?void 0:f.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(h=t.pageData)==null?void 0:h.queryParams}),ie(yt,l.value,{...t.message,beforeClose:(p,v,b)=>{b(),n==null||n.commitProxy("reload")}})},Rs=(t,e,a,n)=>{var r,u,i,d,_;if(!(((r=t.message)==null?void 0:r.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}const o=y({api:((u=t.pageData)==null?void 0:u.api)||"",method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:{...e},"onUpdate:submit-ok":()=>{Ee(),n==null||n.commitProxy("reload")},"onUpdate:rest-ok":()=>{Ee(),n==null||n.commitProxy("reload")}}),l=((d=t.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(o.value.ajaxParams={...o.value.ajaxParams,...l}),(_=o.value.ajaxParams)!=null&&_.isBack&&delete o.value.ajaxParams.isBack,ie(yt,o.value,{...t.message,beforeClose:(f,h,p)=>{p(),n==null||n.commitProxy("reload")}})},Vs=(t,e,a)=>{var d,_,f,h,p;const n=(d=t.pageData)==null?void 0:d.api,s=((_=t.pageData)==null?void 0:_.method)??"GET",o=ze(t);o!=null&&o.isBack&&delete o.isBack;const l=y({method:s,params:{...o},data:{...o}});s==="GET"?delete l.value.data:delete l.value.params;const r=((f=t.message)==null?void 0:f.content)??"",u=((h=t.message)==null?void 0:h.title)??"",i=((p=t.message)==null?void 0:p.type)??"";if(!n){E("接口地址不存在");return}be(r,u,i).then(()=>{K(n,l.value).then(v=>{pe((v==null?void 0:v.msg)??"操作成功"),a==null||a.commitProxy("reload")})})},Ss=(t,e,a,n)=>{var f,h,p,v,b,B,g;const s=(f=t.pageData)==null?void 0:f.api,o=((h=t.pageData)==null?void 0:h.method)??"GET",l=ze(t);l!=null&&l.isBack&&delete l.isBack;let r=((p=e.checkboxConfig)==null?void 0:p.labelField)??"";r||(r=((v=e==null?void 0:e.rowConfig)==null?void 0:v.keyField)??"id");const u=y({method:o,params:{...l,[r]:a},data:{...l,[r]:a}});o==="GET"?delete u.value.data:delete u.value.params;const i=((b=t.message)==null?void 0:b.content)??"",d=((B=t.message)==null?void 0:B.title)??"",_=((g=t.message)==null?void 0:g.type)??"";if(!s){E("接口地址不存在");return}be(i,d,_).then(()=>{K(s,u.value).then(D=>{pe((D==null?void 0:D.msg)??"操作成功"),n==null||n.commitProxy("reload")})})},Us=(t,e,a,n)=>{var _,f,h,p,v,b,B;const s=(_=t.pageData)==null?void 0:_.api,o=((f=t.pageData)==null?void 0:f.method)??"GET";let l=((h=a.checkboxConfig)==null?void 0:h.labelField)??"";l||(l=((p=a==null?void 0:a.rowConfig)==null?void 0:p.keyField)??"id");const r=y({method:o,params:{...e},data:{...e}});o==="GET"?delete r.value.data:delete r.value.params;const u=((v=t.message)==null?void 0:v.content)??"",i=((b=t.message)==null?void 0:b.title)??"",d=((B=t.message)==null?void 0:B.type)??"";if(!s){E("接口地址不存在");return}be(u,i,d).then(()=>{K(s,r.value).then(g=>{pe((g==null?void 0:g.msg)??"操作成功"),n==null||n.commitProxy("reload")})})},Ls=(t,e,a)=>{var o,l,r;if(!(((o=t.message)==null?void 0:o.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.path){E("请提供远程组件地址");return}const s={file:((l=t.pageData)==null?void 0:l.path)||"",ajaxParams:((r=t.pageData)==null?void 0:r.queryParams)||{},"onUpdate:close":()=>{re.close(),a==null||a.commitProxy("reload")}};ie(Ge,s,{...t.message,beforeClose:(u,i,d)=>{d(),a==null||a.commitProxy("reload")}})},Ms=(t,e,a,n)=>{var r,u,i,d,_,f;if(!(((r=t.message)==null?void 0:r.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.path){E("请提供远程组件地址");return}let o=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";o||(o=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({file:(d=t.pageData)==null?void 0:d.path,ajaxParams:{[o]:a},"onUpdate:close":()=>{re.close(),n==null||n.commitProxy("reload")}});((_=t.pageData)==null?void 0:_.queryParams)instanceof Object&&(l.value.ajaxParams={...(f=t.pageData)==null?void 0:f.queryParams}),ie(Ge,l.value,{...t.message,beforeClose:(h,p,v)=>{v(),n==null||n.commitProxy("reload")}})},Os=(t,e,a,n)=>{var l,r;if(!(((l=t.message)==null?void 0:l.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.path){E("请提供远程组件地址");return}const o=y({file:(r=t.pageData)==null?void 0:r.path,ajaxParams:e,"onUpdate:close":()=>{re.close(),n==null||n.commitProxy("reload")}});ie(Ge,o.value,{...t.message,beforeClose:(u,i,d)=>{d(),n==null||n.commitProxy("reload")}})},Fs=(t,e,a)=>{var o,l,r,u;if(!(((o=t.message)==null?void 0:o.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供信息模态框接口");return}const s={api:((l=t.pageData)==null?void 0:l.api)||"",method:((r=t.pageData)==null?void 0:r.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};ie(gt,s,{...t.message,beforeClose:(i,d,_)=>{_(),a==null||a.commitProxy("reload")}})},qs=(t,e,a,n)=>{var u,i,d,_,f,h;if(!(((u=t.message)==null?void 0:u.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}let o=((i=e.checkboxConfig)==null?void 0:i.labelField)??"";o||(o=((d=e==null?void 0:e.rowConfig)==null?void 0:d.keyField)??"id");const l=y({api:(_=t.pageData)==null?void 0:_.api,method:((f=t.pageData)==null?void 0:f.method)||"GET",ajaxParams:{[o]:a}}),r=((h=t==null?void 0:t.pageData)==null?void 0:h.queryParams)??"";r instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...r}),ie(gt,l.value,{...t.message,beforeClose:(p,v,b)=>{b(),n==null||n.commitProxy("reload")}})},zs=(t,e,a,n)=>{var r,u,i,d,_;if(!(((r=t.message)==null?void 0:r.title)||"")){E("信息模态框标题不能为空");return}if(!t.pageData.api){E("请提供信息模态框接口");return}const o=y({api:((u=t.pageData)==null?void 0:u.api)||"",method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:{...e}}),l=((d=t.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(o.value.ajaxParams={...o.value.ajaxParams,...l}),(_=o.value.ajaxParams)!=null&&_.isBack&&delete o.value.ajaxParams.isBack,ie(gt,o.value,{...t.message,beforeClose:(f,h,p)=>{p(),n==null||n.commitProxy("reload")}})},Hs=(t,e,a)=>{var o,l,r,u;if(!(((o=t.message)==null?void 0:o.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供表格模态框接口");return}const s={api:((l=t.pageData)==null?void 0:l.api)||"",method:((r=t.pageData)==null?void 0:r.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};ie(xt,s,{...t.message,beforeClose:(i,d,_)=>{_(),a==null||a.commitProxy("reload")}})},Ns=(t,e,a,n)=>{var r,u,i,d,_,f,h;if(!(((r=t.message)==null?void 0:r.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}let o=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";o||(o=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({api:(d=t.pageData)==null?void 0:d.api,method:((_=t.pageData)==null?void 0:_.method)||"GET",ajaxParams:{[o]:a}});((f=t.pageData)==null?void 0:f.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(h=t.pageData)==null?void 0:h.queryParams}),ie(xt,l.value,{...t.message,beforeClose:(p,v,b)=>{b(),n==null||n.commitProxy("reload")}})},Ws=(t,e,a,n)=>{var r,u,i,d;if(!(((r=t.message)==null?void 0:r.title)||"")){E("模态框标题不能为空");return}if(!t.pageData.api){E("请提供模态框接口");return}const o=y({api:(u=t.pageData)==null?void 0:u.api,method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:{...e}}),l=((d=t==null?void 0:t.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(o.value.ajaxParams={...o.value.ajaxParams,...l}),ie(xt,o.value,{...t.message,beforeClose:(_,f,h)=>{h(),n==null||n.commitProxy("reload")}})},Xs=(t,e,a,n)=>{},Qs=(t,e,a)=>{var n;switch((n=e.pageData)==null?void 0:n.type){case"page":Ds(e);break;case"link":As(e);break;case"down":break;case"confirm":Vs(e,t,a);break;case"modal":Es(e,t,a);break;case"info":Fs(e,t,a);break;case"table":Hs(e,t,a);break;case"remote":Ls(e,t,a);break;default:E("按钮类型错误");break}},Zs=(t,e,a)=>{var r,u,i,d;const n=(r=t.columns)==null?void 0:r.filter(_=>_.type==="checkbox");if(!(n!=null&&n.length)){E("请先开启批量操作");return}const s=(a==null?void 0:a.getCheckboxRecords())??[];if(s.length<=0){E("请选择数据");return}let o=((u=t.checkboxConfig)==null?void 0:u.labelField)??"";o||(o=((i=t==null?void 0:t.rowConfig)==null?void 0:i.keyField)??"id");const l=s.map(_=>_[o]);switch((d=e.pageData)==null?void 0:d.type){case"link":Bs(e,t,l);break;case"down":break;case"confirm":Ss(e,t,l,a);break;case"remote":Ms(e,t,l,a);break;case"modal":Ts(e,t,l,a);break;case"info":qs(e,t,l,a);break;case"table":Ns(e,t,l,a);break;default:E("按钮类型错误");break}},Ut=(t,e,a,n,s)=>{var r,u;if(!n){E("行参数出错");return}const o=y({}),l=((r=e.pageData)==null?void 0:r.queryParams)??"";switch(l instanceof Object&&(o.value={...l}),o.value={...o.value,...$s(e,a,n,t)},(u=e.pageData)==null?void 0:u.type){case"page":Is(e,o.value);break;case"link":js(e,o.value);break;case"down":Xs(e,o.value);break;case"confirm":Us(e,o.value,t,s);break;case"modal":Rs(e,o.value,t,s);break;case"info":zs(e,o.value,t,s);break;case"table":Ws(e,o.value,t,s);break;case"remote":Os(e,o.value,t,s);break;default:E("按钮类型错误");break}};const Js=()=>{const t=Ve(),e=Re(),a=(t==null?void 0:t.routeList)??[],n=[];for(const s of a){const o=`${e}${s.path}`;n.push(o)}return n},kt=t=>{const e=Js();return Oe(t,e)},Ks={class:"button-group"},Gs={class:"pr-1"},Ys={class:"no-group-buttons"},el=A({__name:"index",props:{xGrid:{},column:{},rightButtonList:{},gridConfig:{},row:{}},setup(t){var h;const e=t,a=j(()=>{var p;return((p=e.column.params)==null?void 0:p.buttonGroupIcon)??"Operation"}),n=j(()=>{var p;return((p=e.column.params)==null?void 0:p.buttonGroupIconType)??"element"}),s={type:"primary",size:"small"},o=y(((h=e.column.params)==null?void 0:h.buttonStyle)??s),l=j(()=>e.rightButtonList.filter(p=>{var v,b;return((v=p.pageData)==null?void 0:v.group)||((b=e.column.params)==null?void 0:b.group)})),r=j(()=>e.rightButtonList.filter(p=>{var v;return!((v=p.pageData)!=null&&v.group)})),u=j(()=>{var p;return((p=e.column.params)==null?void 0:p.groupText)||"更多"}),i=j(()=>p=>{var P,R,I,Q,Y,ae,oe;const v=((P=p.pageData)==null?void 0:P.api)??"";if(!kt(v))return!1;const b=((I=(R=p==null?void 0:p.pageData)==null?void 0:R.params)==null?void 0:I.where)??"",B=(Y=(Q=p==null?void 0:p.pageData)==null?void 0:Q.params)==null?void 0:Y.field,g=(oe=(ae=p==null?void 0:p.pageData)==null?void 0:ae.params)==null?void 0:oe.value;if(B===void 0&&g===void 0)return!0;if(B===void 0||B===""||B&&(g===void 0||g===""))return!1;const D=e.row[B];switch(b){case"!=":return g!==D;case"in":return g instanceof Array&&Oe(D,g);case"notIn":return g instanceof Array&&!Oe(D,g);default:return g===D}}),d=j(()=>p=>{const v={...p};return v!=null&&v.icon&&delete v.icon,v}),_=p=>{Ut(e.gridConfig,p,e.column,e.row,e.xGrid)},f=p=>{Ut(e.gridConfig,p,e.column,e.row,e.xGrid)};return(p,v)=>{const b=te,B=Se,g=T("el-dropdown-item"),D=T("el-dropdown-menu"),P=T("el-dropdown"),R=T("el-button");return m(),x("div",Ks,[c(l).length?(m(),C(P,{key:0,onCommand:_},{dropdown:w(()=>[k(D,null,{default:w(()=>[(m(!0),x(N,null,G(c(l),(I,Q)=>$t((m(),C(g,{key:Q,command:I},{default:w(()=>{var Y,ae,oe;return[(Y=I==null?void 0:I.button)!=null&&Y.icon?(m(),C(b,{key:0,icon:(ae=I==null?void 0:I.button)==null?void 0:ae.icon,type:(oe=I==null?void 0:I.button)==null?void 0:oe.iconType},null,8,["icon","type"])):S("",!0),$("span",null,F(I.title),1)]}),_:2},1032,["command"])),[[Dt,c(i)(I)]])),128))]),_:1})]),default:w(()=>[k(B,X({type:"danger",class:"mr-2"},c(o)),{default:w(()=>[$("span",Gs,F(c(u)),1),c(a)?(m(),C(b,{key:0,icon:c(a),type:c(n)},null,8,["icon","type"])):(m(),C(b,{key:1,icon:"ArrowDown",type:"element"}))]),_:1},16)]),_:1})):S("",!0),$("div",Ys,[(m(!0),x(N,null,G(c(r),(I,Q)=>{var Y;return $t((m(),x("div",{key:Q,class:"item"},[(m(),C(R,X({key:Q},c(d)((I==null?void 0:I.button)??{}),{onClick:ae=>f(I)}),Je({default:w(()=>[H(" "+F(I.title),1)]),_:2},[(Y=I==null?void 0:I.button)!=null&&Y.icon?{name:"icon",fn:w(()=>{var ae,oe,ge;return[(ae=I==null?void 0:I.button)!=null&&ae.icon?(m(),C(b,{key:0,icon:(oe=I==null?void 0:I.button)==null?void 0:oe.icon,type:((ge=I==null?void 0:I.button)==null?void 0:ge.iconType)??""},null,8,["icon","type"])):S("",!0)]}),key:"0"}:void 0]),1040,["onClick"]))])),[[Dt,c(i)(I)]])}),128))])])}}});const tl=L(el,[["__scopeId","data-v-9b6b78e8"]]),al={class:"flex space-x-2"},ol=A({__name:"index",props:{xGrid:{},topButtonList:{},gridConfig:{}},setup(t){const e=t,a=j(()=>e.topButtonList.filter(s=>{var o;return!((o=s.pageData)!=null&&o.group)})),n=j(()=>s=>{var l;const o=((l=s.pageData)==null?void 0:l.api)??"";return!!kt(o)});return(s,o)=>{const l=te,r=Se,u=T("el-space");return m(),x("div",al,[c(a).length?(m(),C(u,{key:0},{default:w(()=>[(m(!0),x(N,null,G(c(a),(i,d)=>{var _;return m(),x(N,null,[c(n)(i)?(m(),C(r,X({key:d,type:"primary"},(i==null?void 0:i.button)??{},{onClick:f=>c(Qs)(e.gridConfig,i,s.xGrid)}),Je({default:w(()=>[H(" "+F(i.title),1)]),_:2},[(_=i==null?void 0:i.button)!=null&&_.icon?{name:"icon",fn:w(()=>{var f,h;return[k(l,{icon:(f=i==null?void 0:i.button)==null?void 0:f.icon,type:(h=i==null?void 0:i.button)==null?void 0:h.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):S("",!0)],64)}),256))]),_:1})):S("",!0)])}}}),nl={class:"flex space-x-2"},sl=A({__name:"index",props:{xGrid:{},gridConfig:{},selectButtonList:{}},setup(t){const e=t,a=j(()=>{var o;return((o=e.selectButtonList)==null?void 0:o.filter(l=>{var r;return!((r=l.pageData)!=null&&r.group)}))||[]}),n=j(()=>o=>{const l={...o};return l!=null&&l.icon&&delete l.icon,l}),s=j(()=>o=>{var r;const l=((r=o.pageData)==null?void 0:r.api)??"";return!!kt(l)});return(o,l)=>{const r=te,u=Se,i=T("el-space");return m(),x("div",nl,[c(a).length?(m(),C(i,{key:0},{default:w(()=>[(m(!0),x(N,null,G(c(a),(d,_)=>{var f;return m(),x(N,null,[c(s)(d)?(m(),C(u,X({key:_,type:"primary"},c(n)((d==null?void 0:d.button)??{}),{onClick:h=>c(Zs)(e.gridConfig,d,o.xGrid)}),Je({default:w(()=>[H(" "+F(d.title),1)]),_:2},[(f=d==null?void 0:d.button)!=null&&f.icon?{name:"icon",fn:w(()=>{var h,p;return[k(r,{icon:(h=d==null?void 0:d.button)==null?void 0:h.icon,type:(p=d==null?void 0:d.button)==null?void 0:p.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):S("",!0)],64)}),256))]),_:1})):S("",!0)])}}}),ll={class:"flex space-x-3"},rl={key:1,class:"flex space-x-1"},cl=A({__name:"index",props:{xGrid:{},gridConfig:{},topButton:{},topButtonList:{},selectButtonList:{}},setup(t){const e=ve();return(a,n)=>{var o,l,r;const s=Se;return m(),x("div",ll,[(o=c(e).query)!=null&&o.isBack?(m(),C(s,{key:0,type:"primary",onClick:c(Xe)},{default:w(()=>[H(" 返回 ")]),_:1},8,["onClick"])):S("",!0),a.topButtonList.length||(l=a.selectButtonList)!=null&&l.length?(m(),x("div",rl,[a.topButtonList.length?(m(),C(ol,Z(X({key:0},{xGrid:a.xGrid,gridConfig:a.gridConfig,topButtonList:a.topButtonList})),null,16)):S("",!0),(r=a.selectButtonList)!=null&&r.length?(m(),C(sl,Z(X({key:1},{xGrid:a.xGrid,gridConfig:a.gridConfig,selectButtonList:a.selectButtonList})),null,16)):S("",!0)])):S("",!0)])}}}),il=t=>($e("data-v-1bc20016"),t=t(),De(),t),ul=il(()=>$("div",null,null,-1)),dl={class:"assets-container"},pl={class:"item"},ml=["src"],_l=["src"],fl=A({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,a="",n=j(()=>{var o,l;return((l=(o=e.column)==null?void 0:o.params)==null?void 0:l.resource)??[]}),s=j(()=>ne(e.column,e.row));return(o,l)=>{const r=te,u=T("el-tooltip");return m(),x(N,null,[ul,$("div",dl,[(m(!0),x(N,null,G(c(n),(i,d)=>(m(),C(u,{key:d,show:i==null?void 0:i.isUpdate,trigger:"hover",placement:"top"},{content:w(()=>[H(F((i==null?void 0:i.title)??"错误"),1)]),default:w(()=>[$("div",pl,[(i==null?void 0:i.type)==="url"&&c(Fe)(i==null?void 0:i.icon)?(m(),x("img",{key:0,class:"logo",src:i==null?void 0:i.icon},null,8,ml)):(i==null?void 0:i.type)==="path"?(m(),x("img",{key:1,class:"logo",src:`${c(a)}${i==null?void 0:i.icon}`},null,8,_l)):(m(),C(r,{key:2,icon:i.icon},null,8,["icon"])),$("span",null,F(c(s)[i.field]??"字段错误"),1)])]),_:2},1032,["show"]))),128))])],64)}}});const hl=L(fl,[["__scopeId","data-v-1bc20016"]]),vl=A({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var s,o;const e=t,a=j(()=>ne(e.column,e.row)),n=y(((o=(s=e.column)==null?void 0:s.params)==null?void 0:o.props)??{});return(l,r)=>{const u=te;return m(),C(u,X({icon:c(a)},c(n)),null,16,["icon"])}}}),gl=t=>($e("data-v-d9f53c27"),t=t(),De(),t),yl={class:"xh-image-error"},kl=gl(()=>$("span",null,"加载失败",-1)),xl=A({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var s,o,l;const e=t,a=j(()=>ne(e.column,e.row)),n=y(((o=(s=e.column)==null?void 0:s.params)==null?void 0:o.props)??{});return(l=n.value)!=null&&l.style||(n.value.style={width:"30px",height:"30px"}),(r,u)=>{const i=te,d=T("el-image");return m(),C(d,X(c(n),{src:c(a)}),{error:w(()=>[$("div",yl,[k(i,{icon:"Picture",type:"element"}),kl])]),_:1},16,["src"])}}});const wl=L(xl,[["__scopeId","data-v-d9f53c27"]]),bl=t=>($e("data-v-68b0b463"),t=t(),De(),t),Pl={class:"xh-image-error"},Cl=bl(()=>$("span",null,"加载失败",-1)),$l=A({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var l,r,u;const e=t,a=j(()=>{var i;return((i=e.column.params)==null?void 0:i.previewDisabled)??!0}),n=j(()=>{const i=ne(e.column,e.row);return i instanceof Array?i.map(d=>d.url):[]}),s=j(()=>{const i=ne(e.column,e.row);return i instanceof Array&&i.length>0?i:[]}),o=y(((r=(l=e.column)==null?void 0:l.params)==null?void 0:r.props)??{});return(u=o.value)!=null&&u.style||(o.value.style={width:"30px",height:"30px"}),(i,d)=>{const _=te,f=T("el-image");return m(!0),x(N,null,G(c(s),(h,p)=>(m(),C(f,X(c(o),{key:p,src:h==null?void 0:h.url,"preview-src-list":c(a)?[]:c(n)}),{error:w(()=>[$("div",Pl,[k(_,{icon:"Picture",type:"element"}),Cl])]),_:2},1040,["src","preview-src-list"]))),128)}}});const Dl=L($l,[["__scopeId","data-v-68b0b463"]]),Il=t=>($e("data-v-fe26ffb0"),t=t(),De(),t),Al={class:"xh-image-error"},Bl=Il(()=>$("span",null,"加载失败",-1)),jl=A({__name:"index",props:{column:{},row:{}},setup(t){var l,r,u;const e=t,a=j(()=>{var i;return((i=e.column.params)==null?void 0:i.previewDisabled)??!0}),n=j(()=>{const i=ne(e.column,e.row);return i instanceof Array?i.map(d=>d.url):[]}),s=j(()=>{const i=ne(e.column,e.row);return i instanceof Array&&i.length>0?i[0]:[]}),o=y(((r=(l=e.column)==null?void 0:l.params)==null?void 0:r.props)??{});return(u=o.value)!=null&&u.style||(o.value.style={width:"30px",height:"30px"}),(i,d)=>{var h;const _=te,f=T("el-image");return m(),C(f,X(c(o),{src:(h=c(s))==null?void 0:h.url,"preview-src-list":c(a)?[]:c(n)}),{error:w(()=>[$("div",Al,[k(_,{icon:"Picture",type:"element"}),Bl])]),_:1},16,["src","preview-src-list"])}}});const El=L(jl,[["__scopeId","data-v-fe26ffb0"]]),Tl=A({__name:"index",props:{isBorder:{type:Boolean,default:!1},border:{default:"1px solid #b179ff"}},setup(t){const e=t;Te(n=>({"93ae0726":c(a)}));const a=j(()=>e.isBorder?e.border:"");return(n,s)=>{const o=T("el-input");return m(),C(o,{class:he({"xh-input":n.isBorder})},null,8,["class"])}}});const Rl=A({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l,r;const e=t,a=j(()=>ne(e.column,e.row)),n=y(""),s=y(((r=(l=e.column)==null?void 0:l.params)==null?void 0:r.props)??{}),o=u=>{var h,p,v,b;const i=Pe("rowEdit",!0),d=((h=e.column.params)==null?void 0:h.api)??i,_=((v=(p=e.gridConfig)==null?void 0:p.rowConfig)==null?void 0:v.keyField)??"id",f={[_]:e.row[_],keyField:_,field:(b=e.column)==null?void 0:b.field,value:u};Ue(d,f,e.xGrid)};return(u,i)=>{const d=Tl;return m(),C(d,X({modelValue:c(n),"onUpdate:modelValue":i[0]||(i[0]=_=>de(n)?n.value=_:null),value:c(a),placeholder:"请输入"},c(s),{"is-border":!0,onChange:o}),null,16,["modelValue","value"])}}}),Vl=A({__name:"index",setup(t){return(e,a)=>{const n=T("el-input-number");return m(),C(n)}}}),Sl=A({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var r,u;const e=t,a=j(()=>ne(e.column,e.row)),n=j(()=>{var i;return((i=e.column.params)==null?void 0:i.isMessage)??!1}),s=y(a),o=y(((u=(r=e.column)==null?void 0:r.params)==null?void 0:u.props)??{}),l=i=>{var p,v,b,B;const d=Pe("rowEdit",!0),_=((p=e.column.params)==null?void 0:p.api)??d,f=((b=(v=e.gridConfig)==null?void 0:v.rowConfig)==null?void 0:b.keyField)??"id",h={[f]:e.row[f],keyField:f,field:(B=e.column)==null?void 0:B.field,value:i};Ue(_,h,e.xGrid,n.value)};return(i,d)=>{const _=Vl;return m(),C(_,X({modelValue:c(s),"onUpdate:modelValue":d[0]||(d[0]=f=>de(s)?s.value=f:null),value:c(a)},c(o),{onChange:l}),null,16,["modelValue","value"])}}}),Ul=A({__name:"index",props:{column:{},row:{}},setup(t){const e=t,a=j(()=>{var l;const o=((l=e.column)==null?void 0:l.params)??{};return o!=null&&o.type||delete o.type,o}),n=j(()=>{var o,l;return((l=(o=e.column)==null?void 0:o.params)==null?void 0:l.format)??"￥"}),s=j(()=>ne(e.column,e.row));return(o,l)=>(m(),x("div",Z(ee(c(a))),F(c(n))+F(c(It).commafy(c(It).toNumber(c(s)),{digits:2})),17))}}),ca={vue:null},Ll=(t,e,a)=>re.alert(t,{confirmButtonText:"确定",type:e,...a}),Ml=(t,e,a)=>{Na({message:t,type:e,...a})},Ol=(t,e)=>Wa.service({text:t,...e}),Fl=(t,e,a)=>re({customStyle:{width:"45%",height:"500px"},showClose:!0,title:" ",...a,closeOnClickModal:!1,customClass:"xh-modal-mask",message:()=>Me(Ge,{file:t,ajaxParams:e,"onUpdate:close":()=>{re.close()}})}),ql=(t,e)=>{Xa.render(t).then(a=>{const n=document.createElement("style");if(n.setAttribute("type","text/css"),n.setAttribute("id",`css${e}`),n.styleSheet)n.styleSheet.cssText=a.css;else{const o=document.createTextNode(a.css);n.appendChild(o)}const s=document.getElementsByTagName("head");s.length?s[0].appendChild(n):document.documentElement.appendChild(n)})},zl=t=>({templates:t.match(/<template>([\s\S]*)<\/template>/)[1],sctipts:t.match(/<script.*>([\s\S]*)<\/script>/)[1],styles:t.match(/<style.*>([\s\S]*)<\/style>/)[1],stylesHasScoped:t.match(/<style.*scoped>([\s\S]*)<\/style>/)!==null}),Hl=()=>{const t=ca.vue,e=Zt(),a=ve(),n=Ve(),s=ce(),o=Re();t.config.globalProperties.$moduleName=o,t.config.globalProperties.$userApp=n,t.config.globalProperties.$siteApp=s,t.config.globalProperties.$routeApp=a,t.config.globalProperties.$routerApp=e,t.config.globalProperties.$axios=go,t.config.globalProperties.$http={useGet:we,usePost:je,usePut:Qe,useDelete:Ze},t.config.globalProperties.$useGet=we,t.config.globalProperties.$usePost=je,t.config.globalProperties.$usePut=Qe,t.config.globalProperties.$useDelete=Ze,t.config.globalProperties.$echarts=Qa,t.config.globalProperties.$useKeyCodeEvent=ea,t.component("XRemote")===void 0&&t.component("XRemote",me),t.component("AppIcons")===void 0&&t.component("AppIcons",te),t.config.globalProperties.$useAlert=Ll,t.config.globalProperties.$useConfirm=be,t.config.globalProperties.$useMessage=Ml,t.config.globalProperties.$useNotify=W,t.config.globalProperties.$useLoading=Ol,t.config.globalProperties.$useRemote=Fl},Nl={key:1,class:"remote-fail"},Wl=A({__name:"index",props:{file:{},ajaxParams:{},isApi:{type:Boolean},isModal:{type:Boolean}},emits:["update:init","update:modelValue","update:success","update:error","update:close"],setup(t,{emit:e}){const a=t,n=Za(),s=y(a.isApi),o=y(a.file),l=y(),r=y({status:"",content:""}),u=y(""),i=y(et()),d=(D,P,R)=>{const I=zl(P),Q=I.sctipts.indexOf("{"),Y=I.sctipts.lastIndexOf("}"),ae=I.sctipts.slice(Q,Y+1),oe=new Function(`return ${ae}`)();if(!oe){r.value.status="code",r.value.content="远程组件代码格式解析失败";return}if(oe.template=I==null?void 0:I.templates,D.setAttribute("class",`remote css${R}`),!document.querySelector(`style[id=css${R}]`)){let ge="";I.stylesHasScoped?ge=`
            .css${R}{
                ${I.styles}
            }
        `:ge=I.styles,ql(ge,R)}return Hl(),oe},_=j(()=>{if(r.value.status==="config"){r.value.content="请先配置远程文件";return}if(!u.value){r.value.content="正在加载中...";return}if(u.value==="fail"){r.value.content="远程组件加载失败";return}return d(l.value,u.value,i.value)}),f=D=>{e("update:modelValue",D)},h=()=>{const D=Date.now(),P=`${o.value}.vue?t=${D}`;we(P).then(R=>{u.value=R,r.value.status="success",e("update:init",R)}).catch(R=>{r.value.content=(R==null?void 0:R.msg)||"远程组件加载失败",r.value.status="fail",e("update:error",R),console.error(R)})},p=()=>{const D=y({});a.ajaxParams&&(D.value={...a.ajaxParams}),we(o.value,D.value).then(P=>{u.value=P==null?void 0:P.data,r.value.status="success",e("update:init",P==null?void 0:P.data)}).catch(P=>{r.value.content=(P==null?void 0:P.msg)||"远程组件加载失败",r.value.status="fail",e("update:error",P),console.error(P)})},v=()=>{if(!o.value){r.value.status="config";return}r.value.status="loading",s.value?p():h()},b=D=>{s.value=!1,o.value=D,i.value=et(),v()},B=()=>{i.value=et(),v()},g=()=>{a!=null&&a.isModal&&e("update:close")};return Ce(()=>v()),(D,P)=>{const R=T("el-empty");return m(),x("div",{ref_key:"remoteRef",ref:l,class:"h-100%"},[c(r).status==="success"?(m(),C(Ot(c(_)),X({key:0},{...c(n),...D.ajaxParams},{"onUpdate:modelValue":f,"onUpdate:openWin":b,"onUpdate:reloadWin":B,"onUpdate:closeWin":g}),null,16)):(m(),x("div",Nl,[k(R,{description:c(r).content},null,8,["description"])]))],512)}}});const me=L(Wl,[["__scopeId","data-v-7d80672a"]]),Xl=A({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l;const e=t,a=j(()=>{var r,u;return(u=(r=e.column)==null?void 0:r.params)==null?void 0:u.file}),n=((l=e.column)==null?void 0:l.field)??"",s=j(()=>ne(e.column,e.row)),o=r=>{var f,h,p,v;const u=Pe("rowEdit",!0),i=((f=e.column.params)==null?void 0:f.api)??u,d=((p=(h=e.gridConfig)==null?void 0:h.rowConfig)==null?void 0:p.keyField)??"id",_={[d]:e.row[d],keyField:d,field:(v=e.column)==null?void 0:v.field,value:r};Ue(i,_,e.xGrid)};return(r,u)=>{const i=me;return m(),C(i,X({modelValue:c(s),"onUpdate:modelValue":u[0]||(u[0]=d=>de(s)?s.value=d:null),file:c(a)},{column:r.column,field:c(n),row:r.row},{"onUpdate:value":o}),null,16,["modelValue","file"])}}}),Ql={key:0,class:"tabs-container"},Zl={class:"tabs-list"},Jl=["onClick"],Kl={class:"pl-1"},Gl=A({__name:"index",props:{xGrid:{},gridConfig:{},tabsConfig:{}},setup(t){var u;const e=t,a=ve(),n=Zt(),s=((u=e.tabsConfig)==null?void 0:u.field)??"",o=a==null?void 0:a.query[s],l=j(()=>{var i;return o??((i=e.tabsConfig)==null?void 0:i.active)}),r=i=>{n.push({query:{[s]:i.value}})};return(i,d)=>{var h,p;const _=te,f=T("el-space");return(p=(h=i.tabsConfig)==null?void 0:h.list)!=null&&p.length?(m(),x("div",Ql,[$("div",Zl,[k(f,null,{default:w(()=>[(m(!0),x(N,null,G(i.tabsConfig.list,(v,b)=>(m(),x("div",{key:b,class:he(["item",{active:c(l)===(v==null?void 0:v.value)}]),onClick:B=>r(v)},[v!=null&&v.icon?(m(),C(_,{key:0,icon:v==null?void 0:v.icon},null,8,["icon"])):S("",!0),$("span",Kl,F((v==null?void 0:v.label)??"错误"),1)],10,Jl))),128))]),_:1})])])):S("",!0)}}});const Yl=L(Gl,[["__scopeId","data-v-ae382a3c"]]),er=A({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{}},setup(t){return(e,a)=>{var s;const n=T("vxeForm");return m(),C(n,{items:e.formScreen.items,data:(s=e.formScreen)==null?void 0:s.data},null,8,["items","data"])}}}),tr=A({__name:"index",props:{gridConfig:{},xGrid:{},formScreen:{}},setup(t){return(e,a)=>{var s;const n=me;return m(),C(n,{file:((s=e.formScreen)==null?void 0:s.file)||""},null,8,["file"])}}}),ar={class:"form-tabs-container"},or=A({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{},formRemote:{},tabsConfig:{}},setup(t){return(e,a)=>{var l,r,u,i;const n=tr,s=er,o=Yl;return m(),x("div",ar,[(l=e.formRemote)!=null&&l.file?(m(),C(n,Z(X({key:0},{gridConfig:e.gridConfig,formRemote:e.formRemote,xGrid:e.xGrid})),null,16)):S("",!0),(r=e.formScreen)!=null&&r.data?(m(),C(s,Z(X({key:1},{gridConfig:e.gridConfig,formScreen:e.formScreen,xGrid:e.xGrid})),null,16)):S("",!0),(i=(u=e.tabsConfig)==null?void 0:u.list)!=null&&i.length?(m(),C(o,Z(X({key:2},{gridConfig:e.gridConfig,tabsConfig:e.tabsConfig,xGrid:e.xGrid})),null,16)):S("",!0)])}}});const nr=L(or,[["__scopeId","data-v-4bb9ed66"]]),sr=A({__name:"index",props:{options:{},value:{default:""}},setup(t){const e=t,a=j(()=>e.value);return(n,s)=>{const o=T("el-option"),l=T("el-select");return m(),C(l,{modelValue:c(a),"onUpdate:modelValue":s[0]||(s[0]=r=>de(a)?a.value=r:null),placeholder:"请选择"},{default:w(()=>[(m(!0),x(N,null,G(n.options,r=>(m(),C(o,{key:r.value,label:r.label,value:r.value,disabled:r.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])}}}),lr=A({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var o;const e=t,a=j(()=>ne(e.column,e.row)),n=y(((o=e.column)==null?void 0:o.params)??{}),s=l=>{var _,f,h,p;const r=Pe("rowEdit",!0),u=((_=e.column.params)==null?void 0:_.api)??r,i=((h=(f=e.gridConfig)==null?void 0:f.rowConfig)==null?void 0:h.keyField)??"id",d={[i]:e.row[i],keyField:i,field:(p=e.column)==null?void 0:p.field,value:l};Ue(u,d,e.xGrid)};return(l,r)=>{var i,d;const u=sr;return(d=(i=c(n))==null?void 0:i.options)!=null&&d.length?(m(),C(u,X({key:0,value:c(a)},c(n),{onChange:s}),null,16,["value"])):S("",!0)}}}),rr=A({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,a=j(()=>ne(e.column,e.row)),n=s=>{var i,d,_,f;const o=Pe("rowEdit",!0),l=((i=e.column.params)==null?void 0:i.api)??o,r=((_=(d=e.gridConfig)==null?void 0:d.rowConfig)==null?void 0:_.keyField)??"id",u={[r]:e.row[r],keyField:r,field:(f=e.column)==null?void 0:f.field,value:s};Ue(l,u,e.xGrid)};return(s,o)=>{var r,u,i,d,_,f,h,p,v,b,B,g,D,P,R,I,Q,Y;const l=T("el-switch");return m(),C(l,{modelValue:c(a),"onUpdate:modelValue":o[0]||(o[0]=ae=>de(a)?a.value=ae:null),"active-action-icon":((i=(u=(r=s.column)==null?void 0:r.params)==null?void 0:u.checked)==null?void 0:i.icon)??"","active-text":(f=(_=(d=s.column)==null?void 0:d.params)==null?void 0:_.checked)==null?void 0:f.text,"active-value":(v=(p=(h=s.column)==null?void 0:h.params)==null?void 0:p.checked)==null?void 0:v.value,"inactive-action-icon":((g=(B=(b=s.column)==null?void 0:b.params)==null?void 0:B.unchecked)==null?void 0:g.icon)??"","inactive-text":(R=(P=(D=s.column)==null?void 0:D.params)==null?void 0:P.unchecked)==null?void 0:R.text,"inactive-value":(Y=(Q=(I=s.column)==null?void 0:I.params)==null?void 0:Q.unchecked)==null?void 0:Y.value,"inline-prompt":"",onChange:n},null,8,["modelValue","active-action-icon","active-text","active-value","inactive-action-icon","inactive-text","inactive-value"])}}}),cr=A({__name:"index",props:{column:{},row:{}},setup(t){const e=t,a=j(()=>ne(e.column,e.row)),n=j(()=>{var o;return(o=e.column.params)!=null&&o.options?e.column.params.options[a.value]||"标签错误":"选项错误"}),s=j(()=>{var r;const o=y({style:{},...e.column.params??{}});(r=o.value)!=null&&r.type&&delete o.value.type;const l=j(()=>{var u,i;if((u=e.column.params)!=null&&u.style)return((i=e.column.params)==null?void 0:i.style[a.value])||void 0});return o.value.style=l.value,o.value});return(o,l)=>{const r=T("el-tag");return m(),C(r,Z(ee(c(s).style)),{default:w(()=>[H(F(c(n)),1)]),_:1},16)}}}),ir=(t,e,a,n)=>{if(e.length<=0){E("请先导入数据");return}if(!t){E("请设置导入API接口");return}je(t,{import:a,data:e}).then(o=>{var l;(l=n.xGrid)==null||l.commitProxy("query"),pe((o==null?void 0:o.msg)??"操作成功")})},ur=t=>{Ae.commands.add("importAllData",{commandMethod:e=>{var o;const{$table:a}=e,n=a==null?void 0:a.getTableData(),s=n==null?void 0:n.fullData;ir(((o=t.vxeTableConfig.importConfig)==null?void 0:o.api)??"",s,"all",t)}})},dr=$("div",null," 子数据 ",-1),ia=A({__name:"index",props:{api:{},method:{default:"GET"},ajaxParams:{default:void 0}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{emit:e}){const a=t,n=y(),s=y(),o=y(),l=y([]),r=y([]),u=y([]),i=async()=>{const d=y({method:a.method,params:{},data:{}});a.ajaxParams&&(a.method==="GET"?d.value.params=a.ajaxParams:d.value.data=a.ajaxParams),e("update:init",d.value);const _=`${a.api}GetTable`;K(_,d.value).then(f=>{const h=f.data;o.value=h.tabsConfig,s.value=bs(a.api,a.method,h.tableConfig,a.ajaxParams,n.value),l.value=h.topButtonList,r.value=h.rightButtonList,u.value=h.selectButtonList,ur({xGrid:n.value,vxeTableConfig:s.value}),e("update:init-ok",h)}).catch(f=>{e("update:init-error",f)})};return Ce(()=>i()),(d,_)=>{var h,p,v,b,B;const f=T("vxe-grid");return(h=c(s))!=null&&h.id?(m(),C(f,X({key:0,ref_key:"xGrid",ref:n,class:"xh-table"},c(s),{onEditClosed:_[0]||(_[0]=({column:g,row:D})=>c(Ps)(g,D,c(s),c(n)))}),Je({topButtonList:w(({$grid:g})=>[k(c(cl),Z(ee({gridConfig:c(s),topButtonList:c(l),selectButtonList:c(u),xGrid:g})),null,16)]),rightButtonList:w(({row:g,column:D,$grid:P})=>[k(c(tl),Z(ee({gridConfig:c(s),rightButtonList:c(r),row:g,column:D,xGrid:P})),null,16)]),childrenData:w(()=>[dr]),remote:w(({row:g,column:D,$grid:P})=>[k(c(Xl),Z(ee({gridConfig:c(s),row:g,column:D,xGrid:P})),null,16)]),tags:w(({row:g,column:D,$grid:P})=>[k(c(cr),Z(ee({gridConfig:c(s),row:g,column:D,xGrid:P})),null,16)]),input:w(({row:g,column:D,$grid:P})=>[k(c(Rl),Z(ee({gridConfig:c(s),row:g,column:D,xGrid:P})),null,16)]),InputNumber:w(({row:g,column:D,$grid:P})=>[k(c(Sl),Z(ee({gridConfig:c(s),row:g,column:D,xGrid:P})),null,16)]),assets:w(({row:g,column:D,$grid:P})=>[k(c(hl),Z(ee({gridConfig:c(s),row:g,column:D,xGrid:P})),null,16)]),money:w(({row:g,column:D,$grid:P})=>[k(c(Ul),Z(ee({gridConfig:c(s),row:g,column:D,xGrid:P})),null,16)]),image:w(({row:g,column:D,$grid:P})=>[k(c(wl),Z(ee({gridConfig:c(s),row:g,column:D,xGrid:P})),null,16)]),images:w(({row:g,column:D,$grid:P})=>[k(c(Dl),Z(ee({gridConfig:c(s),row:g,column:D,xGrid:P})),null,16)]),photos:w(({row:g,column:D,$grid:P})=>[k(c(El),Z(ee({gridConfig:c(s),row:g,column:D,xGrid:P})),null,16)]),icons:w(({row:g,column:D,$grid:P})=>[k(c(vl),Z(ee({gridConfig:c(s),row:g,column:D,xGrid:P})),null,16)]),switch:w(({row:g,column:D,$grid:P})=>[k(c(rr),Z(ee({gridConfig:c(s),row:g,column:D,xGrid:P})),null,16)]),select:w(({row:g,column:D,$grid:P})=>[k(c(lr),Z(ee({gridConfig:c(s),row:g,column:D,xGrid:P})),null,16)]),_:2},[(v=(p=c(s))==null?void 0:p.screenRemote)!=null&&v.file||(B=(b=c(o))==null?void 0:b.list)!=null&&B.length?{name:"form",fn:w(({$grid:g})=>{var D,P,R;return[k(c(nr),Z(ee({gridConfig:c(s),xGrid:g,formScreen:{...(D=c(s))==null?void 0:D.formConfig,screenConfig:(P=c(s))==null?void 0:P.screenConfig},formRemote:(R=c(s))==null?void 0:R.screenRemote,tabsConfig:c(o)})),null,16)]}),key:"0"}:void 0]),1040)):S("",!0)}}}),pr={class:"xhadmin-table-pro"},mr=A({__name:"table-modal",props:{api:{},method:{},ajaxParams:{}},setup(t){return(e,a)=>(m(),x("div",pr,[k(c(ia),{api:e.api,method:e.method,"ajax-params":e.ajaxParams,"is-modal":!0},null,8,["api","method","ajax-params"])]))}});const xt=L(mr,[["__scopeId","data-v-0f49a084"]]),_r={class:"xh-modal-container"},fr=A({__name:"remote-modal",props:{file:{},ajaxParams:{}},emits:["update:close"],setup(t,{emit:e}){const a=()=>{e("update:close")};return(n,s)=>(m(),x("div",_r,[k(c(me),{file:n.file,"ajax-params":n.ajaxParams,"is-modal":!0,"onUpdate:close":a},null,8,["file","ajax-params"])]))}});const Ge=L(fr,[["__scopeId","data-v-523e3818"]]),hr={class:"flex-1 flex items-center"},vr=A({__name:"side",setup(t){var n;const a=((n=ce().siteInfo.public_api)==null?void 0:n.header_left_file)??"";return(s,o)=>(m(),x("div",hr,[c(a)?(m(),C(c(me),{key:0,file:c(a)},null,8,["file"])):S("",!0)]))}}),gr={class:"xh-dropdown-link"},yr={class:"text"},kr=A({__name:"index",setup(t){const e=ce(),a=Ve(),{userInfo:n}=Wt(a),s=()=>{var r;if(!((r=e.siteInfo.public_api)!=null&&r.user_edit)){be("当前系统未开启个人资料修改功能","温馨提示");return}ue(no)},o=()=>{a.loginOut()},l=r=>{switch(r){case"hanldProfile":s();break;case"loginout":o();break}};return(r,u)=>{const i=te,d=T("el-dropdown-item"),_=T("el-dropdown-menu"),f=T("el-dropdown");return m(),C(f,{class:"xh-dropdown",onCommand:l},{dropdown:w(()=>[k(_,null,{default:w(()=>[k(d,{command:"hanldProfile"},{default:w(()=>[H(" 个人中心 ")]),_:1}),k(d,{command:"loginout"},{default:w(()=>[H(" 退出登录 ")]),_:1})]),_:1})]),default:w(()=>{var h;return[$("div",gr,[$("span",yr,F((h=c(n))==null?void 0:h.nickname),1),k(i,{icon:"ArrowUp",size:14})])]}),_:1})}}});const ua=L(kr,[["__scopeId","data-v-12572241"]]),xr={class:"flex-1 flex items-center justify-end"},wr=A({__name:"tools",setup(t){var n;const a=((n=ce().siteInfo.public_api)==null?void 0:n.header_right_file)??"";return(s,o)=>(m(),x("div",xr,[c(a)?(m(),C(c(me),{key:0,file:c(a)},null,8,["file"])):S("",!0),k(ua)]))}}),br={class:"flex justify-between"},Pr=A({__name:"index",setup(t){return(e,a)=>(m(),x("div",br,[k(vr),k(wr)]))}});const Cr={class:"xhadmin-mix-layout"},$r={class:"xhadmin-header-pro"},Dr={class:"xhadmin-main-pro"},Ir={class:"xhadmin-side-pro"},Ar={class:"xhadmin-content-pro"},Br={class:"xhadmin-content pt-4 pl-4 pr-4"},jr={class:"xhadmin-copyright-pro"},Er=A({__name:"index",props:{active:{},menus:{},sideName:{},sideLogo:{},logoHeight:{},sideWidth:{},sideMenuWidth:{},headerHeight:{}},setup(t){const e=t;Te(s=>({"224e506e":c(a),"4aa54bdd":c(n)}));const a=j(()=>`${e.headerHeight}px`),n=j(()=>e.sideWidth);return(s,o)=>(m(),x("div",Cr,[$("div",$r,[k(Eo,{"header-height":s.headerHeight,"side-width":s.sideWidth,"logo-src":s.sideLogo,"side-name":s.sideName,"logo-height":s.logoHeight,"side-menu-width":s.sideMenuWidth},null,8,["header-height","side-width","logo-src","side-name","logo-height","side-menu-width"]),k(Pr,{class:"xhadmin-toolbar"})]),$("div",Dr,[$("div",Ir,[k(Po,{"side-width":s.sideWidth,"side-menu-width":s.sideMenuWidth,active:s.active,menus:s.menus},null,8,["side-width","side-menu-width","active","menus"])]),$("div",Ar,[$("div",Br,[k(aa)]),$("div",jr,[k(na)])])])]))}});const Tr=L(Er,[["__scopeId","data-v-0379bd08"]]),Rr={};function Vr(t,e){return m(),x("div",null," 侧边栏布局 ")}const Sr=L(Rr,[["render",Vr]]),Ur=A({__name:"menus",props:{active:{},menus:{}},setup(t){return(e,a)=>{const n=T("el-menu");return m(),C(n,{mode:"horizontal",class:"menus","default-active":e.active},{default:w(()=>[(m(!0),x(N,null,G(e.menus,s=>(m(),C(Ke,{key:s.id,"menu-data":s},null,8,["menu-data"]))),128))]),_:1},8,["default-active"])}}});const Lr={class:"xhadmin-top-layout"},Mr={class:"xhadmin-header-pro"},Or={class:"logo"},Fr={class:"menus"},qr={key:0,class:"tools"},zr={class:"user"},Hr={class:"xhadmin-main-pro"},Nr={class:"xhadmin-main"},Wr={class:"xhadmin-copyright"},Xr=A({__name:"index",props:{headerHeight:{},active:{},menus:{}},setup(t){const e=ce().siteInfo;return(a,n)=>{var s,o;return m(),x("div",Lr,[$("div",Mr,[$("div",Or,[k(ta)]),$("div",Fr,[k(Ur,{active:a.active,menus:a.menus},null,8,["active","menus"])]),(s=c(e).public_api)!=null&&s.header_right_file?(m(),x("div",qr,[k(c(me),{file:(o=c(e).public_api)==null?void 0:o.header_right_file},null,8,["file"])])):S("",!0),$("div",zr,[k(ua)])]),$("div",Hr,[$("div",Nr,[k(aa)]),$("div",Wr,[k(na)])])])}}});const Qr=L(Xr,[["__scopeId","data-v-07846549"]]),Zr={};function Jr(t,e){return m(),x("div",null," 用户中心布局 ")}const Kr=L(Zr,[["render",Jr]]),Gr=A({__name:"index",setup(t){const e=ce(),a=Ve(),{active:n}=jc(),s=a.layoutInfo,o=e.siteInfo,l=a.menuList;return(r,u)=>{var i,d;return m(),x(N,null,[c(s).layout==="mix"?(m(),C(c(Tr),{key:0,"header-height":c(s).headerHeight,"side-width":c(s).sideWidth,"side-menu-width":c(s).sideMenuWidth,"side-logo":(i=c(o))==null?void 0:i.web_logo,"side-name":(d=c(o))==null?void 0:d.web_name,"logo-height":c(s).logoHeight,active:c(n),menus:c(l)},null,8,["header-height","side-width","side-menu-width","side-logo","side-name","logo-height","active","menus"])):S("",!0),c(s).layout==="side"?(m(),C(c(Sr),{key:1})):S("",!0),c(s).layout==="top"?(m(),C(c(Qr),{key:2,"header-height":c(s).headerHeight,active:c(n),menus:c(l)},null,8,["header-height","active","menus"])):S("",!0),c(s).layout==="user"?(m(),C(c(Kr),{key:3})):S("",!0)],64)}}}),Yr={path:"/",name:"default-router",component:Gr,redirect:Yt,children:[]},ec=[{path:"/workspace/exception",name:"workspaceException",component:()=>xe(()=>import("./index.9ac7f455.js"),["xhadmin/js/index.9ac7f455.js","xhadmin/js/.pnpm.cb614f95.js","xhadmin/css/.pnpm.ad0d32c5.css"]),meta:{title:"出现错误啦~"}},{path:"/user/personal",name:"userPersonal",component:()=>xe(()=>import("./index.702ccd7b.js"),["xhadmin/js/index.702ccd7b.js","xhadmin/js/.pnpm.cb614f95.js","xhadmin/css/.pnpm.ad0d32c5.css","xhadmin/css/index.27a712b3.css"]),meta:{title:"个人资料"}}],tc=[{...Yr,children:[...ec]},{path:"/login",name:"Login",component:()=>xe(()=>import("./index.53977115.js"),["xhadmin/js/index.53977115.js","xhadmin/js/.pnpm.cb614f95.js","xhadmin/css/.pnpm.ad0d32c5.css","xhadmin/css/index.728a17af.css"]),meta:{title:"用户登录"}},{path:"/redirect/:path(.*)",name:"redirect",component:()=>xe(()=>import("./index.9c378b70.js"),["xhadmin/js/index.9c378b70.js","xhadmin/js/.pnpm.cb614f95.js","xhadmin/css/.pnpm.ad0d32c5.css"])},{path:"/exception",name:"exception",meta:{title:"抱歉，你访问的页面不存在~"},component:()=>xe(()=>import("./index.9ac7f455.js"),["xhadmin/js/index.9ac7f455.js","xhadmin/js/.pnpm.cb614f95.js","xhadmin/css/.pnpm.ad0d32c5.css"])},{path:"/:pathMatch(.*)",component:()=>xe(()=>import("./index.9ac7f455.js"),["xhadmin/js/index.9ac7f455.js","xhadmin/js/.pnpm.cb614f95.js","xhadmin/css/.pnpm.ad0d32c5.css"])}],J=Ja({routes:[...tc],history:Ka("/")}),ac={class:"xhadmin-table-pro"},oc=A({name:"/table"}),nc=A({...oc,setup(t){const e=ve(),a=Pe(),n=e.meta.method,s=e.query??{};return(o,l)=>(m(),x("div",ac,[k(c(ia),{api:c(a),method:c(n),"ajax-params":c(s)},null,8,["api","method","ajax-params"])]))}});const sc=L(nc,[["__scopeId","data-v-a39226b1"]]),lc=t=>($e("data-v-7ca0a0aa"),t=t(),De(),t),rc={class:"xhadmin-page-pro"},cc={key:0,class:"flex items-center bg-white px-5 py-4 mb-[10px]"},ic=lc(()=>$("span",{class:"pl-1 text-[16px]"},"返回",-1)),uc={key:0,class:"pl-20px text-[16px] select-none"},dc={class:"form-pro flex-1"},pc=A({name:"/form"}),mc=A({...pc,setup(t){const e=ve(),a=y(),n=y(),s=Pe(),o=e.meta.method,l={...e.query};l!=null&&l.isBack&&(l==null||delete l.isBack);const r=y({...l}),u=y({submitBtn:{},resetBtn:{}}),i=p=>{var b;const v=(b=p==null?void 0:p.response)==null?void 0:b.extraConfig;u.value=v},d=()=>{a.value.submit()},_=()=>{a.value.reset(),pe("数据重置完成")},f=()=>{n.value.setDisabled(!0)},h=()=>{n.value.setDisabled(!1)};return(p,v)=>{var B,g,D;const b=te;return m(),x("div",rc,[(B=c(e).query)!=null&&B.isBack?(m(),x("div",cc,[$("div",{class:"flex items-center cursor-pointer select-none",onClick:v[0]||(v[0]=(...P)=>c(Xe)&&c(Xe)(...P))},[k(b,{icon:"ArrowLeftOutlined",size:16}),ic]),(g=c(e).meta)!=null&&g.title?(m(),x("div",uc,F((D=c(e).meta)==null?void 0:D.title),1)):S("",!0)])):S("",!0),$("div",dc,[k(c(vt),{ref_key:"formRef",ref:a,class:"xh-form-create",api:c(s),method:c(o),"ajax-params":c(r),"onUpdate:initOk":i,"onUpdate:submit":f,"onUpdate:submitOk":h,"onUpdate:submitError":h,"onUpdate:restOk":h,"onUpdate:initError":h},null,8,["api","method","ajax-params"])]),k(c(ra),{ref_key:"buttonRef",ref:n,class:"xh-buttons-pro","extra-config":c(u),"onUpdate:submit":d,"onUpdate:rest":_},null,8,["extra-config"])])}}});const _c=L(mc,[["__scopeId","data-v-7ca0a0aa"]]),fc={class:"h-100%"},hc=A({name:"remote"}),vc=A({...hc,setup(t){const a=ve().meta.ajaxParams;return(n,s)=>(m(),x("div",fc,[k(c(me),{file:c(a)},null,8,["file"])]))}}),gc={};function yc(t,e){return m(),x("div",null," Html内容文件 ")}const kc=L(gc,[["render",yc]]),xc={class:"h-100%"},wc=A({name:"remote"}),bc=A({...wc,setup(t){const e=Pe();return(a,n)=>(m(),x("div",xc,[k(c(me),{file:c(e),"is-api":!0},null,8,["file"])]))}}),Pc=Object.freeze(Object.defineProperty({__proto__:null,formIndex:_c,htmlIndex:kc,remoteIndex:vc,tableIndex:sc,vueIndex:bc},Symbol.toStringTag,{value:"Module"})),ot={routeView:()=>xe(()=>import("./index.1da59e5a.js"),["xhadmin/js/index.1da59e5a.js","xhadmin/js/.pnpm.cb614f95.js","xhadmin/css/.pnpm.ad0d32c5.css"]),exceptionView:()=>xe(()=>import("./exception.81e53395.js"),["xhadmin/js/exception.81e53395.js","xhadmin/js/.pnpm.cb614f95.js","xhadmin/css/.pnpm.ad0d32c5.css"])},Cc=t=>{if(!t)return ot.blankView;if(t in ot)return ot[t];const e=io(t??"");return Pc[e]},$c=t=>{for(const e of t){const a=e.remote,n=a.replace("/","_"),s=()=>Me(me,{file:a});s.displayName=n;const o={path:e==null?void 0:e.path,name:n,component:s,meta:{title:(e==null?void 0:e.title)||"未知页面",path:(e==null?void 0:e.path)||"未知路径",pid:0,method:"GET",ajaxParams:{}}};J.addRoute(o)}},Dc=t=>{const e=[];for(const a of t)if(a.path){const n={path:`/${a.path}`,name:a.path.replace("/","_"),component:Xt(Cc(a.component)),meta:{title:a.title,path:a.path,pid:a.pid,icon:a.icon,method:a.method,ajaxParams:a.auth_params},children:[]};(!n.children||n.children.length<1)&&delete n.children,e.push(n)}return e},da=new Map,pa=(t,e,a)=>{var o;const n=[];let s=[];e?s=t.filter(l=>(l==null?void 0:l.pid)===e):s=t.filter(l=>!l.pid);for(const l of s){const r=a?`${a}-${l.id}`:`${l.id}`,u=`/${l.path}`;da.set(u,r);const i={activeId:r,title:l.title,icon:l.icon,ajaxParams:l.auth_params,path:l.path,show:l.show==="1",target:l.target??"_blank",isGroup:!1,children:pa(t,l.id,r)},d=(o=i.children)==null?void 0:o.some(_=>_.show);i.show&&d&&(i.isGroup=!0),n.push(i)}return n},Lt=da,Ic=()=>{const t=ve(),e=st({active:""}),a=n=>{let s=Lt.get(n);s||(s=Lt.get(Yt)),e.active=s??""};return dt(()=>t.path,()=>{a(t.path)}),{...Ya(e),updateActive:a}},[Ac,Bc]=Ga(Ic),jc=()=>Bc()??{active:y(""),updateActive:()=>{}},Ec=A({__name:"App",setup(t){return Ac(),(e,a)=>(m(),C(oo))}});const Be=y(We),ut=y([...so]),nt=y([...ut.value,Be.value,Kt,Gt]),Mt=y(!1);J.beforeEach(async(t,e,a)=>{var i,d,_,f,h;if(Jt.start(),ut.value.includes(t.path)){a();return}const n=Ve(),s=Ie(),o=qe(),l=j(()=>n.userInfo);if((i=t.query)!=null&&i.token){let p=(d=t.query)==null?void 0:d.token;p=p.includes("Bearer")?p:`Bearer ${p}`,o.value=p}if((_=t.query)!=null&&_.appid&&(s.value=(f=t.query)==null?void 0:f.appid),o.value&&[Be.value,Kt,Gt].includes(t.path)){a({path:"/"});return}const r=ce(),u=j(()=>r.siteInfo);if(!u.value.web_name){if(await r.getSite(),!u.value.web_name){E("站点名称web_name字段缺失");return}if(u.value.login_link&&r.setLoginLink(u.value.login_link),(h=u.value)!=null&&h.remote_url&&!Mt.value){const p=u.value.remote_url;Be.value&&(nt.value=[...nt.value,Be.value]),$c(p),Mt.value=!0,a({...t,replace:!0});return}}if(o.value){if(!l.value.username&&!ut.value.includes(t.path))try{if(await n.getUserInfo(),!l.value.username){E("用户信息缺少username字段");return}const p=n.routeList;if(p.length===0){n.Authorization="",E("您没有任何权限，请联系管理员！"),a({path:Be.value});return}p.forEach(v=>{J.addRoute("default-router",v)}),a({...t,replace:!0});return}catch(p){console.error("前置路由错误",p)}}else if(!nt.value.includes(t.path)){a({path:Be.value,query:{redirect:t.path}});return}a()});J.afterEach(t=>{var r,u,i;const{version_name:e}=oa(),n=((r=ce().siteInfo)==null?void 0:r.web_name)||"XHAdmin",s=`${n} ${e}`;let o=(u=t.meta)==null?void 0:u.title;const l=(i=t.query)==null?void 0:i.code;l&&(o=lo[l]||"抱歉，你访问的页面不存在"),o?document.title=`${o} - ${s}`:n&&(document.title=s),Jt.done()});const Tc=t=>{t.use(Ae),t.config.globalProperties.$XModal=Ae.modal,t.config.globalProperties.$XPrint=Ae.print,t.config.globalProperties.$XSaveFile=Ae.saveFile,t.config.globalProperties.$XReadFile=Ae.readFile},Rc=eo(),Le=to(Ec);Tc(Le);Le.use(Rc);Le.use(J);Le.use(ao);Le.mount("#app");ca.vue=Le;export{ra as X,te as _,ce as a,ea as b,L as c,qe as d,lo as e,Se as f,aa as g,Xe as h,vt as i,me as j,We as l,ue as o,Ve as u};
