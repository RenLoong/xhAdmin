var Pa=Object.defineProperty;var Ca=(t,e,a)=>e in t?Pa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var We=(t,e,a)=>(Ca(t,typeof e!="symbol"?e+"":e,a),a);import{d as I,c as B,E as rt,N as ct,r as T,o as m,a as $,w,b as Nt,u as c,e as y,f as mt,g as b,h as C,i as k,p as Ee,j as Ve,t as F,F as W,k as oe,l as U,m as z,H as At,n as $a,q as Da,s as Ia,v as Aa,x as ja,y as Ba,z as Sa,A as fe,B as ve,C as Ta,D as Pe,G as de,I as re,J as Me,K as J,L as te,M as Ea,O as Z,P as Ie,Q as Wt,R as _t,T as Va,S as Ra,U as he,V as Xt,W as jt,X as Ua,Y as La,Z as Ma,_ as it,$ as ut,a0 as Ke,a1 as Bt,a2 as Oa,a3 as Fa,a4 as Qt,a5 as qa,a6 as ft,a7 as za,a8 as Ha,a9 as Na,aa as Wa,ab as Be,ac as qe,ad as Xa,ae as Qa,af as dt,ag as Za,ah as Ja,ai as Ka,aj as Ga,ak as Zt,al as Jt,am as Ya,an as eo,ao as to,ap as ao,aq as oo,ar as Kt,as as no,at as so,au as lo}from"./.pnpm.9bc250f1.js";const ro=Object.freeze(Object.defineProperty({__proto__:null,get baseURL(){return Ct},get default(){return Y},get instance(){return Y}},Symbol.toStringTag,{value:"Module"}));(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=a(n);fetch(n.href,s)}})();const ae=I({__name:"index",props:{icon:{},size:{default:18},color:{}},setup(t){const e=t,a=B(()=>{if(rt[e.icon])return rt[e.icon];if(ct[e.icon])return ct[e.icon]});return(o,n)=>{const s=T("el-icon");return m(),$(s,{size:o.size,color:o.color},{default:w(()=>[(m(),$(Nt(c(a))))]),_:1},8,["size","color"])}}}),Gt=B(()=>t=>{const a=t.split("?")[0].split(".").pop();if(!a)return!1;const o=a.toLowerCase();return["png","jpg","jpeg","gif","webp","svg","bmp"].includes(o)}),ht=t=>(Ee("data-v-d120635f"),t=t(),Ve(),t),co={class:"category-container"},io={class:"item"},uo=ht(()=>C("div",{class:"title"}," 请输入分类名称 ",-1)),po={class:"item"},mo=ht(()=>C("div",{class:"title"}," 请输入分类目录 ",-1)),_o={class:"item"},fo=ht(()=>C("div",{class:"title"}," 请输入分类排序 ",-1)),ho=I({__name:"category",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=y({...t.modelValue});return mt(()=>o,n=>{e("update:modelValue",o.value)},{immediate:!0}),(n,s)=>{const l=T("el-input");return m(),b("div",co,[C("div",io,[uo,k(l,{modelValue:c(o).title,"onUpdate:modelValue":s[0]||(s[0]=r=>c(o).title=r),placeholder:"请输入分类名称"},null,8,["modelValue"])]),C("div",po,[mo,k(l,{modelValue:c(o).dir_name,"onUpdate:modelValue":s[1]||(s[1]=r=>c(o).dir_name=r),placeholder:"请输入分类目录"},null,8,["modelValue"])]),C("div",_o,[fo,k(l,{modelValue:c(o).sort,"onUpdate:modelValue":s[2]||(s[2]=r=>c(o).sort=r),placeholder:"请输入分类排序"},null,8,["modelValue"])])])}}});const L=(t,e)=>{const a=t.__vccOpts||t;for(const[o,n]of e)a[o]=n;return a},St=L(ho,[["__scopeId","data-v-d120635f"]]),Xe="/login",Yt="/register",ea="/password",vo="/user/personal",ta="/Index/index",go=["/exception","/401","/403","/404","/401","/500","/502"],yo={401:"您没有权限访问该页面",403:"资源错误",404:"资源错误",500:"服务器内部错误",502:"请求错误，无法获取到数据"},ko="modulepreload",xo=function(t){return"/"+t},Tt={},xe=function(e,a,o){if(!a||a.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(a.map(s=>{if(s=xo(s),s in Tt)return;Tt[s]=!0;const l=s.endsWith(".css"),r=l?'[rel="stylesheet"]':"";if(!!o)for(let p=n.length-1;p>=0;p--){const _=n[p];if(_.href===s&&(!l||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${r}`))return;const i=document.createElement("link");if(i.rel=l?"stylesheet":ko,l||(i.as="script",i.crossOrigin=""),i.href=s,document.head.appendChild(i),l)return new Promise((p,_)=>{i.addEventListener("load",p),i.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s})},Ge=I({__name:"menu-item",props:{menuData:{}},setup(t){const e=Ae(),a=o=>{const n=o.path,s=y({});o.ajaxParams&&(s.value=et(o.ajaxParams));let l={...s.value};e.value&&(l={...l,appid:e.value}),ue(`/${n}`,l)};return(o,n)=>{const s=T("el-menu-item-group"),l=T("el-menu-item");return m(),b(W,null,[o.menuData.isGroup&&o.menuData.show?(m(),$(s,{key:0},{title:w(()=>[C("span",null,F(o.menuData.title),1)]),default:w(()=>[(m(!0),b(W,null,oe(o.menuData.children,r=>(m(),$(Ge,{key:r.activeId,"menu-data":r},null,8,["menu-data"]))),128))]),_:1})):U("",!0),!o.menuData.isGroup&&o.menuData.show?(m(),$(l,{key:1,index:o.menuData.activeId,onClick:n[0]||(n[0]=r=>a(o.menuData))},{default:w(()=>[z(F(o.menuData.title),1)]),_:1},8,["index"])):U("",!0)],64)}}}),wo=I({__name:"menu-item-level",props:{menuData:{}},setup(t){const e=Ae(),a=o=>{const n=o.path,s=y({});o.ajaxParams&&(s.value=et(o.ajaxParams));let l={...s.value};e.value&&(l={...l,appid:e.value}),ue(`/${n}`,l)};return(o,n)=>{const s=T("el-sub-menu"),l=T("el-menu-item");return m(),b(W,null,[o.menuData.isGroup&&o.menuData.show?(m(),$(s,{key:0,index:o.menuData.activeId},{title:w(()=>[C("span",null,F(o.menuData.title),1)]),default:w(()=>[(m(!0),b(W,null,oe(o.menuData.children,r=>(m(),$(Ge,{key:r.activeId,"menu-data":r},null,8,["menu-data"]))),128))]),_:1},8,["index"])):U("",!0),!o.menuData.isGroup&&o.menuData.show?(m(),$(l,{key:1,index:o.menuData.activeId,onClick:n[0]||(n[0]=r=>a(o.menuData))},{default:w(()=>[z(F(o.menuData.title),1)]),_:1},8,["index"])):U("",!0)],64)}}}),at={layout:"mix",layoutMenu:"level",layoutTabsTheme:"radius",layoutSize:!1,theme:"OS",sideMenuCollapse:!1,sideMenuWidth:80,sideWidth:220,headerHeight:50,logoHeight:30,footerHeight:35},Et={nickname:"",username:"",password:"",headimg:"",role:{},menus:[]},bo={form:{inline:!1,labelPosition:"top",labelSuffix:void 0,hideRequiredAsterisk:!0,labelWidth:"auto",showMessage:!0,inlineMessage:!0,statusIcon:!1,validateOnRuleChange:!0,disabled:!1,size:void 0,title:!0},row:{gutter:50,type:void 0,align:void 0,justify:void 0,tag:"div"},global:{"*":{}},submitBtn:!1,resetBtn:!1},Po=t=>t.map(e=>(e.handle=a=>{if((e==null?void 0:e.where)==="==")return a===e.value;if((e==null?void 0:e.where)==="!=")return a!==e.value;if((e==null?void 0:e.where)==="in"){const o=e.value;return o instanceof Array&&o instanceof Object?Fe(a,e.value):(console.error("联动组件的IN条件值必须是数组或对象"),!1)}},e)),Co=t=>t.map(e=>(e!=null&&e.control&&(e.control=Po(e.control)),e)),$o={};function Do(t,e){return m(),b("div",null," 高德地图 ")}const Io=L($o,[["render",Do]]),Ao={};function jo(t,e){return m(),b("div",null," 百度地图 ")}const Bo=L(Ao,[["render",jo]]),So={};function To(t,e){return m(),b("div",null," 腾讯地图 ")}const Eo=L(So,[["render",To]]),Vo={javascript:$a,php:Da,python:Ia,java:Aa,css:ja,xml:Ba},Ro=t=>(At.registerLanguage(t,Vo[t]),At),Uo={class:"w-100%"},Lo=["innerHTML"],Mo=I({__name:"index",props:{modelValue:{},language:{default:"javascript"},showLineNumbers:{type:Boolean}},setup(t){const e=t,a=Ro(e.language),o=y("");return Sa(()=>{o.value=a.highlight(e.modelValue,{language:e.language}).value}),(n,s)=>(m(),b("div",Uo,[C("pre",null,[z("    "),C("code",{class:"hljs",innerHTML:c(o)},null,8,Lo),z(`
    `)])]))}}),Oo=I({__name:"xh-button",props:{type:{default:"default"},text:{type:Boolean}},setup(t){const e=t,a=B(()=>e.text?"":`xh-button-${e.type}`);return(o,n)=>(m(),b("button",{class:ve(["xh-button",c(a)])},[fe(o.$slots,"loading",{},void 0,!0),fe(o.$slots,"icon",{},void 0,!0),fe(o.$slots,"default",{},void 0,!0)],2))}});const Fo=L(Oo,[["__scopeId","data-v-dbf03c62"]]),Re=I({__name:"index",props:{type:{default:"default"}},setup(t){const e=t,a=["error","purple","cyan"],o=B(()=>a.includes(e.type));return(n,s)=>{const l=T("el-button");return c(o)?(m(),$(Fo,{key:0,type:n.type},{default:w(()=>[fe(n.$slots,"loading"),fe(n.$slots,"icon"),fe(n.$slots,"default")]),_:3},8,["type"])):(m(),$(l,{key:1,type:n.type},{default:w(()=>[fe(n.$slots,"loading"),fe(n.$slots,"icon"),fe(n.$slots,"default")]),_:3},8,["type"]))}}}),Q=(t,e,a="",o)=>{Ta({message:t,title:a,duration:2e3,type:e,...o})},ie=(t,e="温馨提示",a)=>{Q(t,"success",e,a)},S=(t,e="温馨提示",a)=>{Q(t,"error",e,a)},aa=t=>(Ee("data-v-f0d97d29"),t=t(),Ve(),t),qo={class:"xh-icons-modal"},zo={class:"xh-icons"},Ho={class:"search-container"},No=aa(()=>C("div",{class:"placeholder text-blueGray"}," 温馨提示：单击图标为选择，双击图标为复制 ",-1)),Wo={class:"icon-list"},Xo={class:"tools"},Qo=aa(()=>C("div",{class:"title"}," 所有图标 ",-1)),Zo={class:"options"},Jo={class:"list"},Ko=["onDblclick","onClick"],Go={class:"icon-title"},Yo={class:"xh-action"},en=I({__name:"modal",emits:["update:confirm","update:close"],setup(t,{emit:e}){const a=y([{title:"Element-Plus",type:"element",icons:Object.keys(rt)},{title:"vicons/antd",type:"naiveui",icons:Object.keys(ct)}]),o=y(""),n=y("element"),s=y(""),l=y([]),r=v=>{l.value=[];const d=a.value.find(h=>h.type===v);d&&u(d.icons)};function u(v){let d=0;function h(){globalThis.requestIdleCallback(x=>{for(;x.timeRemaining()>0&&d<v.length;)l.value.push(v[d++]);d<v.length&&h()})}h()}const i=v=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(v).then(d=>{});else{const d=document.createElement("input");d.value=v,document.body.appendChild(d),d.select(),document.execCommand("Copy"),d.remove()}ie("复制成功")},p=v=>{s.value=v===s.value?"":v},_=()=>{e("update:confirm",{icon:s.value,type:n.value})},f=()=>{e("update:close")};return Pe(()=>{u(a.value[0].icons)}),(v,d)=>{const h=ae,x=T("el-button"),j=T("el-button-group"),D=T("el-input"),E=T("el-option"),P=T("el-select"),A=Re;return m(),b("div",qo,[C("div",zo,[C("div",Ho,[k(D,{modelValue:c(o),"onUpdate:modelValue":d[1]||(d[1]=g=>de(o)?o.value=g:null),placeholder:"图标名称"},{prepend:w(()=>[k(h,{icon:"Search",type:"element"})]),append:w(()=>[k(j,null,{default:w(()=>[k(x,{onClick:d[0]||(d[0]=g=>o.value="")},{default:w(()=>[z(" 重置 ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),No]),C("div",Wo,[C("div",Xo,[Qo,C("div",Zo,[k(P,{modelValue:c(n),"onUpdate:modelValue":d[2]||(d[2]=g=>de(n)?n.value=g:null),onChange:r},{default:w(()=>[(m(!0),b(W,null,oe(c(a),(g,q)=>(m(),$(E,{key:q,label:g.title,value:g.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),C("div",Jo,[(m(!0),b(W,null,oe(c(l).filter(g=>g.includes(c(o))),(g,q)=>(m(),b("div",{key:q,class:ve(["item",{active:g===c(s)}]),onDblclick:X=>i(g),onClick:X=>p(g)},[k(h,{icon:g,size:26,type:c(n),color:"#888"},null,8,["icon","type"]),C("div",Go,F(g),1)],42,Ko))),128))])])]),C("div",Yo,[k(A,{type:"primary",class:"xh-group-button",onClick:_},{default:w(()=>[z(" 确定 ")]),_:1}),k(A,{type:"danger",class:"xh-group-button",onClick:f},{default:w(()=>[z(" 取消 ")]),_:1})])])}}});const tn=L(en,[["__scopeId","data-v-f0d97d29"]]),le=(t,e,a)=>re({title:"通用模态框",customStyle:{width:"45%",height:"650px"},showClose:!0,closeOnClickModal:!1,...a,showConfirmButton:!1,customClass:"xh-modal-mask",message:()=>Me(t,e)}),De=()=>{re.close()},an={key:1},on=I({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=()=>{le(tn,{"onUpdate:confirm":n=>{e("update:modelValue",n),re.close()},"onUpdate:close":()=>{re.close()}},{title:"图标库",closeOnClickModal:!1,customStyle:{width:"45%",height:"650px"}})},o=()=>{e("update:modelValue",""),ie("重置成功")};return(n,s)=>{var p;const l=ae,r=T("el-button"),u=T("el-button-group"),i=T("el-input");return m(),$(i,{value:((p=n.modelValue)==null?void 0:p.icon)||"",placeholder:"请选择图标",disabled:""},{prepend:w(()=>{var _,f,v;return[(_=n.modelValue)!=null&&_.icon?(m(),$(l,{key:0,icon:(f=n.modelValue)==null?void 0:f.icon,type:((v=n.modelValue)==null?void 0:v.type)||"",size:18},null,8,["icon","type"])):(m(),b("span",an,"无"))]}),append:w(()=>[k(u,null,{default:w(()=>[k(r,{type:"primary",onClick:o},{default:w(()=>[z(" 重置图标 ")]),_:1}),k(r,{type:"danger",onClick:a},{default:w(()=>[z(" 选择图标 ")]),_:1})]),_:1})]),_:1},8,["value"])}}}),nn=I({__name:"index",props:{modelValue:{},style:{default:{}}},setup(t){return(e,a)=>(m(),b("div",J(te(e.style)),F(e.modelValue),17))}}),sn={};function ln(t,e){return m(),b("div",null," 自定义输入框（未实现） ")}const rn=L(sn,[["render",ln]]),cn=["innerHTML"],un=I({__name:"index",props:{text:{},icon:{default:""},style:{default:{color:"#666",padding:"5px 0 0 0",fontSize:"12px"}},iconSize:{default:16}},setup(t){return(e,a)=>{const o=ae;return m(),b("div",{class:"form-prompt",style:Ea(e.style)},[e.icon?(m(),$(o,{key:0,icon:e.icon,size:e.iconSize},null,8,["icon","size"])):U("",!0),C("span",{class:"text",innerHTML:e.text},null,8,cn)],4)}}});const dn=L(un,[["__scopeId","data-v-3e2f6421"]]),pn=I({__name:"index",props:{modelValue:{},file:{},ajaxParams:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,o=s=>{e("update:modelValue",s)},n=y(a.modelValue);return(s,l)=>(m(),$(c(me),Z({modelValue:c(n),"onUpdate:modelValue":l[0]||(l[0]=r=>de(n)?n.value=r:null),file:s.file},{ajaxParams:s.ajaxParams},{"onUpdate:modelValue":o}),null,16,["modelValue","file"]))}}),mn={};function _n(t,e){return m(),b("div",null," 表格展示器 ")}const fn=L(mn,[["render",_n]]),hn={class:"upload-container"},vn=["onClick"],gn=["onClick"],yn=I({__name:"index",props:{modelValue:{default:[]},limit:{default:1},suffix:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,o=s=>{const l=s.map(r=>r==null?void 0:r.url);e("update:modelValue",l)},n=s=>{const l=a.modelValue.filter((r,u)=>u!==s);e("update:modelValue",l)};return Pe(()=>{if(typeof a.modelValue=="string"){const s=a.modelValue===""?"":[a.modelValue];e("update:modelValue",s)}}),(s,l)=>{const r=T("el-image"),u=ae,i=T("el-icon");return m(),b("div",null,[k(ma,{limit:s.limit,suffix:s.suffix,"onUpdate:confirm":o},{open:w(({open:p})=>[C("div",hn,[(m(!0),b(W,null,oe(s.modelValue,(_,f)=>(m(),b("div",{key:f,class:"item"},[c(Gt)(_)?(m(),$(r,{key:0,class:"image","preview-src-list":s.modelValue,"z-index":999,src:_,infinite:!1},null,8,["preview-src-list","src"])):(m(),$(i,{key:1,class:"file-thumb"},{default:w(()=>[k(u,{icon:"Document",size:28,type:"element"})]),_:1})),C("div",{class:"del-file",onClick:v=>n(f)},[k(u,{icon:"Delete",size:15,type:"element"})],8,vn)]))),128)),C("div",{class:"item",onClick:p},[k(u,{icon:"PlusOutlined",size:24,color:"#888"})],8,gn)])]),_:1},8,["limit","suffix"])])}}});const kn=L(yn,[["__scopeId","data-v-3c443961"]]),xn={class:"editor-container"},wn=I({__name:"index",props:{modelValue:{},toolbarConfig:{},editorConfig:{},editHeight:{default:450},isUploadify:{type:Boolean,default:!0},uploadifyLimit:{},uploadifyExt:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t;Ie(i=>({e762c098:c(u)}));const o=Wt(),n=y(a.modelValue),s=y({defaultConfig:{insertKeys:{index:22,keys:["xhUploadify"]}}});_t(()=>{o.value&&(o.value.destroy(),o.value=null)});const l=i=>{o.value=i},r=i=>{const p=i.getHtml();e("update:modelValue",p)},u=B(()=>`${a.editHeight}px`);return(i,p)=>(m(),b("div",xn,[k(c(Va),Z({class:"toolbar",editor:c(o)},c(s)),null,16,["editor"]),k(c(Ra),{modelValue:c(n),"onUpdate:modelValue":p[0]||(p[0]=_=>de(n)?n.value=_:null),"default-config":i.editorConfig,class:"editor-content",onOnCreated:l,onOnChange:r},null,8,["modelValue","default-config"])]))}});const Vt=L(wn,[["__scopeId","data-v-8d4a562d"]]),Rt={amap:Io,bmap:Bo,icons:on,qmap:Eo,remote:pn,uploadify:kn,info:nn,HCode:Mo,PromptTip:dn,wangEditor:Vt,tinymceEditor:Vt,XInput:rn,XTable:fn},bn=t=>{Object.keys(Rt).forEach(e=>{t.component(e,Rt[e])})},vt=I({__name:"index",props:{api:{default:""},method:{default:"GET"},ajaxParams:{},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{expose:e,emit:a}){const o=t,n=he(),s=Xt(),l=y({}),r=y({api:"",method:"POST"}),u=y({}),i=y(),p=y(bo),_=y("");jt.use(bn);const f=jt.$form(),v=()=>{const x=y({method:o.method,params:{...o.ajaxParams},data:{...o.ajaxParams}});o.method==="GET"?delete x.value.data:delete x.value.params,a("update:init"),Y(o.api,x.value).then(j=>{const{data:D}=j;if(!(D!=null&&D.http))return S("提交接口获取失败"),Promise.reject(new Error("提交接口获取失败"));if(!(D!=null&&D.formRule))return S("表单规则获取失败"),Promise.reject(new Error("表单规则获取失败"));r.value=D.http,i.value=Co(D.formRule),p.value={...p.value,...D.config},_.value=(D==null?void 0:D.redirect)??"",a("update:init-ok",{response:D,exposed:s.exposed})}).catch(j=>{a("update:init-error",j)})},d=()=>{var j,D,E;const x=y({method:((j=r.value)==null?void 0:j.method)??"GET",params:{...o.ajaxParams},data:{}});((D=r.value)==null?void 0:D.method)==="GET"?x.value.params={...x.value.params,...u.value}:x.value.data={...x.value.data,...u.value},a("update:submit",{api:r.value.api,queryParams:x}),Y(((E=r.value)==null?void 0:E.api)??"",x.value).then(P=>{var A;(A=n.query)!=null&&A.isBack&&!o.isModal&&!_.value?Je():_.value&&ue(_.value),a("update:submit-ok",P),ie((P==null?void 0:P.msg)??"操作失败")}).catch(P=>{a("update:submit-error",P)})},h=()=>{a("update:rest-ok")};return Pe(()=>v()),e({init:v,submit:d,reset:h}),(x,j)=>(m(),$(c(f),{api:c(l),"onUpdate:api":j[0]||(j[0]=D=>de(l)?l.value=D:null),modelValue:c(u),"onUpdate:modelValue":j[1]||(j[1]=D=>de(u)?u.value=D:null),modelModifiers:{lazy:!0},rule:c(i),option:c(p),title:""},null,8,["api","modelValue","rule","option"]))}}),Pn={class:"xh-modal-container"},Cn=I({__name:"info-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},setup(t){const e=y(),a=y({submitBtn:{},resetBtn:{}}),o=n=>{var l;const s=(l=n==null?void 0:n.response)==null?void 0:l.extraConfig;a.value=s};return(n,s)=>(m(),b("div",Pn,[k(c(vt),{ref_key:"formRef",ref:e,class:"xh-form-create",api:n.api,method:n.method,"ajax-params":n.ajaxParams,"is-modal":!0,"onUpdate:initOk":o},null,8,["api","method","ajax-params"])]))}});const gt=L(Cn,[["__scopeId","data-v-be00eddc"]]),$n={class:"xh-modal-container"},Dn={class:"xh-modal-content"},In=I({__name:"form-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{emit:e}){const a=y(),o=y(),n=y({submitBtn:{},resetBtn:{}}),s=()=>{o.value.setDisabled(!1)},l=_=>{var v;const f=(v=_==null?void 0:_.response)==null?void 0:v.extraConfig;f.resetBtn.content="关闭窗口",f.resetBtn.type="error",n.value=f},r=()=>{a.value.submit()},u=()=>{s(),e("update:submit-ok")},i=()=>{s(),e("update:submit-error")},p=()=>{a.value.reset(),e("update:rest-ok")};return(_,f)=>(m(),b("div",$n,[C("div",Dn,[k(c(vt),{ref_key:"formRef",ref:a,class:"xh-form-create",api:_.api,method:_.method,"ajax-params":_.ajaxParams,"is-modal":!0,"onUpdate:initOk":l,"onUpdate:submitOk":u,"onUpdate:submitError":i,"onUpdate:restOk":s,"onUpdate:initError":s},null,8,["api","method","ajax-params"])]),k(c(oa),{ref_key:"buttonRef",ref:o,"extra-config":c(n),"onUpdate:submit":r,"onUpdate:rest":p},null,8,["extra-config"])]))}});const yt=L(In,[["__scopeId","data-v-cea8d9fb"]]),An=I({__name:"buttons",props:{extraConfig:{}},emits:["update:init","update:submit","update:rest"],setup(t,{expose:e,emit:a}){const o=Xt(),n=y(!1),s=u=>{n.value=u},l=()=>{s(!0),a("update:submit")},r=()=>{s(!0),a("update:rest")};return Pe(()=>{a("update:init",{exposed:o.exposed})}),e({setDisabled:s}),(u,i)=>{var f;const p=Re,_=T("el-space");return(f=u.extraConfig.submitBtn)!=null&&f.show?(m(),$(_,{key:0,alignment:"center",class:"footer-buttons",size:[30,0]},{default:w(()=>{var v,d,h,x;return[(v=u.extraConfig.submitBtn)!=null&&v.show?(m(),$(p,Z({key:0,type:"primary",class:"xh-extra-button"},((d=u.extraConfig)==null?void 0:d.submitBtn)??{},{loading:c(n),disabled:c(n),onClick:l}),{default:w(()=>{var j;return[z(F(c(n)?"请求中...":((j=u.extraConfig.submitBtn)==null?void 0:j.content)??"提交"),1)]}),_:1},16,["loading","disabled"])):U("",!0),(h=u.extraConfig.resetBtn)!=null&&h.show?(m(),$(p,Z({key:1,type:"warning",class:"xh-extra-button"},((x=u.extraConfig)==null?void 0:x.resetBtn)??{},{disabled:c(n),onClick:r}),{default:w(()=>{var j;return[z(F(((j=u.extraConfig.resetBtn)==null?void 0:j.content)??"重置"),1)]}),_:1},16,["disabled"])):U("",!0)]}),_:1})):U("",!0)}}});const oa=L(An,[["__scopeId","data-v-c3072cde"]]),jn=(t,e,a,o,n)=>{var _,f;a==null||a.xGrid;const s=a==null?void 0:a.form,l=a==null?void 0:a.page,r=a==null?void 0:a.sort,u=a==null?void 0:a.filters;a!=null&&a.code&&((_=o.screenConfig)!=null&&_.api)&&(t=(f=o.screenConfig)==null?void 0:f.api);const i=G.currentRoute.value,p=y({method:e,params:{page:l.currentPage??1,limit:l.pageSize??20,...n??{},...s,...(i==null?void 0:i.query)??{}}});return JSON.stringify(r)!=="{}"&&p.value.params&&(p.value.params={...p.value.params,field:r.field,order:r.order}),u.length>0&&p.value.params&&u.forEach(({field:v,values:d})=>{p.value.params={...p.value.params,[v]:d.join(",")}}),new Promise((v,d)=>{Y(t,p.value).then(h=>{v(h)}).catch(h=>{d(h)})})},Bn=(t,e,a)=>{Y(a.file,{responseType:"blob"}).then(o=>{Ua.saveFile({filename:t,type:e,content:o.data})})},Sn=(t,e,a)=>new Promise((o,n)=>{var r;if(!((r=e.exportConfig)!=null&&r.api))return S("请设置请求API"),Promise.reject(new Error("请设置请求API"));const s=a==null?void 0:a.getProxyInfo(),l={format:t.type??"xlsx",filename:t.filename??"导出文件",sheetName:t.sheetName??"",isHeader:t.isHeader??!1,original:t.original??!1,mode:t.mode??"all",pager:s?s.pager:null,ids:t.mode==="selected"?t.data.map(u=>u.id):[],fields:t.columns.map(u=>({field:u.field,title:u.title}))};return new Promise(u=>{var _;const i={method:"POST",data:{...l}},p=((_=e.exportConfig)==null?void 0:_.api)??"";Y(p,i).then(f=>{const{data:v}=f;if(!(v!=null&&v.file))return S("导出数据失败，缺少[file]地址"),Promise.reject(new Error("导出数据失败，缺少导出地址"));Bn(l.filename,l.format,v),u(f)})})}),Tn=(t,e,a)=>{const o=new FormData;return o.append("file",t.file),new Promise(n=>{var r;const s=((r=e.importConfig)==null?void 0:r.api)??"";Y(s,{method:"POST",data:o}).then(u=>{const{msg:i}=u;ie(i||"操作成功"),a==null||a.commitProxy("query"),n(u)}).catch(u=>{console.error("导入失败",u)})})},En=(t,e,a)=>new Promise(o=>{const n=new FileReader;n.onload=s=>{const l=s.target?s.target.result:"",r=La(l,{type:"binary"}),u=Ma.sheet_to_json(r.Sheets.Sheet1);t.$table.loadData(u),ie("已将数据导入至本地表格"),o(u)},n.readAsBinaryString(t.file)}),Vn=(t,e,a)=>{var o,n;return(o=e.importConfig)!=null&&o.api&&((n=e.importConfig)!=null&&n.isRemote)?Tn(t,e,a):En(t)},Rn=(t,e,a,o,n)=>{const s={...a.toolbarConfig,slots:{buttons:"topButtonList"}};return a.toolbarConfig=s,s!=null&&s.import&&(a.importConfig={...a.importConfig,remote:!0,importMethod:l=>Vn(l,a,n)}),s!=null&&s.export&&(a.exportConfig={...a.exportConfig,remote:!0,exportMethod:l=>Sn(l,a,n)}),a.proxyConfig={...a.proxyConfig,ajax:{query:l=>jn(t,e,l,a,o)}},a},we=(t,e,a)=>Y.request({url:t,params:e,method:"GET",...a}),Te=(t,e,a)=>Y.request({url:t,data:e,method:"POST",...a}),Qe=(t,e,a)=>Y.request({url:t,data:e,method:"PUT",...a}),Ze=(t,e,a)=>Y.request({url:t,data:e,method:"DELETE",...a}),ne=(t,e)=>{const a=t.field;let o=e[a];if(a.includes(".")){const n=a.split(".");let s=e;n.forEach(l=>{s=s[l]}),o=s}return o},Ue=(t,e,a,o=!0)=>{if(!t){S("请设置请求API接口"),a==null||a.commitProxy("query");return}Qe(t,e).then(n=>{a==null||a.commitProxy("query"),o&&ie((n==null?void 0:n.msg)??"操作成功")})},Un=(t,e,a,o)=>{var r,u;const n=((r=a==null?void 0:a.rowConfig)==null?void 0:r.keyField)??"id",s=e[t==null?void 0:t.field],l={[n]:e[n],keyField:n,field:t==null?void 0:t.field,value:s};Ue((u=t==null?void 0:t.params)==null?void 0:u.api,l,o)},Ln=(t,e)=>{let a={};for(const o in t){const n=t[o]||"id";a={...a,[n]:e[o]||""}}return a},ze=(t,e,a)=>{var l,r;const o=G.currentRoute.value;let s={...((l=t==null?void 0:t.pageData)==null?void 0:l.queryParams)??{},...o.query};return(r=t.pageData)!=null&&r.isBack&&(s={...s,isBack:1}),s},Mn=(t,e,a,o,n)=>{var i,p,_,f,v;const s=G.currentRoute.value,l=((i=t==null?void 0:t.pageData)==null?void 0:i.queryParams)??{},r=y({...s.query}),u=y({...r.value});if(l instanceof Object&&(u.value={...u.value,...l}),a&&!Fe(JSON.stringify((p=t==null?void 0:t.pageData)==null?void 0:p.aliasParams),["[]","{}"]))u.value={...u.value,...Ln((_=t==null?void 0:t.pageData)==null?void 0:_.aliasParams,a)};else{const d=((f=o==null?void 0:o.rowConfig)==null?void 0:f.keyField)??"id";if(!a[d]){S("当前数据错误");return}const h=a[d];u.value={...u.value,[d]:h}}return(v=t.pageData)!=null&&v.isBack&&(u.value={...u.value,isBack:1}),u.value},On=(t,e,a)=>{var n,s;if(!((n=t==null?void 0:t.pageData)!=null&&n.path)){S("缺少跳转地址");return}const o=ze(t);G.push({path:(s=t==null?void 0:t.pageData)==null?void 0:s.path,query:{...o}})},Fn=(t,e,a,o)=>{var n,s;if(!((n=t==null?void 0:t.pageData)!=null&&n.path)){S("缺少跳转地址");return}G.push({path:(s=t==null?void 0:t.pageData)==null?void 0:s.path,query:{...e}})},Oe=t=>{wt(t)||(t=`${window.location.origin}/${t}`),window.open(t)},qn=(t,e,a)=>{var u,i,p;const o=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",n=((i=t.pageData)==null?void 0:i.method)??"GET";let s=((p=t.pageData)==null?void 0:p.path)??"";const l=ze(t),r={method:n,params:{},data:{}};if(n==="GET"?r.params=l:r.data=l,s){Oe(s);return}Y(o,r).then(_=>{const{data:f}=_;if(!(f!=null&&f.url)){S("缺少目标跳转地址");return}s=f.url,Oe(s)})},zn=(t,e,a,o)=>{var p,_,f,v,d;const n=((p=t==null?void 0:t.pageData)==null?void 0:p.api)??"",s=((_=t.pageData)==null?void 0:_.method)??"GET";let l=((f=e.checkboxConfig)==null?void 0:f.labelField)??"";l||(l=((v=e==null?void 0:e.rowConfig)==null?void 0:v.keyField)??"id");let r=((d=t.pageData)==null?void 0:d.path)??"";const u=ze(t),i={method:s,params:{},data:{}};if(s==="GET"?i.params={...u,[l]:a}:i.data={...u,[l]:a},r){Oe(r);return}Y(n,i).then(h=>{const{data:x}=h;if(!(x!=null&&x.url)){S("缺少目标跳转地址");return}r=x.url,Oe(r)})},Hn=(t,e,a,o)=>{var u,i,p;const n=((u=t==null?void 0:t.pageData)==null?void 0:u.api)??"",s=((i=t.pageData)==null?void 0:i.method)??"GET";let l=((p=t.pageData)==null?void 0:p.path)??"";const r=y({method:s,params:{...e},data:{...e}});if(s==="GET"?delete r.value.data:delete r.value.params,l){window.open(l);return}Y(n,r.value).then(_=>{const{data:f}=_;if(!(f!=null&&f.url)){S("缺少目标跳转地址");return}l=f.url,Oe(l)})},Nn=(t,e,a)=>{var s,l,r,u;if(!(((s=t.message)==null?void 0:s.title)||"")){S("模态框标题不能为空");return}if(!t.pageData.api){S("请提供模态框接口");return}const n={api:((l=t.pageData)==null?void 0:l.api)||"",method:((r=t.pageData)==null?void 0:r.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{},"onUpdate:submit-ok":()=>{De(),a==null||a.commitProxy("reload")},"onUpdate:rest-ok":()=>{De(),a==null||a.commitProxy("reload")}};le(yt,n,{...t.message,beforeClose:(i,p,_)=>{_(),a==null||a.commitProxy("reload")}})},Wn=(t,e,a,o)=>{var r,u,i,p,_,f,v;if(!(((r=t.message)==null?void 0:r.title)||"")){S("模态框标题不能为空");return}if(!t.pageData.api){S("请提供模态框接口");return}let s=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";s||(s=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({api:(p=t.pageData)==null?void 0:p.api,method:((_=t.pageData)==null?void 0:_.method)||"GET",ajaxParams:{[s]:a},"onUpdate:submit-ok":()=>{De(),o==null||o.commitProxy("reload")},"onUpdate:rest-ok":()=>{De(),o==null||o.commitProxy("reload")}});((f=t.pageData)==null?void 0:f.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(v=t.pageData)==null?void 0:v.queryParams}),le(yt,l.value,{...t.message,beforeClose:(d,h,x)=>{x(),o==null||o.commitProxy("reload")}})},Xn=(t,e,a,o)=>{var r,u,i,p,_;if(!(((r=t.message)==null?void 0:r.title)||"")){S("模态框标题不能为空");return}if(!t.pageData.api){S("请提供模态框接口");return}const s=y({api:((u=t.pageData)==null?void 0:u.api)||"",method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:{...e},"onUpdate:submit-ok":()=>{De(),o==null||o.commitProxy("reload")},"onUpdate:rest-ok":()=>{De(),o==null||o.commitProxy("reload")}}),l=((p=t.pageData)==null?void 0:p.queryParams)??"";l instanceof Object&&(s.value.ajaxParams={...s.value.ajaxParams,...l}),(_=s.value.ajaxParams)!=null&&_.isBack&&delete s.value.ajaxParams.isBack,le(yt,s.value,{...t.message,beforeClose:(f,v,d)=>{d(),o==null||o.commitProxy("reload")}})},be=(t,e="温馨提示",a="",o)=>re.confirm(t,e,{confirmButtonText:"确定",cancelButtonText:"取消",type:a,...o}),Qn=(t,e,a)=>{var p,_,f,v,d;const o=(p=t.pageData)==null?void 0:p.api,n=((_=t.pageData)==null?void 0:_.method)??"GET",s=ze(t);s!=null&&s.isBack&&delete s.isBack;const l=y({method:n,params:{...s},data:{...s}});n==="GET"?delete l.value.data:delete l.value.params;const r=((f=t.message)==null?void 0:f.content)??"",u=((v=t.message)==null?void 0:v.title)??"",i=((d=t.message)==null?void 0:d.type)??"";if(!o){S("接口地址不存在");return}be(r,u,i).then(()=>{Y(o,l.value).then(h=>{ie((h==null?void 0:h.msg)??"操作成功"),a==null||a.commitProxy("reload")})})},Zn=(t,e,a,o)=>{var f,v,d,h,x,j,D;const n=(f=t.pageData)==null?void 0:f.api,s=((v=t.pageData)==null?void 0:v.method)??"GET",l=ze(t);l!=null&&l.isBack&&delete l.isBack;let r=((d=e.checkboxConfig)==null?void 0:d.labelField)??"";r||(r=((h=e==null?void 0:e.rowConfig)==null?void 0:h.keyField)??"id");const u=y({method:s,params:{...l,[r]:a},data:{...l,[r]:a}});s==="GET"?delete u.value.data:delete u.value.params;const i=((x=t.message)==null?void 0:x.content)??"",p=((j=t.message)==null?void 0:j.title)??"",_=((D=t.message)==null?void 0:D.type)??"";if(!n){S("接口地址不存在");return}be(i,p,_).then(()=>{Y(n,u.value).then(E=>{ie((E==null?void 0:E.msg)??"操作成功"),o==null||o.commitProxy("reload")})})},Jn=(t,e,a,o)=>{var _,f,v,d,h,x,j;const n=(_=t.pageData)==null?void 0:_.api,s=((f=t.pageData)==null?void 0:f.method)??"GET";let l=((v=a.checkboxConfig)==null?void 0:v.labelField)??"";l||(l=((d=a==null?void 0:a.rowConfig)==null?void 0:d.keyField)??"id");const r=y({method:s,params:{...e},data:{...e}});s==="GET"?delete r.value.data:delete r.value.params;const u=((h=t.message)==null?void 0:h.content)??"",i=((x=t.message)==null?void 0:x.title)??"",p=((j=t.message)==null?void 0:j.type)??"";if(!n){S("接口地址不存在");return}be(u,i,p).then(()=>{Y(n,r.value).then(D=>{ie((D==null?void 0:D.msg)??"操作成功"),o==null||o.commitProxy("reload")})})},Kn=(t,e,a)=>{var s,l,r;if(!(((s=t.message)==null?void 0:s.title)||"")){S("模态框标题不能为空");return}if(!t.pageData.path){S("请提供远程组件地址");return}const n={file:((l=t.pageData)==null?void 0:l.path)||"",ajaxParams:((r=t.pageData)==null?void 0:r.queryParams)||{},"onUpdate:close":()=>{re.close(),a==null||a.commitProxy("reload")}};le(Ye,n,{...t.message,beforeClose:(u,i,p)=>{p(),a==null||a.commitProxy("reload")}})},Gn=(t,e,a,o)=>{var r,u,i,p,_,f;if(!(((r=t.message)==null?void 0:r.title)||"")){S("模态框标题不能为空");return}if(!t.pageData.path){S("请提供远程组件地址");return}let s=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";s||(s=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({file:(p=t.pageData)==null?void 0:p.path,ajaxParams:{[s]:a},"onUpdate:close":()=>{re.close(),o==null||o.commitProxy("reload")}});((_=t.pageData)==null?void 0:_.queryParams)instanceof Object&&(l.value.ajaxParams={...(f=t.pageData)==null?void 0:f.queryParams}),le(Ye,l.value,{...t.message,beforeClose:(v,d,h)=>{h(),o==null||o.commitProxy("reload")}})},Yn=(t,e,a,o)=>{var l,r;if(!(((l=t.message)==null?void 0:l.title)||"")){S("模态框标题不能为空");return}if(!t.pageData.path){S("请提供远程组件地址");return}const s=y({file:(r=t.pageData)==null?void 0:r.path,ajaxParams:e,"onUpdate:close":()=>{re.close(),o==null||o.commitProxy("reload")}});le(Ye,s.value,{...t.message,beforeClose:(u,i,p)=>{p(),o==null||o.commitProxy("reload")}})},es=(t,e,a)=>{var s,l,r,u;if(!(((s=t.message)==null?void 0:s.title)||"")){S("模态框标题不能为空");return}if(!t.pageData.api){S("请提供信息模态框接口");return}const n={api:((l=t.pageData)==null?void 0:l.api)||"",method:((r=t.pageData)==null?void 0:r.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};le(gt,n,{...t.message,beforeClose:(i,p,_)=>{_(),a==null||a.commitProxy("reload")}})},ts=(t,e,a,o)=>{var u,i,p,_,f,v;if(!(((u=t.message)==null?void 0:u.title)||"")){S("模态框标题不能为空");return}if(!t.pageData.api){S("请提供模态框接口");return}let s=((i=e.checkboxConfig)==null?void 0:i.labelField)??"";s||(s=((p=e==null?void 0:e.rowConfig)==null?void 0:p.keyField)??"id");const l=y({api:(_=t.pageData)==null?void 0:_.api,method:((f=t.pageData)==null?void 0:f.method)||"GET",ajaxParams:{[s]:a}}),r=((v=t==null?void 0:t.pageData)==null?void 0:v.queryParams)??"";r instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...r}),le(gt,l.value,{...t.message,beforeClose:(d,h,x)=>{x(),o==null||o.commitProxy("reload")}})},as=(t,e,a,o)=>{var r,u,i,p,_;if(!(((r=t.message)==null?void 0:r.title)||"")){S("信息模态框标题不能为空");return}if(!t.pageData.api){S("请提供信息模态框接口");return}const s=y({api:((u=t.pageData)==null?void 0:u.api)||"",method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:{...e}}),l=((p=t.pageData)==null?void 0:p.queryParams)??"";l instanceof Object&&(s.value.ajaxParams={...s.value.ajaxParams,...l}),(_=s.value.ajaxParams)!=null&&_.isBack&&delete s.value.ajaxParams.isBack,le(gt,s.value,{...t.message,beforeClose:(f,v,d)=>{d(),o==null||o.commitProxy("reload")}})},os=(t,e,a)=>{var s,l,r,u;if(!(((s=t.message)==null?void 0:s.title)||"")){S("模态框标题不能为空");return}if(!t.pageData.api){S("请提供表格模态框接口");return}const n={api:((l=t.pageData)==null?void 0:l.api)||"",method:((r=t.pageData)==null?void 0:r.method)||"GET",ajaxParams:((u=t.pageData)==null?void 0:u.queryParams)||{}};le(xt,n,{...t.message,beforeClose:(i,p,_)=>{_(),a==null||a.commitProxy("reload")}})},ns=(t,e,a,o)=>{var r,u,i,p,_,f,v;if(!(((r=t.message)==null?void 0:r.title)||"")){S("模态框标题不能为空");return}if(!t.pageData.api){S("请提供模态框接口");return}let s=((u=e.checkboxConfig)==null?void 0:u.labelField)??"";s||(s=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id");const l=y({api:(p=t.pageData)==null?void 0:p.api,method:((_=t.pageData)==null?void 0:_.method)||"GET",ajaxParams:{[s]:a}});((f=t.pageData)==null?void 0:f.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(v=t.pageData)==null?void 0:v.queryParams}),le(xt,l.value,{...t.message,beforeClose:(d,h,x)=>{x(),o==null||o.commitProxy("reload")}})},ss=(t,e,a,o)=>{var r,u,i,p;if(!(((r=t.message)==null?void 0:r.title)||"")){S("模态框标题不能为空");return}if(!t.pageData.api){S("请提供模态框接口");return}const s=y({api:(u=t.pageData)==null?void 0:u.api,method:((i=t.pageData)==null?void 0:i.method)||"GET",ajaxParams:{...e}}),l=((p=t==null?void 0:t.pageData)==null?void 0:p.queryParams)??"";l instanceof Object&&(s.value.ajaxParams={...s.value.ajaxParams,...l}),le(xt,s.value,{...t.message,beforeClose:(_,f,v)=>{v(),o==null||o.commitProxy("reload")}})},ls=(t,e,a,o)=>{},rs=(t,e,a)=>{var o;switch((o=e.pageData)==null?void 0:o.type){case"page":On(e);break;case"link":qn(e);break;case"down":break;case"confirm":Qn(e,t,a);break;case"modal":Nn(e,t,a);break;case"info":es(e,t,a);break;case"table":os(e,t,a);break;case"remote":Kn(e,t,a);break;default:S("按钮类型错误");break}},cs=(t,e,a)=>{var r,u,i,p;const o=(r=t.columns)==null?void 0:r.filter(_=>_.type==="checkbox");if(!(o!=null&&o.length)){S("请先开启批量操作");return}const n=(a==null?void 0:a.getCheckboxRecords())??[];if(n.length<=0){S("请选择数据");return}let s=((u=t.checkboxConfig)==null?void 0:u.labelField)??"";s||(s=((i=t==null?void 0:t.rowConfig)==null?void 0:i.keyField)??"id");const l=n.map(_=>_[s]);switch((p=e.pageData)==null?void 0:p.type){case"link":zn(e,t,l);break;case"down":break;case"confirm":Zn(e,t,l,a);break;case"remote":Gn(e,t,l,a);break;case"modal":Wn(e,t,l,a);break;case"info":ts(e,t,l,a);break;case"table":ns(e,t,l,a);break;default:S("按钮类型错误");break}},Ut=(t,e,a,o,n)=>{var r,u;if(!o){S("行参数出错");return}const s=y({}),l=((r=e.pageData)==null?void 0:r.queryParams)??"";switch(l instanceof Object&&(s.value={...l}),s.value={...s.value,...Mn(e,a,o,t)},(u=e.pageData)==null?void 0:u.type){case"page":Fn(e,s.value);break;case"link":Hn(e,s.value);break;case"down":ls(e,s.value);break;case"confirm":Jn(e,s.value,t,n);break;case"modal":Xn(e,s.value,t,n);break;case"info":as(e,s.value,t,n);break;case"table":ss(e,s.value,t,n);break;case"remote":Yn(e,s.value,t,n);break;default:S("按钮类型错误");break}};const is=()=>{const t=ge(),e=Le(),a=(t==null?void 0:t.routeList)??[],o=[];for(const n of a){const s=`${e}${n.path}`;o.push(s)}return o},kt=t=>{const e=is();return Fe(t,e)},us={class:"button-group"},ds={class:"pr-1"},ps={class:"no-group-buttons"},ms=I({__name:"index",props:{xGrid:{},column:{},rightButtonList:{},gridConfig:{},row:{}},setup(t){var v;const e=t,a=B(()=>{var d;return((d=e.column.params)==null?void 0:d.buttonGroupIcon)??"Operation"}),o=B(()=>{var d;return((d=e.column.params)==null?void 0:d.buttonGroupIconType)??"element"}),n={type:"primary",size:"small"},s=y(((v=e.column.params)==null?void 0:v.buttonStyle)??n),l=B(()=>e.rightButtonList.filter(d=>{var h,x;return((h=d.pageData)==null?void 0:h.group)||((x=e.column.params)==null?void 0:x.group)})),r=B(()=>e.rightButtonList.filter(d=>{var h;return!((h=d.pageData)!=null&&h.group)})),u=B(()=>{var d;return((d=e.column.params)==null?void 0:d.groupText)||"更多"}),i=B(()=>d=>{var P,A,g,q,X,ee,se;const h=((P=d.pageData)==null?void 0:P.api)??"";if(!kt(h))return!1;const x=((g=(A=d==null?void 0:d.pageData)==null?void 0:A.params)==null?void 0:g.where)??"",j=(X=(q=d==null?void 0:d.pageData)==null?void 0:q.params)==null?void 0:X.field,D=(se=(ee=d==null?void 0:d.pageData)==null?void 0:ee.params)==null?void 0:se.value;if(j===void 0&&D===void 0)return!0;if(j===void 0||j===""||j&&(D===void 0||D===""))return!1;const E=e.row[j];switch(x){case"!=":return D!==E;case"in":return D instanceof Array&&Fe(E,D);case"notIn":return D instanceof Array&&!Fe(E,D);default:return D===E}}),p=B(()=>d=>{const h={...d};return h!=null&&h.icon&&delete h.icon,h}),_=d=>{Ut(e.gridConfig,d,e.column,e.row,e.xGrid)},f=d=>{Ut(e.gridConfig,d,e.column,e.row,e.xGrid)};return(d,h)=>{const x=ae,j=Re,D=T("el-dropdown-item"),E=T("el-dropdown-menu"),P=T("el-dropdown"),A=T("el-button");return m(),b("div",us,[c(l).length?(m(),$(P,{key:0,onCommand:_},{dropdown:w(()=>[k(E,null,{default:w(()=>[(m(!0),b(W,null,oe(c(l),(g,q)=>it((m(),$(D,{key:q,command:g},{default:w(()=>{var X,ee,se;return[(X=g==null?void 0:g.button)!=null&&X.icon?(m(),$(x,{key:0,icon:(ee=g==null?void 0:g.button)==null?void 0:ee.icon,type:(se=g==null?void 0:g.button)==null?void 0:se.iconType},null,8,["icon","type"])):U("",!0),C("span",null,F(g.title),1)]}),_:2},1032,["command"])),[[ut,c(i)(g)]])),128))]),_:1})]),default:w(()=>[k(j,Z({type:"danger",class:"mr-2"},c(s)),{default:w(()=>[C("span",ds,F(c(u)),1),c(a)?(m(),$(x,{key:0,icon:c(a),type:c(o)},null,8,["icon","type"])):(m(),$(x,{key:1,icon:"ArrowDown",type:"element"}))]),_:1},16)]),_:1})):U("",!0),C("div",ps,[(m(!0),b(W,null,oe(c(r),(g,q)=>{var X;return it((m(),b("div",{key:q,class:"item"},[(m(),$(A,Z({key:q},c(p)((g==null?void 0:g.button)??{}),{onClick:ee=>f(g)}),Ke({default:w(()=>[z(" "+F(g.title),1)]),_:2},[(X=g==null?void 0:g.button)!=null&&X.icon?{name:"icon",fn:w(()=>{var ee,se,ye;return[(ee=g==null?void 0:g.button)!=null&&ee.icon?(m(),$(x,{key:0,icon:(se=g==null?void 0:g.button)==null?void 0:se.icon,type:((ye=g==null?void 0:g.button)==null?void 0:ye.iconType)??""},null,8,["icon","type"])):U("",!0)]}),key:"0"}:void 0]),1040,["onClick"]))])),[[ut,c(i)(g)]])}),128))])])}}});const _s=L(ms,[["__scopeId","data-v-9b6b78e8"]]),fs={class:"flex space-x-2"},hs=I({__name:"index",props:{xGrid:{},topButtonList:{},gridConfig:{}},setup(t){const e=t,a=B(()=>e.topButtonList.filter(n=>{var s;return!((s=n.pageData)!=null&&s.group)})),o=B(()=>n=>{var l;const s=((l=n.pageData)==null?void 0:l.api)??"";return!!kt(s)});return(n,s)=>{const l=ae,r=Re,u=T("el-space");return m(),b("div",fs,[c(a).length?(m(),$(u,{key:0},{default:w(()=>[(m(!0),b(W,null,oe(c(a),(i,p)=>{var _;return m(),b(W,null,[c(o)(i)?(m(),$(r,Z({key:p,type:"primary"},(i==null?void 0:i.button)??{},{onClick:f=>c(rs)(e.gridConfig,i,n.xGrid)}),Ke({default:w(()=>[z(" "+F(i.title),1)]),_:2},[(_=i==null?void 0:i.button)!=null&&_.icon?{name:"icon",fn:w(()=>{var f,v;return[k(l,{icon:(f=i==null?void 0:i.button)==null?void 0:f.icon,type:(v=i==null?void 0:i.button)==null?void 0:v.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):U("",!0)],64)}),256))]),_:1})):U("",!0)])}}}),vs={class:"flex space-x-2"},gs=I({__name:"index",props:{xGrid:{},gridConfig:{},selectButtonList:{}},setup(t){const e=t,a=B(()=>{var s;return((s=e.selectButtonList)==null?void 0:s.filter(l=>{var r;return!((r=l.pageData)!=null&&r.group)}))||[]}),o=B(()=>s=>{const l={...s};return l!=null&&l.icon&&delete l.icon,l}),n=B(()=>s=>{var r;const l=((r=s.pageData)==null?void 0:r.api)??"";return!!kt(l)});return(s,l)=>{const r=ae,u=Re,i=T("el-space");return m(),b("div",vs,[c(a).length?(m(),$(i,{key:0},{default:w(()=>[(m(!0),b(W,null,oe(c(a),(p,_)=>{var f;return m(),b(W,null,[c(n)(p)?(m(),$(u,Z({key:_,type:"primary"},c(o)((p==null?void 0:p.button)??{}),{onClick:v=>c(cs)(e.gridConfig,p,s.xGrid)}),Ke({default:w(()=>[z(" "+F(p.title),1)]),_:2},[(f=p==null?void 0:p.button)!=null&&f.icon?{name:"icon",fn:w(()=>{var v,d;return[k(r,{icon:(v=p==null?void 0:p.button)==null?void 0:v.icon,type:(d=p==null?void 0:p.button)==null?void 0:d.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):U("",!0)],64)}),256))]),_:1})):U("",!0)])}}}),ys={class:"flex space-x-3"},ks={key:1,class:"flex space-x-1"},xs=I({__name:"index",props:{xGrid:{},gridConfig:{},topButton:{},topButtonList:{},selectButtonList:{}},setup(t){const e=he();return(a,o)=>{var s,l,r;const n=Re;return m(),b("div",ys,[(s=c(e).query)!=null&&s.isBack?(m(),$(n,{key:0,type:"primary",onClick:c(Je)},{default:w(()=>[z(" 返回 ")]),_:1},8,["onClick"])):U("",!0),a.topButtonList.length||(l=a.selectButtonList)!=null&&l.length?(m(),b("div",ks,[a.topButtonList.length?(m(),$(hs,J(Z({key:0},{xGrid:a.xGrid,gridConfig:a.gridConfig,topButtonList:a.topButtonList})),null,16)):U("",!0),(r=a.selectButtonList)!=null&&r.length?(m(),$(gs,J(Z({key:1},{xGrid:a.xGrid,gridConfig:a.gridConfig,selectButtonList:a.selectButtonList})),null,16)):U("",!0)])):U("",!0)])}}}),ws=t=>(Ee("data-v-c11e2f2f"),t=t(),Ve(),t),bs=ws(()=>C("div",null,null,-1)),Ps={class:"assets-container"},Cs={class:"item"},$s=["src"],Ds=["src"],Is=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,a="",o=B(()=>{var s,l;return((l=(s=e.column)==null?void 0:s.params)==null?void 0:l.resource)??[]}),n=B(()=>ne(e.column,e.row));return(s,l)=>{const r=ae,u=T("el-tooltip");return m(),b(W,null,[bs,C("div",Ps,[(m(!0),b(W,null,oe(c(o),(i,p)=>(m(),$(u,{key:p,show:i==null?void 0:i.isUpdate,trigger:"hover",placement:"top"},{content:w(()=>[z(F((i==null?void 0:i.title)??"错误"),1)]),default:w(()=>[C("div",Cs,[(i==null?void 0:i.type)==="url"&&c(wt)(i==null?void 0:i.icon)?(m(),b("img",{key:0,class:"logo",src:i==null?void 0:i.icon},null,8,$s)):(i==null?void 0:i.type)==="path"?(m(),b("img",{key:1,class:"logo",src:`${c(a)}${i==null?void 0:i.icon}`},null,8,Ds)):(m(),$(r,{key:2,icon:i.icon},null,8,["icon"])),C("span",null,F(c(n)[i.field]??"字段错误"),1)])]),_:2},1032,["show"]))),128))])],64)}}});const As=L(Is,[["__scopeId","data-v-c11e2f2f"]]),js=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var n,s;const e=t,a=B(()=>ne(e.column,e.row)),o=y(((s=(n=e.column)==null?void 0:n.params)==null?void 0:s.props)??{});return(l,r)=>{const u=ae;return m(),$(u,Z({icon:c(a)},c(o)),null,16,["icon"])}}}),Bs={class:"xh-image-error"},Ss=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var n,s,l,r;const e=t,a=B(()=>ne(e.column,e.row)),o=y(((s=(n=e.column)==null?void 0:n.params)==null?void 0:s.props)??{});return(l=o.value)!=null&&l.style||(o.value.style={width:"30px",height:"30px"}),(r=o.value)!=null&&r.preview&&(o.value.previewSrcList=[a.value],delete o.value.preview),(u,i)=>{const p=ae,_=T("el-image");return m(),$(_,Z(c(o),{src:c(a),class:"xh-table-image"}),{error:w(()=>[C("div",Bs,[k(p,{icon:"Picture",type:"element"})])]),_:1},16,["src"])}}});const Ts=L(Ss,[["__scopeId","data-v-2e6bc660"]]),Es=t=>(Ee("data-v-c9527392"),t=t(),Ve(),t),Vs={class:"xh-image-error"},Rs=Es(()=>C("span",null,"加载失败",-1)),Us=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var l,r,u;const e=t,a=B(()=>{var i;return((i=e.column.params)==null?void 0:i.previewDisabled)??!0}),o=B(()=>{const i=ne(e.column,e.row);return i instanceof Array?i.map(p=>p.url):[]}),n=B(()=>{var _;const i=((_=e.column.params)==null?void 0:_.is2d)??!1,p=ne(e.column,e.row);return p instanceof Array&&p.length>0?i?p.map(f=>f.url):p:[]}),s=y(((r=(l=e.column)==null?void 0:l.params)==null?void 0:r.props)??{});return(u=s.value)!=null&&u.style||(s.value.style={width:"30px",height:"30px"}),(i,p)=>{const _=ae,f=T("el-image");return m(!0),b(W,null,oe(c(n),(v,d)=>(m(),$(f,Z(c(s),{key:d,src:v==null?void 0:v.url,"preview-src-list":c(a)?[]:c(o)}),{error:w(()=>[C("div",Vs,[k(_,{icon:"Picture",type:"element"}),Rs])]),_:2},1040,["src","preview-src-list"]))),128)}}});const Ls=L(Us,[["__scopeId","data-v-c9527392"]]),Ms=t=>(Ee("data-v-50a2462d"),t=t(),Ve(),t),Os={class:"xh-image-error"},Fs=Ms(()=>C("span",null,"加载失败",-1)),qs=I({__name:"index",props:{column:{},row:{}},setup(t){var l,r,u;const e=t,a=B(()=>{var i;return((i=e.column.params)==null?void 0:i.previewDisabled)??!0}),o=B(()=>{const i=ne(e.column,e.row);return i instanceof Array?i.map(p=>p.url):[]}),n=B(()=>{const i=ne(e.column,e.row);return i instanceof Array&&i.length>0?i[0]:[]}),s=y(((r=(l=e.column)==null?void 0:l.params)==null?void 0:r.props)??{});return(u=s.value)!=null&&u.style||(s.value.style={width:"30px",height:"30px"}),(i,p)=>{var v;const _=ae,f=T("el-image");return m(),$(f,Z(c(s),{src:(v=c(n))==null?void 0:v.url,"preview-src-list":c(a)?[]:c(o)}),{error:w(()=>[C("div",Os,[k(_,{icon:"Picture",type:"element"}),Fs])]),_:1},16,["src","preview-src-list"])}}});const zs=L(qs,[["__scopeId","data-v-50a2462d"]]),Hs=I({__name:"index",props:{isBorder:{type:Boolean,default:!1},border:{default:"1px solid #b179ff"}},setup(t){const e=t;Ie(o=>({"564a0163":c(a)}));const a=B(()=>e.isBorder?e.border:"");return(o,n)=>{const s=T("el-input");return m(),$(s,{class:ve({"xh-input":o.isBorder})},null,8,["class"])}}});const Ns=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l,r;const e=t,a=B(()=>ne(e.column,e.row)),o=y(""),n=y(((r=(l=e.column)==null?void 0:l.params)==null?void 0:r.props)??{}),s=u=>{var v,d,h,x;const i=Ce("rowEdit",!0),p=((v=e.column.params)==null?void 0:v.api)??i,_=((h=(d=e.gridConfig)==null?void 0:d.rowConfig)==null?void 0:h.keyField)??"id",f={[_]:e.row[_],keyField:_,field:(x=e.column)==null?void 0:x.field,value:u};Ue(p,f,e.xGrid)};return(u,i)=>{const p=Hs;return m(),$(p,Z({modelValue:c(o),"onUpdate:modelValue":i[0]||(i[0]=_=>de(o)?o.value=_:null),value:c(a),placeholder:"请输入"},c(n),{"is-border":!0,onChange:s}),null,16,["modelValue","value"])}}}),Ws=I({__name:"index",setup(t){return(e,a)=>{const o=T("el-input-number");return m(),$(o)}}}),Xs=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var r,u;const e=t,a=B(()=>ne(e.column,e.row)),o=B(()=>{var i;return((i=e.column.params)==null?void 0:i.isMessage)??!1}),n=y(a),s=y(((u=(r=e.column)==null?void 0:r.params)==null?void 0:u.props)??{}),l=i=>{var d,h,x,j;const p=Ce("rowEdit",!0),_=((d=e.column.params)==null?void 0:d.api)??p,f=((x=(h=e.gridConfig)==null?void 0:h.rowConfig)==null?void 0:x.keyField)??"id",v={[f]:e.row[f],keyField:f,field:(j=e.column)==null?void 0:j.field,value:i};Ue(_,v,e.xGrid,o.value)};return(i,p)=>{const _=Ws;return m(),$(_,Z({modelValue:c(n),"onUpdate:modelValue":p[0]||(p[0]=f=>de(n)?n.value=f:null),value:c(a)},c(s),{onChange:l}),null,16,["modelValue","value"])}}}),Qs=I({__name:"index",props:{column:{},row:{}},setup(t){const e=t,a=B(()=>{var l;const s=((l=e.column)==null?void 0:l.params)??{};return s!=null&&s.type||delete s.type,s}),o=B(()=>{var s,l;return((l=(s=e.column)==null?void 0:s.params)==null?void 0:l.format)??"￥"}),n=B(()=>ne(e.column,e.row));return(s,l)=>(m(),b("div",J(te(c(a))),F(c(o))+F(c(Bt).commafy(c(Bt).toNumber(c(n)),{digits:2})),17))}}),na={vue:null},Zs=(t,e,a)=>re.alert(t,{confirmButtonText:"确定",type:e,...a}),Js=(t,e,a)=>{Oa({message:t,type:e,...a})},Ks=(t,e)=>Fa.service({text:t,...e}),Gs=(t,e,a)=>re({customStyle:{width:"45%",height:"500px"},showClose:!0,title:" ",...a,closeOnClickModal:!1,customClass:"xh-modal-mask",message:()=>Me(Ye,{file:t,ajaxParams:e,"onUpdate:close":()=>{re.close()}})}),Ys={web_name:"",web_title:""},ce=Qt("app",()=>{const e=`/${Le()}/Publics/site`,a=Ae(),o=y({...Ys}),n=y(),s=u=>{o.value=u};return{useAppId:a,siteInfo:o,getSite:async()=>{const{data:u}=await we(e);return s(u),u},setSiteInfo:s,setLoginLink:u=>{n.value=u}}}),el=(t,e)=>{qa.render(t).then(a=>{const o=document.createElement("style");if(o.setAttribute("type","text/css"),o.setAttribute("id",`css${e}`),o.styleSheet)o.styleSheet.cssText=a.css;else{const s=document.createTextNode(a.css);o.appendChild(s)}const n=document.getElementsByTagName("head");n.length?n[0].appendChild(o):document.documentElement.appendChild(o)})},tl=t=>({templates:t.match(/<template>([\s\S]*)<\/template>/)[1],sctipts:t.match(/<script.*>([\s\S]*)<\/script>/)[1],styles:t.match(/<style.*>([\s\S]*)<\/style>/)[1],stylesHasScoped:t.match(/<style.*scoped>([\s\S]*)<\/style>/)!==null}),al=()=>{const t=na.vue,e=ft(),a=he(),o=ge(),n=ce(),s=Le(),l=Na(),r=za({locale:"fr-FR",messages:{}},l);t.config.globalProperties.$intl=r,t.config.globalProperties.$moduleName=s,t.config.globalProperties.$userApp=o,t.config.globalProperties.$siteApp=n,t.config.globalProperties.$routeApp=a,t.config.globalProperties.$routerApp=e,t.config.globalProperties.$axios=ro,t.config.globalProperties.$http={useGet:we,usePost:Te,usePut:Qe,useDelete:Ze},t.config.globalProperties.$useGet=we,t.config.globalProperties.$usePost=Te,t.config.globalProperties.$usePut=Qe,t.config.globalProperties.$useDelete=Ze,t.config.globalProperties.$echarts=Ha,t.config.globalProperties.$useKeyCodeEvent=bc,t.component("XRemote")===void 0&&t.component("XRemote",me),t.component("AppIcons")===void 0&&t.component("AppIcons",ae),t.config.globalProperties.$useAlert=Zs,t.config.globalProperties.$useConfirm=be,t.config.globalProperties.$useMessage=Js,t.config.globalProperties.$useNotify=Q,t.config.globalProperties.$useLoading=Ks,t.config.globalProperties.$useRemote=Gs},ol={key:1,class:"remote-fail"},nl=I({__name:"index",props:{file:{},ajaxParams:{},isApi:{type:Boolean},isModal:{type:Boolean}},emits:["update:init","update:modelValue","update:success","update:error","update:close"],setup(t,{emit:e}){const a=t,o=Wa(),n=y(a.isApi),s=y(a.file),l=y(),r=y({status:"",content:""}),u=y(""),i=y(st()),p=(E,P,A)=>{const g=tl(P),q=g.sctipts.indexOf("{"),X=g.sctipts.lastIndexOf("}"),ee=g.sctipts.slice(q,X+1),se=new Function(`return ${ee}`)();if(!se){r.value.status="code",r.value.content="远程组件代码格式解析失败";return}if(se.template=g==null?void 0:g.templates,E.setAttribute("class",`remote css${A}`),!document.querySelector(`style[id=css${A}]`)){let ye="";g.stylesHasScoped?ye=`
            .css${A}{
                ${g.styles}
            }
        `:ye=g.styles,el(ye,A)}return al(),se},_=B(()=>{if(r.value.status==="config"){r.value.content="请先配置远程文件";return}if(!u.value){r.value.content="正在加载中...";return}if(u.value==="fail"){r.value.content="远程组件加载失败";return}return p(l.value,u.value,i.value)}),f=E=>{e("update:modelValue",E)},v=()=>{const E=Date.now(),P=`${s.value}.vue?t=${E}`;we(P).then(A=>{u.value=A,r.value.status="success",e("update:init",A)}).catch(A=>{r.value.content=(A==null?void 0:A.msg)||"远程组件加载失败",r.value.status="fail",e("update:error",A),console.error(A)})},d=()=>{const E=y({});a.ajaxParams&&(E.value={...a.ajaxParams}),we(s.value,E.value).then(P=>{u.value=P==null?void 0:P.data,r.value.status="success",e("update:init",P==null?void 0:P.data)}).catch(P=>{r.value.content=(P==null?void 0:P.msg)||"远程组件加载失败",r.value.status="fail",e("update:error",P),console.error(P)})},h=()=>{if(!s.value){r.value.status="config",r.value.content="请先配置远程文件";return}r.value.status="loading",n.value?d():v()},x=E=>{n.value=!1,s.value=E,i.value=st(),h()},j=()=>{i.value=st(),h()},D=()=>{a!=null&&a.isModal&&e("update:close")};return Pe(()=>h()),(E,P)=>{const A=T("el-empty");return m(),b("div",{ref_key:"remoteRef",ref:l,class:"h-100%"},[c(r).status==="success"?(m(),$(Nt(c(_)),Z({key:0},{...c(o),...E.ajaxParams},{"onUpdate:modelValue":f,"onUpdate:openWin":x,"onUpdate:reloadWin":j,"onUpdate:closeWin":D}),null,16)):(m(),b("div",ol,[k(A,{description:c(r).content},null,8,["description"])]))],512)}}});const me=L(nl,[["__scopeId","data-v-bebe9faa"]]),sl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var l;const e=t,a=B(()=>{var r,u;return(u=(r=e.column)==null?void 0:r.params)==null?void 0:u.file}),o=((l=e.column)==null?void 0:l.field)??"",n=B(()=>ne(e.column,e.row)),s=r=>{var f,v,d,h;const u=Ce("rowEdit",!0),i=((f=e.column.params)==null?void 0:f.api)??u,p=((d=(v=e.gridConfig)==null?void 0:v.rowConfig)==null?void 0:d.keyField)??"id",_={[p]:e.row[p],keyField:p,field:(h=e.column)==null?void 0:h.field,value:r};Ue(i,_,e.xGrid)};return(r,u)=>{const i=me;return m(),$(i,Z({modelValue:c(n),"onUpdate:modelValue":u[0]||(u[0]=p=>de(n)?n.value=p:null),file:c(a)},{column:r.column,field:c(o),row:r.row},{"onUpdate:value":s}),null,16,["modelValue","file"])}}}),ll={key:0,class:"tabs-container"},rl={class:"tabs-list"},cl=["onClick"],il={class:"pl-1"},ul=I({__name:"index",props:{xGrid:{},gridConfig:{},tabsConfig:{}},setup(t){var u;const e=t,a=he(),o=ft(),n=((u=e.tabsConfig)==null?void 0:u.field)??"",s=a==null?void 0:a.query[n],l=B(()=>{var i;return s??((i=e.tabsConfig)==null?void 0:i.active)}),r=i=>{o.push({query:{[n]:i.value}})};return(i,p)=>{var v,d;const _=ae,f=T("el-space");return(d=(v=i.tabsConfig)==null?void 0:v.list)!=null&&d.length?(m(),b("div",ll,[C("div",rl,[k(f,null,{default:w(()=>[(m(!0),b(W,null,oe(i.tabsConfig.list,(h,x)=>(m(),b("div",{key:x,class:ve(["item",{active:c(l)===(h==null?void 0:h.value)}]),onClick:j=>r(h)},[h!=null&&h.icon?(m(),$(_,{key:0,icon:h==null?void 0:h.icon},null,8,["icon"])):U("",!0),C("span",il,F((h==null?void 0:h.label)??"错误"),1)],10,cl))),128))]),_:1})])])):U("",!0)}}});const dl=L(ul,[["__scopeId","data-v-ae382a3c"]]),pl=I({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{}},setup(t){const e=ft(),a=he(),o=n=>{e.push({path:a.fullPath,query:{...a.query,...n.data}})};return(n,s)=>{var r;const l=T("vxeForm");return m(),$(l,{items:n.formScreen.items,data:(r=n.formScreen)==null?void 0:r.data,onSubmit:o},null,8,["items","data"])}}}),ml=I({__name:"index",props:{gridConfig:{},xGrid:{},formRemote:{}},setup(t){return(e,a)=>{var n,s;const o=me;return m(),$(o,Z({file:((n=e.formRemote)==null?void 0:n.file)||""},{ajaxParams:(s=e.formRemote)==null?void 0:s.ajaxParams}),null,16,["file"])}}}),_l={class:"form-tabs-container"},fl=I({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{},formRemote:{},tabsConfig:{}},setup(t){return(e,a)=>{var l,r,u,i;const o=ml,n=pl,s=dl;return m(),b("div",_l,[(l=e.formRemote)!=null&&l.file?(m(),$(o,J(Z({key:0},{gridConfig:e.gridConfig,formRemote:e.formRemote,xGrid:e.xGrid})),null,16)):U("",!0),(r=e.formScreen)!=null&&r.data?(m(),$(n,J(Z({key:1},{gridConfig:e.gridConfig,formScreen:e.formScreen,xGrid:e.xGrid})),null,16)):U("",!0),(i=(u=e.tabsConfig)==null?void 0:u.list)!=null&&i.length?(m(),$(s,J(Z({key:2},{gridConfig:e.gridConfig,tabsConfig:e.tabsConfig,xGrid:e.xGrid})),null,16)):U("",!0)])}}});const hl=L(fl,[["__scopeId","data-v-4bb9ed66"]]),vl=["innerHTML"],gl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var n,s;const e=t,a=B(()=>ne(e.column,e.row)),o=y(((s=(n=e.column)==null?void 0:n.params)==null?void 0:s.props)??{});return(l,r)=>(m(),b("div",Z(c(o),{innerHTML:c(a)}),null,16,vl))}}),yl=I({__name:"index",props:{options:{},value:{default:""}},setup(t){const e=t,a=B(()=>e.value);return(o,n)=>{const s=T("el-option"),l=T("el-select");return m(),$(l,{modelValue:c(a),"onUpdate:modelValue":n[0]||(n[0]=r=>de(a)?a.value=r:null),placeholder:"请选择"},{default:w(()=>[(m(!0),b(W,null,oe(o.options,r=>(m(),$(s,{key:r.value,label:r.label,value:r.value,disabled:r.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])}}}),kl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){var s;const e=t,a=B(()=>ne(e.column,e.row)),o=y(((s=e.column)==null?void 0:s.params)??{}),n=l=>{var _,f,v,d;const r=Ce("rowEdit",!0),u=((_=e.column.params)==null?void 0:_.api)??r,i=((v=(f=e.gridConfig)==null?void 0:f.rowConfig)==null?void 0:v.keyField)??"id",p={[i]:e.row[i],keyField:i,field:(d=e.column)==null?void 0:d.field,value:l};Ue(u,p,e.xGrid)};return(l,r)=>{var i,p;const u=yl;return(p=(i=c(o))==null?void 0:i.options)!=null&&p.length?(m(),$(u,Z({key:0,value:c(a)},c(o),{onChange:n}),null,16,["value"])):U("",!0)}}}),xl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(t){const e=t,a=B(()=>ne(e.column,e.row)),o=n=>{var i,p,_,f;const s=Ce("rowEdit",!0),l=((i=e.column.params)==null?void 0:i.api)??s,r=((_=(p=e.gridConfig)==null?void 0:p.rowConfig)==null?void 0:_.keyField)??"id",u={[r]:e.row[r],keyField:r,field:(f=e.column)==null?void 0:f.field,value:n};Ue(l,u,e.xGrid)};return(n,s)=>{var r,u,i,p,_,f,v,d,h,x,j,D,E,P,A,g,q,X;const l=T("el-switch");return m(),$(l,{modelValue:c(a),"onUpdate:modelValue":s[0]||(s[0]=ee=>de(a)?a.value=ee:null),"active-action-icon":((i=(u=(r=n.column)==null?void 0:r.params)==null?void 0:u.checked)==null?void 0:i.icon)??"","active-text":(f=(_=(p=n.column)==null?void 0:p.params)==null?void 0:_.checked)==null?void 0:f.text,"active-value":(h=(d=(v=n.column)==null?void 0:v.params)==null?void 0:d.checked)==null?void 0:h.value,"inactive-action-icon":((D=(j=(x=n.column)==null?void 0:x.params)==null?void 0:j.unchecked)==null?void 0:D.icon)??"","inactive-text":(A=(P=(E=n.column)==null?void 0:E.params)==null?void 0:P.unchecked)==null?void 0:A.text,"inactive-value":(X=(q=(g=n.column)==null?void 0:g.params)==null?void 0:q.unchecked)==null?void 0:X.value,"inline-prompt":"",onChange:o},null,8,["modelValue","active-action-icon","active-text","active-value","inactive-action-icon","inactive-text","inactive-value"])}}}),wl=I({__name:"index",props:{column:{},row:{}},setup(t){const e=t,a=B(()=>ne(e.column,e.row)),o=B(()=>{var s;return(s=e.column.params)!=null&&s.options?e.column.params.options[a.value]||"标签错误":"选项错误"}),n=B(()=>{var r;const s=y({style:{},...e.column.params??{}});(r=s.value)!=null&&r.type&&delete s.value.type;const l=B(()=>{var u,i;if((u=e.column.params)!=null&&u.style)return((i=e.column.params)==null?void 0:i.style[a.value])||void 0});return s.value.style=l.value,s.value});return(s,l)=>{const r=T("el-tag");return m(),$(r,J(te(c(n).style)),{default:w(()=>[z(F(c(o)),1)]),_:1},16)}}}),bl={class:"flex"},Pl=["href","target"],Cl=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(t){var s,l;const e=t,a=B(()=>ne(e.column,e.row)),o=y(((l=(s=e.column)==null?void 0:s.params)==null?void 0:l.props)??{}),n=()=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(a.value).then(r=>{});else{const r=document.createElement("input");r.value=a.value,document.body.appendChild(r),r.select(),document.execCommand("Copy"),r.remove()}ie("链接复制成功")};return(r,u)=>{var _;const i=ae,p=T("el-button");return m(),b("div",bl,[C("a",{href:c(a),target:c(o).target??"_blank"},F(c(o).text?c(o).text:c(a)),9,Pl),(_=c(o))!=null&&_.copy?(m(),$(p,{key:0,type:"primary",size:"small",text:"",onClick:n},{icon:w(()=>[k(i,{icon:"CopyDocument",size:14})]),default:w(()=>[z(" 复制 ")]),_:1})):U("",!0)])}}}),$l=(t,e,a,o)=>{if(e.length<=0){S("请先导入数据");return}if(!t){S("请设置导入API接口");return}Te(t,{import:a,data:e}).then(s=>{var l;(l=o.xGrid)==null||l.commitProxy("query"),ie((s==null?void 0:s.msg)??"操作成功")})},Dl=t=>{Be.commands.add("importAllData",{commandMethod:e=>{var s;const{$table:a}=e,o=a==null?void 0:a.getTableData(),n=o==null?void 0:o.fullData;$l(((s=t.vxeTableConfig.importConfig)==null?void 0:s.api)??"",n,"all",t)}})},Il=C("div",null,"子数据",-1),sa=I({__name:"index",props:{api:{},method:{default:"GET"},ajaxParams:{default:void 0}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(t,{emit:e}){const a=t,o=y(),n=y(),s=y(),l=y(),r=y([]),u=y([]),i=y([]),p=async()=>{const f=y({method:a.method,params:{},data:{}});a.ajaxParams&&(a.method==="GET"?f.value.params=a.ajaxParams:f.value.data=a.ajaxParams),e("update:init",f.value);const v=`${a.api}GetTable`;return await Y(v,f.value).then(d=>{const h=d.data;s.value=h==null?void 0:h.realTable,l.value=h==null?void 0:h.tabsConfig,n.value=Rn(a.api,a.method,h.tableConfig,a.ajaxParams,o.value),r.value=h.topButtonList,u.value=h.rightButtonList,i.value=h.selectButtonList,Dl({xGrid:o.value,vxeTableConfig:n.value}),e("update:init-ok",h)}).catch(d=>{e("update:init-error",d)})},_=()=>{var f,v,d;if((f=s.value)!=null&&f.enable&&((v=s.value)!=null&&v.time_interval)){const h=((d=s.value)==null?void 0:d.time_interval)*1e3;setInterval(()=>{var x;(x=o.value)==null||x.commitProxy("reload")},h)}};return Pe(async()=>{await p(),await _()}),(f,v)=>{var h,x,j,D,E;const d=T("vxe-grid");return(h=c(n))!=null&&h.id?(m(),$(d,Z({key:0,ref_key:"xGrid",ref:o,class:"xh-table"},c(n),{onEditClosed:v[0]||(v[0]=({column:P,row:A})=>c(Un)(P,A,c(n),c(o)))}),Ke({topButtonList:w(({$grid:P})=>[k(c(xs),J(te({gridConfig:c(n),topButtonList:c(r),selectButtonList:c(i),xGrid:P})),null,16)]),rightButtonList:w(({row:P,column:A,$grid:g})=>[k(c(_s),J(te({gridConfig:c(n),rightButtonList:c(u),row:P,column:A,xGrid:g})),null,16)]),childrenData:w(()=>[Il]),html:w(({row:P,column:A,$grid:g})=>[k(c(gl),J(te({gridConfig:c(n),row:P,column:A,xGrid:g})),null,16)]),remote:w(({row:P,column:A,$grid:g})=>[k(c(sl),J(te({gridConfig:c(n),row:P,column:A,xGrid:g})),null,16)]),tags:w(({row:P,column:A,$grid:g})=>[k(c(wl),J(te({gridConfig:c(n),row:P,column:A,xGrid:g})),null,16)]),link:w(({row:P,column:A,$grid:g})=>[k(c(Cl),J(te({gridConfig:c(n),row:P,column:A,xGrid:g})),null,16)]),input:w(({row:P,column:A,$grid:g})=>[k(c(Ns),J(te({gridConfig:c(n),row:P,column:A,xGrid:g})),null,16)]),InputNumber:w(({row:P,column:A,$grid:g})=>[k(c(Xs),J(te({gridConfig:c(n),row:P,column:A,xGrid:g})),null,16)]),assets:w(({row:P,column:A,$grid:g})=>[k(c(As),J(te({gridConfig:c(n),row:P,column:A,xGrid:g})),null,16)]),money:w(({row:P,column:A,$grid:g})=>[k(c(Qs),J(te({gridConfig:c(n),row:P,column:A,xGrid:g})),null,16)]),image:w(({row:P,column:A,$grid:g})=>[k(c(Ts),J(te({gridConfig:c(n),row:P,column:A,xGrid:g})),null,16)]),images:w(({row:P,column:A,$grid:g})=>[k(c(Ls),J(te({gridConfig:c(n),row:P,column:A,xGrid:g})),null,16)]),photos:w(({row:P,column:A,$grid:g})=>[k(c(zs),J(te({gridConfig:c(n),row:P,column:A,xGrid:g})),null,16)]),icons:w(({row:P,column:A,$grid:g})=>[k(c(js),J(te({gridConfig:c(n),row:P,column:A,xGrid:g})),null,16)]),switch:w(({row:P,column:A,$grid:g})=>[k(c(xl),J(te({gridConfig:c(n),row:P,column:A,xGrid:g})),null,16)]),select:w(({row:P,column:A,$grid:g})=>[k(c(kl),J(te({gridConfig:c(n),row:P,column:A,xGrid:g})),null,16)]),_:2},[(j=(x=c(n))==null?void 0:x.screenRemote)!=null&&j.file||(E=(D=c(l))==null?void 0:D.list)!=null&&E.length?{name:"form",fn:w(({$grid:P})=>{var A,g,q;return[k(c(hl),J(te({gridConfig:c(n),xGrid:P,formScreen:{...(A=c(n))==null?void 0:A.formConfig,screenConfig:(g=c(n))==null?void 0:g.screenConfig},formRemote:(q=c(n))==null?void 0:q.screenRemote,tabsConfig:c(l)})),null,16)]}),key:"0"}:void 0]),1040)):U("",!0)}}}),Al={class:"xhadmin-table-pro"},jl=I({__name:"table-modal",props:{api:{},method:{},ajaxParams:{}},setup(t){return(e,a)=>(m(),b("div",Al,[k(c(sa),{api:e.api,method:e.method,"ajax-params":e.ajaxParams,"is-modal":!0},null,8,["api","method","ajax-params"])]))}});const xt=L(jl,[["__scopeId","data-v-62ed6f04"]]),Bl={class:"xh-modal-container"},Sl=I({__name:"remote-modal",props:{file:{},ajaxParams:{}},emits:["update:close"],setup(t,{emit:e}){const a=()=>{e("update:close")};return(o,n)=>(m(),b("div",Bl,[k(c(me),{file:o.file,"ajax-params":o.ajaxParams,"is-modal":!0,"onUpdate:close":a},null,8,["file","ajax-params"])]))}});const Ye=L(Sl,[["__scopeId","data-v-523e3818"]]),Tl={class:"xhadmin-table-pro"},El=I({name:"/table"}),Vl=I({...El,setup(t){const e=he(),a=Ce(),o=e.meta.method,n=e.query??{};return(s,l)=>(m(),b("div",Tl,[k(c(sa),{api:c(a),method:c(o),"ajax-params":c(n)},null,8,["api","method","ajax-params"])]))}});const Rl=L(Vl,[["__scopeId","data-v-a39226b1"]]),Ul=t=>(Ee("data-v-7ca0a0aa"),t=t(),Ve(),t),Ll={class:"xhadmin-page-pro"},Ml={key:0,class:"flex items-center bg-white px-5 py-4 mb-[10px]"},Ol=Ul(()=>C("span",{class:"pl-1 text-[16px]"},"返回",-1)),Fl={key:0,class:"pl-20px text-[16px] select-none"},ql={class:"form-pro flex-1"},zl=I({name:"/form"}),Hl=I({...zl,setup(t){const e=he(),a=y(),o=y(),n=Ce(),s=e.meta.method,l={...e.query};l!=null&&l.isBack&&(l==null||delete l.isBack);const r=y({...l}),u=y({submitBtn:{},resetBtn:{}}),i=d=>{var x;const h=(x=d==null?void 0:d.response)==null?void 0:x.extraConfig;u.value=h},p=()=>{a.value.submit()},_=()=>{a.value.reset(),ie("数据重置完成")},f=()=>{o.value.setDisabled(!0)},v=()=>{o.value.setDisabled(!1)};return(d,h)=>{var j,D,E;const x=ae;return m(),b("div",Ll,[(j=c(e).query)!=null&&j.isBack?(m(),b("div",Ml,[C("div",{class:"flex items-center cursor-pointer select-none",onClick:h[0]||(h[0]=(...P)=>c(Je)&&c(Je)(...P))},[k(x,{icon:"ArrowLeftOutlined",size:16}),Ol]),(D=c(e).meta)!=null&&D.title?(m(),b("div",Fl,F((E=c(e).meta)==null?void 0:E.title),1)):U("",!0)])):U("",!0),C("div",ql,[k(c(vt),{ref_key:"formRef",ref:a,class:"xh-form-create",api:c(n),method:c(s),"ajax-params":c(r),"onUpdate:initOk":i,"onUpdate:submit":f,"onUpdate:submitOk":v,"onUpdate:submitError":v,"onUpdate:restOk":v,"onUpdate:initError":v},null,8,["api","method","ajax-params"])]),k(c(oa),{ref_key:"buttonRef",ref:o,class:"xh-buttons-pro","extra-config":c(u),"onUpdate:submit":p,"onUpdate:rest":_},null,8,["extra-config"])])}}});const Nl=L(Hl,[["__scopeId","data-v-7ca0a0aa"]]),Wl={class:"h-100%"},Xl=I({name:"remote"}),Ql=I({...Xl,setup(t){const a=he().meta.ajaxParams;return(o,n)=>(m(),b("div",Wl,[k(c(me),{file:c(a)},null,8,["file"])]))}}),Zl={};function Jl(t,e){return m(),b("div",null," Html内容文件 ")}const Kl=L(Zl,[["render",Jl]]),Gl={class:"h-100%"},Yl=I({name:"remote"}),er=I({...Yl,setup(t){const e=Ce();return(a,o)=>(m(),b("div",Gl,[k(c(me),{file:c(e),"is-api":!0},null,8,["file"])]))}}),tr=Object.freeze(Object.defineProperty({__proto__:null,formIndex:Nl,htmlIndex:Kl,remoteIndex:Ql,tableIndex:Rl,vueIndex:er},Symbol.toStringTag,{value:"Module"})),ot={routeView:()=>xe(()=>import("./index.594a9620.js"),["xhadmin/js/index.594a9620.js","xhadmin/js/.pnpm.9bc250f1.js","xhadmin/css/.pnpm.ad0d32c5.css"]),exceptionView:()=>xe(()=>import("./exception.ab13b401.js"),["xhadmin/js/exception.ab13b401.js","xhadmin/js/.pnpm.9bc250f1.js","xhadmin/css/.pnpm.ad0d32c5.css"])},ar=t=>{if(!t)return ot.blankView;if(t in ot)return ot[t];const e=wc(t??"");return tr[e]},or=t=>{for(const e of t){const a=e.remote,o=a.replace("/","_"),n=()=>Me(me,{file:a});n.displayName=o;const s={path:e==null?void 0:e.path,name:o,component:n,meta:{title:(e==null?void 0:e.title)||"未知页面",path:(e==null?void 0:e.path)||"未知路径",pid:0,method:"GET",ajaxParams:{}}};G.addRoute(s)}},nr=t=>{const e=[];for(const a of t)if(a.path){const o={path:`/${a.path}`,name:a.path.replace("/","_"),component:Wt(ar(a.component)),meta:{title:a.title,path:a.path,pid:a.pid,icon:a.icon,method:a.method,ajaxParams:a.auth_params},children:[]};(!o.children||o.children.length<1)&&delete o.children,e.push(o)}return e},la=new Map,ra=(t,e,a)=>{var s;const o=[];let n=[];e?n=t.filter(l=>(l==null?void 0:l.pid)===e):n=t.filter(l=>!l.pid);for(const l of n){const r=a?`${a}-${l.id}`:`${l.id}`;let u=`/${l.path}`;if(l!=null&&l.auth_params&&(l!=null&&l.auth_params.includes("group"))){const _=et(`?${l==null?void 0:l.auth_params}`);u+=`_group=${_==null?void 0:_.group}`}else l!=null&&l.auth_params&&(u+=`_${l==null?void 0:l.auth_params}`);la.set(u,r);const i={activeId:r,title:l.title,icon:l.icon,ajaxParams:l.auth_params,path:l.path,show:l.show==="1",target:l.target??"_blank",isGroup:!1,children:ra(t,l.id,r)},p=(s=i.children)==null?void 0:s.some(_=>_.show);i.show&&p&&(i.isGroup=!0),o.push(i)}return o},Lt=la,sr=y("OS");matchMedia("(prefers-color-scheme: dark)");function lr(){return{theme:sr}}const ge=Qt("user",()=>{const t=He(),e=y({...Et}),a=y([]),o=y([]),n=y({...at}),s=d=>{if(!(d!=null&&d.menus)){S("用户信息缺少Menus字段参数");return}d.menus instanceof Array&&d.menus.length>0&&(a.value=nr(d.menus),o.value=ra(d.menus)),d!=null&&d.theme&&(n.value={...n.value,...d.theme}),e.value=d};return{layoutInfo:n,userInfo:e,Authorization:t,login:async d=>{var E,P,A;const x=(P=(E=ce().siteInfo)==null?void 0:E.public_api)==null?void 0:P.login;if(!x){S("请配置登录接口");return}const{msg:j,data:D}=await Te(x,d);if(D!=null&&D.token){let g=D.token;g.includes("Bearer")||(g=`Bearer ${g}`),t.value=g,ie(j??"登录成功","温馨提示");const X=((A=G.currentRoute.value.query)==null?void 0:A.redirect)||"/";G.push(X)}else S(j??"登录失败")},loginOut:()=>{be("是否确认退出登录？","温馨提示","error").then(()=>{t.value="",s({...Et}),G.push(Xe)})},getUserInfo:async()=>{var j;const h=(j=ce().siteInfo.public_api)==null?void 0:j.user;if(!h){S("请配置用户信息接口");return}const{data:x}=await we(h);x&&s(x)},routeList:a,menuList:o,setTheme:d=>{n.value.theme=d,lr().theme.value=d},setLayout:d=>{n.value.layout=d},setLayoutMenu:d=>{n.value.layoutMenu=d},hanldCollapse:d=>{let h=0;d?h=at.sideWidth:h=n.value.sideMenuWidth,n.value.sideMenuCollapse=d,n.value.sideWidth=h},setLayoutMenuCollapse:()=>{let d=0,h=!1;n.value.sideMenuCollapse?(d=at.sideWidth,h=!1):(d=n.value.sideMenuWidth,h=!0),n.value.sideMenuCollapse=h,n.value.sideWidth=d}}}),rr={class:"xhadmin-menus-pro"},cr=["onClick"],ir={class:"text"},ur={key:0,class:"mask"},dr=I({__name:"menu",props:{active:{},menus:{},sideMenuWidth:{default:60},sideWidth:{default:200}},setup(t){const e=t;Ie(d=>({d402cefe:c(u),"5739c300":c(r)}));const a=Ae(),o=ge(),{layoutInfo:n}=qe(o),s=B(()=>{var d;return((d=n.value)==null?void 0:d.layoutMenu)||"group"}),l=B(()=>{var d;return((d=n.value)==null?void 0:d.layoutTabsTheme)||"radius"}),r=B(()=>`${e.sideMenuWidth}px`),u=B(()=>`${e.sideWidth}px`),i=y(""),p=y(""),_=d=>{i.value=d;const h=i.value.split("-");p.value=h[0]},f=d=>{var j;const h=d[0],x=(j=h==null?void 0:h.children)==null?void 0:j.find(D=>D.show===!0);return h!=null&&h.children&&x?f((h==null?void 0:h.children)??[]):h},v=d=>{var A;const h=(A=d==null?void 0:d.children)==null?void 0:A.find(g=>g.show===!0);let x=d;d!=null&&d.children&&h&&(x=f((d==null?void 0:d.children)??[]));const j=x.path,D=y({});x.ajaxParams&&(D.value=et(x.ajaxParams));const E=x.activeId;_(E);let P={...D.value};a.value&&(P={...P,appid:a.value}),ue(`/${j}`,P)};return Pe(()=>{_(e.active)}),(d,h)=>{const x=ae,j=T("el-menu");return m(),b("div",rr,[(m(!0),b(W,null,oe(d.menus,D=>(m(),b("div",{key:D.id,class:"item"},[D.show?(m(),b("div",{key:0,class:ve({"item-triangle":c(l)==="triangle","item-radius":c(l)==="radius",active:c(p)===D.activeId}),onClick:E=>v(D)},[k(x,{icon:D.icon,size:"22",type:(D==null?void 0:D.iconType)||""},null,8,["icon","type"]),C("div",ir,F(D.title),1),c(l)==="triangle"?(m(),b("div",ur)):U("",!0)],10,cr)):U("",!0),C("div",{class:ve(["item-children",{active:c(p)===D.activeId}])},[k(j,{"default-active":d.active,"unique-opened":c(s)==="level"},{default:w(()=>[(m(!0),b(W,null,oe(D.children,E=>(m(),b(W,{key:E.activeId},[c(s)==="level"?(m(),$(wo,{key:0,"menu-data":E},null,8,["menu-data"])):(m(),$(Ge,{key:1,"menu-data":E},null,8,["menu-data"]))],64))),128))]),_:2},1032,["default-active","unique-opened"])],2)]))),128))])}}});const pr=L(dr,[["__scopeId","data-v-4c784623"]]),Mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAADPCAMAAACKnR5TAAABMlBMVEVHcEx7pvgH+9srxdIsw9ItxdAD/9zLdv0bj/wajv4o3Nsajv6oS/13UvscZfDUdv1Yi/eeSvwg19UbfvkH+tsswdMcYe+CUPttd/sjp+kcavKrWf0E/ttfZ/ootd3Bbv0U6NguxNS0Zf2iTfwfnPIbfvkvwNCKfv4txs4Zjf8da/Md/uIbY/EaY/AH/9x6Y/wY/+CHbv0obPMqbfIcZfEeZfPEeP0O/92ahf6nf/6TTPyOTfsF/92ze/4E/90K/+GGTvucSfyre/6YgP5+UPvCev4eY/Cagf/D6vu2ef6T5fNDffJwXfpBjfmKfvg5Y/Qj09U6vNgtw9Aajf6uR/wE/9sdY+/advzddv2yRv2vRvwC/9sZi/8WZO+pRvwSjv6gSfuQf/11UvdBiP46XfI7XfL04pvpAAAAUnRSTlMABt7b7fX5/e32Ftz8b/L+DuHc1+zM+pgZ0ev58yXb+txi+Pfg5Poz+/vYMJbjx0J7UjlzuFXrrWOj1MJfyZZLre64fYbayo4j2USm7tvE8qtylTSQZQAAColJREFUeNrtnAtf2kgUxQ0QHhUhKGJAAVdUxFoRWt+1lWpb+9pHAUFhWffR7/8VdgKIREgy50qG7G9z/QLe39w5+c85M8zMuOWWW2655ZZbbrn1fyopXZyDq6hKDm1HKc5dLoF1OZdXHNpO+vIkhtbJzxdpZ3ajlk7vajc3t9x1c1MLL6+9KylOHDe1uBRj3UBVW84G3l84ctzSc6c59g9y1+1th61NtHHw7kh1YDvF80rt5hZpJ5xbzjaa0YPjvANFeu6kw/YD1M7yWqDZbAbOjhwn1urceeUWGDVWnfBaNsraaR4cO27c8kuxMLY2bOdko41Ggy3Pp48OGzeldBrGRq0Wzq0FGk2tnUaAibWjdk7xMgaPGhNp1oq2Po33H4tO2j2MBzCR7nXT6JWmBk5iA6V4nuvcoiLdXxutnWjWQeMm5bsiXcNFunG/PtFPzmED5ei8cgPtnE5fpAfT1nQQG1wdV+5AvMn1RHqwOs5hA0k9OruDd87wqHXFzSlsoJaOYx1k42jfnOFR6/dzcFxS/4si3eWBwPCsOYkNNJHG2umR9ON2HMEGOElrX9BHO6dxzwb5ae8e7dB2i/EAE+lAdEw7TmCD/HkFVLXOmFHrrc702UCdO4UPbblxo+YINlCKSzHaoW1cN1NnA4JI3+l5oOEgNmCHtrsnkPTo7pkqGyjs0AbygEbSUaN2pswGTAcquLMWMJq1abNBfqnSwZ01k276bDCVaWMkfdKpTUqkh9jgYipsoJbOKzVo59RqhiI9fTZIL52Eb28ozpr56jA2mIKtI5VOc4RRazQbVqWxgeh+pPzlCRs1pB0Dkh7DBsdHz5wefzCSXuZaHI0NPl6Jtj0pJM3TjUaijA2eiRw3evzR4OlHNBsopfPYk5w1i3ETzAbppVh4ciQ9hg2yItmgm1FPmgdG2EDUQa6bUcMkzTtqwtlAvaRk1AHeWeuzgbCDnCbSBJJuIu00omdFp4p0jV+khw4KYtrBM2pEpAdk8EnQsNEzaqQdUeG8llHbKtI9qhZkgTwto+YeNVEGFc1ZC6CjdnYhZtTwjLpj4qwZMsHHoggm6GXUsLOGjlrgTMyVPRXNqLs8gIq0MJ7Owxm1lbM2XqSF5CKSenT65Iya4zB6dpQWMmolRtK1STtrY0RajDGliTTurKEiLexo0BXpJ2fUHAc3EYujdEkaO7blKCQt5lg9uYzaESJdnFhG7QRLipJRLzuWpPGMutPJUUTaySQN84CYIF6acEY9ZXeNllHDoybqztTkM2oDkRbDA/mlSth+kn5/LObQRsmolykkLeaTA2fUJGftQJizBmfU+KgxWDsSsnMkWvzhUJKW8pcxWzJq/ahlBXnShCd6d1pG7UyRtjOjHupHEEnbm1EPQFrUtTx7M+rBqB0IjD8EOGvvRH1Bbc6oBxeOhThrtmfUYkmaklFncZIW5qzR3lGDJC3mmaWIjLpndwg6tGEZNc1ZE0bSTAc60K9D9J01rESJdP8dNVJ9kQbu3mgknRaXUYPt9J/s81dDmLPGSPoOq1xuLRvA6uDsIq8oz6Ai5ablL1//Auvr1z/h+vnLbz+B9Zxwj1fd//DPjx8//gHql+1vf4P17VvGuwjWr3t4P1J558XvUCUiqYXZ0B9QBZNJ3/fvW+yPv7ZWD/eeo+N29fJDAmsn8mJhI1RA21n0fYdqU5bj8d098J619PlL6vdrqCLbC8HqH1WgCsH1jFfG2pG98/FW/PCzhOHNyw/XaDts1KpQBdeTGXkLbGd+daXV2sXGTd1/9QJrJhHZ2AhC7bTbs/io+eZX4yt1tjyvETVgOpDARy1UgEYthI+azzvv8dfrdb/nzXNoccBuEqkFtnOgCs0mM74ttJ3VeKtVr7fqu6+5XykobHHQUUuBo1Zta6q2BbWzuelb9axo7dTr8TdveceN6UAEbOfFBjpqhXV458i+ebZxerXC1ID3C/oK7OaaMGpMpPFRm4/XW/f9HL5VOEV6G1wbtnNmg+CorSfBbja7stbqt9NqefjEmukAuDhs42xgo9bbOQSR9tfvq+XnYwOaSIOjpom0j8ADrYd2+NiAkTTYDYUHCCLd44H6Qz91DjYgiTTYTrvdI2l01Dy6dphYW7MBE2l81ATsHI0HVvx1XVmygaQQRHqbItI43qzG9WvDwQZKGRVphjcb8M5JJr0gSQ/xgG7czNlAffkqBXeDknSVRNIjo8bBBjSRxjYOkaQfeEDXjwkbSEykr+0nafjQpucB3e4xYwN1XxhJU3hg3OqYsUEZJukII2l41HCS1vOAfnkM2UDZF0HSs+sUHjBqx4QNYJHu8kAQtjsmwAMcbMBEGh61afGANRtIMKwRSLoQpIm08doYsIGEw9p1SoSztimbjpoBGygEkd4gifRkeMCCDdI727Y7a+1CkDRqFt2w7fOYDRTYWaPaHTL+BTUftTFswA5tYkgadda6PGDVzggbpF8S7A541Gg8ULdqZpQNyjsR20macmiTOUZtlA20+MN2Zy20Do+a7LMU6TFswEiacmibOg8YsEGZJNJVmKS9kyNpEzYgkHRkYUGIs8Y7avdsIFFgDXfWqkRnzeDQZsgGyox0hTtrMEm3aTsn7q8DtXL49vnMFZ5Rp0SQNBcPPGaD1zNFQRm1T4ZFmoMHdP2sHO7N7MNnUNxZo5A0Omp1Lc/emymjZpSYjFoGR00rbdhU0CokOGuF2fUMPGqP4g9eKZAwI5fmrKF4IwM8oBdq9t1Bdo/mrGHdFAoTddasPqMYFUSEZNQyPGpDBgi/60Eg6WoIz6j7N2+QdvzxAYLy2x5s1AQ5a+DG0ZmHKu/yEDPqCSRtVqPm6eoAaBnSMmqZfPMGAIJhL4fP0NVEGifpzBNu3vB249c7bXxiTXDW2sHJJW1mPPBGb7TxiHUiIsBZ24RJWpO13cchQnrHMqoS6Kxha6P5BBLqUeN2R7sQFMIDK6MJD0O3D9aHNvszapwHNJIek7+Vd1KJiWfU6KHNImkbO2pMpKVxt3HM1IBG0hkbnTWLqxLmF1gStFHz2c0DXZF+ZpBcJ6ZL0hQe8BteMzKOrEjO2nrGhqRtpB3jS2DGYk3LqL0++3nA5IqeZJgkiMioKTxgfoHSkKyFOGugidv3osyut44Xa8rrDwJJE3jA4vKxNDYjxUm6SsioSc7aG/O7umPJWsSVfAoPsC+o1VXd0egqkRDhrFF4gOMVjzISLFIyappItyYn0sZiHdkWwQMyPmpMpK2fJEn6UJ7srG3ZzQNscd5KPI+RhtWAllFn7E7atG7Y4vA9Fdt+YkZte9L22FmzEOvEkzJqOP7gu3nzmKR5H789JD5iSFomoCfw1FIZPIIlvf4QwgPAy0RlINY0kgadNdk3TxDp1/zPlAcPyAnOGkzSFB5gi4M8uu5dnaC8/hBC0q34LvTmunfw6d5ZAzNqys7xTMZZs3h1nSCRtIhDG+8TWB1Zp2jO2pbtPMD/QHn48cv2RhtbG7ZzMl7bQ11IpB/Iev/LQihUCCHVFWlWmzJfdW9DMFmDqntog38pRy3vvJrFaiGZXFz0QrW4uLvrwSru4SLpkfWZccstt9xyyy233HLLLbfccssx9S/OTXvmn2y+VgAAAABJRU5ErkJggg==",mr=["src"],_r=I({__name:"image",props:{logoSrc:{},logoHeight:{default:35}},setup(t){const e=t;Ie(n=>({"2035992c":c(o)}));const a=B(()=>e.logoSrc?e.logoSrc:Mt),o=B(()=>`${e.logoHeight}px`);return(n,s)=>{const l=T("el-image");return m(),$(l,{src:c(a),class:"logo"},{error:w(()=>[C("img",{src:c(Mt),class:"logo"},null,8,mr)]),_:1},8,["src"])}}});const ca=L(_r,[["__scopeId","data-v-25a57a60"]]),fr=I({__name:"title",props:{sideName:{default:"XhAdmin"}},setup(t){return(e,a)=>(m(),b("span",null,F(e.sideName),1))}}),hr={class:"xhadmin-logo-pro"},vr={class:"logo-image"},gr={class:"logo-text"},yr=I({__name:"index",props:{headerHeight:{},sideWidth:{},sideMenuWidth:{},logoHeight:{},logoSrc:{},sideName:{}},setup(t){const e=t;Ie(r=>({eb290234:c(n),c8095676:c(l),"375a2236":c(s)}));const a=ge(),{layoutInfo:o}=qe(a),n=B(()=>`${e.sideWidth}px`),s=B(()=>`${e.sideMenuWidth}px`),l=B(()=>`${e.headerHeight}px`);return(r,u)=>(m(),b("div",hr,[C("div",vr,[k(ca,{"logo-src":r.logoSrc,"logo-height":r.logoHeight},null,8,["logo-src","logo-height"])]),it(C("div",gr,[k(fr,{"side-name":r.sideName,"logo-height":r.logoHeight},null,8,["side-name","logo-height"])],512),[[ut,!c(o).sideMenuCollapse]])]))}});const kr=L(yr,[["__scopeId","data-v-2826983b"]]),ia=I({__name:"index",setup(t){const e=he(),a=()=>`${new Date().getTime()}${Math.random()}`,o=y("");return mt(()=>e.fullPath,()=>{o.value=a()}),(n,s)=>{const l=T("router-view");return m(),$(l,{key:c(o)})}}}),Ot="OUtzMas9edTHUH/JnNdjl4lHWYG9gISU6vl1DnlCzkumaS2EkD8OLhRzTMziPeF5AxwRwukfkvIVs2nzq7KWi2RxbtTzzLtOQMml5cLVHkQZs8dhEMLkXtyVFKOTAjsXTvU2NFMCfwUc8LhqIrDnbd11kU5oQoTcysWvQbk/P6wfBMd7p3TOZwWewFg+oz5qHfwhgtW2dXev4p+a9fknRNBKUgdBxStKVsImmh4SlXRfOlhgMhOoL6ycaOdbhz6LgvDynfuWIA7dngosFv6x9SXIW2WndIoztR/4A+9uYG6xxiuH7Por9QJjFVU/VzLytposud3gAQi7ba2gyN9I6g==e3dqJ6AL4KUa3qpU0WtHV215X5FP5e1CZeyTqT2ap9dEOIS8hp94xpVIod9MSyYorLrNVOo8OyocipT9zLZITtPJ5LNVczJcnzHrNi6goXzojZ7etvuGK0HRj8CygkIhZMb7PUF9lNodtoUJ8BOjKvvETpXXSnHmyhwyskBRtBZ3LwAbKNCNKPCDhDQgF/Zo8P0h+oUjCZ/3B2kvSxPhPS9OjPU583PqOlZZNf0/2TzC+JxCI2Du/87kDGUXS8Y7UKP2NzdlqT21VkOQnbsFHRGg3jfT/+uJu6M/qljnvGo6bp6nL0vpD0paZmKrSUGVE99FWkLYNRiWAKkttCDn2g==",Ft=`-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCz+Ny6Y+2LRQb5
d81sZgzExl3EwWHJnP/BDOqD90UxEYStdzVulGtykumcfUPW+Hugspq8waetBGb7
MEFcbl3y7cTmrK/4Uninmy5Nf4nsGQk+/5WvQE2pzlLfPH0ZgxWyFepNdIXc6+k/
loXCOLus0jUZoDnN1YJfDMtGi+VyYl1jbatu3TQohO15NRb4KZ1TUeWQbOSnpXDA
WA2x9qVJtgKn1sD3KlxPu9Lm01QqCiIrEHEBWWCJQesgwP98JS438kCRmZMQBEJV
urr4UsLH889TMFg5ySKoGFLs3NOwOKbf0wwSpl4t7kAqyKOhbd4IprPVih/E9We5
VvYn5+7JAgMBAAECggEAMGRcRaoU93vKEk5KaDlQeaC1GfC9sI6MnoYwkOduLXF+
cX46Wc+CzL4AHtn34dfStjUQMm0H/xfN8QDaslXi4S1Z4oTQlD7ovniVjLUciuV4
fP4Qa50oxN37npcPNErxDH+kDsukKvEsOLLqqHzEygWDza4tnNEqSxCPoBqBya2B
TZomn3559fCOxGbKn7+3wlF7kKqr1HCbgX04RGISksh/EA1KPZRxOIol3B4dtz+H
xG/aG5aAGGnsFhlk/V/UiCBpyNYyJjVidJE9r8sY+GrszIEzsCLePhSWwG0UoTTN
PRt1o+nMCTuF8VoCkWGI7K6S5J5mQKdsFSaLPbLj4QKBgQDuEkf17kRNxWd2zBE7
fLGeRoezjyTBxcn6zzaJ1jQXs/ROV08q/LxNdRRNJ3jPk3V9y9Ceh6tyGvitumDF
m2fsrb+yofXQ8gL8xKFXhJHhbPRVqNKfb0DIWIeLSmhDM4xvmK3E+EuDQCe+t+7d
KRhUzYVXtsfid2MOrCfCkTwR5QKBgQDBhn/cs78V6hheZt0JUpV+bL01qelEC+SV
qwprkxbp6HWkRLp0yQb18Khq1s0NtMAQXlM5BGCQR9i7syy5vGi80a/lsR1O8F3y
PSo1GFYX9MGhIUHp7pw/6ls4WgZQ4eDMW7w0mrJ8DPUXlw2q/kY4SCAAHbGqarBo
nc8cv4UrFQKBgDbF0fSM+v4BmspELPrIt3y4sWPoXQaP4OZpYhzYQWfqqRyVDcvQ
FeqkMyWFHVB0lqV4jOjMQe+gsPIXXUhZdtGHMAGDLbEC3RkWjCA8ieuZS6Whj8PK
rtbpN1Yeqlo7s+XA9MnKbmUmD37bhoMvfz+TgUgq71X1Lb8kcIldLLrZAoGAJR1/
fjt25WQNImXF9JjDFQkTzKv2kddaEp5IFFOUbG3pygRoYid/z0FFe6AQmZVV1I3S
ljfRsTomRfFaHZEV4Uix3HJ4dYBB9EhoxOAS+us1C4sOUigyDUwMDKWvWmnHrEnX
sZsNqh7uDoUo2OeFXhvvDzaisVVe2eGSLChLCPUCgYEAqIu/Ws/C2OceneO25l/3
2WxcN3UbVT6x8TkwFjYv9UWs0/Opqlnj8aFy4zgU76zIDRGjVyObv53Gwhaaim1z
TeIrGe7RcWmPjzsERGlb+qe7tvCiNNDTd6RK0ywIrcSUrkEaZepqUepGFgB/vq9T
v07JgHIyR8viVUUqohaz5hM=
-----END PRIVATE KEY-----`,qt=window.location.hostname,nt=(t,e)=>{const a=new Xa;a.setPrivateKey(e);const o=t.match(/.{1,344}/g);if(!o)throw new Error("令牌表单解密失败");let n="";if(o==null||o.forEach(s=>{const l=a.decrypt(s);l&&(n+=l)}),!n)throw new Error("解密失败");return JSON.parse(new TextDecoder().decode(Uint8Array.from(window.atob(n),s=>s.charCodeAt(0))))},xr=()=>{const e=ce().siteInfo;if(e!=null&&e.empower_token&&e.empower_private_key)try{const a=nt(e.empower_token,e.empower_private_key);return console.log("当前域名",qt),a.systemUrl.includes(qt)||a!=null&&a.isChannels?(console.log("使用自定义版权"),console.log("版权数据",a),a):(console.log("使用原生版权"),nt(Ot,Ft))}catch(a){console.error("服务端授权失败",a)}try{return nt(Ot,Ft)}catch(a){console.error("系统授权错误",a)}},ua=()=>{const e=ce().siteInfo;return{version_name:(e==null?void 0:e.version_name)??"v1.0.0",version:(e==null?void 0:e.version)??1e3}},wr={class:"copyright-set"},br={key:0},Pr=["href"],Cr=["href"],$r=I({__name:"index",setup(t){const{systemAbout:e,systemAboutUrl:a,systemName:o,systemUrl:n}=xr(),{version_name:s}=ua(),l=window.location.protocol;return(r,u)=>(m(),b("div",wr,[z(" copyright © 2023 "),c(a)==="#"?(m(),b("span",br,F(c(e)),1)):(m(),b("a",{key:1,href:`${c(l)}//${c(a)}`,target:"_blank",class:"pl-10px"},F(c(e)),9,Pr)),z(" All Rights Reserved "),C("a",{href:`${c(l)}//${c(n)}`,target:"_blank",class:"pl-10px"},F(c(o))+" "+F(c(s)),9,Cr)]))}});const da=L($r,[["__scopeId","data-v-448a4e9c"]]),Dr={class:"flex items-center"},Ir={class:"xhadmin-header-breadcrumb"},Ar=I({__name:"side",setup(t){var s;const e=ce(),a=ge(),{layoutInfo:o}=qe(a),n=((s=e.siteInfo.public_api)==null?void 0:s.header_left_file)??"";return(l,r)=>{const u=ae;return m(),b("div",Dr,[C("div",Ir,[C("div",{class:"side-action",onClick:r[0]||(r[0]=i=>c(a).setLayoutMenuCollapse())},[k(u,{icon:c(o).sideMenuCollapse?"Expand":"Fold",color:"#555"},null,8,["icon"])])]),c(n)?(m(),$(c(me),{key:0,file:c(n)},null,8,["file"])):U("",!0)])}}});const jr=L(Ar,[["__scopeId","data-v-852079fd"]]),Br={class:"xh-dropdown-link"},Sr={class:"text"},Tr=I({__name:"index",setup(t){const e=ce(),a=ge(),{userInfo:o}=qe(a),n=()=>{var r;if(!((r=e.siteInfo.public_api)!=null&&r.user_edit)){be("当前系统未开启个人资料修改功能","温馨提示");return}ue(vo)},s=()=>{a.loginOut()},l=r=>{switch(r){case"hanldProfile":n();break;case"loginout":s();break}};return(r,u)=>{const i=ae,p=T("el-dropdown-item"),_=T("el-dropdown-menu"),f=T("el-dropdown");return m(),$(f,{class:"xh-dropdown",onCommand:l},{dropdown:w(()=>[k(_,null,{default:w(()=>[k(p,{command:"hanldProfile"},{default:w(()=>[z(" 个人中心 ")]),_:1}),k(p,{command:"loginout"},{default:w(()=>[z(" 退出登录 ")]),_:1})]),_:1})]),default:w(()=>{var v;return[C("div",Br,[C("span",Sr,F((v=c(o))==null?void 0:v.nickname),1),k(i,{icon:"ArrowUp",size:14})])]}),_:1})}}});const pa=L(Tr,[["__scopeId","data-v-12572241"]]),Er={class:"flex-1 flex items-center justify-end"},Vr=I({__name:"tools",setup(t){var o;const a=((o=ce().siteInfo.public_api)==null?void 0:o.header_right_file)??"";return(n,s)=>(m(),b("div",Er,[c(a)?(m(),$(c(me),{key:0,file:c(a)},null,8,["file"])):U("",!0),k(pa)]))}}),Rr={class:"flex justify-between"},Ur=I({__name:"index",setup(t){return(e,a)=>(m(),b("div",Rr,[k(jr),k(Vr)]))}});const Lr={class:"xhadmin-mix-layout"},Mr={class:"xhadmin-header-pro"},Or={class:"xhadmin-main-pro"},Fr={class:"xhadmin-side-pro"},qr={class:"xhadmin-content-pro"},zr={class:"xhadmin-content pt-4 pl-4 pr-4"},Hr={class:"xhadmin-copyright-pro"},Nr=I({__name:"index",props:{active:{},menus:{},sideName:{},sideLogo:{},logoHeight:{},sideWidth:{},sideMenuWidth:{},headerHeight:{}},setup(t){const e=t;Ie(n=>({ea5e16fa:c(a),"10abb030":c(o)}));const a=B(()=>`${e.headerHeight}px`),o=B(()=>e.sideWidth);return(n,s)=>(m(),b("div",Lr,[C("div",Mr,[k(kr,{"header-height":n.headerHeight,"side-width":n.sideWidth,"logo-src":n.sideLogo,"side-name":n.sideName,"logo-height":n.logoHeight,"side-menu-width":n.sideMenuWidth},null,8,["header-height","side-width","logo-src","side-name","logo-height","side-menu-width"]),k(Ur,{class:"xhadmin-toolbar"})]),C("div",Or,[C("div",Fr,[k(pr,{"side-width":n.sideWidth,"side-menu-width":n.sideMenuWidth,active:n.active,menus:n.menus},null,8,["side-width","side-menu-width","active","menus"])]),C("div",qr,[C("div",zr,[k(ia)]),C("div",Hr,[k(da)])])])]))}});const Wr=L(Nr,[["__scopeId","data-v-82ea02ce"]]),Xr={};function Qr(t,e){return m(),b("div",null," 侧边栏布局 ")}const Zr=L(Xr,[["render",Qr]]),Jr=I({__name:"menus",props:{active:{},menus:{}},setup(t){return(e,a)=>{const o=T("el-menu");return m(),$(o,{mode:"horizontal",class:"menus","default-active":e.active},{default:w(()=>[(m(!0),b(W,null,oe(e.menus,n=>(m(),$(Ge,{key:n.id,"menu-data":n},null,8,["menu-data"]))),128))]),_:1},8,["default-active"])}}});const Kr={class:"xhadmin-top-layout"},Gr={class:"xhadmin-header-pro"},Yr={class:"xhadmin-header"},ec={class:"logo"},tc={class:"menus"},ac={key:0,class:"tools"},oc={class:"user"},nc={class:"xhadmin-main-pro"},sc={class:"xhadmin-main"},lc={class:"xhadmin-content"},rc={class:"xhadmin-copyright"},cc=I({__name:"index",props:{headerHeight:{},active:{},menus:{}},setup(t){Ie(s=>({"6794f285":c(n)}));const e=ce().siteInfo,o=ge().layoutInfo.layoutSize,n=B(()=>o?"100%":"1200px");return(s,l)=>{var r,u,i;return m(),b("div",Kr,[C("div",Gr,[C("div",Yr,[C("div",ec,[k(ca,{"logo-src":((r=c(e))==null?void 0:r.web_logo)??""},null,8,["logo-src"])]),C("div",tc,[k(Jr,{active:s.active,menus:s.menus},null,8,["active","menus"])]),(u=c(e).public_api)!=null&&u.header_right_file?(m(),b("div",ac,[k(c(me),{file:(i=c(e).public_api)==null?void 0:i.header_right_file},null,8,["file"])])):U("",!0),C("div",oc,[k(pa)])])]),C("div",nc,[C("div",sc,[C("div",lc,[k(ia)]),C("div",rc,[k(da)])])])])}}});const ic=L(cc,[["__scopeId","data-v-e4f32260"]]),uc={};function dc(t,e){return m(),b("div",null," 用户中心布局 ")}const pc=L(uc,[["render",dc]]),mc=()=>{const t=he(),e=dt({active:""}),a=o=>{let n=Lt.get(o);n||(n=Lt.get(ta)),e.active=n??""};return mt(()=>t.fullPath,()=>{var n,s;let o="";(n=t.query)!=null&&n.group&&t.meta.ajaxParams.includes("group")?o=`${t.path}_group=${(s=t.query)==null?void 0:s.group}`:t.meta.ajaxParams&&!o?o=`${t.path}_${t.meta.ajaxParams}`:o=t.path,a(o)}),{...Za(e),updateActive:a}},[_c,fc]=Qa(mc),hc=()=>fc()??{active:y(""),updateActive:()=>{}},vc=I({__name:"index",setup(t){const e=ce(),a=ge(),{active:o}=hc(),{layoutInfo:n}=qe(a),s=e.siteInfo,l=a.menuList;return(r,u)=>{var i,p;return m(),b(W,null,[c(n).layout==="mix"?(m(),$(c(Wr),{key:0,"header-height":c(n).headerHeight,"side-width":c(n).sideWidth,"side-menu-width":c(n).sideMenuWidth,"side-logo":(i=c(s))==null?void 0:i.web_logo,"side-name":(p=c(s))==null?void 0:p.web_name,"logo-height":c(n).logoHeight,active:c(o),menus:c(l)},null,8,["header-height","side-width","side-menu-width","side-logo","side-name","logo-height","active","menus"])):U("",!0),c(n).layout==="side"?(m(),$(c(Zr),{key:1})):U("",!0),c(n).layout==="top"?(m(),$(c(ic),{key:2,"header-height":c(n).headerHeight,active:c(o),menus:c(l)},null,8,["header-height","active","menus"])):U("",!0),c(n).layout==="user"?(m(),$(c(pc),{key:3})):U("",!0)],64)}}}),gc={path:"/",name:"default-router",component:vc,redirect:ta,children:[]},yc=[{path:"/workspace/exception",name:"workspaceException",component:()=>xe(()=>import("./index.62aa59a6.js"),["xhadmin/js/index.62aa59a6.js","xhadmin/js/.pnpm.9bc250f1.js","xhadmin/css/.pnpm.ad0d32c5.css"]),meta:{title:"出现错误啦~"}},{path:"/user/personal",name:"userPersonal",component:()=>xe(()=>import("./index.913d55ed.js"),["xhadmin/js/index.913d55ed.js","xhadmin/js/.pnpm.9bc250f1.js","xhadmin/css/.pnpm.ad0d32c5.css","xhadmin/css/index.27a712b3.css"]),meta:{title:"个人资料"}}],kc=[{...gc,children:[...yc]},{path:"/login",name:"Login",component:()=>xe(()=>import("./index.e4d3b6c8.js"),["xhadmin/js/index.e4d3b6c8.js","xhadmin/js/.pnpm.9bc250f1.js","xhadmin/css/.pnpm.ad0d32c5.css","xhadmin/css/index.04a85923.css"]),meta:{title:"用户登录"}},{path:"/redirect/:path(.*)",name:"redirect",component:()=>xe(()=>import("./index.6c09379d.js"),["xhadmin/js/index.6c09379d.js","xhadmin/js/.pnpm.9bc250f1.js","xhadmin/css/.pnpm.ad0d32c5.css"])},{path:"/exception",name:"exception",meta:{title:"抱歉，你访问的页面不存在~"},component:()=>xe(()=>import("./index.62aa59a6.js"),["xhadmin/js/index.62aa59a6.js","xhadmin/js/.pnpm.9bc250f1.js","xhadmin/css/.pnpm.ad0d32c5.css"])},{path:"/:pathMatch(.*)",component:()=>xe(()=>import("./index.62aa59a6.js"),["xhadmin/js/index.62aa59a6.js","xhadmin/js/.pnpm.9bc250f1.js","xhadmin/css/.pnpm.ad0d32c5.css"])}],xc=Ja({routes:[...kc],history:Ka("/")}),G=xc,Le=()=>location.pathname.replace(/^\/+|\/+$/g,""),Ce=(t="",e=!1)=>{const a=G.currentRoute.value,o=Le(),n=y(a.path);if(e){const s=n.value.indexOf("/",1);n.value=n.value.substring(0,s),n.value=`${n.value}/`}return`${o}${n.value}${t}`},wt=t=>{let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},ue=(t,e)=>{wt(t)?location.href=t:G.push({path:t,query:e})};function st(t=6){let e="";for(let a=0;a<t;a++)e+=Math.floor(Math.random()*10);return e}const Fe=(t,e)=>{for(const a in e)if(e[a]===t)return!0;return!1},Je=()=>{var e;(e=G.currentRoute.value.query)!=null&&e.isBack||S("返回上次页面错误"),G.back()},wc=t=>t.replace(/\/(\w)/g,(e,a)=>a.toUpperCase()),bc=(t,e="Enter")=>{const a=o=>{o.key===e&&(t(),o.preventDefault())};Ga(()=>document.addEventListener("keydown",a)),_t(()=>document.removeEventListener("keydown",a))},et=t=>{let e;const a={},o=t.slice(t.indexOf("?")+1).split("&");for(let n=0;n<o.length;n++)e=o[n].split("="),a[e[0]]=e[1];return a},bt="authorization",Pt="appid",He=Zt(()=>{const t=Le();return Jt(`${t}_${bt}`,null)}),Ae=Zt(()=>{const t=Le();return Jt(`${t}_${Pt}`,null)}),Ct="/",Y=Ya.create({baseURL:Ct,timeout:6e4}),Pc=async t=>{const e=He();e.value&&t.headers.set(bt,e.value);const a=Ae();return a.value&&t.headers.set(Pt,a.value),t},Cc=t=>{var n,s,l,r,u;const e=He(),a=t.data,o=t.headers["content-type"];if(o.includes("application/json")){if((a==null?void 0:a.code)===301)return ue(((n=a==null?void 0:a.data)==null?void 0:n.url)??""),Promise.reject(a);if((a==null?void 0:a.code)===302)return S((a==null?void 0:a.msg)||"302.网络错误~"),ue(((s=a==null?void 0:a.data)==null?void 0:s.url)??""),Promise.reject(a);if((a==null?void 0:a.code)===303)return S((a==null?void 0:a.msg)||"303.网络错误~"),ue(((l=a==null?void 0:a.data)==null?void 0:l.url)??""),Promise.reject(a);if((a==null?void 0:a.code)===304)return window.location.reload(),Promise.reject(a);if((a==null?void 0:a.code)===305)return S((a==null?void 0:a.msg)||"305.网络错误~"),setTimeout(()=>{window.location.reload()},2500),Promise.reject(a);if([600,666,11e3].includes(a==null?void 0:a.code))return Promise.reject(a);if((a==null?void 0:a.code)===200)return a;if((a==null?void 0:a.code)===12e3){e.value="";let i=(r=G.currentRoute.value)==null?void 0:r.fullPath;return(u=G.currentRoute.value.query)!=null&&u.redirect&&(i=G.currentRoute.value.query.redirect),i===Xe&&(i="/"),G.replace({path:Xe,query:{redirect:i}}),S((a==null?void 0:a.msg)||"登录超时啦~"),Promise.reject(a)}return a!=null&&a.msg&&S((a==null?void 0:a.msg)||"网络错误~"),Promise.reject(a)}else return o.includes("application/octet-stream")?Promise.resolve(a):Promise.reject(a)},$c=t=>{if(t.response){const{status:e}=t.response;e===401?ue("/exception",{code:401}):e===403?ue("/exception",{code:403}):e===500?ue("/exception",{code:500}):e===502&&ue("/exception",{code:502})}return Promise.reject(t)};Y.interceptors.request.use(Pc);Y.interceptors.response.use(Cc,$c);const Dc={class:"bundle-name"},Ic=C("div",{class:"flex-1"}," 附件分类 ",-1),Ac=C("div",{class:"bundle-title"}," 附件管理器 ",-1),jc={class:"categrory"},Bc=C("div",{class:"categrory-item-title"}," 全部数据 ",-1),Sc=["onClick","onDblclick"],Tc={class:"categrory-item-title"},Ec=["onClick"],Vc=["title","onClick"],Rc=["src"],Uc={class:"file-name"},Lc=C("div",{class:"flex-1"},null,-1),Mc={key:3,class:"btn-group"},Oc={key:4,class:"btn-group"},ma=I({__name:"modal",props:{limit:{default:1},suffix:{default:"*"}},emits:["update:confirm","update:close"],setup(t,{expose:e,emit:a}){var It;const o=t,n=ce(),s=He(),l=Ae(),r=n.siteInfo,u=y(),i=y(),p=y([]),_=y([]),f=y({active:"",list:[]}),v=y([]),d=y(!1),h=y(o.limit),x=y(!1),j=(It=r.uploadify_api)==null?void 0:It.upload,D=y({[bt]:s.value||"",ACCEPT:"application/json"});l.value&&(D.value={...D.value,[Pt]:l.value});let E=Ct;{const{protocol:V,hostname:R}=window.location;E=`${V}//${R}`}const P=y({action:`${E}/${j}`,data:{cid:f.value.cid||"",dir_name:f.value.dir_name||""},headers:D.value,multiple:!0,withCredentials:!0,showFileList:!1}),A=()=>i.value.scrollHeight>i.value.clientHeight,g=y({page:1,limit:20}),q=()=>{var M,N;if(d.value)return;d.value=!0;const V=((M=r==null?void 0:r.uploadify_api)==null?void 0:M.index)||"";let R=o.suffix;typeof o.suffix=="object"&&(R=o.suffix.join(","));const H={cid:((N=f.value)==null?void 0:N.cid)||"",page:g.value.page,limit:g.value.limit,suffix:R};we(V,H).then(K=>{var $e;((($e=K==null?void 0:K.data)==null?void 0:$e.data)||[]).forEach(_e=>{v.value.push(_e)}),g.value.page++,setTimeout(()=>{var _e,O;!A()&&((_e=K==null?void 0:K.data)==null?void 0:_e.current_page)<((O=K==null?void 0:K.data)==null?void 0:O.last_page)&&q()})}).finally(()=>{d.value=!1})},X=()=>{g.value.page=1,g.value.limit=20,f.value.active="",f.value.moveCid=void 0,f.value.cid=void 0,v.value=[],p.value=[],_.value=[],a("update:close")},ee=y(!1),se=new IntersectionObserver(V=>{V[0].intersectionRatio<=0||q()}),ye=V=>{x.value?_.value.includes(V)?_.value.splice(_.value.indexOf(V),1):_.value.push(V):h.value===1?p.value[0]=V:p.value.includes(V)?p.value.splice(p.value.indexOf(V),1):(h.value===0||p.value.length<h.value)&&p.value.push(V)},_a=V=>{(V==null?void 0:V.code)===200?(X(),q(),Q((V==null?void 0:V.msg)||"上传成功！","success")):Q((V==null?void 0:V.msg)??"上传失败","error")},fa=V=>{console.error(V),Q("上传失败","error")},Ne=()=>{var R;const V=((R=r==null?void 0:r.uploadify_cate)==null?void 0:R.index)||"";we(V).then(H=>{f.value.list=(H==null?void 0:H.data)||[]})},$t=V=>{if(f.value.active===V)return;X(),f.value.active=V;const R=f.value.list.find((H,M)=>M===V);f.value.cid=R==null?void 0:R.id,f.value.dir_name=R==null?void 0:R.dir_name,P.value.data={cid:f.value.cid||"",dir_name:f.value.dir_name||""},q()},ha=()=>{var H;const V=(H=r==null?void 0:r.uploadify_cate)==null?void 0:H.add;if(!V){Q("请先配置分类添加接口","error");return}const R=y({sort:100});re({title:"添加分类",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"保存",message:()=>Me(St,{modelValue:R.value,"onUpdate:modelValue":M=>{R.value=M}}),beforeClose:(M,N,K)=>{if(M==="cancel"){K();return}if(!R.value.title){Q("请输入分类名称","error");return}if(!R.value.dir_name){Q("请输入分类目录","error");return}if(!R.value.sort){Q("请输入分类排序","error");return}N.confirmButtonLoading=!0,N.confirmButtonText="保存中...",Te(V,R.value).then(pe=>{Q((pe==null?void 0:pe.msg)||"添加成功！","success"),X(),Ne(),q(),K()}).catch(()=>{N.confirmButtonLoading=!1,N.confirmButtonText="保存"})}})},va=V=>{var N;const R=(N=r==null?void 0:r.uploadify_cate)==null?void 0:N.edit;if(!R){Q("请先配置分类修改接口","error");return}const H=f.value.list[V],M=y({...H});re({title:"添加分类",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"保存",message:()=>Me(St,{modelValue:M.value,"onUpdate:modelValue":K=>{M.value=K}}),beforeClose:(K,pe,$e)=>{if(K==="cancel"){$e();return}if(!M.value.title){Q("请输入分类名称","error");return}if(!M.value.dir_name){Q("请输入分类目录","error");return}if(!M.value.sort){Q("请输入分类排序","error");return}pe.confirmButtonLoading=!0,pe.confirmButtonText="保存中...",Qe(`${R}?id=${H==null?void 0:H.id}`,M.value).then(_e=>{Q((_e==null?void 0:_e.msg)||"添加成功！","success"),X(),Ne(),q(),$e()}).catch(()=>{pe.confirmButtonLoading=!1,pe.confirmButtonText="保存"})}})},ga=V=>{var M;const R=f.value.list[V],H=(M=r==null?void 0:r.uploadify_cate)==null?void 0:M.del;if(!H){Q("请先配置分类删除接口","error");return}be("是否确认删除该分类？","温馨提示","error").then(()=>{const N={id:R==null?void 0:R.id};Ze(H,N).then(K=>{Q((K==null?void 0:K.msg)||"添加成功！","success"),X(),Ne(),q()})})},ya=()=>{var H,M;if(!((H=f.value)!=null&&H.moveCid)){Q("请选择需要移动到的分类","error");return}if(_.value.length<=0){Q("请选择需要移动的文件","error");return}const V=(M=r==null?void 0:r.uploadify_api)==null?void 0:M.move;if(!V){Q("请先配置文件移动接口","error");return}const R={cid:f.value.moveCid,ids:_.value.map(N=>N.id)};Te(V,R).then(N=>{X(),q(),x.value=!1,Q((N==null?void 0:N.msg)||"移动成功！","success")})},ka=()=>{var H;if(_.value.length<=0){Q("请选择需要删除的文件","error");return}const V=(H=r==null?void 0:r.uploadify_api)==null?void 0:H.del;if(!V){Q("请先配置文件删除接口","error");return}const R={ids:_.value.map(M=>M.id)};be("是否确认删除选中的文件？","温馨提示","error").then(()=>{Ze(V,R).then(M=>{X(),q(),x.value=!1,Q((M==null?void 0:M.msg)||"删除成功！","success")})})},xa=()=>{x.value=!1,_.value=[]},wa=()=>{_.value.length===v.value.length?_.value=[]:_.value=[...v.value]},ba=()=>{if(p.value.length<=0){Q("请选择文件","error");return}a("update:confirm",p.value),ee.value=!1},Dt=()=>{ee.value=!0,Ne(),q(),eo(()=>{u.value&&se.observe(u.value)})};return _t(()=>{u.value&&se.unobserve(u.value)}),e({open:Dt}),(V,R)=>{const H=ae,M=T("el-icon"),N=T("el-button"),K=T("el-upload"),pe=T("el-option"),$e=T("el-select"),_e=T("el-dialog");return m(),b(W,null,[fe(V.$slots,"open",{open:Dt}),k(_e,{modelValue:c(ee),"onUpdate:modelValue":R[4]||(R[4]=O=>de(ee)?ee.value=O:null),width:"60%",class:"bundle-dialog",draggable:"","append-to-body":"","close-on-click-modal":!1,onClose:X},{header:w(()=>[C("div",Dc,[Ic,k(M,{size:20,class:"pointer",onClick:ha},{default:w(()=>[k(H,{icon:"FolderAdd",type:"element"})]),_:1})]),Ac]),footer:w(()=>[k(K,Z(c(P),{class:"mr-3","on-success":_a,"on-error":fa}),{default:w(()=>[k(N,{type:"success"},{default:w(()=>[z(" 上传 ")]),_:1})]),_:1},16),c(x)?(m(),$(N,{key:0,type:"danger",onClick:xa},{default:w(()=>[z(" 退出 ")]),_:1})):(m(),$(N,{key:1,onClick:R[1]||(R[1]=O=>x.value=!0)},{default:w(()=>[z(" 管理 ")]),_:1})),c(x)?(m(),$(N,{key:2,onClick:wa},{default:w(()=>[z(" 全选 ")]),_:1})):U("",!0),Lc,c(x)?(m(),b("div",Mc,[k($e,{modelValue:c(f).moveCid,"onUpdate:modelValue":R[2]||(R[2]=O=>c(f).moveCid=O),class:"mr-2"},{default:w(()=>[(m(!0),b(W,null,oe(c(f).list,(O,ke)=>(m(),$(pe,{key:ke,label:O.title,value:O.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),k(N,{type:"warning",disabled:c(_).length<=0,onClick:ya},{default:w(()=>[z(" 移动 ")]),_:1},8,["disabled"]),k(N,{type:"danger",disabled:c(_).length<=0,onClick:ka},{default:w(()=>[z(" 删除("+F(c(_).length)+") ",1)]),_:1},8,["disabled"])])):(m(),b("div",Oc,[k(N,{onClick:R[3]||(R[3]=O=>ee.value=!1)},{default:w(()=>[z(" 取消 ")]),_:1}),k(N,{type:"primary",disabled:c(p).length<=0,onClick:ba},{default:w(()=>[z(" 确认选择("+F(c(p).length)+") ",1)]),_:1},8,["disabled"])]))]),default:w(()=>[C("div",jc,[C("div",{class:ve(["categrory-item",{active:c(f).active===""}])},[C("div",{class:"categrory-item-left-title",onClick:R[0]||(R[0]=O=>$t(""))},[k(M,{color:"#FBAC15"},{default:w(()=>[k(H,{icon:"FolderOpened",type:"element"})]),_:1}),Bc])],2),(m(!0),b(W,null,oe(c(f).list,(O,ke)=>(m(),b("div",{key:O,class:ve(["categrory-item",{active:ke===c(f).active}])},[C("div",{class:"categrory-item-left-title",onClick:tt=>$t(ke),onDblclick:tt=>va(ke)},[k(M,{color:"#FBAC15"},{default:w(()=>[k(H,{icon:"FolderOpened",type:"element"})]),_:1}),C("div",Tc,F((O==null?void 0:O.title)||""),1)],40,Sc),(O==null?void 0:O.is_system)==="10"?(m(),b("div",{key:0,class:"categrory-item-right-icon",onClick:tt=>ga(ke)},[k(H,{icon:"Delete",class:"delete-icon",type:"element"})],8,Ec)):U("",!0)],2))),128))]),C("div",{ref_key:"bundleBodyRef",ref:i,class:"bundle-body"},[(m(!0),b(W,null,oe(c(v),(O,ke)=>(m(),b("div",{key:ke,title:O.filename,class:ve(["file-item",{active:!c(x)&&c(p).includes(O),"active-warning":c(x)&&c(_).includes(O)}]),onClick:tt=>ye(O)},[c(Gt)(O.url)?(m(),b("img",{key:0,src:(O==null?void 0:O.url)||"",class:"file-thumb"},null,8,Rc)):(m(),$(M,{key:1,class:"file-thumb"},{default:w(()=>[k(H,{icon:"Document",size:40,type:"element"})]),_:1})),C("div",Uc,F((O==null?void 0:O.filename)||""),1)],10,Vc))),128)),C("div",{ref_key:"loadMoreRef",ref:u,class:"load-more"},null,512)],512)]),_:1},8,["modelValue"])],64)}}}),Fc=I({__name:"upload",emits:["update:close","update:modelValue"],setup(t,{emit:e}){const a=y(),o=s=>{const l=s.map(r=>r==null?void 0:r.url);e("update:modelValue",l)},n=()=>{e("update:close")};return Pe(()=>{var s;(s=a.value)==null||s.open()}),(s,l)=>(m(),$(ma,{ref_key:"uploadRef",ref:a,"onUpdate:confirm":o,"onUpdate:close":n},null,512))}});class qc{constructor(){We(this,"title","");We(this,"iconSvg","");We(this,"tag","");this.title="附件库",this.iconSvg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 75"><defs><style>.cls-1{fill:#1677ff;fill-rule:evenodd;}</style></defs><title>xhadmin</title><g id="图层_2" data-name="图层 2"><g id="svg26"><g id="g24"><path id="path14" class="cls-1" d="M30.8,32.9q22.35-17.38,42.46-4c10,6.64,14.29,8.63,17.26,6.64,6-4,.66-12-10.62-15.92Q54,10.47,30.8,32.9Z"/><path id="path16" class="cls-1" d="M24.16,38.2q7.45-23.75,30.65-24.64C66.29,13.11,70.73,12.23,72,9c2.4-6.46-6.22-9.66-17.24-6.42Q29.43,10.07,24.16,38.2Z"/><path id="path18" class="cls-1" d="M20,51.8q-3-23,11.75-36.39c7.31-6.64,9.75-9.7,8.77-12.47-2-5.57-9.45-2.91-14.89,5.31Q13.2,27.12,20,51.8Z"/><path id="path20" class="cls-1" d="M26.41,65Q13.5,49,14.19,32.24c.35-8.28,0-11.66-2-13.09-4-2.86-5.7,4.85-5.68,11.37Q6.6,51.93,26.41,65Z"/><path id="path22" class="cls-1" d="M35.44,69.4c1.5-.67-17.24.66-25.8-14.8-3.39-6.12-5.18-8.39-7.3-8.36-4.22.06-2,6.45.92,11.14C12.88,72.71,34,70.05,35.44,69.4Z"/></g><text data-v-4db12289="" class="logo-svg-cls-2 logo-svg-text theme--transparent" transform="translate(28.28 57.81)">xhadmin</text></g></g></svg>',this.tag="button"}getValue(e){return""}isActive(e){return!1}isDisabled(e){return!1}exec(e,a){le(Fc,{"onUpdate:modelValue":o=>{o.forEach(n=>{const s=n.lastIndexOf("."),l=n.substr(s+1);let r="";["gif","jpg","jpeg","png"].includes(l.toLowerCase())?r=`<img src="${n}" />`:["mp4"].includes(l.toLowerCase())?r=`<video src="${n}" controls="controls" />`:["mp3","ogg","wav"].includes(l.toLowerCase())?r=`<audio src="${n}" controls="controls" />`:r=`<a href="${n}">${n}</a>`,e.setHtml(r)})},"onUpdate:close":()=>{De()}},{title:"附件库",customStyle:{width:0,height:0}})}}const zc=I({__name:"index",setup(t){const e=y("zh-cn"),a=B(()=>e.value==="zh-cn"?to:ao),o=dt({autoInsertSpace:!1}),n=dt({max:1});return(s,l)=>{const r=T("router-view"),u=T("el-config-provider");return m(),$(u,{button:c(o),message:c(n),locale:c(a)},{default:w(()=>[k(r)]),_:1},8,["button","message","locale"])}}}),Hc=I({__name:"App",setup(t){const e={key:"xhUploadify",factory(){return new qc}};return oo.registerMenu(e),_c(),(a,o)=>(m(),$(zc))}}),Nc=t=>{let e="",a=0;t=(t||0).toString();for(let o=t.length-1;o>=0;o--)a++,e=t.charAt(o)+e,!(a%3)&&o!==0&&(e=`,${e}`);return e},zt=(t,e,a,o)=>{let n;const s=a-e;function l(r){n||(n=r);const u=r-n,i=Math.min(u/o,1),p=e+Math.floor(i*s);p>999&&t.dataset.numberScrollThousandsOff===void 0?t.innerHTML=Nc(p):t.innerHTML=p.toString(),u<o&&globalThis.requestAnimationFrame(l)}globalThis.requestAnimationFrame(l)},Wc={mounted(t,e,a){const{value:o}=e,n=parseFloat(t.dataset.numberScrollValue??"0"),s=o?parseFloat(o.toString()):0,l=parseInt(t.dataset.numberScrollDuration??"1000");zt(t,n,s,l),t.dataset.numberScrollValue=s.toString()},updated(t,e){if(t.dataset.numberScrollOnceExecuted)return;console.log("updated");const{value:a}=e,o=parseFloat(t.dataset.numberScrollValue??"0"),n=a?parseFloat(a.toString()):0,s=parseInt(t.dataset.numberScrollDuration??"1000");n!==o&&(zt(t,o??0,a,s),e.modifiers.once&&(t.dataset.numberScrollOnceExecuted="true")),t.dataset.numberScrollValue=n.toString()}};function Xc(t){t.directive("number-scroll",Wc)}const Se=y(Xe),pt=y([...go]),lt=y([...pt.value,Se.value,Yt,ea]),Ht=y(!1);G.beforeEach(async(t,e,a)=>{var i,p,_,f,v;if(Kt.start(),pt.value.includes(t.path)){a();return}const o=ge(),n=Ae(),s=He(),l=B(()=>o.userInfo);if((i=t.query)!=null&&i.token){let d=(p=t.query)==null?void 0:p.token;d=d.includes("Bearer")?d:`Bearer ${d}`,s.value=d}if((_=t.query)!=null&&_.appid&&(n.value=(f=t.query)==null?void 0:f.appid),s.value&&[Se.value,Yt,ea].includes(t.path)){a({path:"/"});return}const r=ce(),u=B(()=>r.siteInfo);if(!u.value.web_name){if(await r.getSite(),!u.value.web_name){S("站点名称web_name字段缺失");return}if(u.value.login_link&&r.setLoginLink(u.value.login_link),(v=u.value)!=null&&v.remote_url&&!Ht.value){const d=u.value.remote_url;Se.value&&(lt.value=[...lt.value,Se.value]),or(d),Ht.value=!0,a({...t,replace:!0});return}}if(s.value){if(!l.value.username&&!pt.value.includes(t.path))try{if(await o.getUserInfo(),!l.value.username){S("用户信息缺少username字段");return}const d=o.routeList;if(d.length===0){o.Authorization="",S("您没有任何权限，请联系管理员！"),a({path:Se.value});return}d.forEach(h=>{G.addRoute("default-router",h)}),a({...t,replace:!0});return}catch(d){console.error("前置路由错误",d)}}else if(!lt.value.includes(t.path)){a({path:Se.value,query:{redirect:t.path}});return}a()});G.afterEach(t=>{var r,u,i;const{version_name:e}=ua(),o=((r=ce().siteInfo)==null?void 0:r.web_name)||"XHAdmin",n=`${o} ${e}`;let s=(u=t.meta)==null?void 0:u.title;const l=(i=t.query)==null?void 0:i.code;l&&(s=yo[l]||"抱歉，你访问的页面不存在"),s?document.title=`${s} - ${n}`:o&&(document.title=n),Kt.done()});const Qc=t=>{t.use(Be),t.config.globalProperties.$XModal=Be.modal,t.config.globalProperties.$XPrint=Be.print,t.config.globalProperties.$XSaveFile=Be.saveFile,t.config.globalProperties.$XReadFile=Be.readFile},Zc=no(),je=so(Hc);Qc(je);je.use(Zc);je.use(G);je.use(lo);je.use(Xc);je.mount("#app");na.vue=je;export{oa as X,ae as _,ce as a,bc as b,da as c,L as d,He as e,yo as f,Re as g,ia as h,Je as i,vt as j,me as k,Xe as l,ue as o,ge as u};
