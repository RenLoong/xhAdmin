import{m as rn,d as E,u as cn,a as un,b as dn,c as pn,r as oe,e as y,z as fn,f as hn,o as m,g as $,w,h as v,i as l,_ as _n,j as mn,N as gn,k as vn,l as St,n as yn,p as xn,q as $t,s as wn,t as Ke,v as Qe,x as Cn,y as Rt,A as Et,B as se,C as Xe,D as we,E as Ce,F as z,G as C,H as ae,I as Ge,J as T,K as kn,L as j,M as de,O as te,P as bn,Q as Pn,R as O,S as R,T as Ve,U as Dt,V as Sn,W as et,X as $n,Y as jt,Z as ye,$ as re,a0 as tt,a1 as ke,a2 as Bt,a3 as We,a4 as M,a5 as ne,a6 as At,a7 as Tt,a8 as Y,a9 as V,aa as W,ab as Ut,ac as Rn,ad as nt,ae as En,af as Dn,ag as jn,ah as Bn,ai as An,aj as mt,ak as Tn,al as Un,am as Gn,an as Fn,ao as On,ap as zn,aq as gt,ar as In,as as Hn,at as qn,au as _e,av as Nn,aw as vt,ax as Mn,ay as Vn,az as Wn,aA as Gt,aB as Ft,aC as Ot,aD as Ln,aE as Jn,aF as Zn,aG as Yn,aH as Kn,aI as Qn,aJ as Xn,aK as eo}from"./.pnpm.406c1252.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const zt={},B=()=>zt,to=t=>{rn(zt,t)},no=E({__name:"naive-provider",setup(t){const e=cn(),n=un(),o=dn(),s=pn();return to({notification:e,message:n,dialog:o,loadingBar:s}),(a,r)=>oe(a.$slots,"default")}}),oo=E({__name:"index",setup(t){const e=y(fn),n=y(hn);return(o,s)=>{const a=_n,r=mn,d=gn,_=vn,h=St;return m(),$(h,{locale:l(e),"date-locale":l(n)},{default:w(()=>[v(_,null,{default:w(()=>[v(d,null,{default:w(()=>[v(r,null,{default:w(()=>[v(a,null,{default:w(()=>[v(no,null,{default:w(()=>[oe(o.$slots,"default")]),_:3})]),_:3})]),_:3})]),_:3})]),_:3})]),_:3},8,["locale","date-locale"])}}}),ao={title:"",layout:"mix",headerHeight:50,footerHeight:35,accordion:!0,collapsed:!1,siderWidth:230,siderCollapsedWidth:80,showSiderTrigger:"arrow-circle",inverted:!0,logoSize:35,rootIndent:18,indent:32},so="modulepreload",lo=function(t,e){return new URL(t,e).href},yt={},me=function(e,n,o){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=lo(a,o),a in yt)return;yt[a]=!0;const r=a.endsWith(".css"),d=r?'[rel="stylesheet"]':"";if(!!o)for(let p=s.length-1;p>=0;p--){const i=s[p];if(i.href===a&&(!r||i.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=r?"stylesheet":so,r||(h.as="script",h.crossOrigin=""),h.href=a,document.head.appendChild(h),r)return new Promise((p,i)=>{h.addEventListener("load",p),h.addEventListener("error",()=>i(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())},ro=[{path:"/login",name:"Login",component:()=>me(()=>import("./index.d1ec0565.js"),["./index.d1ec0565.js",".pnpm.406c1252.js","..\\css\\.pnpm.c37a7d79.css","..\\css\\index.e635b4dc.css"],import.meta.url),meta:{title:"用户登录"}},{path:"/redirect/:path(.*)",name:"redirect",component:()=>me(()=>import("./index.f648ff8e.js"),["./index.f648ff8e.js",".pnpm.406c1252.js","..\\css\\.pnpm.c37a7d79.css"],import.meta.url)},{path:"/error",name:"error",meta:{title:"找不到页面"},component:()=>me(()=>import("./error.f17a0ebd.js"),["./error.f17a0ebd.js",".pnpm.406c1252.js","..\\css\\.pnpm.c37a7d79.css"],import.meta.url)},{path:"/:pathMatch(.*)",component:()=>me(()=>import("./error.f17a0ebd.js"),["./error.f17a0ebd.js",".pnpm.406c1252.js","..\\css\\.pnpm.c37a7d79.css"],import.meta.url)}],N=yn({routes:[...ro],history:xn("/")}),Fe=()=>{var n,o;const t=N.currentRoute.value;let e="";return(n=t==null?void 0:t.meta)!=null&&n.moduleName?e=(o=t==null?void 0:t.meta)==null?void 0:o.moduleName:(e=location.pathname,e.substring(e.length-1)==="/"&&(e=e.substring(1,e.length-1))),e},Oe=(t="",e=!1)=>{var a;const n=N.currentRoute.value,o=((a=n==null?void 0:n.meta)==null?void 0:a.moduleName)??"",s=y(n.path);if(e){const r=s.value.indexOf("/",1);s.value=s.value.substring(0,r),s.value=`${s.value}/`}return`${o}${s.value}${t}`},ot=t=>{let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},co=t=>{ot(t)?location.href=t:N.push(t)};function qe(t=6){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return e}const K=(t,e)=>{for(const n in e)if(e[n]===t)return!0;return!1},Te=()=>{var n;const t=N.currentRoute.value,{notification:e}=B();(n=t.query)!=null&&n.isBack?N.back():e==null||e.error({title:"返回上次页面错误",duration:2e3})},io=t=>t.replace(/\/(\w)/g,(e,n)=>n.toUpperCase()),kl=(t,e="Enter")=>{const n=o=>{o.key===e&&(t(),o.preventDefault())};$t(()=>document.addEventListener("keydown",n)),wn(()=>document.removeEventListener("keydown",n))},uo=t=>{let e;const n={},o=t.slice(t.indexOf("?")+1).split("&");for(let s=0;s<o.length;s++)e=o[s].split("="),n[e[0]]=e[1];return n},be=(t,e)=>{let n=t,o=0;function s(){n=n[e[o]],o++,o<e.length&&n&&s()}return s(),n},at="Authorization",st="Appid",Pe=Ke(()=>{const t=Fe();return Qe(`${t}_${at}`,null)}),lt=Ke(()=>{const t=Fe();return Qe(`${t}_${st}`,null)}),It="/",J=Cn.create({baseURL:It,timeout:6e4}),po=async t=>{const e=Pe();e.value&&t.headers.set(at,e.value);const n=lt();return n.value&&t.headers.set(st,n.value),t},fo=t=>{var s;const{notification:e}=B(),n=Pe(),o=t.data;return t.headers["content-type"]==="application/json"?K(o==null?void 0:o.code,[404,500])?(e==null||e.error({title:"温馨提示",content:(o==null?void 0:o.msg)||"网络错误",duration:1500}),Promise.reject(t.data)):(o==null?void 0:o.code)===200?o:((o==null?void 0:o.code)===12e3&&(n.value="",N.replace({path:"/login",query:{redirect:(s=N.currentRoute.value)==null?void 0:s.fullPath}}).then(()=>{})),Promise.reject(t.data)):t.headers["content-type"]==="application/octet-stream"?Promise.resolve(o):Promise.resolve(t)},ho=t=>{const{notification:e}=B();if(t.response){const{data:n,status:o,statusText:s}=t.response;o===401?e==null||e.error({title:"温馨提示",content:(n==null?void 0:n.msg)||s,duration:1500}):o===403?e==null||e.error({title:"资源请求错误",content:(n==null?void 0:n.msg)||s,duration:1500}):o===500?e==null||e.error({title:"服务器错误",content:(n==null?void 0:n.msg)||s,duration:1500}):e==null||e.error({title:"系统错误",content:(n==null?void 0:n.msg)||s,duration:1500})}return Promise.reject(t)};J.interceptors.request.use(po);J.interceptors.response.use(fo,ho);const pe=(t,e,n)=>J.request({url:t,params:e,method:"GET",...n}),rt=(t,e,n)=>J.request({url:t,data:e,method:"POST",...n}),ct=(t,e,n)=>J.request({url:t,data:e,method:"PUT",...n}),ze=(t,e,n)=>J.request({url:t,data:e,method:"DELETE",...n}),_o=Object.freeze(Object.defineProperty({__proto__:null,baseURL:It,default:J,useDelete:ze,useGet:pe,usePost:rt,usePut:ct},Symbol.toStringTag,{value:"Module"})),mo=Fe(),go=`${mo}/Publics/site`,vo=()=>pe(go),yo=Ke(()=>{const t=Fe();return Qe(`${t}-layout-theme`,ao)}),Q=Rt("app",()=>{const t=yo(),e=Et(l(t)),n=y(),o=y(),s=y(),a=h=>{s.value=h},r=h=>{o.value=h},d=h=>{e.title=h.web_title,e.web_name=h.web_name;const p=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAADPCAMAAACKnR5TAAABMlBMVEVHcEx7pvgH+9srxdIsw9ItxdAD/9zLdv0bj/wajv4o3Nsajv6oS/13UvscZfDUdv1Yi/eeSvwg19UbfvkH+tsswdMcYe+CUPttd/sjp+kcavKrWf0E/ttfZ/ootd3Bbv0U6NguxNS0Zf2iTfwfnPIbfvkvwNCKfv4txs4Zjf8da/Md/uIbY/EaY/AH/9x6Y/wY/+CHbv0obPMqbfIcZfEeZfPEeP0O/92ahf6nf/6TTPyOTfsF/92ze/4E/90K/+GGTvucSfyre/6YgP5+UPvCev4eY/Cagf/D6vu2ef6T5fNDffJwXfpBjfmKfvg5Y/Qj09U6vNgtw9Aajf6uR/wE/9sdY+/advzddv2yRv2vRvwC/9sZi/8WZO+pRvwSjv6gSfuQf/11UvdBiP46XfI7XfL04pvpAAAAUnRSTlMABt7b7fX5/e32Ftz8b/L+DuHc1+zM+pgZ0ev58yXb+txi+Pfg5Poz+/vYMJbjx0J7UjlzuFXrrWOj1MJfyZZLre64fYbayo4j2USm7tvE8qtylTSQZQAAColJREFUeNrtnAtf2kgUxQ0QHhUhKGJAAVdUxFoRWt+1lWpb+9pHAUFhWffR7/8VdgKIREgy50qG7G9z/QLe39w5+c85M8zMuOWWW2655ZZbbrn1fyopXZyDq6hKDm1HKc5dLoF1OZdXHNpO+vIkhtbJzxdpZ3ajlk7vajc3t9x1c1MLL6+9KylOHDe1uBRj3UBVW84G3l84ctzSc6c59g9y1+1th61NtHHw7kh1YDvF80rt5hZpJ5xbzjaa0YPjvANFeu6kw/YD1M7yWqDZbAbOjhwn1urceeUWGDVWnfBaNsraaR4cO27c8kuxMLY2bOdko41Ggy3Pp48OGzeldBrGRq0Wzq0FGk2tnUaAibWjdk7xMgaPGhNp1oq2Po33H4tO2j2MBzCR7nXT6JWmBk5iA6V4nuvcoiLdXxutnWjWQeMm5bsiXcNFunG/PtFPzmED5ei8cgPtnE5fpAfT1nQQG1wdV+5AvMn1RHqwOs5hA0k9OruDd87wqHXFzSlsoJaOYx1k42jfnOFR6/dzcFxS/4si3eWBwPCsOYkNNJHG2umR9ON2HMEGOElrX9BHO6dxzwb5ae8e7dB2i/EAE+lAdEw7TmCD/HkFVLXOmFHrrc702UCdO4UPbblxo+YINlCKSzHaoW1cN1NnA4JI3+l5oOEgNmCHtrsnkPTo7pkqGyjs0AbygEbSUaN2pswGTAcquLMWMJq1abNBfqnSwZ01k276bDCVaWMkfdKpTUqkh9jgYipsoJbOKzVo59RqhiI9fTZIL52Eb28ozpr56jA2mIKtI5VOc4RRazQbVqWxgeh+pPzlCRs1pB0Dkh7DBsdHz5wefzCSXuZaHI0NPl6Jtj0pJM3TjUaijA2eiRw3evzR4OlHNBsopfPYk5w1i3ETzAbppVh4ciQ9hg2yItmgm1FPmgdG2EDUQa6bUcMkzTtqwtlAvaRk1AHeWeuzgbCDnCbSBJJuIu00omdFp4p0jV+khw4KYtrBM2pEpAdk8EnQsNEzaqQdUeG8llHbKtI9qhZkgTwto+YeNVEGFc1ZC6CjdnYhZtTwjLpj4qwZMsHHoggm6GXUsLOGjlrgTMyVPRXNqLs8gIq0MJ7Owxm1lbM2XqSF5CKSenT65Iya4zB6dpQWMmolRtK1STtrY0RajDGliTTurKEiLexo0BXpJ2fUHAc3EYujdEkaO7blKCQt5lg9uYzaESJdnFhG7QRLipJRLzuWpPGMutPJUUTaySQN84CYIF6acEY9ZXeNllHDoybqztTkM2oDkRbDA/mlSth+kn5/LObQRsmolykkLeaTA2fUJGftQJizBmfU+KgxWDsSsnMkWvzhUJKW8pcxWzJq/ahlBXnShCd6d1pG7UyRtjOjHupHEEnbm1EPQFrUtTx7M+rBqB0IjD8EOGvvRH1Bbc6oBxeOhThrtmfUYkmaklFncZIW5qzR3lGDJC3mmaWIjLpndwg6tGEZNc1ZE0bSTAc60K9D9J01rESJdP8dNVJ9kQbu3mgknRaXUYPt9J/s81dDmLPGSPoOq1xuLRvA6uDsIq8oz6Ai5ablL1//Auvr1z/h+vnLbz+B9Zxwj1fd//DPjx8//gHql+1vf4P17VvGuwjWr3t4P1J558XvUCUiqYXZ0B9QBZNJ3/fvW+yPv7ZWD/eeo+N29fJDAmsn8mJhI1RA21n0fYdqU5bj8d098J619PlL6vdrqCLbC8HqH1WgCsH1jFfG2pG98/FW/PCzhOHNyw/XaDts1KpQBdeTGXkLbGd+daXV2sXGTd1/9QJrJhHZ2AhC7bTbs/io+eZX4yt1tjyvETVgOpDARy1UgEYthI+azzvv8dfrdb/nzXNoccBuEqkFtnOgCs0mM74ttJ3VeKtVr7fqu6+5XykobHHQUUuBo1Zta6q2BbWzuelb9axo7dTr8TdveceN6UAEbOfFBjpqhXV458i+ebZxerXC1ID3C/oK7OaaMGpMpPFRm4/XW/f9HL5VOEV6G1wbtnNmg+CorSfBbja7stbqt9NqefjEmukAuDhs42xgo9bbOQSR9tfvq+XnYwOaSIOjpom0j8ADrYd2+NiAkTTYDYUHCCLd44H6Qz91DjYgiTTYTrvdI2l01Dy6dphYW7MBE2l81ATsHI0HVvx1XVmygaQQRHqbItI43qzG9WvDwQZKGRVphjcb8M5JJr0gSQ/xgG7czNlAffkqBXeDknSVRNIjo8bBBjSRxjYOkaQfeEDXjwkbSEykr+0nafjQpucB3e4xYwN1XxhJU3hg3OqYsUEZJukII2l41HCS1vOAfnkM2UDZF0HSs+sUHjBqx4QNYJHu8kAQtjsmwAMcbMBEGh61afGANRtIMKwRSLoQpIm08doYsIGEw9p1SoSztimbjpoBGygEkd4gifRkeMCCDdI727Y7a+1CkDRqFt2w7fOYDRTYWaPaHTL+BTUftTFswA5tYkgadda6PGDVzggbpF8S7A541Gg8ULdqZpQNyjsR20macmiTOUZtlA20+MN2Zy20Do+a7LMU6TFswEiacmibOg8YsEGZJNJVmKS9kyNpEzYgkHRkYUGIs8Y7avdsIFFgDXfWqkRnzeDQZsgGyox0hTtrMEm3aTsn7q8DtXL49vnMFZ5Rp0SQNBcPPGaD1zNFQRm1T4ZFmoMHdP2sHO7N7MNnUNxZo5A0Omp1Lc/emymjZpSYjFoGR00rbdhU0CokOGuF2fUMPGqP4g9eKZAwI5fmrKF4IwM8oBdq9t1Bdo/mrGHdFAoTddasPqMYFUSEZNQyPGpDBgi/60Eg6WoIz6j7N2+QdvzxAYLy2x5s1AQ5a+DG0ZmHKu/yEDPqCSRtVqPm6eoAaBnSMmqZfPMGAIJhL4fP0NVEGifpzBNu3vB249c7bXxiTXDW2sHJJW1mPPBGb7TxiHUiIsBZ24RJWpO13cchQnrHMqoS6Kxha6P5BBLqUeN2R7sQFMIDK6MJD0O3D9aHNvszapwHNJIek7+Vd1KJiWfU6KHNImkbO2pMpKVxt3HM1IBG0hkbnTWLqxLmF1gStFHz2c0DXZF+ZpBcJ6ZL0hQe8BteMzKOrEjO2nrGhqRtpB3jS2DGYk3LqL0++3nA5IqeZJgkiMioKTxgfoHSkKyFOGugidv3osyut44Xa8rrDwJJE3jA4vKxNDYjxUm6SsioSc7aG/O7umPJWsSVfAoPsC+o1VXd0egqkRDhrFF4gOMVjzISLFIyappItyYn0sZiHdkWwQMyPmpMpK2fJEn6UJ7srG3ZzQNscd5KPI+RhtWAllFn7E7atG7Y4vA9Fdt+YkZte9L22FmzEOvEkzJqOP7gu3nzmKR5H789JD5iSFomoCfw1FIZPIIlvf4QwgPAy0RlINY0kgadNdk3TxDp1/zPlAcPyAnOGkzSFB5gi4M8uu5dnaC8/hBC0q34LvTmunfw6d5ZAzNqys7xTMZZs3h1nSCRtIhDG+8TWB1Zp2jO2pbtPMD/QHn48cv2RhtbG7ZzMl7bQ11IpB/Iev/LQihUCCHVFWlWmzJfdW9DMFmDqntog38pRy3vvJrFaiGZXFz0QrW4uLvrwSru4SLpkfWZccstt9xyyy233HLLLbfccssx9S/OTXvmn2y+VgAAAABJRU5ErkJggg==",self.location).href;e.logo=typeof h.web_logo=="string"?h.web_logo:p,n.value=h};return{layout:e,getSite:async()=>{const{data:h}=await vo();return d(h),h},site:n,dynameicRemoteRoute:o,setDynameicRemoteRoute:r,loginLink:s,setLoginLink:a}}),xo=t=>{var o;const n=(o=Q().site)==null?void 0:o.public_api.login;return rt(n,t)},wo=()=>{var n;const e=(n=Q().site)==null?void 0:n.public_api.loginout;return ze(e)},Co=()=>{var n;const e=(n=Q().site)==null?void 0:n.public_api.user;return pe(e)},ko=async()=>{var o;const e=(o=Q().site)==null?void 0:o.public_api.menus,{data:n}=await pe(e);return n},xt=E({__name:"route-view",setup(t){const e=se(),n=()=>`${new Date().getTime()}${Math.random()}`,o=y("");return Xe(()=>e.fullPath,()=>{o.value=n()}),(s,a)=>{const r=we("router-view");return m(),$(r,{key:l(o)})}}}),bo=E({__name:"logo",props:{collapsedWidth:null,headerHeight:null,size:{default:30},src:null,inverted:{type:Boolean}},setup(t){const e=t;Ce(s=>({a225a460:l(o),"069e2b22":l(n)}));const n=z(()=>`${e.headerHeight}px`),o=z(()=>`${e.collapsedWidth}px`);return(s,a)=>{const r=Ge;return m(),C("div",{class:ae(["pro-admin-layout-header flex items-center justify-center",{"bg-[#011528]":t.inverted}])},[v(r,{src:t.src,width:t.size,height:t.size,"preview-disabled":""},null,8,["src","width","height"])],2)}}});const X=(t,e)=>{const n=t.__vccOpts||t;for(const[o,s]of e)n[o]=s;return n},Ht=X(bo,[["__scopeId","data-v-65fa780c"]]),Po=E({__name:"title",props:{headerHeight:null,layout:null,title:null,size:{default:16},inverted:{type:Boolean}},setup(t){const e=t;Ce(s=>({"4163d128":l(n)}));const n=z(()=>`${e.headerHeight}px`),o=z(()=>({fontSize:`${e.size}px`}));return(s,a)=>t.title?(m(),C("div",{key:0,class:ae(["pro-admin-tabs-layout-header flex items-center flex-1 truncate select-none",{"justify-center":t.inverted}]),style:kn(l(o))},T(t.title),7)):j("",!0)}});const qt=X(Po,[["__scopeId","data-v-ec5e07ff"]]),Nt=E({__name:"layout-content",setup(t){const e=de();return(n,o)=>{const s=bn;return m(),$(s,te(l(e),{style:{"--n-color":"var(--pro-admin-layout-content-bg)"}}),{default:w(()=>[oe(n.$slots,"default")]),_:3},16)}}}),Le=E({__name:"layout-sider",setup(t){const e=de();return(n,o)=>{const s=Pn;return m(),$(s,te({"collapse-mode":"width"},l(e)),{default:w(()=>[oe(n.$slots,"default")]),_:3},16)}}}),So="kfadmin",$o="1.0.0",Ro="module",Eo={dev:"vite",build:"vue-tsc && vite build",preview:"vite preview",prepare:"husky install",lint:"eslint --ext .ts,.tsx,.vue,.js,.jsx src"},Do={"@form-create/naive-ui":"^3.1.19","@vueuse/core":"^9.13.0",axios:"^1.3.5",echarts:"^5.4.2",exceljs:"^4.3.0","highlight.js":"^11.7.0",jspdf:"^2.5.1",pinia:"^2.0.34",vue:"^3.2.47","vue-router":"^4.1.6","vxe-table":"4.3.12-beta.2","vxe-table-plugin-export-pdf":"^3.0.4","vxe-table-plugin-export-xlsx":"^3.0.4","xe-utils":"^3.5.7",xlsx:"^0.18.5"},jo={"@mistjs/eslint-config-vue":"^0.0.5","@types/less":"^3.0.3","@types/lodash-es":"^4.17.7","@types/node":"^18.15.11","@unocss/reset":"^0.51.4","@vicons/antd":"^0.12.0","@vitejs/plugin-vue":"^4.1.0","@vue/runtime-core":"^3.2.47",eslint:"^8.38.0",husky:"^8.0.3",less:"^4.1.3","less-loader":"^11.1.0","lint-staged":"^13.2.1","lodash-es":"^4.17.21","naive-ui":"^2.34.3","node-sass":"^8.0.0",sass:"^1.62.0","sass-loader":"^13.2.2",typescript:"^4.9.3",unocss:"^0.51.4","unplugin-auto-import":"^0.15.2","unplugin-vue-components":"^0.24.1",vite:"^4.2.0","vite-plugin-compression":"^0.5.1","vue-tsc":"^1.2.0"},Mt={name:So,private:!0,version:$o,type:Ro,scripts:Eo,"lint-staged":{"*.{js,tsx,vue,ts,jsx}":"eslint --fix"},dependencies:Do,devDependencies:jo},Bo=Mt.name,Vt=Mt.version,Ao="贵州猿创科技有限公司",To="http://www.kfadmin.net",Uo=["href"],Wt=E({__name:"copyright",setup(t){return(e,n)=>(m(),C("div",null,[O(" Copyright © 2021 "+T(l(Ao))+" All Rights Reserved ",1),R("a",{href:l(To),target:"_blank",class:"hover:text-[#18a058] pl-10px"},T(l(Bo))+" v"+T(l(Vt)),9,Uo)]))}}),it={vue:null},A=E({__name:"index",props:{icon:null,depth:null,size:{default:18},color:null},setup(t){return(e,n)=>{const o=Dt;return m(),$(o,{component:l(Ve)[t.icon],size:t.size,depth:t.depth,color:t.color},null,8,["component","size","depth","color"])}}}),Go=(t,e)=>{const n=y((t==null?void 0:t.file)??""),o=y(),s=y(""),a=y(""),r=y(qe()),d=()=>{if(!n.value){s.value="config";return}s.value="loading";const g=`${n.value}.vue`;pe(g).then(x=>{a.value=x,s.value="success",e("update:init",x)}).catch(x=>{console.error(x),s.value="fail",e("update:error",x)})};d();const _=(g,x="el-icon-warning",P="font-size:26px;color:red;")=>({template:`
        <div class="remote-loading">
            <div class="${x}" style="${P}"></div>
            <div class="mt-5px">${g}</div>
        </div>
        `}),h=(g,x)=>{Sn.render(g).then(P=>{const S=document.createElement("style");if(S.setAttribute("type","text/css"),S.setAttribute("id",`css${x}`),S.styleSheet)S.styleSheet.cssText=P.css;else{const U=document.createTextNode(P.css);S.appendChild(U)}const D=document.getElementsByTagName("head");D.length?D[0].appendChild(S):document.documentElement.appendChild(S)})},p=g=>({templates:g.match(/<template>([\s\S]*)<\/template>/)[1],sctipts:g.match(/<script.*>([\s\S]*)<\/script>/)[1],styles:g.match(/<style.*>([\s\S]*)<\/style>/)[1]}),i=()=>{const g=it.vue,{notification:x,message:P,dialog:S,loadingBar:D}=B(),U=et(),G=se(),L=ve(),ee=Q();g.config.globalProperties.$userApp=L,g.config.globalProperties.$siteApp=ee,g.config.globalProperties.$routeApp=G,g.config.globalProperties.$routerApp=U,g.config.globalProperties.$http=_o,g.config.globalProperties.$echarts=$n,g.component("AppIcons",A),jt.install(g),g.config.globalProperties.$useNotification=x,g.config.globalProperties.$useMessage=P,g.config.globalProperties.$useDialog=S,g.config.globalProperties.$useLoadingBar=D},c=(g,x,P)=>{const S=p(x),D=S.sctipts.indexOf("{"),U=S.sctipts.lastIndexOf("}"),G=S.sctipts.slice(D,U+1),L=new Function(`return ${G}`)();if(!L)return _("远程组件代码格式解析失败");if(L.template=S==null?void 0:S.templates,g.setAttribute("class",`remote css${P}`),!document.querySelector(`style[id=css${P}]`)){const ee=`
            .css${P}{
                ${S.styles}
            }
        `;h(ee,P)}return i(),L},u=z(()=>s.value==="config"?_("请先配置远程文件"):s.value==="fail"?_("远程组件加载失败"):a.value?c(o.value,a.value,r.value):_("正在加载中..."));return{fileUrl:n,remoteRef:o,loadingStatus:s,componentFile:a,cssId:r,currentView:u,hanldWin:g=>{n.value=g,r.value=qe(),d()},hanldReload:()=>{r.value=qe(),d()},hanldClose:()=>{t!=null&&t.modal&&e("update:closeWin")}}},Fo=E({__name:"index",emits:["update:init","update:success","update:error","update:closeWin"],setup(t,{emit:e}){const n=de(),{remoteRef:o,loadingStatus:s,currentView:a,hanldClose:r,hanldReload:d,hanldWin:_}=Go(n,e);return(h,p)=>(m(),C("div",{ref_key:"remoteRef",ref:o,class:"h-100%"},[l(s)==="success"?(m(),$(ye(l(a)),te({key:0},l(n),{"onUpdate:openWin":l(_),"onUpdate:reloadWin":l(d),"onUpdate:closeWin":l(r)}),null,16,["onUpdate:openWin","onUpdate:reloadWin","onUpdate:closeWin"])):j("",!0)],512))}});const fe=X(Fo,[["__scopeId","data-v-6270af91"]]),Lt=E({__name:"header-left",setup(t){const n=Q().site,o=n==null?void 0:n.public_api;return(s,a)=>{var r,d;return m(),C("div",null,[(r=l(o))!=null&&r.header_left_file?(m(),$(fe,{key:0,file:(d=l(o))==null?void 0:d.header_left_file},null,8,["file"])):j("",!0)])}}}),Jt=E({__name:"header-right",setup(t){const n=Q().site,o=n==null?void 0:n.public_api.header_right_file;return(s,a)=>{const r=re;return m(),$(r,{size:10,class:"h-100%"},{default:w(()=>[l(o)?(m(),$(fe,{key:0,file:l(o)??""},null,8,["file"])):j("",!0),v(l(Es))]),_:1})}}});function Oo(){const t=it.vue;jt.install(t)}const zo={form:{labelPlacement:"top"},row:{gutter:30,alignItems:"center"},global:{"*":{}},submitBtn:!1,resetBtn:!1},Io=t=>t.map(e=>(e.handle=n=>{if((e==null?void 0:e.where)==="==")return n===e.value;if((e==null?void 0:e.where)==="!=")return n!==e.value;if((e==null?void 0:e.where)==="in"){const o=e.value;return o instanceof Array&&o instanceof Object?K(n,e.value):(console.error("联动组件的IN条件值必须是数组或对象"),!1)}},e)),Ho=t=>t.map(e=>(e!=null&&e.control&&(e.control=Io(e.control)),e)),qo=(t,e)=>{const n=y({}),o=y({api:"",method:"POST"}),s=y(""),a=y({}),r=y([]),d=y(zo),_=tt(),h=()=>{var b,g;const{notification:c}=B(),u=N.currentRoute.value,f={...u==null?void 0:u.query};f!=null&&f.isBack&&(f==null||delete f.isBack);const k={method:((b=o.value)==null?void 0:b.method)??"GET",params:{...t.ajaxParams},data:{}};o.value.method==="GET"?k.params={...a.value}:k.data={...a.value},e("update:submit",{api:o.value.api,queryParams:k}),J(((g=o.value)==null?void 0:g.api)??"",k).then(x=>{var P;(P=u.query)!=null&&P.isBack&&!t.isModal&&!s.value?Te():s.value&&co(s.value),e("update:success",x),c==null||c.success({title:(x==null?void 0:x.msg)??"操作失败",duration:1500})}).catch(x=>{e("update:error",x)})},p=()=>{n.value.resetFields(),e("update:rest")},i=y({method:t.method,params:{},data:{}});return t.method==="GET"?i.value.params={...t.ajaxParams}:i.value.data={...t.ajaxParams},J((t==null?void 0:t.api)??"",i.value).then(c=>{const{data:u}=c,{notification:f}=B();if(!(u!=null&&u.http))return f==null||f.error({title:"提交接口获取失败",duration:2e3}),Promise.reject(new Error("提交接口获取失败"));if(!(u!=null&&u.formRule))return f==null||f.error({title:"表单规则获取失败",duration:2e3}),Promise.reject(new Error("表单规则获取失败"));o.value=u.http,r.value=Ho(u.formRule),d.value={...d.value,...u.config},s.value=(u==null?void 0:u.redirect)??"",e("update:init",{response:u,exposed:_.exposed})}),{fApi:n,submitAPI:o,redirectUrl:s,formData:a,formRule:r,formConfig:d,hanldSubmit:h,hanldReset:p}},No={};function Mo(t,e){return m(),C("div",null," 高德地图 ")}const Vo=X(No,[["render",Mo]]),Wo={};function Lo(t,e){return m(),C("div",null," 百度地图 ")}const Jo=X(Wo,[["render",Lo]]),ge=E({__name:"buttons",props:{extraConfig:null},emits:["update:submit","update:rest"],setup(t,{expose:e,emit:n}){const o=y(!1),s=d=>{o.value=d},a=()=>{s(!0),n("update:submit")},r=()=>{s(!0),n("update:rest")};return e({setDisabled:s}),(d,_)=>{var i;const h=ke,p=re;return(i=t.extraConfig.submitBtn)!=null&&i.show?(m(),$(p,{key:0,justify:"center",size:30,class:"py-3 b-t-1px"},{default:w(()=>{var c,u,f,k;return[(c=t.extraConfig.submitBtn)!=null&&c.show?(m(),$(h,te({key:0},((u=t.extraConfig)==null?void 0:u.submitBtn)??{},{disabled:l(o),onClick:a}),{default:w(()=>{var b;return[O(T(((b=t.extraConfig.submitBtn)==null?void 0:b.content)??"提交"),1)]}),_:1},16,["disabled"])):j("",!0),(f=t.extraConfig.resetBtn)!=null&&f.show?(m(),$(h,te({key:1},((k=t.extraConfig)==null?void 0:k.resetBtn)??{},{disabled:l(o),onClick:r}),{default:w(()=>{var b;return[O(T(((b=t.extraConfig.resetBtn)==null?void 0:b.content)??"重置"),1)]}),_:1},16,["disabled"])):j("",!0)]}),_:1})):j("",!0)}}}),Zo={class:"h-450px overflow-y-auto p-5"},Yo=R("div",{class:"text-blueGray pt-2 select-none"}," 温馨提示：单击图标为选择，双击图标为复制 ",-1),Ko=["title","alt","onClick","onDblclick"],Qo=E({__name:"icons-mgr",emits:["update:init","update:copy","update:click","update:confirm"],setup(t,{expose:e,emit:n}){const{notification:o}=B(),s=tt(),a=y(Object.keys(Ve)),r=y(""),d=y(""),_=i=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(i).then(c=>{});else{const c=document.createElement("input");c.value=i,document.body.appendChild(c),c.select(),document.execCommand("Copy"),c.remove()}n("update:copy",i),o==null||o.success({title:"复制成功",duration:1500})},h=i=>{r.value=i===r.value?"":i,n("update:click",r.value)},p=()=>(n("update:confirm",r.value??""),r.value);return Bt(()=>{n("update:init",{exposed:s.exposed})}),e({hanldConfirm:p}),(i,c)=>{const u=At,f=Tt,k=Dt,b=re;return m(),C("div",Zo,[v(f,null,{default:w(()=>[v(u,{modelValue:l(d),"onUpdate:modelValue":c[0]||(c[0]=g=>We(d)?d.value=g:null),placeholder:"可输入搜索图标名称"},null,8,["modelValue"])]),_:1}),Yo,v(b,{justify:"space-around",class:"pt-5",size:22},{default:w(()=>[(m(!0),C(M,null,ne(l(a).filter(g=>g.includes(l(d))),g=>(m(),C("div",{key:g,class:ae([{"bg-slate":g===l(r)},"hover:bg-slate px-2 py-1 border-sm cursor-pointer"]),title:g,alt:g,onClick:x=>h(g),onDblclick:x=>_(g)},[v(k,{component:l(Ve)[g],size:26,color:"#555"},null,8,["component"])],42,Ko))),128))]),_:1})])}}}),Xo={class:"w-100%"},ea=E({__name:"index",props:{modelValue:null},emits:["update:modelValue"],setup(t,{emit:e}){const{dialog:n,notification:o}=B(),s=y(),a=y(),r=y({submitBtn:{type:"success",content:"确定",show:!0},resetBtn:{type:"warning",content:"关闭",show:!0}}),d=()=>{e("update:modelValue","")},_=()=>{s.value=n==null?void 0:n.create({class:"pro-admin-dialog",title:"图标管理器",maskClosable:!1,showIcon:!1,style:{width:"45%"},content:()=>Y(Qo,{"onUpdate:init":h=>{a.value=h==null?void 0:h.exposed}}),action:()=>Y(ge,{extraConfig:r.value,"onUpdate:submit":()=>{var p,i;const h=(p=a.value)==null?void 0:p.hanldConfirm();h?(e("update:modelValue",h),(i=s.value)==null||i.destroy()):o==null||o.error({title:"请选择图标",duration:1500})},"onUpdate:rest":()=>{var h;(h=s.value)==null||h.destroy()}})})};return(h,p)=>{const i=At,c=ke,u=Tt;return m(),C("div",Xo,[v(u,null,{default:w(()=>[v(i,{value:t.modelValue,placeholder:"请选择图标",disabled:""},null,8,["value"]),v(c,{type:"warning",onClick:d},{default:w(()=>[O(" 重置图标 ")]),_:1}),v(c,{type:"success",onClick:_},{default:w(()=>[O(" 选择图标 ")]),_:1})]),_:1})])}}}),ta={};function na(t,e){return m(),C("div",null," 腾讯地图 ")}const oa=X(ta,[["render",na]]),aa=E({__name:"index",setup(t){const e=de();return(n,o)=>(m(),$(l(fe),V(W(l(e))),null,16))}}),H=(t,e)=>{const n=new Event(t);e&&(n.dataFul=e),window.dispatchEvent(n)},Zt=(t,e)=>new Promise(n=>{const{dialog:o}=B(),{notification:s}=B();o==null||o.warning({title:"温馨提示",content:"是否确认删除该数据？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{ze(t,{id:e}).then(async r=>{n(r),s==null||s.success({title:(r==null?void 0:r.msg)??"操作成功",duration:1500})})}})}),Je=(t,e,n,o)=>new Promise(s=>{const{dialog:a}=B(),r=y(),d=y({hanldSubmit:()=>{},hanldReset:()=>{}}),_=y({submitBtn:{type:"success",content:"确定",show:!0},resetBtn:{type:"warning",content:"取消",show:!0}}),h={title:t,class:"pro-admin-dialog",style:{width:"45%"},showIcon:!1,maskClosable:!1,content:()=>Y(dt,{api:e,method:n,isModal:!0,ajaxParams:o??{},"onUpdate:init":p=>{var i,c;d.value.hanldSubmit=(i=p==null?void 0:p.exposed)==null?void 0:i.hanldSubmit,d.value.hanldReset=(c=p==null?void 0:p.exposed)==null?void 0:c.hanldReset},"onUpdate:success":p=>{var i;s(p),(i=r.value)==null||i.destroy()}}),action:()=>Y(ge,{extraConfig:_.value,"onUpdate:submit":()=>{d.value.hanldSubmit()},"onUpdate:rest":()=>{var p;(p=r.value)==null||p.destroy()}})};r.value=a==null?void 0:a.create(h)}),sa=()=>{const t=Q();return{getCategory:async()=>{var h;const d=((h=Q().site)==null?void 0:h.uploadify_cate.index)??"",{data:_}=await pe(d);return _},hanldClickCate:async(r,d)=>{r!==d&&(H("uploadify:cateActive",{active:d}),H("uploadify:files",{cid:d}))},hanldAddCate:()=>{var d;const r=((d=t.site)==null?void 0:d.uploadify_cate.add)??"";Je("添加分类",r,"GET",{}).then(async()=>{H("uploadify:category"),H("uploadify:files")})},hanldEditCate:r=>{var _;const d=((_=t.site)==null?void 0:_.uploadify_cate.edit)??"";Je("添加分类",d,"GET",{id:r}).then(async()=>{H("uploadify:category"),H("uploadify:files")})},hanldDelCate:r=>{var _;const d=((_=t.site)==null?void 0:_.uploadify_cate.del)??"";Zt(d,r).then(async()=>{H("uploadify:category"),H("uploadify:files")})}}},la=()=>{const t=Q(),{notification:e,dialog:n}=B();return{getUploadifyList:async i=>{var f;const c=((f=t.site)==null?void 0:f.uploadify_api.index)??"",{data:u}=await pe(c,i);return u},hanldEditFile:i=>{var u;const c=((u=t.site)==null?void 0:u.uploadify_api.edit)??"";Je("修改附件",c,"GET",{id:i}).then(async()=>{H("uploadify:files")})},hanldDelFile:i=>{var u;const c=((u=t.site)==null?void 0:u.uploadify_api.del)??"";Zt(c,i).then(async()=>{H("uploadify:files")})},hanldDelsFile:i=>{if(!(i!=null&&i.length)){e==null||e.error({title:"请勾选需要删除的附件",duration:1500});return}n==null||n.warning({title:"温馨提示",content:"是否确认删除选中的数据？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{var u;const c=((u=t.site)==null?void 0:u.uploadify_api.del)??"";i.forEach(f=>{ze(c,{id:f}).then(b=>{H("uploadify:files"),e==null||e.success({title:(b==null?void 0:b.msg)??"操作完成",duration:1500})})}),H("uploadify:clearCheckbox")}})},hanldMoveFile:(i,c)=>{var k;if(!(c!=null&&c.length)){e==null||e.error({title:"请勾选需要移动的附件",duration:1500});return}const u=((k=t.site)==null?void 0:k.uploadify_api.move)??"";ct(u,{cate_id:i,ids:c}).then(b=>{H("uploadify:files"),H("uploadify:clearSelected"),H("uploadify:clearCheckbox"),e==null||e.success({title:(b==null?void 0:b.msg)??"操作完成",duration:1500})})},hanldSelected:(i,c,u)=>{if(u===1){c[0]=i;return}if(!(c!=null&&c.length)){c==null||c.push(i);return}if(!(c!=null&&c.find(f=>f===i)))c==null||c.push(i);else for(let f=0;f<c.length;f++)if(c[f]===i){c.splice(f,1);break}},hanldCheckBox:(i,c)=>{if(!(i!=null&&i.length)){i==null||i.push(c);return}if(!(i!=null&&i.find(u=>u===c)))i==null||i.push(c);else for(let u=0;u<i.length;u++)if(i[u]===c){i.splice(u,1);break}},uploadFinish:i=>{var u,f;const c=(f=(u=i==null?void 0:i.event)==null?void 0:u.target)!=null&&f.response?JSON.parse(i.event.target.response):{msg:"上传结束",code:404};c.code===200?(H("uploadify:cateActive",{active:""}),H("uploadify:files"),e==null||e.success({title:c.msg??"上传完成",duration:1500})):e==null||e.error({title:c.msg??"上传失败",duration:1500})}}},ra=()=>({handlePageChange:e=>{const n={page:e.currentPage,limit:e.pageSize};H("uploadify:paginator",n)}}),ut=t=>(Bn("data-v-8afbe171"),t=t(),An(),t),ca={class:"h-550px flex border-solid border-t-1 mt-15px"},ia={class:"w-150px h-100% border-solid border-r-1 overflow-y-auto overflow-x-hidden"},ua={class:"text-12px flex"},da=ut(()=>R("span",{class:"pl-1"},"全部分类",-1)),pa=["title","onClick","onDblclick"],fa={class:"text-12px flex"},ha={class:"pl-1 truncate"},_a={class:"h-100% flex-1 flex flex-col"},ma={class:"flex justify-between items-center h-55px px-5"},ga=ut(()=>R("div",{class:"text-12px text-dark"},null,-1)),va={class:"flex-1 overflow-y-auto overflow-x-hidden border-solid border-t-1 p-3"},ya={class:"w-100% h-120px"},xa=ut(()=>R("div",{class:"w-100% h-100% flex items-center justify-center bg-gray select-none"}," 图片加载失败 ",-1)),wa={class:"absolute bottom-39px left-0 right-0 text-center py-3px text-white bg-[rgba(0,0,0,0.5)] text-12px truncate"},Ca={class:"flex justify-between p-2"},ka={class:"flex space-x-2"},ba={class:"h-55px flex items-center justify-center border-solid border-t-1"},Pa=E({__name:"uploadify",props:{modelValue:null,format:null,limit:{default:1}},emits:["update:init"],setup(t,{expose:e,emit:n}){var ht;const o=t,{notification:s}=B(),a=Pe(),r=lt(),d=Q(),_=y(""),h=y([]),p=y([]),i=y([]),c=y([]),u=y([]),f=y({currentPage:1,pageSize:20,total:0,background:!0}),k=tt(),{getCategory:b,hanldClickCate:g,hanldAddCate:x,hanldEditCate:P,hanldDelCate:S}=sa(),{getUploadifyList:D,hanldEditFile:U,hanldMoveFile:G,hanldDelFile:L,hanldDelsFile:ee,hanldSelected:ce,hanldCheckBox:$e,uploadFinish:Re}=la(),{handlePageChange:Ee}=ra(),nn={[at]:a.value??"",[st]:r.value??""};let pt="";pt=`//${location.host}/${(ht=d.site)==null?void 0:ht.uploadify_api.upload}`;const ft=y({action:pt,headers:nn,data:{cid:_.value},showFileList:!1,multiple:!0,onFinish:F=>Re({...F})}),on=()=>{if(!p.value.length)return s==null||s.error({title:"请选择附件再确定",duration:1500}),[];if(p.value.length>o.limit)return s==null||s.error({title:`最多选择${o.limit}个附件`,duration:1500}),[];const F=[];for(let I=0;I<u.value.length;I++){const Z=u.value[I];K(Z.id,p.value)&&F.push(Z.url)}return F};return window.addEventListener("uploadify:cateActive",F=>{const{active:I}=F.dataFul;_.value=I,ft.value.data={cid:I}}),window.addEventListener("uploadify:category",async F=>{const I=await b();c.value=I,I.forEach(Z=>{i.value.push({label:`移动至 -- ${Z==null?void 0:Z.title}`,key:Z==null?void 0:Z.id})})}),window.addEventListener("uploadify:selected",F=>{F.dataFul}),window.addEventListener("uploadify:clearSelected",F=>{p.value=[]}),window.addEventListener("uploadify:clearCheckbox",F=>{h.value=[]}),window.addEventListener("uploadify:files",async F=>{var De,je,Be;const I=(De=F==null?void 0:F.dataFul)==null?void 0:De.cid,Z=(je=F==null?void 0:F.dataFul)==null?void 0:je.page,ie=(Be=F==null?void 0:F.dataFul)==null?void 0:Be.limit,le=await D({cid:I,page:Z,limit:ie});u.value=(le==null?void 0:le.data)??[],f.value.currentPage=le.current_page,f.value.pageSize=le.per_page,f.value.total=le.total}),window.addEventListener("uploadify:paginator",F=>{const{page:I,limit:Z}=F.dataFul;f.value.currentPage=I,f.value.pageSize=Z;const ie={cid:_.value,page:I,limit:Z};H("uploadify:files",ie)}),Bt(async()=>{H("uploadify:category"),H("uploadify:files"),n("update:init",{exposed:k.exposed})}),e({hanldConfirmSelect:on}),(F,I)=>{const Z=Ut,ie=ke,_t=Rn,le=nt,De=re,je=Ge,Be=En,an=Dn,sn=jn,ln=we("vxe-pager");return m(),C("div",ca,[R("div",ia,[v(Z,null,{default:w(()=>[O(" 附件分类 ")]),_:1}),R("div",{class:ae(["px-10px flex justify-between cursor-pointer hover:bg-[#e5e5e5] py-15px select-none",{"bg-[#e5e5e5]":l(_)===""}]),onClick:I[0]||(I[0]=q=>l(g)(l(_),""))},[R("div",ua,[v(A,{icon:"AppstoreOutlined",color:"#666"}),da]),v(A,{icon:"FolderAddOutlined",color:"#888",onClick:l(x)},null,8,["onClick"])],2),(m(!0),C(M,null,ne(l(c),(q,He)=>(m(),C("div",{key:He,title:q.title,class:ae(["px-10px flex justify-between cursor-pointer hover:bg-[#e5e5e5] py-15px select-none",{"bg-[#e5e5e5]":l(_)===q.id}]),onClick:he=>l(g)(l(_),q.id),onDblclick:he=>l(P)(q.id)},[R("div",fa,[v(A,{icon:"FolderOpenTwotone",color:"#666"}),R("span",ha,T(q.title),1)]),v(A,{icon:"DeleteFilled",color:"#666",onClick:he=>l(S)(q.id)},null,8,["onClick"])],42,pa))),128))]),R("div",_a,[R("div",ma,[ga,v(De,{align:"center"},{default:w(()=>[R("div",null,[v(_t,V(W(l(ft))),{default:w(()=>[v(ie,{type:"success"},{icon:w(()=>[v(A,{icon:"UploadOutlined"})]),default:w(()=>[O(" 上传 ")]),_:1})]),_:1},16)]),R("div",null,[v(le,{trigger:"hover",options:l(i),onSelect:I[1]||(I[1]=q=>l(G)(q,l(h)))},{default:w(()=>[v(ie,{type:"warning"},{icon:w(()=>[v(A,{icon:"RotateLeftOutlined"})]),default:w(()=>[O(" 移动 ")]),_:1})]),_:1},8,["options"])]),R("div",null,[v(ie,{type:"error",onClick:I[2]||(I[2]=q=>l(ee)(l(h)))},{icon:w(()=>[v(A,{icon:"RestFilled"})]),default:w(()=>[O(" 删除 ")]),_:1})])]),_:1})]),R("div",va,[v(sn,{cols:5,"y-gap":10,"x-gap":12},{default:w(()=>[(m(!0),C(M,null,ne(l(u),(q,He)=>(m(),$(an,{key:He},{default:w(()=>[R("div",{class:ae(["relative border-solid border-1",l(K)(q.id,l(p)??[])?"border-red":"border-gray"])},[R("div",ya,[v(je,{class:"w-100% h-100% cursor-pointer !block",src:q.url,"preview-disabled":!0,onClick:he=>l(ce)(q.id,l(p),o.limit)},{placeholder:w(()=>[xa]),_:2},1032,["src","onClick"])]),R("div",wa,T(q.title),1),R("div",Ca,[R("div",null,[v(Be,{checked:l(K)(q.id,l(h)),value:q.id,onClick:he=>l($e)(l(h),q.id)},null,8,["checked","value","onClick"])]),R("div",ka,[v(A,{icon:"EditOutlined",class:"cursor-pointer",color:"#555",title:"修改",size:20,onClick:he=>l(U)(q.id)},null,8,["onClick"]),v(A,{icon:"DeleteOutlined",class:"cursor-pointer",color:"#555",title:"删除",size:20,onClick:he=>l(L)(q.id)},null,8,["onClick"])])])],2)]),_:2},1024))),128))]),_:1})]),R("div",ba,[v(ln,te(l(f),{layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"],onPageChange:l(Ee)}),null,16,["onPageChange"])])])])}}});const Sa=X(Pa,[["__scopeId","data-v-8afbe171"]]),$a={class:"absolute top-1px right-1px w-20px h-20px rounded-3px bg-[rgba(0,0,0,.45)] text-12px cursor-pointer pr-5px select-none flex items-center justify-center"},Ra=E({__name:"index",props:{modelValue:null,format:null,limit:{default:1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,{dialog:o}=B(),s=y(),a=y(),r=y({submitBtn:{type:"success",content:"确定",show:!0},resetBtn:{type:"warning",content:"关闭",show:!0}}),d=h=>{const p=[...n.modelValue];p.splice(h,1),e("update:modelValue",p)},_=()=>{a.value=o==null?void 0:o.create({title:"附件管理器",class:"pro-admin-dialog",style:{width:"45%"},showIcon:!1,maskClosable:!1,content:()=>Y(Sa,{...n,"onUpdate:init":h=>{s.value=h.exposed}}),action:()=>Y(ge,{extraConfig:r.value,"onUpdate:submit":()=>{var p;const h=s.value.hanldConfirmSelect();h.length&&(e("update:modelValue",h),(p=a.value)==null||p.destroy())},"onUpdate:rest":()=>{var h;(h=a.value)==null||h.destroy()}})})};return $t(()=>{typeof n.modelValue=="string"&&n.modelValue!==""&&e("update:modelValue",[n.modelValue])}),(h,p)=>{const i=Ge,c=re;return m(),$(c,null,{default:w(()=>[(m(!0),C(M,null,ne(t.modelValue,(u,f)=>(m(),C("div",{key:f,class:"flex items-center justify-center w-50px h-50px relative cursor-pointer border-1 border-solid rounded-3px bg-[#f5f5f5] border-[#888]"},[v(i,{src:u},null,8,["src"]),R("div",$a,[v(A,{icon:"DeleteFilled",class:"!w-12px",size:16,color:"#fff",onClick:k=>d(f)},null,8,["onClick"])])]))),128)),R("div",{class:"flex items-center justify-center w-50px h-50px relative cursor-pointer border-1 border-solid rounded-3px bg-[#f5f5f5] border-[#888]",onClick:_},[v(A,{icon:"FolderOpenOutlined",size:28,color:"#555"})])]),_:1})}}}),Ea=E({__name:"index",props:{modelValue:null,style:{default:{}}},setup(t){return(e,n)=>(m(),C("div",V(W(t.style)),T(t.modelValue),17))}}),Da={javascript:Tn,php:Un,python:Gn,java:Fn,css:On,xml:zn},ja=t=>(mt.registerLanguage(t,Da[t]),mt),Ba={class:"w-100%"},Aa=["innerHTML"],Ta=E({__name:"index",props:{modelValue:null,language:{default:"javascript"},showLineNumbers:{type:Boolean}},setup(t){const e=t,o=ja(e.language).highlight(e.modelValue,{language:e.language}).value;return(s,a)=>(m(),C("div",Ba,[R("pre",null,[O("    "),R("code",{class:"hljs",innerHTML:l(o)},null,8,Aa),O(`
    `)])]))}});const Ua=X(Ta,[["__scopeId","data-v-49fee51c"]]),wt={amap:Vo,bmap:Jo,icons:ea,qmap:oa,remote:aa,uploadify:Ra,info:Ea,HCode:Ua};function Ga(t){Object.keys(wt).forEach(e=>{t.component(e,wt[e])})}const Fa={class:"h-100%"},Yt=E({__name:"index",props:{api:null,method:{default:"GET"},ajaxParams:{default:{}},isModal:{type:Boolean,default:!1}},emits:["update:init","update:submit","update:success","update:rest","update:error"],setup(t,{expose:e,emit:n}){const o=t,{fApi:s,formData:a,formConfig:r,formRule:d,hanldSubmit:_,hanldReset:h}=qo(o,n);Oo(),gt.use(Ga);const p=gt.$form();return e({hanldSubmit:_,hanldReset:h}),(i,c)=>(m(),C("div",Fa,[v(l(p),{api:l(s),"onUpdate:api":c[0]||(c[0]=u=>We(s)?s.value=u:null),modelValue:l(a),"onUpdate:modelValue":c[1]||(c[1]=u=>We(a)?a.value=u:null),rule:l(d),option:l(r)},null,8,["api","modelValue","rule","option"])]))}}),Oa={class:"h-550px overflow-x-hidden overflow-y-auto p-5"},dt=E({__name:"popup",setup(t){const e=de();return(n,o)=>(m(),C("div",Oa,[v(Yt,V(W(l(e))),null,16)]))}}),za=(t,e,n)=>{const{notification:o}=B();if(!(n!=null&&n.file))return o==null||o.error({title:"导出数据失败，缺少[file]地址",duration:2e3}),Promise.reject(new Error("导出数据失败，缺少导出地址"));J(n==null?void 0:n.file,{responseType:"blob"}).then(s=>{In.saveFile({filename:t,type:e,content:s.data})})},Ia=({vxeGridConfig:t,options:e,xGrid:n})=>{var r;const{notification:o}=B();if(!((r=t.exportConfig)!=null&&r.api))return o==null||o.error({title:"请设置请求API",duration:1500}),Promise.reject(new Error("请设置请求API"));const s=n==null?void 0:n.getProxyInfo(),a={format:e.type??"xlsx",filename:e.filename??"导出文件",sheetName:e.sheetName??"",isHeader:e.isHeader??!1,original:e.original??!1,mode:e.mode??"all",pager:s?s.pager:null,ids:e.mode==="selected"?e.data.map(d=>d.id):[],fields:e.columns.map(d=>({field:d.field,title:d.title}))};return new Promise(d=>{var p;const _={method:"POST",data:{...a}},h=((p=t.exportConfig)==null?void 0:p.api)??"";J(h,_).then(i=>{const{data:c}=i;za(a.filename,a.format,c),d(i)})})},Ha=({vxeGridConfig:t,file:e,xGrid:n})=>{const{notification:o}=B(),s=new FormData;return s.append("file",e),new Promise(a=>{var _;const r=((_=t.importConfig)==null?void 0:_.api)??"";J(r,{method:"POST",data:s}).then(h=>{const{msg:p}=h;o==null||o.success({title:p??"操作成功",duration:1500}),n==null||n.commitProxy("query"),a(h)}).catch(h=>{console.error("导入失败",h)})})},qa=({$table:t,file:e})=>new Promise(n=>{const o=new FileReader;o.onload=s=>{const a=s.target?s.target.result:"",r=Hn(a,{type:"binary"}),d=qn.sheet_to_json(r.Sheets.Sheet1);t.loadData(d),n(d)},o.readAsBinaryString(e)}),Na=t=>{var e,n;return(e=t.vxeGridConfig.importConfig)!=null&&e.api&&((n=t.vxeGridConfig.importConfig)!=null&&n.isRemote)?Ha(t):qa(t)},Ma=async({options:t})=>{const e=t.form,n=t.page,o=t.sort,s=t.filters,a=N.currentRoute.value,r=y({method:"GET",params:{page:n.currentPage??1,limit:n.pageSize??20,...(a==null?void 0:a.query)??{}},data:{...e}});return JSON.stringify(o)!=="{}"&&(r.value.params.field=o.field,r.value.params.order=o.order),s.forEach(({field:d,values:_})=>{r.value.params={...r.value.params,[d]:_.join(",")}}),new Promise((d,_)=>{const h=Oe();J(h,r.value).then(p=>{d(p)}).catch(p=>{_(p)})})},Va=(t,e,n,o)=>{const{notification:s}=B();if(e.length<=0){s==null||s.error({title:"请先导入数据",duration:1500});return}if(!t){s==null||s.error({title:"未设置导入API接口",duration:1500});return}rt(t,{import:n,data:e}).then(r=>{var d;(d=o.xGrid)==null||d.commitProxy("query"),s==null||s.success({title:(r==null?void 0:r.msg)??"操作成功",duration:1500})})},Wa=t=>{_e.commands.add("importAllData",e=>{var a;const{$table:n}=e,o=n==null?void 0:n.getTableData(),s=o==null?void 0:o.fullData;Va(((a=t.vxeTableConfig.importConfig)==null?void 0:a.api)??"",s,"all",t)})},La=t=>{const{notification:e}=B(),n=y(),o=y({}),s=y({active:"",field:"",list:[]}),a=y([]),r=y([]),d={method:t.method,params:{},data:{}};d.method==="GET"?d.params={...t.ajaxParams}:d.data={...t.ajaxParams},J(t.api,d).then(p=>{const i=p.data;o.value=i.tableConfig,s.value=i.tabsConfig,a.value=i.rightButtonList,r.value=i.topButtonList;const c={...o.value.toolbarConfig,slots:{buttons:"topButtonList"}};o.value.toolbarConfig=c,c!=null&&c.import&&(o.value.importConfig={...o.value.importConfig,remote:!0,importMethod:u=>Na({...u,vxeGridConfig:o.value,xGrid:n.value})}),c.export&&(o.value.exportConfig={...o.value.exportConfig,remote:!0,exportMethod:u=>Ia({...u,vxeGridConfig:o.value,xGrid:n.value})}),o.value.proxyConfig={...o.value.proxyConfig,ajax:{query:(u,f)=>Ma({options:u,xGrid:n.value,extra:f,vxeGridConfig:o.value})}}});const _=(p,i)=>{var c;if(!p){e==null||e.error({title:"请设置请求API接口",duration:1500}),(c=n.value)==null||c.commitProxy("query");return}ct(p,i).then(()=>{var u;(u=n.value)==null||u.commitProxy("query")})},h=({row:p,column:i})=>{var k,b,g;const c=((b=(k=o.value)==null?void 0:k.rowConfig)==null?void 0:b.keyField)??"id",u=p[i==null?void 0:i.field],f={[c]:p[c],keyField:c,field:i==null?void 0:i.field,value:u};_((g=i==null?void 0:i.params)==null?void 0:g.api,f)};return Wa({xGrid:n.value,vxeTableConfig:o.value}),{xGrid:n,vxeGridConfig:o,tabsConfig:s,rightButtonList:a,topButtonList:r,hanldEditClose:h}},Ja=E({__name:"icons",props:{row:null,column:null},setup(t){const e=t,n=e.column.params,o=e.column.field;let s=y();if(o.includes(".")){const a=o.split(".");s=be(e.row,a)}else s=e.row[o];return n!=null&&n.type&&delete n.type,(a,r)=>(m(),$(A,te({icon:l(s)},l(n)),null,16,["icon"]))}}),Za=E({__name:"image",props:{column:null,row:null},setup(t){var a;const e=t,n=e.column.field;let o=y();if(n.includes(".")){const r=n.split(".");o=be(e.row,r)}else o=e.row[n];const s=y(e.column.params);return s!=null&&s.type&&delete s.value.type,(a=s.value)!=null&&a.style||(s.value.style={width:"35px",height:"30px"}),(r,d)=>{const _=Ge;return l(o)?(m(),$(_,te({key:0,src:l(o)},l(s)),null,16,["src"])):j("",!0)}}}),Ya={class:"assets-container"},Ka={class:"item"},Qa=["src"],Xa=["src"],es={class:"text-center select-none"},ts=E({__name:"assets",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){var r,d,_;const e=t,n=((d=(r=e.column)==null?void 0:r.params)==null?void 0:d.resource)??[],o=(_=e.column)==null?void 0:_.field;let s=y();if(o.includes(".")){const h=o.split(".");s=be(e.row,h)}else s=e.row[o];const a="http://cloud8.hangpu.net";return(h,p)=>{const i=A,c=Nn;return m(),C("div",Ya,[(m(!0),C(M,null,ne(l(n),(u,f)=>(m(),$(c,{key:f,show:u.isUpdate,trigger:"hover",placement:"top"},{trigger:w(()=>[R("div",Ka,[(u==null?void 0:u.type)==="url"&&l(ot)(u==null?void 0:u.icon)?(m(),C("img",{key:0,class:"logo",src:u==null?void 0:u.icon},null,8,Qa)):j("",!0),(u==null?void 0:u.type)==="path"?(m(),C("img",{key:1,class:"logo",src:l(a)+(u==null?void 0:u.icon)},null,8,Xa)):(m(),$(i,{key:2,icon:u.icon},null,8,["icon"])),R("div",es,T(l(s)[u.field]??"字段错误"),1)])]),default:w(()=>[O(" "+T((u==null?void 0:u.title)??"未知"),1)]),_:2},1032,["show"]))),128))])}}});const ns=X(ts,[["__scopeId","data-v-07d4c5d8"]]),os=E({__name:"money",props:{row:null,column:null},setup(t){var r;const e=t,n=y(((r=e.column)==null?void 0:r.params)??{}),o=e.column.field;let s=y();if(o.includes(".")){const d=o.split(".");s=be(e.row,d)}else s=e.row[o];const a=y("￥");return n!=null&&n.format&&(a.value=n==null?void 0:n.format,n==null||delete n.format),(d,_)=>(m(),C("div",V(W(l(n))),T(l(a))+T(l(vt).commafy(l(vt).toNumber(l(s)),{digits:2})),17))}}),as=E({__name:"swtich",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){const e=t,{notification:n}=B(),o=y({}),s=e.column.field;let a=y();if(s.includes(".")){const _=s.split(".");a=be(e.row,_)}else a=e.row[s];const r=({focused:_,checked:h})=>{var p,i,c,u;return h?o.value=((i=(p=e.column)==null?void 0:p.params)==null?void 0:i.checked)??{}:o.value=((u=(c=e.column)==null?void 0:c.params)==null?void 0:u.unchecked)??{},o.value},d=_=>{var f,k,b,g,x;const h=((k=(f=e.vxeGridConfig)==null?void 0:f.rowConfig)==null?void 0:k.keyField)??"id",p={[h]:e.row[h],keyField:h,field:(b=e.column)==null?void 0:b.field,value:_},i=Oe("rowEdit",!0),c=((g=e.column.params)==null?void 0:g.api)??i,u=y({method:((x=e.column.params)==null?void 0:x.method)??"PUT",params:{},data:{}});u.value.method==="GET"?u.value.params={...p}:u.value.data={...p},J(c,u.value).then(P=>{e.xGrid.commitProxy("query"),n==null||n.success({title:(P==null?void 0:P.msg)??"操作成功",duration:1500})})};return(_,h)=>{var i,c,u,f,k,b;const p=Mn;return m(),$(p,{"rail-style":r,"default-value":l(a),"checked-value":(u=(c=(i=t.column)==null?void 0:i.params)==null?void 0:c.checked)==null?void 0:u.value,"unchecked-value":(b=(k=(f=t.column)==null?void 0:f.params)==null?void 0:k.unchecked)==null?void 0:b.value,"on-update:value":d},{checked:w(()=>{var g,x,P;return[O(T((P=(x=(g=t.column)==null?void 0:g.params)==null?void 0:x.checked)==null?void 0:P.text),1)]}),unchecked:w(()=>{var g,x,P;return[O(T((P=(x=(g=t.column)==null?void 0:g.params)==null?void 0:x.unchecked)==null?void 0:P.text),1)]}),icon:w(()=>{var g,x,P,S;return[(x=(g=t.column)==null?void 0:g.params)!=null&&x.icon?(m(),$(A,{key:0,icon:(S=(P=t.column)==null?void 0:P.params)==null?void 0:S.icon},null,8,["icon"])):j("",!0)]}),"checked-icon":w(()=>{var g,x,P,S,D,U;return[(P=(x=(g=t.column)==null?void 0:g.params)==null?void 0:x.checked)!=null&&P.icon?(m(),$(A,{key:0,icon:(U=(D=(S=t.column)==null?void 0:S.params)==null?void 0:D.checked)==null?void 0:U.icon},null,8,["icon"])):j("",!0)]}),"unchecked-icon":w(()=>{var g,x,P,S,D,U;return[(P=(x=(g=t.column)==null?void 0:g.params)==null?void 0:x.unchecked)!=null&&P.icon?(m(),$(A,{key:0,icon:(U=(D=(S=t.column)==null?void 0:S.params)==null?void 0:D.unchecked)==null?void 0:U.icon},null,8,["icon"])):j("",!0)]}),_:1},8,["default-value","checked-value","unchecked-value"])}}}),ss={key:0,class:"tabs-container"},ls={class:"tabs-box"},rs=["onClick"],cs={class:"pl-1"},is=E({__name:"tabs",props:{xGrid:null,vxeGridConfig:null,tabsConfig:null},setup(t){var _;const e=t,n=se(),o=et(),s=y({inline:!0,size:1,...((_=e.tabsConfig)==null?void 0:_.space)??{}}),a=n==null?void 0:n.query[e.tabsConfig.field],r=y(a??e.tabsConfig.active),d=h=>{o.push({query:{[e.tabsConfig.field]:h.value}})};return(h,p)=>{const i=re;return t.tabsConfig.list.length>0?(m(),C("div",ss,[R("div",ls,[v(i,V(W(l(s))),{default:w(()=>[(m(!0),C(M,null,ne(t.tabsConfig.list,(c,u)=>(m(),C("div",{key:u,class:ae(["item",{active:l(r)===(c==null?void 0:c.value)}]),onClick:f=>d(c)},[c!=null&&c.icon?(m(),$(A,{key:0,icon:c==null?void 0:c.icon},null,8,["icon"])):j("",!0),R("span",cs,T((c==null?void 0:c.label)??"错误"),1)],10,rs))),128))]),_:1},16)])])):j("",!0)}}});const us=X(is,[["__scopeId","data-v-5c06d3a3"]]),ds=E({__name:"tags",props:{row:null,column:null},setup(t){var a,r,d,_,h,p,i;const e=t,n=y("标签出错"),o=y({}),s=e.row[(a=e.column)==null?void 0:a.field];return(d=(r=e.column)==null?void 0:r.params)!=null&&d.options&&(n.value=(h=(_=e.column)==null?void 0:_.params)==null?void 0:h.options[s]),(i=(p=e.column)==null?void 0:p.params)!=null&&i.style&&(o.value=e.column.params.style[s]),(c,u)=>{const f=Vn;return m(),$(f,V(W(l(o))),{default:w(()=>[O(T(l(n)),1)]),_:1},16)}}}),ps=E({__name:"remote",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){var a,r,d;const e=t,n=y((r=(a=e.column)==null?void 0:a.params)==null?void 0:r.file),o=((d=e.column)==null?void 0:d.field)??"",s=y(e.row[o]??"");return(_,h)=>(m(),$(l(fe),te({file:l(n)},{modelValue:l(s),column:t.column,row:t.row}),null,16,["file"]))}}),Ie=(t,e)=>{let n={};for(const o in t){const s=t[o]??"id";n={...n,[s]:e[o]??""}}return n},fs=({xGrid:t,vxeGridConfig:e,button:n,row:o,column:s})=>{var p,i,c,u,f,k,b;const a=N.currentRoute.value,{notification:r}=B(),d={method:((p=n.pageData)==null?void 0:p.method)??"GET",params:{},data:{}};let h={...((i=n==null?void 0:n.pageData)==null?void 0:i.queryParams)??{},...a.query};if(o&&s&&K(JSON.stringify((c=n==null?void 0:n.pageData)==null?void 0:c.aliasParams),["[]","{}"])){const g=((u=e==null?void 0:e.rowConfig)==null?void 0:u.keyField)??"id";h={...h,[g]:o[g]}}K(JSON.stringify((f=n==null?void 0:n.pageData)==null?void 0:f.aliasParams),["[]","{}"])||(h={...h,...Ie((k=n==null?void 0:n.pageData)==null?void 0:k.aliasParams,o)}),d.method==="GET"?d.params={...h}:d.data={...h},J(((b=n.pageData)==null?void 0:b.api)??"",d).then(g=>{t==null||t.commitProxy("query"),r==null||r.success({title:(g==null?void 0:g.msg)??"操作成功",duration:1500})})},Ct=({vxeGridConfig:t,button:e,row:n,column:o})=>{var _,h,p,i,c,u,f,k;const{notification:s}=B();if(!((_=e==null?void 0:e.pageData)!=null&&_.path)){s==null||s.error({title:"缺少跳转地址",duration:1500});return}const a=N.currentRoute.value;let d={...((h=e==null?void 0:e.pageData)==null?void 0:h.queryParams)??{},...a.query};if(n&&o&&K(JSON.stringify((p=e==null?void 0:e.pageData)==null?void 0:p.aliasParams),["[]","{}"])){const b=((i=t==null?void 0:t.rowConfig)==null?void 0:i.keyField)??"id";d={...d,[b]:n[b]}}K(JSON.stringify((c=e==null?void 0:e.pageData)==null?void 0:c.aliasParams),["[]","{}"])||(d={...d,...Ie((u=e==null?void 0:e.pageData)==null?void 0:u.aliasParams,n)}),(f=e.pageData)!=null&&f.isBack&&(d={...d,isBack:1}),N.push({path:(k=e==null?void 0:e.pageData)==null?void 0:k.path,query:{...d}})},hs=({xGrid:t,vxeGridConfig:e,button:n,row:o,column:s})=>{const{dialog:a}=B();a==null||a.create({...(n==null?void 0:n.message)??{},maskClosable:!1,onPositiveClick:()=>{fs({xGrid:t,vxeGridConfig:e,button:n,row:o,column:s})}})},Ze=y({submitBtn:{},resetBtn:{}}),Ue=y({hanldSubmit:()=>{},hanldReset:()=>{}}),xe=y(),_s=({vxeGridConfig:t,button:e,row:n,column:o})=>{var _,h,p,i,c,u,f,k,b,g;const s=N.currentRoute.value;let a,r={},d={...s.query};if(JSON.stringify((_=e.pageData)==null?void 0:_.queryParams)!=="{}"&&(d={...(h=e.pageData)==null?void 0:h.queryParams}),n&&o&&K(JSON.stringify((p=e==null?void 0:e.pageData)==null?void 0:p.aliasParams),["[]","{}"])){const x=((i=t==null?void 0:t.rowConfig)==null?void 0:i.keyField)??"id";d={...d,[x]:n[x]}}switch(K(JSON.stringify((c=e==null?void 0:e.pageData)==null?void 0:c.aliasParams),["[]","{}"])||(d={...d,...Ie((u=e==null?void 0:e.pageData)==null?void 0:u.aliasParams,n)}),(f=e.pageData)==null?void 0:f.type){case"table":a=Qt,r={api:((k=e==null?void 0:e.pageData)==null?void 0:k.api)??""};break;case"remote":a=fe,r={file:((b=e==null?void 0:e.pageData)==null?void 0:b.path)??"",modal:(e==null?void 0:e.pageData.modal)??!1,ajaxParams:d,"onUpdate:closeWin":()=>{var x;(x=xe.value)!=null&&x.destroy&&xe.value.destroy()}};break;default:a=dt,r={api:((g=e==null?void 0:e.pageData)==null?void 0:g.api)??"",method:e.pageData.method??"GET",ajaxParams:d,"onUpdate:init":x=>{var P,S;Ue.value.hanldSubmit=(P=x==null?void 0:x.exposed)==null?void 0:P.hanldSubmit,Ue.value.hanldReset=(S=x==null?void 0:x.exposed)==null?void 0:S.hanldReset,Ze.value.submitBtn=x==null?void 0:x.response.extraConfig.submitBtn,Ze.value.resetBtn=x==null?void 0:x.response.extraConfig.resetBtn},"onUpdate:success":()=>{var x;(x=xe.value)!=null&&x.destroy&&xe.value.destroy()},"onUpdate:rest":()=>{},"onUpdate:error":()=>{}};break}return{hpComponent:a,componentAttrs:r}},ms=t=>{var a,r;const{dialog:e}=B(),{hpComponent:n,componentAttrs:o}=_s(t),s={...((a=t.button)==null?void 0:a.message)??{},class:"pro-admin-dialog",content:()=>Y(n,{...o}),onAfterLeave:()=>{var d;(d=t.xGrid)==null||d.commitProxy("query")}};((r=t.button.pageData)==null?void 0:r.type)==="form"&&(s.action=()=>Y(ge,{extraConfig:Ze.value,"onUpdate:submit":()=>{Ue.value.hanldSubmit()},"onUpdate:rest":()=>{Ue.value.hanldReset()}})),xe.value=e==null?void 0:e.create(s)},gs=t=>{var h,p,i,c,u,f,k,b,g,x,P,S,D,U;const e=((p=(h=t.button)==null?void 0:h.pageData)==null?void 0:p.api)??"/",n=((i=t.button.pageData)==null?void 0:i.method)??"GET";let o=((c=t.button.pageData)==null?void 0:c.path)??"";const{notification:s}=B(),a=N.currentRoute.value,r={method:n,params:{},data:{}};let _={...((f=(u=t.button)==null?void 0:u.pageData)==null?void 0:f.queryParams)??{},...a.query};if(t.row&&t.column&&K(JSON.stringify((b=(k=t.button)==null?void 0:k.pageData)==null?void 0:b.aliasParams),["[]","{}"])){const G=((x=(g=t.vxeGridConfig)==null?void 0:g.rowConfig)==null?void 0:x.keyField)??"id";_={..._,[G]:t.row[G]}}K(JSON.stringify((S=(P=t.button)==null?void 0:P.pageData)==null?void 0:S.aliasParams),["[]","{}"])||(_={..._,...Ie((U=(D=t.button)==null?void 0:D.pageData)==null?void 0:U.aliasParams,t.row)}),r.method==="GET"?r.params={..._}:r.data={..._},J(e,r).then(G=>{const{data:L}=G;if(!o){if(!(L!=null&&L.url)){s==null||s.error({title:"缺少跳转地址",duration:1500});return}o=L.url}ot(o)||(o=`//${location.host}/${o}`),window.open(o,"about:blank")})},Ye=t=>{var e,n,o,s;((e=t.button.pageData)==null?void 0:e.type)==="page"?Ct(t):((n=t.button.pageData)==null?void 0:n.type)==="link"?gs(t):((o=t.button.pageData)==null?void 0:o.type)==="confirm"?hs(t):(s=t.button.pageData)!=null&&s.modal?ms(t):Ct(t)},vs=()=>{var o;const t=ve(),e=(t==null?void 0:t.routerRecords)??[],n=[];for(const s of e){const a=`${(o=s.meta)==null?void 0:o.moduleName}${s.path}`;n.push(a)}return n},Kt=t=>{const e=vs();return K(t,e)},ys=E({__name:"right-button",props:{xGrid:null,vxeGridConfig:null,column:null,row:null,rightButtonList:null},setup(t){var c,u,f,k,b;const e=t,n=z(()=>g=>{var G,L,ee,ce,$e,Re,Ee;const x=((G=g.pageData)==null?void 0:G.api)??"";if(!Kt(x))return!1;const P=((ee=(L=g==null?void 0:g.pageData)==null?void 0:L.params)==null?void 0:ee.where)??"",S=($e=(ce=g==null?void 0:g.pageData)==null?void 0:ce.params)==null?void 0:$e.field,D=(Ee=(Re=g==null?void 0:g.pageData)==null?void 0:Re.params)==null?void 0:Ee.value;if(S===void 0&&D===void 0)return!0;if(S===void 0||S===""||S&&(D===void 0||D===""))return!1;const U=e.row[S];switch(P){case"!=":return D!==U;case"in":return D instanceof Array&&K(U,D);case"notIn":return D instanceof Array&&!K(U,D);default:return D===U}}),o=()=>{const g=e.rightButtonList,x=[];return g.forEach(P=>{var D;const S={label:P.title,key:P.field};(D=P.button)!=null&&D.icon&&(S.icon=()=>{var U;return Y(A,{icon:(U=P.button)==null?void 0:U.icon})}),x.push(S)}),x},s=g=>{const{notification:x}=B(),S=e.rightButtonList.find(D=>D.field===g);if(!S){x==null||x.error({title:"按钮数据错误",duration:1500});return}Ye({xGrid:e.xGrid,button:S,row:e.row,column:e.column,vxeGridConfig:e.vxeGridConfig})},a=y(((c=e.column.params)==null?void 0:c.group)??!1),r=y(((u=e.column.params)==null?void 0:u.trigger)??"click"),d=y(((f=e.column.params)==null?void 0:f.icon)??"MenuOutlined"),_=y(((k=e.column.params)==null?void 0:k.group_text)??"更多"),h={type:"success",size:"small"},p=y(((b=e.column.params)==null?void 0:b.group_style)??h),i=z(()=>o());return(g,x)=>{const P=A,S=ke,D=nt,U=re;return m(),C("div",null,[l(a)?(m(),$(D,{key:0,trigger:l(r),options:l(i),onSelect:s},{default:w(()=>[v(S,V(W(l(p))),{icon:w(()=>[v(P,{icon:l(d)},null,8,["icon"])]),default:w(()=>[O(T(l(_))+" ",1)]),_:1},16)]),_:1},8,["trigger","options"])):(m(),$(U,{key:1,align:"center",wrap:!1},{default:w(()=>[(m(!0),C(M,null,ne(t.rightButtonList,(G,L)=>(m(),C(M,null,[l(n)(G)?(m(),$(S,te({key:L},(G==null?void 0:G.button)??{},{onClick:ee=>l(Ye)({xGrid:t.xGrid,button:G,row:t.row,column:t.column,vxeGridConfig:t.vxeGridConfig})}),{icon:w(()=>{var ee,ce;return[(ee=G==null?void 0:G.button)!=null&&ee.icon?(m(),$(A,{key:0,icon:(ce=G==null?void 0:G.button)==null?void 0:ce.icon},null,8,["icon"])):j("",!0)]}),default:w(()=>[O(" "+T(G.title),1)]),_:2},1040,["onClick"])):j("",!0)],64))),256))]),_:1}))])}}}),xs={class:"flex space-x-3"},ws=E({__name:"top-button",props:{xGrid:null,column:null,topButtonList:null,vxeGridConfig:null},setup(t){const e=se(),n=z(()=>o=>{var a;const s=((a=o.pageData)==null?void 0:a.api)??"";return!!Kt(s)});return(o,s)=>{var d;const a=ke,r=re;return m(),C("div",xs,[(d=l(e).query)!=null&&d.isBack?(m(),$(a,{key:0,type:"warning",onClick:l(Te)},{default:w(()=>[O(" 返回 ")]),_:1},8,["onClick"])):j("",!0),v(r,{align:"center"},{default:w(()=>[(m(!0),C(M,null,ne(t.topButtonList,(_,h)=>(m(),C("div",{key:h},[l(n)(_)?(m(),$(a,te({key:0},(_==null?void 0:_.button)??{},{onClick:p=>l(Ye)({button:_,xGrid:t.xGrid,vxeGridConfig:t.vxeGridConfig})}),{icon:w(()=>{var p,i;return[(p=_==null?void 0:_.button)!=null&&p.icon?(m(),$(A,{key:0,icon:(i=_==null?void 0:_.button)==null?void 0:i.icon},null,8,["icon"])):j("",!0)]}),default:w(()=>[O(" "+T(_.title),1)]),_:2},1040,["onClick"])):j("",!0)]))),128))]),_:1})])}}}),Qt=E({__name:"index",props:{api:null,method:{default:"GET"},ajaxParams:{default:{}}},setup(t){const e=t,{xGrid:n,vxeGridConfig:o,tabsConfig:s,rightButtonList:a,topButtonList:r,hanldEditClose:d}=La(e);return(_,h)=>{var i;const p=we("vxe-grid");return(i=l(o))!=null&&i.id?(m(),$(p,te({key:0,ref_key:"xGrid",ref:n},l(o),{class:"p-4",onEditClosed:l(d)}),{assets:w(({row:c,column:u,$grid:f})=>[v(l(ns),V(W({vxeGridConfig:l(o),row:c,column:u,xGrid:f})),null,16)]),money:w(({row:c,column:u,$grid:f})=>[v(l(os),V(W({vxeGridConfig:l(o),row:c,column:u,xGrid:f})),null,16)]),image:w(({row:c,column:u,$grid:f})=>[v(l(Za),V(W({vxeGridConfig:l(o),row:c,column:u,xGrid:f})),null,16)]),icons:w(({row:c,column:u,$grid:f})=>[v(l(Ja),V(W({vxeGridConfig:l(o),row:c,column:u,xGrid:f})),null,16)]),switch:w(({row:c,column:u,$grid:f})=>[v(l(as),V(W({vxeGridConfig:l(o),row:c,column:u,xGrid:f})),null,16)]),tags:w(({row:c,column:u,$grid:f})=>[v(l(ds),V(W({vxeGridConfig:l(o),row:c,column:u,xGrid:f})),null,16)]),remote:w(({row:c,column:u,$grid:f})=>[v(l(ps),V(W({vxeGridConfig:l(o),row:c,column:u,xGrid:f})),null,16)]),topButtonList:w(({column:c,$grid:u})=>[v(l(ws),V(W({vxeGridConfig:l(o),topButtonList:l(r),column:c,xGrid:u})),null,16)]),top:w(({$grid:c})=>[v(l(us),V(W({vxeGridConfig:l(o),tabsConfig:l(s),xGrid:c})),null,16)]),rightButtonList:w(({row:c,column:u,$grid:f})=>[v(l(ys),V(W({vxeGridConfig:l(o),rightButtonList:l(a),row:c,column:u,xGrid:f})),null,16)]),_:1},16,["onEditClosed"])):j("",!0)}}}),Cs={class:"h-100% flex items-center"},ks={class:"flex select-none cursor-pointer"},bs={class:"pl-1 text-12px text-#555"},Ps={class:"flex pl-1"},Ss={class:"pl-1"},$s={key:0,class:"flex pl-1"},Rs={class:"pl-1"},Es=E({__name:"user",setup(t){const e=ve(),n=Q(),o=se(),{dialog:s,notification:a}=B(),r=y([{label:"修改资料",key:"profile",icon:()=>Y(A,{icon:"EditTwotone"})},{label:"退出登录",key:"loginout",icon:()=>Y(A,{icon:"ExportOutlined"})}]),d=new Map,_=y({submitBtn:{},resetBtn:{}}),h=y({hanldSubmit:()=>{},hanldReset:()=>{}});d.set("profile",()=>{const i=s==null?void 0:s.create({title:"用户资料",showIcon:!1,maskClosable:!1,class:"pro-admin-dialog",style:{width:"45%"},content:()=>{var c,u;return Y(dt,{api:((u=(c=n.site)==null?void 0:c.public_api)==null?void 0:u.user_edit)??"",method:"GET",ajaxParams:{},"onUpdate:init":f=>{var k,b;h.value.hanldSubmit=(k=f==null?void 0:f.exposed)==null?void 0:k.hanldSubmit,h.value.hanldReset=(b=f==null?void 0:f.exposed)==null?void 0:b.hanldReset,_.value.submitBtn=f==null?void 0:f.response.extraConfig.submitBtn,_.value.resetBtn=f==null?void 0:f.response.extraConfig.resetBtn},"onUpdate:success":()=>{i==null||i.destroy(),e.getUserInfo()}})},action:()=>Y(ge,{extraConfig:_.value,"onUpdate:submit":()=>{var c;(c=h.value)==null||c.hanldSubmit()},"onUpdate:rest":()=>{var c;(c=h.value)==null||c.hanldReset()}})})}),d.set("loginout",()=>{s==null||s.warning({title:"温馨提示",content:"是否确认退出登录？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{wo().then(i=>{e.setToken(""),N.push({path:"/login",query:{redirect:o.fullPath}}),a==null||a.success({title:(i==null?void 0:i.msg)??"操作成功",duration:1500})})}})});const p=i=>{const c=d.get(i);typeof c=="function"&&c()};return(i,c)=>{const u=Wn,f=nt;return m(),C("div",Cs,[v(f,{options:l(r),onSelect:p},{default:w(()=>{var k,b,g,x,P;return[R("div",ks,[v(u,{round:"",size:35,src:(k=l(e).userInfo)==null?void 0:k.headimg},null,8,["src"]),R("div",bs,[R("div",Ps,[v(A,{icon:"UserOutlined"}),R("span",Ss,T((b=l(e).userInfo)==null?void 0:b.nickname),1)]),(x=(g=l(e).userInfo)==null?void 0:g.role)!=null&&x.title?(m(),C("div",$s,[v(A,{icon:"CodeSandboxOutlined"}),R("span",Rs,T((P=l(e).userInfo)==null?void 0:P.role.title),1)])):j("",!0)])])]}),_:1},8,["options"])])}}}),Ds=["href","target"],js=E({__name:"side-title",props:{MenuItem:null},setup(t){var _,h;const e=t,n=z(()=>{var p;return(p=e.MenuItem)==null?void 0:p.menuTitle}),o=e.MenuItem.ajaxParams?uo(e.MenuItem.ajaxParams):{},s=z(()=>e.MenuItem.path??""),a=((h=(_=e.MenuItem)==null?void 0:_.children)==null?void 0:h.find(p=>(p==null?void 0:p.show)===!0&&(p==null?void 0:p.type)!=="group"))??!1,r=z(()=>{var p;return(p=s.value)==null?void 0:p.startsWith("http")}),d=z(()=>{var p;return((p=e.MenuItem)==null?void 0:p.target)??"_blank"});return(p,i)=>{const c=we("router-link");return l(a)?(m(),C(M,{key:0},[O(T(l(n)),1)],64)):l(r)?(m(),C("a",{key:1,href:l(s),target:l(d)},T(l(n)),9,Ds)):l(s)?(m(),$(c,{key:2,to:{path:`/${l(s)}`,query:{...l(o)}},replace:!0},{default:w(()=>[O(T(l(n)),1)]),_:1},8,["to"])):(m(),C(M,{key:3},[O(T(l(n)),1)],64))}}}),Bs={class:"panel-menu"},As={key:0,class:"panel-two"},Ts={class:"panel-title"},Us={key:0,class:"hp-icon"},Gs={class:"title"},Fs={class:"panel-list"},Os=E({__name:"panel",props:{active:null,options:null},setup(t){const e=t,n=o=>o.key===e.active?!0:o!=null&&o.children?!!o.children.find(s=>n(s)):!1;return(o,s)=>(m(),C("div",Bs,[(m(!0),C(M,null,ne(t.options,(a,r)=>{var d;return m(),C(M,{key:r},[(d=a==null?void 0:a.children)!=null&&d.length&&a.type==="group"&&a.show?(m(),C("div",As,[R("div",Ts,[a!=null&&a.icon?(m(),C("div",Us,[(m(),$(ye(a.icon)))])):j("",!0),R("div",Gs,[(m(),$(ye(a.label)))])]),R("div",Fs,[(m(!0),C(M,null,ne(a.children,(_,h)=>(m(),C(M,{key:h},[_.show?(m(),C("div",{key:0,class:ae(["panel-item",{"panel-active":n(_)}])},[(m(),$(ye(_.label)))],2)):j("",!0)],64))),128))])])):a.show?(m(),C("div",{key:1,class:ae(["item",{"is-active":n(a)}])},[(m(),$(ye(a.label)))],2)):j("",!0)],64)}),128))]))}});const zs=X(Os,[["__scopeId","data-v-0811acd7"]]),Is={class:"pro-admin-mix-tabs overflow-x-auto flex"},Hs={class:"pro-menu-mix-container"},qs=["onClick"],Ns={key:0,class:"flex-1"},Ms=E({__name:"index",setup(t){Ce(i=>({"42b0fb40":l(p)}));const e=de(),n=et(),o=(i,c)=>i.find(u=>u.key===c?u:o((u==null?void 0:u.children)??[],c)),s=y((e==null?void 0:e.value)??""),a=y(e.options??[]),r=y([o(a.value??[],s.value)]),d=z(()=>i=>!!o(i??[],s.value)),_=i=>{const c=i[0];return c&&(c==null?void 0:c.type)!=="group"&&(c!=null&&c.show)?c:_(c.children??[])},h=i=>{const c=_((i==null?void 0:i.children)??[]);let u={};typeof c.ajaxParams=="object"&&(u={...c.ajaxParams}),s.value=String((c==null?void 0:c.key)??""),r.value=[i],n.push({path:`/${c==null?void 0:c.path}`,query:{...u}})};Xe(()=>e.value,i=>{s.value=String(i)});const p=z(()=>`calc(100vh - ${e["header-height"]}px)`);return(i,c)=>{const u=Ut;return m(),C("div",Is,[R("div",Hs,[(m(!0),C(M,null,ne(l(a),(f,k)=>(m(),C(M,{key:k},[f.show?(m(),C("div",{key:0,class:ae(["item",{active:l(d)((f==null?void 0:f.children)??[])}]),onClick:b=>h(f)},[R("div",null,[f.menuIcon?(m(),$(A,{key:0,icon:f.menuIcon,size:22},null,8,["icon"])):j("",!0),R("div",null,T(f.menuTitle),1)])],10,qs)):j("",!0)],64))),128))]),l(e).collapsed?j("",!0):(m(),C("div",Ns,[(m(!0),C(M,null,ne(l(r),(f,k)=>(m(),C("div",{key:k},[v(u,{class:"m-0"},{default:w(()=>[O(T(f==null?void 0:f.menuTitle),1)]),_:2},1024),v(zs,{options:(f==null?void 0:f.children)??[],active:l(s)},null,8,["options","active"])]))),128))]))])}}});const Vs=X(Ms,[["__scopeId","data-v-76bf2a4e"]]),Ws={class:"flex items-center justify-center"},Ls=E({__name:"index",props:{layout:null,headerHeight:{default:50},footerHeight:{default:30},logo:null,logoSize:null,title:null,siderWidth:null,collapsed:{type:Boolean},siderCollapsedWidth:null,collapsedIconSize:{default:22},showSiderTrigger:{type:[Boolean,String]},inverted:{type:Boolean},active:null,options:null,expandedKeys:null},emits:["update:collapsed","update:active","update:expandedKeys"],setup(t){const e=t;Ce(a=>({c79233a2:l(n),"0b15b1cb":l(s),"416ea2e1":l(o)}));const n=z(()=>`${e.headerHeight}px`),o=z(()=>`${e.footerHeight}px`),s=z(()=>`calc(100vh - ${e.headerHeight}px - ${e.footerHeight}px)`);return(a,r)=>{const d=Gt,_=Ft,h=Ot;return m(),$(h,{"has-sider":"",class:"h-screen"},{default:w(()=>[v(l(Le),{width:t.siderWidth,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth,"show-trigger":t.showSiderTrigger,onUpdateCollapsed:r[2]||(r[2]=p=>a.$emit("update:collapsed",p))},{default:w(()=>[R("div",Ws,[v(l(Ht),{src:t.logo,inverted:t.inverted,"header-height":t.headerHeight,"collapsed-width":t.siderCollapsedWidth},null,8,["src","inverted","header-height","collapsed-width"]),t.collapsed?j("",!0):(m(),$(l(qt),{key:0,layout:t.layout,inverted:t.inverted,"header-height":t.headerHeight,title:t.title},null,8,["layout","inverted","header-height","title"]))]),v(Vs,{value:t.active,options:t.options,inverted:t.inverted,collapsed:t.collapsed,"collapsed-icon-size":t.collapsedIconSize,"expanded-keys":t.expandedKeys,"header-height":t.headerHeight,"footer-height":t.footerHeight,"onUpdate:value":r[0]||(r[0]=p=>a.$emit("update:active",p)),"onUpdate:expandedKeys":r[1]||(r[1]=p=>a.$emit("update:expandedKeys",p))},null,8,["value","options","inverted","collapsed","collapsed-icon-size","expanded-keys","header-height","footer-height"])]),_:1},8,["width","collapsed","collapsed-width","show-trigger"]),v(h,null,{default:w(()=>[v(d,{class:"pro-admin-header-height flex items-center justify-between px-3"},{default:w(()=>[oe(a.$slots,"headerLeft",{},()=>[v(l(Lt))],!0),oe(a.$slots,"headerRight",{},()=>[v(l(Jt))],!0)]),_:3}),v(l(Nt),{class:"pro-admin-content-height"},{default:w(()=>[oe(a.$slots,"default",{},void 0,!0)]),_:3}),v(_,{class:"pro-admin-footer-height flex items-center justify-center"},{default:w(()=>[v(l(Wt))]),_:1})]),_:3})]),_:3})}}});const Js=X(Ls,[["__scopeId","data-v-a71b2900"]]),Zs={class:"pro-admin-side-menu overflow-y-auto overflow-x-hidden"},Ys=E({__name:"index",setup(t){const e=de();return(n,o)=>{const s=Ln;return m(),C("div",Zs,[v(s,te({mode:"vertical"},l(e)),null,16)])}}});const Ks=X(Ys,[["__scopeId","data-v-bd821ef9"]]),Qs={class:"flex items-center justify-center"},Xs=E({__name:"index",props:{layout:null,headerHeight:{default:50},footerHeight:{default:30},logo:null,logoSize:null,title:null,siderWidth:null,collapsed:{type:Boolean},siderCollapsedWidth:null,collapsedIconSize:{default:28},showSiderTrigger:{type:[Boolean,String]},accordion:{type:Boolean},inverted:{type:Boolean},active:null,options:null,expandedKeys:null,rootIndent:null,indent:null},emits:["update:collapsed","update:active","update:expandedKeys"],setup(t){const e=t;Ce(a=>({"655570f5":l(n),"65c87fc5":l(s),"0a8d2da7":l(o)}));const n=z(()=>`${e.headerHeight}px`),o=z(()=>`${e.footerHeight}px`),s=z(()=>`calc(100vh - ${e.headerHeight}px - ${e.footerHeight}px)`);return(a,r)=>{const d=Gt,_=Ft,h=Ot;return m(),$(h,{"has-sider":"",class:"h-screen"},{default:w(()=>[v(l(Le),{inverted:t.inverted,width:t.siderWidth,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth,"show-trigger":t.showSiderTrigger,onUpdateCollapsed:r[2]||(r[2]=p=>a.$emit("update:collapsed",p))},{default:w(()=>[R("div",Qs,[v(l(Ht),{src:t.logo,"header-height":t.headerHeight,"collapsed-width":t.siderCollapsedWidth},null,8,["src","header-height","collapsed-width"]),t.collapsed?j("",!0):(m(),$(l(qt),{key:0,layout:t.layout,"header-height":t.headerHeight,title:t.title},null,8,["layout","header-height","title"]))]),v(l(Le),{inverted:t.inverted,width:t.siderWidth,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth},{default:w(()=>[v(Ks,{value:t.active,options:t.options,accordion:t.accordion,inverted:t.inverted,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth,"collapsed-icon-size":t.collapsedIconSize,"expanded-keys":t.expandedKeys,"root-indent":t.rootIndent,indent:t.rootIndent,"onUpdate:value":r[0]||(r[0]=p=>a.$emit("update:active",p)),"onUpdate:expandedKeys":r[1]||(r[1]=p=>a.$emit("update:expandedKeys",p))},null,8,["value","options","accordion","inverted","collapsed","collapsed-width","collapsed-icon-size","expanded-keys","root-indent","indent"])]),_:1},8,["inverted","width","collapsed","collapsed-width"])]),_:1},8,["inverted","width","collapsed","collapsed-width","show-trigger"]),v(h,null,{default:w(()=>[v(d,{class:"pro-admin-header-height flex items-center justify-between px-3"},{default:w(()=>[oe(a.$slots,"headerLeft",{},()=>[v(l(Lt))],!0),oe(a.$slots,"headerRight",{},()=>[v(l(Jt))],!0)]),_:3}),v(l(Nt),{class:"pro-admin-content-height"},{default:w(()=>[oe(a.$slots,"default",{},void 0,!0)]),_:3}),v(_,{class:"pro-admin-footer-height flex items-center justify-center"},{default:w(()=>[v(l(Wt))]),_:1})]),_:3})]),_:3})}}});const el=X(Xs,[["__scopeId","data-v-ffb6b8ca"]]),tl=E({__name:"index",setup(t){const e=Q(),n=ve(),o=z(()=>n.getMenusData),{active:s}=vl(),{layout:a}=Jn(e);return(r,d)=>{var _,h;return m(),C(M,null,[l(a).layout==="mix"?(m(),$(Js,{key:0,collapsed:l(a).collapsed,"onUpdate:collapsed":d[0]||(d[0]=p=>l(a).collapsed=p),accordion:l(a).accordion,layout:l(a).layout,logo:l(a).logo,"logo-size":l(a).logoSize,title:(_=l(e).site)==null?void 0:_.web_name,"header-height":l(a).headerHeight,"footer-height":l(a).footerHeight,"sider-width":l(a).siderWidth,"sider-collapsed-width":l(a).siderCollapsedWidth,"show-sider-trigger":l(a).showSiderTrigger,inverted:l(a).inverted,active:l(s),options:l(o),"root-indent":l(a).rootIndent,indent:l(a).indent},{default:w(()=>[v(xt)]),_:1},8,["collapsed","accordion","layout","logo","logo-size","title","header-height","footer-height","sider-width","sider-collapsed-width","show-sider-trigger","inverted","active","options","root-indent","indent"])):j("",!0),l(a).layout==="side"?(m(),$(el,{key:1,collapsed:l(a).collapsed,"onUpdate:collapsed":d[1]||(d[1]=p=>l(a).collapsed=p),accordion:l(a).accordion,layout:l(a).layout,logo:l(a).logo,"logo-size":l(a).logoSize,title:(h=l(e).site)==null?void 0:h.web_name,"header-height":l(a).headerHeight,"footer-height":l(a).footerHeight,"sider-width":l(a).siderWidth,"sider-collapsed-width":l(a).siderCollapsedWidth,"show-sider-trigger":l(a).showSiderTrigger,inverted:l(a).inverted,active:l(s),options:l(o),"root-indent":l(a).rootIndent,indent:l(a).indent},{default:w(()=>[v(xt)]),_:1},8,["collapsed","accordion","layout","logo","logo-size","title","header-height","footer-height","sider-width","sider-collapsed-width","show-sider-trigger","inverted","active","options","root-indent","indent"])):j("",!0)],64)}}}),kt={path:"/",name:"default-router",component:tl,redirect:void 0,children:[]},nl=E({__name:"index",setup(t){const e=se(),n=Oe("GetTable"),o=e.meta.method,s=e.query??{};return(a,r)=>(m(),$(Qt,{api:l(n),method:l(o),"ajax-params":l(s)},null,8,["api","method","ajax-params"]))}}),ol={class:"h-100% p-4"},al={class:"h-100% flex flex-col"},sl={key:0,class:"flex items-center bg-white px-5 py-4 mb-[10px]"},ll=R("span",{class:"pl-1 text-[16px]"},"返回",-1),rl={key:0,class:"pl-20px text-[16px] select-none"},cl=E({__name:"index",setup(t){const e=se(),n=y(),o=y(),s=Oe(),a=e.meta.method,r={...e.query};r!=null&&r.isBack&&(r==null||delete r.isBack);const d=y({...r}),_=y({submitBtn:{},resetBtn:{}}),h=u=>{var k;const f=(k=u==null?void 0:u.response)==null?void 0:k.extraConfig;_.value=f},p=()=>{n.value.hanldSubmit()},i=()=>{n.value.hanldReset()},c=()=>{o.value.setDisabled(!1)};return(u,f)=>{var b,g,x;const k=A;return m(),C("div",ol,[R("div",al,[(b=l(e).query)!=null&&b.isBack?(m(),C("div",sl,[R("div",{class:"flex items-center cursor-pointer select-none",onClick:f[0]||(f[0]=(...P)=>l(Te)&&l(Te)(...P))},[v(k,{icon:"ArrowLeftOutlined",size:16}),ll]),(g=l(e).meta)!=null&&g.title?(m(),C("div",rl,T((x=l(e).meta)==null?void 0:x.title),1)):j("",!0)])):j("",!0),v(Yt,{ref_key:"formRef",ref:n,class:"flex-1 p-5 bg-white overflow-y-auto overflow-x-hidden",api:l(s),method:l(a),"ajax-params":l(d),"onUpdate:init":h,"onUpdate:success":c,"onUpdate:rest":c,"onUpdate:error":c},null,8,["api","method","ajax-params"]),v(l(ge),{ref_key:"buttonRef",ref:o,class:"bg-white","extra-config":l(_),"onUpdate:submit":p,"onUpdate:rest":i},null,8,["extra-config"])])])}}}),il={class:"h-100% p-4"},ul=E({__name:"index",setup(t){const n=se().meta.ajaxParams;return(o,s)=>(m(),C("div",il,[v(fe,{file:l(n)},null,8,["file"])]))}}),dl=Object.freeze(Object.defineProperty({__proto__:null,formIndex:cl,remoteIndex:ul,tableIndex:nl},Symbol.toStringTag,{value:"Module"})),Ne={routeView:()=>me(()=>import("./route-view.ea2c570e.js"),["./route-view.ea2c570e.js",".pnpm.406c1252.js","..\\css\\.pnpm.c37a7d79.css"],import.meta.url),blankView:()=>me(()=>import("./blank-view.ae13d5df.js"),["./blank-view.ae13d5df.js",".pnpm.406c1252.js","..\\css\\.pnpm.c37a7d79.css"],import.meta.url)},pl=t=>{if(!t)return Ne.blankView;if(t in Ne)return Ne[t];const e=io(t??"");return dl[e]},fl=t=>{const e=[];for(const n of t)if(n.path){const o={path:`/${n.path}`,name:n.path.replace("/","_"),component:pl(n.component),redirect:n==null?void 0:n.redirect,meta:{title:n.title,path:n.path,pid:n.pid,icon:n.icon,moduleName:n.module,method:n.method,ajaxParams:n.auth_params},children:[]};(!o.children||o.children.length<1)&&delete o.children,e.push(o)}return e},hl=async()=>{const{active:t,list:e}=await ko();if(e.length>0){kt.redirect=t;const n=fl(e);return{menus:e,routes:{...kt,children:n}}}},Xt=(t,e)=>{var s;const n=[];let o=[];e?o=t.filter(a=>a.pid===e):o=t.filter(a=>!a.pid);for(const a of o){const r={key:String(a.id),menuTitle:a.title,menuIcon:a.icon,ajaxParams:a.auth_params,path:a.path,show:a.show==="1",pid:a.pid,target:a.target??"_blank",children:Xt(t,a.id)},d=(s=r==null?void 0:r.children)==null?void 0:s.filter(_=>_==null?void 0:_.show);d!=null&&d.length&&r.pid!==0&&(r.type="group"),a!=null&&a.title&&(r.label=()=>Y(js,{MenuItem:r})),a!=null&&a.icon&&(r.icon=()=>Y(A,{icon:a==null?void 0:a.icon})),(!r.children||r.children.length<1)&&delete r.children,n.push(r)}return n},ve=Rt("user",()=>{const t=Pe(),e=y(),n=y(),o=y(),s=z(()=>Xt(o.value??[])),a=p=>{t.value=p},r=async p=>{const{notification:i}=B(),{msg:c,data:u}=await xo(p);u!=null&&u.token?(a(u.token),i==null||i.success({title:c||"登录成功",duration:1500})):i==null||i.success({title:"系统错误",content:"登录失败",duration:1500})},d=p=>{e.value=p};return{token:t,setToken:a,login:r,userInfo:e,setUserInfo:d,getUserInfo:async()=>{const{data:p}=await Co();p&&d(p)},routerRecords:n,generateDynameicRoutes:async()=>{const p=await hl();return p!=null&&p.routes&&(o.value=p.menus,n.value=p.routes.children),p==null?void 0:p.routes},menuData:o,getMenusData:s}}),_l=()=>{const t=se(),e=ve(),n=Et({active:""}),o=a=>{var d;const r=(d=e.menuData)==null?void 0:d.find(_=>`/${_.path}`===a);return String(r==null?void 0:r.id)},s=a=>{n.active=o(a)};return Xe(()=>t.fullPath,()=>{s(t.path)}),{...Yn(n),updateActive:s}},[ml,gl]=Zn(_l),vl=()=>gl()??{active:y(""),updateActive:()=>{}},yl=E({__name:"App",setup(t){return ml(),(e,n)=>{const o=Kn,s=we("router-view"),a=oo,r=St;return m(),$(r,null,{default:w(()=>[v(o),v(a,null,{default:w(()=>[v(s)]),_:1})]),_:1})}}}),bt=(t,e)=>(t.forEach(n=>{e.push(n.path)}),e),Pt=t=>{for(const e of t){const n=e.remote,o={path:e.path,name:n.replace("/","_"),component:Y(fe,{file:n}),props:{file:n},meta:{title:e.title,path:e.path,pid:0,moduleName:"admin",method:"GET",ajaxParams:n}};N.addRoute(o)}},en="/login",ue=y(["/error","/404","/403","/500","/401"]),Me=y([...ue.value,en]);let Ae=!1;N.beforeEach(async(t,e,n)=>{var h,p,i,c,u;const o=Pe(),s=lt(),a=Q(),r=ve();(h=B().loadingBar)==null||h.start();const _=(p=t.query)==null?void 0:p.token;if(_&&r.setToken(_),(i=t.query)!=null&&i.appid&&(s.value=(c=t.query)==null?void 0:c.appid),_){n({path:"/"});return}if(o.value){if(!r.userInfo&&!ue.value.includes(t.path))try{const f=await a.getSite();if(f!=null&&f.login_link&&a.setLoginLink(f==null?void 0:f.login_link),f!=null&&f.remote_url&&!Ae){const b=f==null?void 0:f.remote_url;ue.value=bt(b,ue.value),Pt(b),Ae=!0}await r.getUserInfo();const k=await r.generateDynameicRoutes();k&&N.addRoute(k),n({...t,replace:!0});return}catch(f){if(f instanceof Qn&&((u=f==null?void 0:f.response)==null?void 0:u.status)===401)return;n({path:"/error",query:{redirect:t.path}});return}}else{if(!Ae){const f=await a.getSite();if(f!=null&&f.login_link&&a.setLoginLink(f==null?void 0:f.login_link),f!=null&&f.remote_url){const k=f==null?void 0:f.remote_url;ue.value=bt(k,ue.value),Me.value=[...Me.value,...ue.value],Pt(k),Ae=!0,n({...t,replace:!0});return}}if(!Me.value.includes(t.path)){n({path:en,query:{redirect:t.path}});return}}n()});N.afterEach(t=>{var s,a,r,d,_;(s=B().loadingBar)==null||s.finish();const n=Q(),o=(a=t.meta)==null?void 0:a.title;o?document.title=`${o} - ${(r=n.site)==null?void 0:r.web_name} v${Vt}`:(d=n.layout)!=null&&d.title&&(document.title=(_=n.layout)==null?void 0:_.title)});const xl=t=>{t.use(_e),t.config.globalProperties.$XModal=_e.modal,t.config.globalProperties.$XPrint=_e.print,t.config.globalProperties.$XSaveFile=_e.saveFile,t.config.globalProperties.$XReadFile=_e.readFile},wl=Xn(),tn=document.createElement("meta");tn.name="naive-ui-style";document.head.appendChild(tn);const Se=eo(yl);xl(Se);Se.use(N);Se.use(wl);Se.mount("#app");it.vue=Se;export{X as _,ve as a,kl as b,xt as c,Vt as s,Q as u};
