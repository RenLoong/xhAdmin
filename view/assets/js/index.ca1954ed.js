import{m as cn,d as A,u as un,a as dn,b as pn,c as fn,r as oe,e as y,z as hn,f as mn,o as _,g as E,w,h as v,i as l,_ as _n,j as gn,N as vn,k as yn,l as At,n as xn,p as wn,q as kn,s as Cn,t as et,v as tt,x as bn,y as Dt,A as Rt,B as se,C as nt,D as Ce,E as be,F as q,G as C,H as ae,I as Pe,J as T,K as Pn,L as de,M as X,O as Sn,P as En,Q as Je,R as Bt,S as $n,T as ot,U as An,V as Tt,W as we,X as D,Y as re,Z as qe,$ as at,a0 as F,a1 as Se,a2 as Ze,a3 as H,a4 as ne,a5 as $,a6 as Ut,a7 as jt,a8 as Y,a9 as V,aa as W,ab as Gt,ac as Dn,ad as st,ae as Rn,af as Bn,ag as Tn,ah as Un,ai as jn,aj as Gn,ak as vt,al as In,am as Fn,an as qn,ao as On,ap as zn,aq as Nn,ar as yt,as as Hn,at as Mn,au as Vn,av as me,aw as It,ax as xt,ay as Wn,az as Ln,aA as Jn,aB as Zn,aC as Ft,aD as qt,aE as Ot,aF as Kn,aG as Yn,aH as Qn,aI as Xn,aJ as eo,aK as to,aL as no}from"./.pnpm.dcaa090d.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const zt={},B=()=>zt,oo=t=>{cn(zt,t)},ao=A({__name:"naive-provider",setup(t){const e=un(),n=dn(),o=pn(),s=fn();return oo({notification:e,message:n,dialog:o,loadingBar:s}),(a,i)=>oe(a.$slots,"default")}}),so=A({__name:"index",setup(t){const e=y(hn),n=y(mn);return(o,s)=>{const a=_n,i=gn,u=vn,h=yn,p=At;return _(),E(p,{locale:l(e),"date-locale":l(n)},{default:w(()=>[v(h,null,{default:w(()=>[v(u,null,{default:w(()=>[v(i,null,{default:w(()=>[v(a,null,{default:w(()=>[v(ao,null,{default:w(()=>[oe(o.$slots,"default")]),_:3})]),_:3})]),_:3})]),_:3})]),_:3})]),_:3},8,["locale","date-locale"])}}}),lo={title:"",layout:"mix",headerHeight:50,footerHeight:35,accordion:!0,collapsed:!1,siderWidth:230,siderCollapsedWidth:80,showSiderTrigger:"arrow-circle",inverted:!0,logoSize:35,rootIndent:18,indent:32},ro="modulepreload",co=function(t,e){return new URL(t,e).href},wt={},_e=function(e,n,o){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=co(a,o),a in wt)return;wt[a]=!0;const i=a.endsWith(".css"),u=i?'[rel="stylesheet"]':"";if(!!o)for(let f=s.length-1;f>=0;f--){const d=s[f];if(d.href===a&&(!i||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${u}`))return;const p=document.createElement("link");if(p.rel=i?"stylesheet":ro,i||(p.as="script",p.crossOrigin=""),p.href=a,document.head.appendChild(p),i)return new Promise((f,d)=>{p.addEventListener("load",f),p.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())},io=[{path:"/login",name:"Login",component:()=>_e(()=>import("./index.07696a34.js"),["./index.07696a34.js",".pnpm.dcaa090d.js","..\\css\\.pnpm.c37a7d79.css","..\\css\\index.d42b6c71.css"],import.meta.url),meta:{title:"用户登录"}},{path:"/redirect/:path(.*)",name:"redirect",component:()=>_e(()=>import("./index.a37db4a7.js"),["./index.a37db4a7.js",".pnpm.dcaa090d.js","..\\css\\.pnpm.c37a7d79.css"],import.meta.url)},{path:"/error",name:"error",meta:{title:"找不到页面"},component:()=>_e(()=>import("./error.fef40b04.js"),["./error.fef40b04.js",".pnpm.dcaa090d.js","..\\css\\.pnpm.c37a7d79.css"],import.meta.url)},{path:"/:pathMatch(.*)",component:()=>_e(()=>import("./error.fef40b04.js"),["./error.fef40b04.js",".pnpm.dcaa090d.js","..\\css\\.pnpm.c37a7d79.css"],import.meta.url)}],M=xn({routes:[...io],history:wn("/")}),Oe=()=>{var n,o;const t=M.currentRoute.value;let e="";return(n=t==null?void 0:t.meta)!=null&&n.moduleName?e=(o=t==null?void 0:t.meta)==null?void 0:o.moduleName:e=location.pathname.replace(/^\/(.*)\/$/,"$1"),e},ze=(t="",e=!1)=>{var a;const n=M.currentRoute.value,o=((a=n==null?void 0:n.meta)==null?void 0:a.moduleName)??"",s=y(n.path);if(e){const i=s.value.indexOf("/",1);s.value=s.value.substring(0,i),s.value=`${s.value}/`}return`${o}${s.value}${t}`},lt=t=>{let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},uo=t=>{lt(t)?location.href=t:M.push(t)};function Ve(t=6){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return e}const Q=(t,e)=>{for(const n in e)if(e[n]===t)return!0;return!1},Ie=()=>{var n;const t=M.currentRoute.value,{notification:e}=B();(n=t.query)!=null&&n.isBack?M.back():e==null||e.error({title:"返回上次页面错误",duration:2e3})},po=t=>t.replace(/\/(\w)/g,(e,n)=>n.toUpperCase()),Cl=(t,e="Enter")=>{const n=o=>{o.key===e&&(t(),o.preventDefault())};kn(()=>document.addEventListener("keydown",n)),Cn(()=>document.removeEventListener("keydown",n))},fo=t=>{let e;const n={},o=t.slice(t.indexOf("?")+1).split("&");for(let s=0;s<o.length;s++)e=o[s].split("="),n[e[0]]=e[1];return n},ho=t=>{const e=new URLSearchParams;for(const[o,s]of Object.entries(t))e.append(o,s);return e.toString()},ge=(t,e)=>{let n=t,o=0;function s(){n=n[e[o]],o++,o<e.length&&n&&s()}return s(),n},rt="Authorization",ct="Appid",Ee=et(()=>{const t=Oe();return tt(`${t}_${rt}`,null)}),ve=et(()=>{const t=Oe();return tt(`${t}_${ct}`,null)}),Nt="/",J=bn.create({baseURL:Nt,timeout:6e4}),mo=async t=>{const e=Ee();e.value&&t.headers.set(rt,e.value);const n=ve();return n.value&&t.headers.set(ct,n.value),t},_o=t=>{var s;const{notification:e}=B(),n=Ee(),o=t.data;return t.headers["content-type"]==="application/json"?Q(o==null?void 0:o.code,[404,500])?(e==null||e.error({title:"温馨提示",content:(o==null?void 0:o.msg)||"网络错误",duration:1500}),Promise.reject(t.data)):(o==null?void 0:o.code)===200?o:((o==null?void 0:o.code)===12e3&&(n.value="",M.replace({path:"/login",query:{redirect:(s=M.currentRoute.value)==null?void 0:s.fullPath}})),Promise.reject(t.data)):t.headers["content-type"]==="application/octet-stream"?Promise.resolve(o):Promise.resolve(t)},go=t=>{const{notification:e}=B();if(t.response){const{data:n,status:o,statusText:s}=t.response;o===401?e==null||e.error({title:"温馨提示",content:(n==null?void 0:n.msg)||s,duration:1500}):o===403?e==null||e.error({title:"资源请求错误",content:(n==null?void 0:n.msg)||s,duration:1500}):o===500?e==null||e.error({title:"服务器错误",content:(n==null?void 0:n.msg)||s,duration:1500}):e==null||e.error({title:"系统错误",content:(n==null?void 0:n.msg)||s,duration:1500})}return Promise.reject(t)};J.interceptors.request.use(mo);J.interceptors.response.use(_o,go);const pe=(t,e,n)=>J.request({url:t,params:e,method:"GET",...n}),it=(t,e,n)=>J.request({url:t,data:e,method:"POST",...n}),ut=(t,e,n)=>J.request({url:t,data:e,method:"PUT",...n}),Ne=(t,e,n)=>J.request({url:t,data:e,method:"DELETE",...n}),vo=Object.freeze(Object.defineProperty({__proto__:null,baseURL:Nt,default:J,useDelete:Ne,useGet:pe,usePost:it,usePut:ut},Symbol.toStringTag,{value:"Module"})),yo=Oe(),xo=`${yo}/Publics/site`,wo=()=>pe(xo),ko=et(()=>{const t=Oe();return tt(`${t}-layout-theme`,lo)}),Z=Dt("app",()=>{const t=ko(),e=Rt(l(t)),n=y(),o=y(),s=y(),a=p=>{s.value=p},i=p=>{o.value=p},u=p=>{e.title=p.web_title,e.web_name=p.web_name;const f=new URL("data:image/png;base64,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",self.location).href;e.logo=(p==null?void 0:p.web_logo)==="string"?p.web_logo:f,n.value=p};return{layout:e,getSite:async()=>{const{data:p}=await wo();return u(p),p},site:n,dynameicRemoteRoute:o,setDynameicRemoteRoute:i,loginLink:s,setLoginLink:a}}),Co=t=>{var o;const n=(o=Z().site)==null?void 0:o.public_api.login;return it(n,t)},bo=()=>{var n;const e=(n=Z().site)==null?void 0:n.public_api.loginout;return Ne(e)},Po=()=>{var n;const e=(n=Z().site)==null?void 0:n.public_api.user;return pe(e)},So=async()=>{var o;const e=(o=Z().site)==null?void 0:o.public_api.menus,{data:n}=await pe(e);return n},kt=A({__name:"route-view",setup(t){const e=se(),n=()=>`${new Date().getTime()}${Math.random()}`,o=y("");return nt(()=>e.fullPath,()=>{o.value=n()}),(s,a)=>{const i=Ce("router-view");return _(),E(i,{key:l(o)})}}}),Eo=A({__name:"logo",props:{collapsedWidth:null,headerHeight:null,size:{default:30},src:null,inverted:{type:Boolean}},setup(t){const e=t;be(s=>({a225a460:l(o),"069e2b22":l(n)}));const n=q(()=>`${e.headerHeight}px`),o=q(()=>`${e.collapsedWidth}px`);return(s,a)=>{const i=Pe;return _(),C("div",{class:ae(["pro-admin-layout-header flex items-center justify-center",{"bg-[#011528]":t.inverted}])},[v(i,{src:t.src,width:t.size,height:t.size,"preview-disabled":""},null,8,["src","width","height"])],2)}}});const ee=(t,e)=>{const n=t.__vccOpts||t;for(const[o,s]of e)n[o]=s;return n},Ht=ee(Eo,[["__scopeId","data-v-65fa780c"]]),$o=A({__name:"title",props:{headerHeight:null,layout:null,title:null,size:{default:16},inverted:{type:Boolean}},setup(t){const e=t;be(s=>({"5a04372c":l(n)}));const n=q(()=>`${e.headerHeight}px`),o=q(()=>({fontSize:`${e.size}px`}));return(s,a)=>(_(),C("div",{class:ae(["pro-admin-tabs-layout-header flex items-center flex-1 truncate select-none",{"justify-center":t.inverted}]),style:Pn(l(o))},T(t.title),7))}});const Mt=ee($o,[["__scopeId","data-v-be8d9a40"]]),Vt=A({__name:"layout-content",setup(t){const e=de();return(n,o)=>{const s=Sn;return _(),E(s,X(l(e),{style:{"--n-color":"var(--pro-admin-layout-content-bg)"}}),{default:w(()=>[oe(n.$slots,"default")]),_:3},16)}}}),Ke=A({__name:"layout-sider",setup(t){const e=de();return(n,o)=>{const s=En;return _(),E(s,X({"collapse-mode":"width"},l(e)),{default:w(()=>[oe(n.$slots,"default")]),_:3},16)}}}),dt={vue:null},U=A({__name:"index",props:{icon:null,depth:null,size:{default:18},color:null},setup(t){return(e,n)=>{const o=Bt;return _(),E(o,{component:l(Je)[t.icon],size:t.size,depth:t.depth,color:t.color},null,8,["component","size","depth","color"])}}}),Ao=(t,e)=>{const n=y((t==null?void 0:t.file)??""),o=y(),s=y(""),a=y(""),i=y(Ve()),u=()=>{if(!n.value){s.value="config";return}s.value="loading";const g=`${n.value}.vue`;pe(g).then(x=>{a.value=x,s.value="success",e("update:init",x)}).catch(x=>{console.error(x),s.value="fail",e("update:error",x)})};u();const h=(g,x="el-icon-warning",b="font-size:26px;color:red;")=>({template:`
        <div class="remote-loading">
            <div class="${x}" style="${b}"></div>
            <div class="mt-5px">${g}</div>
        </div>
        `}),p=(g,x)=>{$n.render(g).then(b=>{const S=document.createElement("style");if(S.setAttribute("type","text/css"),S.setAttribute("id",`css${x}`),S.styleSheet)S.styleSheet.cssText=b.css;else{const j=document.createTextNode(b.css);S.appendChild(j)}const R=document.getElementsByTagName("head");R.length?R[0].appendChild(S):document.documentElement.appendChild(S)})},f=g=>({templates:g.match(/<template>([\s\S]*)<\/template>/)[1],sctipts:g.match(/<script.*>([\s\S]*)<\/script>/)[1],styles:g.match(/<style.*>([\s\S]*)<\/style>/)[1]}),d=()=>{const g=dt.vue,{notification:x,message:b,dialog:S,loadingBar:R}=B(),j=ot(),G=se(),L=xe(),te=Z();g.config.globalProperties.$userApp=L,g.config.globalProperties.$siteApp=te,g.config.globalProperties.$routeApp=G,g.config.globalProperties.$routerApp=j,g.config.globalProperties.$http=vo,g.config.globalProperties.$echarts=An,g.component("AppIcons",U),Tt.install(g),g.config.globalProperties.$useNotification=x,g.config.globalProperties.$useMessage=b,g.config.globalProperties.$useDialog=S,g.config.globalProperties.$useLoadingBar=R},c=(g,x,b)=>{const S=f(x),R=S.sctipts.indexOf("{"),j=S.sctipts.lastIndexOf("}"),G=S.sctipts.slice(R,j+1),L=new Function(`return ${G}`)();if(!L)return h("远程组件代码格式解析失败");if(L.template=S==null?void 0:S.templates,g.setAttribute("class",`remote css${b}`),!document.querySelector(`style[id=css${b}]`)){const te=`
            .css${b}{
                ${S.styles}
            }
        `;p(te,b)}return d(),L},r=q(()=>s.value==="config"?h("请先配置远程文件"):s.value==="fail"?h("远程组件加载失败"):a.value?c(o.value,a.value,i.value):h("正在加载中..."));return{fileUrl:n,remoteRef:o,loadingStatus:s,componentFile:a,cssId:i,currentView:r,hanldWin:g=>{n.value=g,i.value=Ve(),u()},hanldReload:()=>{i.value=Ve(),u()},hanldClose:()=>{t!=null&&t.modal&&e("update:closeWin")}}},Do=A({__name:"index",emits:["update:init","update:success","update:error","update:closeWin"],setup(t,{emit:e}){const n=de(),{remoteRef:o,loadingStatus:s,currentView:a,hanldClose:i,hanldReload:u,hanldWin:h}=Ao(n,e);return(p,f)=>(_(),C("div",{ref_key:"remoteRef",ref:o,class:"h-100%"},[l(s)==="success"?(_(),E(we(l(a)),X({key:0},l(n),{"onUpdate:openWin":l(h),"onUpdate:reloadWin":l(u),"onUpdate:closeWin":l(i)}),null,16,["onUpdate:openWin","onUpdate:reloadWin","onUpdate:closeWin"])):D("",!0)],512))}});const fe=ee(Do,[["__scopeId","data-v-6270af91"]]),Wt=A({__name:"header-left",setup(t){const n=Z().site,o=n==null?void 0:n.public_api;return(s,a)=>{var i,u;return _(),C("div",null,[(i=l(o))!=null&&i.header_left_file?(_(),E(fe,{key:0,file:(u=l(o))==null?void 0:u.header_left_file},null,8,["file"])):D("",!0)])}}}),Lt=A({__name:"header-right",setup(t){const n=Z().site,o=n==null?void 0:n.public_api.header_right_file;return(s,a)=>{const i=re;return _(),E(i,{size:10,class:"h-100%"},{default:w(()=>[l(o)?(_(),E(fe,{key:0,file:l(o)??""},null,8,["file"])):D("",!0),v(l(bs))]),_:1})}}});function Ro(){const t=dt.vue;Tt.install(t)}const Bo={form:{labelPlacement:"top"},row:{gutter:30,alignItems:"center"},global:{"*":{}},submitBtn:!1,resetBtn:!1},To=t=>t.map(e=>(e.handle=n=>{if((e==null?void 0:e.where)==="==")return n===e.value;if((e==null?void 0:e.where)==="!=")return n!==e.value;if((e==null?void 0:e.where)==="in"){const o=e.value;return o instanceof Array&&o instanceof Object?Q(n,e.value):(console.error("联动组件的IN条件值必须是数组或对象"),!1)}},e)),Uo=t=>t.map(e=>(e!=null&&e.control&&(e.control=To(e.control)),e)),jo=(t,e)=>{const n=y({}),o=y({api:"",method:"POST"}),s=y(""),a=y({}),i=y([]),u=y(Bo),h=qe(),p=()=>{var P,g;const{notification:c}=B(),r=M.currentRoute.value,m={...r==null?void 0:r.query};m!=null&&m.isBack&&(m==null||delete m.isBack);const k={method:((P=o.value)==null?void 0:P.method)??"GET",params:{...t.ajaxParams},data:{}};o.value.method==="GET"?k.params={...a.value}:k.data={...a.value},e("update:submit",{api:o.value.api,queryParams:k}),J(((g=o.value)==null?void 0:g.api)??"",k).then(x=>{var b;(b=r.query)!=null&&b.isBack&&!t.isModal&&!s.value?Ie():s.value&&uo(s.value),e("update:success",x),c==null||c.success({title:(x==null?void 0:x.msg)??"操作失败",duration:1500})}).catch(x=>{e("update:error",x)})},f=()=>{const{notification:c}=B();n.value.resetFields(),c==null||c.success({title:"数据重置成功",duration:1500}),e("update:rest")},d=y({method:t.method,params:{},data:{}});return t.method==="GET"?d.value.params={...t.ajaxParams}:d.value.data={...t.ajaxParams},J((t==null?void 0:t.api)??"",d.value).then(c=>{const{data:r}=c,{notification:m}=B();if(!(r!=null&&r.http))return m==null||m.error({title:"提交接口获取失败",duration:2e3}),Promise.reject(new Error("提交接口获取失败"));if(!(r!=null&&r.formRule))return m==null||m.error({title:"表单规则获取失败",duration:2e3}),Promise.reject(new Error("表单规则获取失败"));o.value=r.http,i.value=Uo(r.formRule),u.value={...u.value,...r.config},s.value=(r==null?void 0:r.redirect)??"",e("update:init",{response:r,exposed:h.exposed})}).catch(c=>{e("update:error",c)}),{fApi:n,submitAPI:o,redirectUrl:s,formData:a,formRule:i,formConfig:u,hanldSubmit:p,hanldReset:f}},Go={};function Io(t,e){return _(),C("div",null," 高德地图 ")}const Fo=ee(Go,[["render",Io]]),qo={};function Oo(t,e){return _(),C("div",null," 百度地图 ")}const zo=ee(qo,[["render",Oo]]),ye=A({__name:"buttons",props:{extraConfig:null},emits:["update:init","update:submit","update:rest"],setup(t,{expose:e,emit:n}){const o=qe(),s=y(!1),a=h=>{s.value=h},i=()=>{a(!0),n("update:submit")},u=()=>{a(!0),n("update:rest")};return at(()=>{n("update:init",{exposed:o.exposed})}),e({setDisabled:a}),(h,p)=>{var c;const f=Se,d=re;return(c=t.extraConfig.submitBtn)!=null&&c.show?(_(),E(d,{key:0,justify:"center",size:30,class:"py-3 b-t-1px"},{default:w(()=>{var r,m,k,P;return[(r=t.extraConfig.submitBtn)!=null&&r.show?(_(),E(f,X({key:0},((m=t.extraConfig)==null?void 0:m.submitBtn)??{},{loading:l(s),disabled:l(s),onClick:i}),{default:w(()=>{var g;return[F(T(l(s)?"请求中...":((g=t.extraConfig.submitBtn)==null?void 0:g.content)??"提交"),1)]}),_:1},16,["loading","disabled"])):D("",!0),(k=t.extraConfig.resetBtn)!=null&&k.show?(_(),E(f,X({key:1},((P=t.extraConfig)==null?void 0:P.resetBtn)??{},{disabled:l(s),onClick:u}),{default:w(()=>{var g;return[F(T(((g=t.extraConfig.resetBtn)==null?void 0:g.content)??"重置"),1)]}),_:1},16,["disabled"])):D("",!0)]}),_:1})):D("",!0)}}}),No={class:"h-450px overflow-y-auto p-5"},Ho=$("div",{class:"text-blueGray pt-2 select-none"}," 温馨提示：单击图标为选择，双击图标为复制 ",-1),Mo=["title","alt","onClick","onDblclick"],Vo=A({__name:"icons-mgr",emits:["update:init","update:copy","update:click","update:confirm"],setup(t,{expose:e,emit:n}){const{notification:o}=B(),s=qe(),a=y(Object.keys(Je)),i=y(""),u=y(""),h=d=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(d).then(c=>{});else{const c=document.createElement("input");c.value=d,document.body.appendChild(c),c.select(),document.execCommand("Copy"),c.remove()}n("update:copy",d),o==null||o.success({title:"复制成功",duration:1500})},p=d=>{i.value=d===i.value?"":d,n("update:click",i.value)},f=()=>(n("update:confirm",i.value??""),i.value);return at(()=>{n("update:init",{exposed:s.exposed})}),e({hanldConfirm:f}),(d,c)=>{const r=Ut,m=jt,k=Bt,P=re;return _(),C("div",No,[v(m,null,{default:w(()=>[v(r,{modelValue:l(u),"onUpdate:modelValue":c[0]||(c[0]=g=>Ze(u)?u.value=g:null),placeholder:"可输入搜索图标名称"},null,8,["modelValue"])]),_:1}),Ho,v(P,{justify:"space-around",class:"pt-5",size:22},{default:w(()=>[(_(!0),C(H,null,ne(l(a).filter(g=>g.includes(l(u))),g=>(_(),C("div",{key:g,class:ae([{"bg-slate":g===l(i)},"hover:bg-slate px-2 py-1 border-sm cursor-pointer"]),title:g,alt:g,onClick:x=>p(g),onDblclick:x=>h(g)},[v(k,{component:l(Je)[g],size:26,color:"#555"},null,8,["component"])],42,Mo))),128))]),_:1})])}}}),Wo={class:"w-100%"},Lo=A({__name:"index",props:{modelValue:null},emits:["update:modelValue"],setup(t,{emit:e}){const{dialog:n,notification:o}=B(),s=y(),a=y(),i=y({submitBtn:{type:"success",content:"确定",show:!0},resetBtn:{type:"warning",content:"关闭",show:!0}}),u=()=>{e("update:modelValue","")},h=()=>{s.value=n==null?void 0:n.create({class:"pro-admin-dialog",title:"图标管理器",maskClosable:!1,showIcon:!1,style:{width:"45%"},content:()=>Y(Vo,{"onUpdate:init":p=>{a.value=p==null?void 0:p.exposed}}),action:()=>Y(ye,{extraConfig:i.value,"onUpdate:submit":()=>{var f,d;const p=(f=a.value)==null?void 0:f.hanldConfirm();p?(e("update:modelValue",p),(d=s.value)==null||d.destroy()):o==null||o.error({title:"请选择图标",duration:1500})},"onUpdate:rest":()=>{var p;(p=s.value)==null||p.destroy()}})})};return(p,f)=>{const d=Ut,c=Se,r=jt;return _(),C("div",Wo,[v(r,null,{default:w(()=>[v(d,{value:t.modelValue,placeholder:"请选择图标",disabled:""},null,8,["value"]),v(c,{type:"warning",onClick:u},{default:w(()=>[F(" 重置图标 ")]),_:1}),v(c,{type:"success",onClick:h},{default:w(()=>[F(" 选择图标 ")]),_:1})]),_:1})])}}}),Jo={};function Zo(t,e){return _(),C("div",null," 腾讯地图 ")}const Ko=ee(Jo,[["render",Zo]]),Yo=A({__name:"index",setup(t){const e=de();return(n,o)=>(_(),E(l(fe),V(W(l(e))),null,16))}}),z=(t,e)=>{const n=new Event(t);e&&(n.dataFul=e),window.dispatchEvent(n)},Jt=(t,e)=>new Promise(n=>{const{dialog:o}=B(),{notification:s}=B();o==null||o.warning({title:"温馨提示",content:"是否确认删除该数据？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{Ne(t,{id:e}).then(async i=>{n(i),s==null||s.success({title:(i==null?void 0:i.msg)??"操作成功",duration:1500})})}})}),Ye=(t,e,n,o)=>new Promise(s=>{const{dialog:a}=B(),i=y(),u=y({hanldSubmit:()=>{},hanldReset:()=>{}}),h=y({submitBtn:{type:"success",content:"确定",show:!0},resetBtn:{type:"warning",content:"取消",show:!0}}),p={title:t,class:"pro-admin-dialog",style:{width:"45%"},showIcon:!1,maskClosable:!1,content:()=>Y(ft,{api:e,method:n,isModal:!0,ajaxParams:o??{},"onUpdate:init":f=>{var d,c;u.value.hanldSubmit=(d=f==null?void 0:f.exposed)==null?void 0:d.hanldSubmit,u.value.hanldReset=(c=f==null?void 0:f.exposed)==null?void 0:c.hanldReset},"onUpdate:success":f=>{var d;s(f),(d=i.value)==null||d.destroy()}}),action:()=>Y(ye,{extraConfig:h.value,"onUpdate:submit":()=>{u.value.hanldSubmit()},"onUpdate:rest":()=>{var f;(f=i.value)==null||f.destroy()}})};i.value=a==null?void 0:a.create(p)}),Qo=()=>{const t=Z();return{getCategory:async()=>{var p;const u=((p=Z().site)==null?void 0:p.uploadify_cate.index)??"",{data:h}=await pe(u);return h},hanldClickCate:async(i,u)=>{i!==u&&(z("uploadify:cateActive",{active:u}),z("uploadify:files",{cid:u}))},hanldAddCate:()=>{var u;const i=((u=t.site)==null?void 0:u.uploadify_cate.add)??"";Ye("添加分类",i,"GET",{}).then(async()=>{z("uploadify:category"),z("uploadify:files")})},hanldEditCate:i=>{var h;const u=((h=t.site)==null?void 0:h.uploadify_cate.edit)??"";Ye("添加分类",u,"GET",{id:i}).then(async()=>{z("uploadify:category"),z("uploadify:files")})},hanldDelCate:i=>{var h;const u=((h=t.site)==null?void 0:h.uploadify_cate.del)??"";Jt(u,i).then(async()=>{z("uploadify:category"),z("uploadify:files")})}}},Xo=()=>{const t=Z(),{notification:e,dialog:n}=B();return{getUploadifyList:async d=>{var m;const c=((m=t.site)==null?void 0:m.uploadify_api.index)??"",{data:r}=await pe(c,d);return r},hanldEditFile:d=>{var r;const c=((r=t.site)==null?void 0:r.uploadify_api.edit)??"";Ye("修改附件",c,"GET",{id:d}).then(async()=>{z("uploadify:files")})},hanldDelFile:d=>{var r;const c=((r=t.site)==null?void 0:r.uploadify_api.del)??"";Jt(c,d).then(async()=>{z("uploadify:files")})},hanldDelsFile:d=>{if(!(d!=null&&d.length)){e==null||e.error({title:"请勾选需要删除的附件",duration:1500});return}n==null||n.warning({title:"温馨提示",content:"是否确认删除选中的数据？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{var r;const c=((r=t.site)==null?void 0:r.uploadify_api.del)??"";d.forEach(m=>{Ne(c,{id:m}).then(P=>{z("uploadify:files"),e==null||e.success({title:(P==null?void 0:P.msg)??"操作完成",duration:1500})})}),z("uploadify:clearCheckbox")}})},hanldMoveFile:(d,c)=>{var k;if(!(c!=null&&c.length)){e==null||e.error({title:"请勾选需要移动的附件",duration:1500});return}const r=((k=t.site)==null?void 0:k.uploadify_api.move)??"";ut(r,{cate_id:d,ids:c}).then(P=>{z("uploadify:files"),z("uploadify:clearSelected"),z("uploadify:clearCheckbox"),e==null||e.success({title:(P==null?void 0:P.msg)??"操作完成",duration:1500})})},hanldSelected:(d,c,r)=>{if(r===1){c[0]=d;return}if(!(c!=null&&c.length)){c==null||c.push(d);return}if(!(c!=null&&c.find(m=>m===d)))c==null||c.push(d);else for(let m=0;m<c.length;m++)if(c[m]===d){c.splice(m,1);break}},hanldCheckBox:(d,c)=>{if(!(d!=null&&d.length)){d==null||d.push(c);return}if(!(d!=null&&d.find(r=>r===c)))d==null||d.push(c);else for(let r=0;r<d.length;r++)if(d[r]===c){d.splice(r,1);break}},uploadFinish:d=>{var r,m;const c=(m=(r=d==null?void 0:d.event)==null?void 0:r.target)!=null&&m.response?JSON.parse(d.event.target.response):{msg:"上传结束",code:404};c.code===200?(z("uploadify:cateActive",{active:""}),z("uploadify:files"),e==null||e.success({title:c.msg??"上传完成",duration:1500})):e==null||e.error({title:c.msg??"上传失败",duration:1500})}}},ea=()=>({handlePageChange:e=>{const n={page:e.currentPage,limit:e.pageSize};z("uploadify:paginator",n)}}),pt=t=>(Un("data-v-8afbe171"),t=t(),jn(),t),ta={class:"h-550px flex border-solid border-t-1 mt-15px"},na={class:"w-150px h-100% border-solid border-r-1 overflow-y-auto overflow-x-hidden"},oa={class:"text-12px flex"},aa=pt(()=>$("span",{class:"pl-1"},"全部分类",-1)),sa=["title","onClick","onDblclick"],la={class:"text-12px flex"},ra={class:"pl-1 truncate"},ca={class:"h-100% flex-1 flex flex-col"},ia={class:"flex justify-between items-center h-55px px-5"},ua=pt(()=>$("div",{class:"text-12px text-dark"},null,-1)),da={class:"flex-1 overflow-y-auto overflow-x-hidden border-solid border-t-1 p-3"},pa={class:"w-100% h-120px"},fa=pt(()=>$("div",{class:"w-100% h-100% flex items-center justify-center bg-gray select-none"}," 图片加载失败 ",-1)),ha={class:"absolute bottom-39px left-0 right-0 text-center py-3px text-white bg-[rgba(0,0,0,0.5)] text-12px truncate"},ma={class:"flex justify-between p-2"},_a={class:"flex space-x-2"},ga={class:"h-55px flex items-center justify-center border-solid border-t-1"},va=A({__name:"uploadify",props:{modelValue:null,format:null,limit:{default:1}},emits:["update:init"],setup(t,{expose:e,emit:n}){var _t;const o=t,{notification:s}=B(),a=Ee(),i=ve(),u=Z(),h=y(""),p=y([]),f=y([]),d=y([]),c=y([]),r=y([]),m=y({currentPage:1,pageSize:20,total:0,background:!0}),k=qe(),{getCategory:P,hanldClickCate:g,hanldAddCate:x,hanldEditCate:b,hanldDelCate:S}=Qo(),{getUploadifyList:R,hanldEditFile:j,hanldMoveFile:G,hanldDelFile:L,hanldDelsFile:te,hanldSelected:ce,hanldCheckBox:Ae,uploadFinish:De}=Xo(),{handlePageChange:Re}=ea(),on={[rt]:a.value??"",[ct]:i.value??""};let ht="";ht=`//${location.host}/${(_t=u.site)==null?void 0:_t.uploadify_api.upload}`;const mt=y({action:ht,headers:on,data:{cid:h.value},showFileList:!1,multiple:!0,onFinish:I=>De({...I})}),an=()=>{if(!f.value.length)return s==null||s.error({title:"请选择附件再确定",duration:1500}),[];if(f.value.length>o.limit)return s==null||s.error({title:`最多选择${o.limit}个附件`,duration:1500}),[];const I=[];for(let O=0;O<r.value.length;O++){const K=r.value[O];Q(K.id,f.value)&&I.push(K.url)}return I};return window.addEventListener("uploadify:cateActive",I=>{const{active:O}=I.dataFul;h.value=O,mt.value.data={cid:O}}),window.addEventListener("uploadify:category",async I=>{const O=await P();c.value=O,O.forEach(K=>{d.value.push({label:`移动至 -- ${K==null?void 0:K.title}`,key:K==null?void 0:K.id})})}),window.addEventListener("uploadify:selected",I=>{I.dataFul}),window.addEventListener("uploadify:clearSelected",I=>{f.value=[]}),window.addEventListener("uploadify:clearCheckbox",I=>{p.value=[]}),window.addEventListener("uploadify:files",async I=>{var Be,Te,Ue;const O=(Be=I==null?void 0:I.dataFul)==null?void 0:Be.cid,K=(Te=I==null?void 0:I.dataFul)==null?void 0:Te.page,ie=(Ue=I==null?void 0:I.dataFul)==null?void 0:Ue.limit,le=await R({cid:O,page:K,limit:ie});r.value=(le==null?void 0:le.data)??[],m.value.currentPage=le.current_page,m.value.pageSize=le.per_page,m.value.total=le.total}),window.addEventListener("uploadify:paginator",I=>{const{page:O,limit:K}=I.dataFul;m.value.currentPage=O,m.value.pageSize=K;const ie={cid:h.value,page:O,limit:K};z("uploadify:files",ie)}),at(async()=>{z("uploadify:category"),z("uploadify:files"),n("update:init",{exposed:k.exposed})}),e({hanldConfirmSelect:an}),(I,O)=>{const K=Gt,ie=Se,gt=Dn,le=st,Be=re,Te=Pe,Ue=Rn,sn=Bn,ln=Tn,rn=Ce("vxe-pager");return _(),C("div",ta,[$("div",na,[v(K,null,{default:w(()=>[F(" 附件分类 ")]),_:1}),$("div",{class:ae(["px-10px flex justify-between cursor-pointer hover:bg-[#e5e5e5] py-15px select-none",{"bg-[#e5e5e5]":l(h)===""}]),onClick:O[0]||(O[0]=N=>l(g)(l(h),""))},[$("div",oa,[v(U,{icon:"AppstoreOutlined",color:"#666"}),aa]),v(U,{icon:"FolderAddOutlined",color:"#888",onClick:l(x)},null,8,["onClick"])],2),(_(!0),C(H,null,ne(l(c),(N,Me)=>(_(),C("div",{key:Me,title:N.title,class:ae(["px-10px flex justify-between cursor-pointer hover:bg-[#e5e5e5] py-15px select-none",{"bg-[#e5e5e5]":l(h)===N.id}]),onClick:he=>l(g)(l(h),N.id),onDblclick:he=>l(b)(N.id)},[$("div",la,[v(U,{icon:"FolderOpenTwotone",color:"#666"}),$("span",ra,T(N.title),1)]),v(U,{icon:"DeleteFilled",color:"#666",onClick:he=>l(S)(N.id)},null,8,["onClick"])],42,sa))),128))]),$("div",ca,[$("div",ia,[ua,v(Be,{align:"center"},{default:w(()=>[$("div",null,[v(gt,V(W(l(mt))),{default:w(()=>[v(ie,{type:"success"},{icon:w(()=>[v(U,{icon:"UploadOutlined"})]),default:w(()=>[F(" 上传 ")]),_:1})]),_:1},16)]),$("div",null,[v(le,{trigger:"hover",options:l(d),onSelect:O[1]||(O[1]=N=>l(G)(N,l(p)))},{default:w(()=>[v(ie,{type:"warning"},{icon:w(()=>[v(U,{icon:"RotateLeftOutlined"})]),default:w(()=>[F(" 移动 ")]),_:1})]),_:1},8,["options"])]),$("div",null,[v(ie,{type:"error",onClick:O[2]||(O[2]=N=>l(te)(l(p)))},{icon:w(()=>[v(U,{icon:"RestFilled"})]),default:w(()=>[F(" 删除 ")]),_:1})])]),_:1})]),$("div",da,[v(ln,{cols:5,"y-gap":10,"x-gap":12},{default:w(()=>[(_(!0),C(H,null,ne(l(r),(N,Me)=>(_(),E(sn,{key:Me},{default:w(()=>[$("div",{class:ae(["relative border-solid border-1",l(Q)(N.id,l(f)??[])?"border-red":"border-gray"])},[$("div",pa,[v(Te,{class:"w-100% h-100% cursor-pointer !block",src:N.url,"preview-disabled":!0,onClick:he=>l(ce)(N.id,l(f),o.limit)},{placeholder:w(()=>[fa]),_:2},1032,["src","onClick"])]),$("div",ha,T(N.title),1),$("div",ma,[$("div",null,[v(Ue,{checked:l(Q)(N.id,l(p)),value:N.id,onClick:he=>l(Ae)(l(p),N.id)},null,8,["checked","value","onClick"])]),$("div",_a,[v(U,{icon:"EditOutlined",class:"cursor-pointer",color:"#555",title:"修改",size:20,onClick:he=>l(j)(N.id)},null,8,["onClick"]),v(U,{icon:"DeleteOutlined",class:"cursor-pointer",color:"#555",title:"删除",size:20,onClick:he=>l(L)(N.id)},null,8,["onClick"])])])],2)]),_:2},1024))),128))]),_:1})]),$("div",ga,[v(rn,X(l(m),{layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"],onPageChange:l(Re)}),null,16,["onPageChange"])])])])}}});const ya=ee(va,[["__scopeId","data-v-8afbe171"]]),xa={class:"absolute top-1px right-1px w-20px h-20px rounded-3px bg-[rgba(0,0,0,.45)] text-12px cursor-pointer pr-5px select-none flex items-center justify-center"},wa=A({__name:"index",props:{modelValue:null,format:null,limit:{default:1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,{dialog:o}=B(),s=y(),a=y(),i=y({submitBtn:{type:"success",content:"确定",show:!0},resetBtn:{type:"warning",content:"关闭",show:!0}}),u=p=>{const f=[...n.modelValue];f.splice(p,1),e("update:modelValue",f)},h=()=>{a.value=o==null?void 0:o.create({title:"附件管理器",class:"pro-admin-dialog",style:{width:"45%"},showIcon:!1,maskClosable:!1,content:()=>Y(ya,{...n,"onUpdate:init":p=>{s.value=p.exposed}}),action:()=>Y(ye,{extraConfig:i.value,"onUpdate:submit":()=>{var f;const p=s.value.hanldConfirmSelect();p.length&&(e("update:modelValue",p),(f=a.value)==null||f.destroy())},"onUpdate:rest":()=>{var p;(p=a.value)==null||p.destroy()}})})};return Gn(()=>{typeof n.modelValue=="string"&&e("update:modelValue",n.modelValue===""?[]:[n.modelValue])}),(p,f)=>{const d=Pe,c=re;return t.modelValue instanceof Array?(_(),E(c,{key:0},{default:w(()=>[(_(!0),C(H,null,ne(t.modelValue,(r,m)=>(_(),C("div",{key:m,class:"flex items-center justify-center w-50px h-50px relative cursor-pointer border-1 border-solid rounded-3px bg-[#f5f5f5] border-[#888]"},[v(d,{src:r},null,8,["src"]),$("div",xa,[v(U,{icon:"DeleteFilled",class:"!w-12px",size:16,color:"#fff",onClick:k=>u(m)},null,8,["onClick"])])]))),128)),$("div",{class:"flex items-center justify-center w-50px h-50px relative cursor-pointer border-1 border-solid rounded-3px bg-[#f5f5f5] border-[#888]",onClick:h},[v(U,{icon:"FolderOpenOutlined",size:28,color:"#555"})])]),_:1})):D("",!0)}}}),ka=A({__name:"index",props:{modelValue:null,style:{default:{}}},setup(t){return(e,n)=>(_(),C("div",V(W(t.style)),T(t.modelValue),17))}}),Ca={javascript:In,php:Fn,python:qn,java:On,css:zn,xml:Nn},ba=t=>(vt.registerLanguage(t,Ca[t]),vt),Pa={class:"w-100%"},Sa=["innerHTML"],Ea=A({__name:"index",props:{modelValue:null,language:{default:"javascript"},showLineNumbers:{type:Boolean}},setup(t){const e=t,o=ba(e.language).highlight(e.modelValue,{language:e.language}).value;return(s,a)=>(_(),C("div",Pa,[$("pre",null,[F("    "),$("code",{class:"hljs",innerHTML:l(o)},null,8,Sa),F(`
    `)])]))}});const $a=ee(Ea,[["__scopeId","data-v-49fee51c"]]),Ct={amap:Fo,bmap:zo,icons:Lo,qmap:Ko,remote:Yo,uploadify:wa,info:ka,HCode:$a};function Aa(t){Object.keys(Ct).forEach(e=>{t.component(e,Ct[e])})}const Da={class:"h-100%"},Zt=A({__name:"index",props:{api:null,method:{default:"GET"},ajaxParams:{default:{}},isModal:{type:Boolean,default:!1}},emits:["update:init","update:submit","update:success","update:rest","update:error"],setup(t,{expose:e,emit:n}){const o=t,{fApi:s,formData:a,formConfig:i,formRule:u,hanldSubmit:h,hanldReset:p}=jo(o,n);Ro(),yt.use(Aa);const f=yt.$form();return e({hanldSubmit:h,hanldReset:p}),(d,c)=>(_(),C("div",Da,[v(l(f),{api:l(s),"onUpdate:api":c[0]||(c[0]=r=>Ze(s)?s.value=r:null),modelValue:l(a),"onUpdate:modelValue":c[1]||(c[1]=r=>Ze(a)?a.value=r:null),modelModifiers:{lazy:!0},rule:l(u),option:l(i)},null,8,["api","modelValue","rule","option"])]))}}),Ra={class:"h-550px overflow-x-hidden overflow-y-auto p-5"},ft=A({__name:"popup",setup(t){const e=de();return(n,o)=>(_(),C("div",Ra,[v(Zt,V(W(l(e))),null,16)]))}}),Ba=(t,e,n)=>{const{notification:o}=B();if(!(n!=null&&n.file))return o==null||o.error({title:"导出数据失败，缺少[file]地址",duration:2e3}),Promise.reject(new Error("导出数据失败，缺少导出地址"));J(n==null?void 0:n.file,{responseType:"blob"}).then(s=>{Hn.saveFile({filename:t,type:e,content:s.data})})},Ta=({vxeGridConfig:t,options:e,xGrid:n})=>{var i;const{notification:o}=B();if(!((i=t.exportConfig)!=null&&i.api))return o==null||o.error({title:"请设置请求API",duration:1500}),Promise.reject(new Error("请设置请求API"));const s=n==null?void 0:n.getProxyInfo(),a={format:e.type??"xlsx",filename:e.filename??"导出文件",sheetName:e.sheetName??"",isHeader:e.isHeader??!1,original:e.original??!1,mode:e.mode??"all",pager:s?s.pager:null,ids:e.mode==="selected"?e.data.map(u=>u.id):[],fields:e.columns.map(u=>({field:u.field,title:u.title}))};return new Promise(u=>{var f;const h={method:"POST",data:{...a}},p=((f=t.exportConfig)==null?void 0:f.api)??"";J(p,h).then(d=>{const{data:c}=d;Ba(a.filename,a.format,c),u(d)})})},Ua=({vxeGridConfig:t,file:e,xGrid:n})=>{const{notification:o}=B(),s=new FormData;return s.append("file",e),new Promise(a=>{var h;const i=((h=t.importConfig)==null?void 0:h.api)??"";J(i,{method:"POST",data:s}).then(p=>{const{msg:f}=p;o==null||o.success({title:f??"操作成功",duration:1500}),n==null||n.commitProxy("query"),a(p)}).catch(p=>{console.error("导入失败",p)})})},ja=({$table:t,file:e})=>new Promise(n=>{const o=new FileReader;o.onload=s=>{const a=s.target?s.target.result:"",i=Mn(a,{type:"binary"}),u=Vn.sheet_to_json(i.Sheets.Sheet1);t.loadData(u),n(u)},o.readAsBinaryString(e)}),Ga=t=>{var e,n;return(e=t.vxeGridConfig.importConfig)!=null&&e.api&&((n=t.vxeGridConfig.importConfig)!=null&&n.isRemote)?Ua(t):ja(t)},Ia=async({options:t})=>{const e=t.form,n=t.page,o=t.sort,s=t.filters,a=M.currentRoute.value,i=y({method:"GET",params:{page:n.currentPage??1,limit:n.pageSize??20,...e,...(a==null?void 0:a.query)??{}}});return JSON.stringify(o)!=="{}"&&i.value.params&&(i.value.params={...i.value.params,field:o.field,order:o.order}),s.length>0&&i.value.params&&s.forEach(({field:u,values:h})=>{i.value.params={...i.value.params,[u]:h.join(",")}}),new Promise((u,h)=>{const p=ze();J(p,i.value).then(f=>{u(f)}).catch(f=>{h(f)})})},Fa=(t,e,n,o)=>{const{notification:s}=B();if(e.length<=0){s==null||s.error({title:"请先导入数据",duration:1500});return}if(!t){s==null||s.error({title:"未设置导入API接口",duration:1500});return}it(t,{import:n,data:e}).then(i=>{var u;(u=o.xGrid)==null||u.commitProxy("query"),s==null||s.success({title:(i==null?void 0:i.msg)??"操作成功",duration:1500})})},qa=t=>{me.commands.add("importAllData",e=>{var a;const{$table:n}=e,o=n==null?void 0:n.getTableData(),s=o==null?void 0:o.fullData;Fa(((a=t.vxeTableConfig.importConfig)==null?void 0:a.api)??"",s,"all",t)})},Oa=t=>{const{notification:e}=B(),n=y(),o=y({}),s=y({active:"",field:"",list:[]}),a=y([]),i=y([]),u={method:t.method,params:{},data:{}};u.method==="GET"?u.params={...t.ajaxParams}:u.data={...t.ajaxParams},J(t.api,u).then(f=>{const d=f.data;o.value=d.tableConfig,s.value=d.tabsConfig,a.value=d.rightButtonList,i.value=d.topButtonList;const c={...o.value.toolbarConfig,slots:{buttons:"topButtonList"}};o.value.toolbarConfig=c,c!=null&&c.import&&(o.value.importConfig={...o.value.importConfig,remote:!0,importMethod:r=>Ga({...r,vxeGridConfig:o.value,xGrid:n.value})}),c.export&&(o.value.exportConfig={...o.value.exportConfig,remote:!0,exportMethod:r=>Ta({...r,vxeGridConfig:o.value,xGrid:n.value})}),o.value.proxyConfig={...o.value.proxyConfig,ajax:{query:(r,m)=>Ia({options:r,xGrid:n.value,extra:m,vxeGridConfig:o.value})}}});const h=(f,d)=>{var c;if(!f){e==null||e.error({title:"请设置请求API接口",duration:1500}),(c=n.value)==null||c.commitProxy("query");return}ut(f,d).then(()=>{var r;(r=n.value)==null||r.commitProxy("query")})},p=({row:f,column:d})=>{var k,P,g;const c=((P=(k=o.value)==null?void 0:k.rowConfig)==null?void 0:P.keyField)??"id",r=f[d==null?void 0:d.field],m={[c]:f[c],keyField:c,field:d==null?void 0:d.field,value:r};h((g=d==null?void 0:d.params)==null?void 0:g.api,m)};return qa({xGrid:n.value,vxeTableConfig:o.value}),{xGrid:n,vxeGridConfig:o,tabsConfig:s,rightButtonList:a,topButtonList:i,hanldEditClose:p}},za=A({__name:"icons",props:{row:null,column:null},setup(t){const e=t,n=e.column.params,o=e.column.field;let s=y();if(o.includes(".")){const a=o.split(".");s=ge(e.row,a)}else s=e.row[o];return n!=null&&n.type&&delete n.type,(a,i)=>(_(),E(U,X({icon:l(s)},l(n)),null,16,["icon"]))}}),Na=A({__name:"image",props:{column:null,row:null},setup(t){var a;const e=t,n=e.column.field;let o=y();if(n.includes(".")){const i=n.split(".");o=ge(e.row,i)}else o=e.row[n];const s=y(e.column.params);return s!=null&&s.type&&delete s.value.type,(a=s.value)!=null&&a.style||(s.value.style={width:"35px",height:"30px"}),(i,u)=>{const h=Pe;return l(o)?(_(),E(h,X({key:0,src:l(o)},l(s)),null,16,["src"])):D("",!0)}}}),Ha={key:0,class:"flex gap-1"},Ma=A({__name:"images",props:{column:null,row:null},setup(t){var a,i;const e=t,n=e.column.field;let o=y();if(n.includes(".")){const u=n.split(".");o=ge(e.row,u)}else o=e.row[n];const s=y(e.column.params);return(a=s.value)!=null&&a.type&&delete s.value.type,(i=s.value)!=null&&i.style||(s.value.style={width:"35px",height:"30px"}),(u,h)=>{const p=Pe,f=It;return l(o)instanceof Array||l(o)instanceof Object?(_(),C("div",Ha,[(_(!0),C(H,null,ne(l(o),(d,c)=>(_(),C("div",{key:c,class:"item"},[typeof d=="string"?(_(),E(p,X({key:0,src:d},l(s)),null,16,["src"])):d!=null&&d.label&&(d!=null&&d.url)?(_(),E(f,{key:1,trigger:"hover"},{trigger:w(()=>[v(p,X({src:d.url},l(s)),null,16,["src"])]),default:w(()=>[F(" "+T(d.label),1)]),_:2},1024)):D("",!0)]))),128))])):D("",!0)}}}),Va={class:"assets-container"},Wa={class:"item"},La=["src"],Ja=["src"],Za={class:"text-center select-none"},Ka=A({__name:"assets",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){var i,u,h;const e=t,n=((u=(i=e.column)==null?void 0:i.params)==null?void 0:u.resource)??[],o=(h=e.column)==null?void 0:h.field;let s=y();if(o.includes(".")){const p=o.split(".");s=ge(e.row,p)}else s=e.row[o];const a="";return(p,f)=>{const d=U,c=It;return _(),C("div",Va,[(_(!0),C(H,null,ne(l(n),(r,m)=>(_(),E(c,{key:m,show:r.isUpdate,trigger:"hover",placement:"top"},{trigger:w(()=>[$("div",Wa,[(r==null?void 0:r.type)==="url"&&l(lt)(r==null?void 0:r.icon)?(_(),C("img",{key:0,class:"logo",src:r==null?void 0:r.icon},null,8,La)):D("",!0),(r==null?void 0:r.type)==="path"?(_(),C("img",{key:1,class:"logo",src:l(a)+(r==null?void 0:r.icon)},null,8,Ja)):(_(),E(d,{key:2,icon:r.icon},null,8,["icon"])),$("div",Za,T(l(s)[r.field]??"字段错误"),1)])]),default:w(()=>[F(" "+T((r==null?void 0:r.title)??"未知"),1)]),_:2},1032,["show"]))),128))])}}});const Ya=ee(Ka,[["__scopeId","data-v-0c469536"]]),Qa=A({__name:"money",props:{row:null,column:null},setup(t){var i;const e=t,n=y(((i=e.column)==null?void 0:i.params)??{}),o=e.column.field;let s=y();if(o.includes(".")){const u=o.split(".");s=ge(e.row,u)}else s=e.row[o];const a=y("￥");return n!=null&&n.format&&(a.value=n==null?void 0:n.format,n==null||delete n.format),(u,h)=>(_(),C("div",V(W(l(n))),T(l(a))+T(l(xt).commafy(l(xt).toNumber(l(s)),{digits:2})),17))}}),Xa=A({__name:"swtich",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){const e=t,{notification:n}=B(),o=y({}),s=e.column.field;let a=y();if(s.includes(".")){const h=s.split(".");a=ge(e.row,h)}else a=e.row[s];const i=({focused:h,checked:p})=>{var f,d,c,r;return p?o.value=((d=(f=e.column)==null?void 0:f.params)==null?void 0:d.checked)??{}:o.value=((r=(c=e.column)==null?void 0:c.params)==null?void 0:r.unchecked)??{},o.value},u=h=>{var m,k,P,g,x;const p=((k=(m=e.vxeGridConfig)==null?void 0:m.rowConfig)==null?void 0:k.keyField)??"id",f={[p]:e.row[p],keyField:p,field:(P=e.column)==null?void 0:P.field,value:h},d=ze("rowEdit",!0),c=((g=e.column.params)==null?void 0:g.api)??d,r=y({method:((x=e.column.params)==null?void 0:x.method)??"PUT",params:{},data:{}});r.value.method==="GET"?r.value.params={...f}:r.value.data={...f},J(c,r.value).then(b=>{e.xGrid.commitProxy("query"),n==null||n.success({title:(b==null?void 0:b.msg)??"操作成功",duration:1500})})};return(h,p)=>{var d,c,r,m,k,P;const f=Wn;return _(),E(f,{"rail-style":i,"default-value":l(a),"checked-value":(r=(c=(d=t.column)==null?void 0:d.params)==null?void 0:c.checked)==null?void 0:r.value,"unchecked-value":(P=(k=(m=t.column)==null?void 0:m.params)==null?void 0:k.unchecked)==null?void 0:P.value,"on-update:value":u},{checked:w(()=>{var g,x,b;return[F(T((b=(x=(g=t.column)==null?void 0:g.params)==null?void 0:x.checked)==null?void 0:b.text),1)]}),unchecked:w(()=>{var g,x,b;return[F(T((b=(x=(g=t.column)==null?void 0:g.params)==null?void 0:x.unchecked)==null?void 0:b.text),1)]}),icon:w(()=>{var g,x,b,S;return[(x=(g=t.column)==null?void 0:g.params)!=null&&x.icon?(_(),E(U,{key:0,icon:(S=(b=t.column)==null?void 0:b.params)==null?void 0:S.icon},null,8,["icon"])):D("",!0)]}),"checked-icon":w(()=>{var g,x,b,S,R,j;return[(b=(x=(g=t.column)==null?void 0:g.params)==null?void 0:x.checked)!=null&&b.icon?(_(),E(U,{key:0,icon:(j=(R=(S=t.column)==null?void 0:S.params)==null?void 0:R.checked)==null?void 0:j.icon},null,8,["icon"])):D("",!0)]}),"unchecked-icon":w(()=>{var g,x,b,S,R,j;return[(b=(x=(g=t.column)==null?void 0:g.params)==null?void 0:x.unchecked)!=null&&b.icon?(_(),E(U,{key:0,icon:(j=(R=(S=t.column)==null?void 0:S.params)==null?void 0:R.unchecked)==null?void 0:j.icon},null,8,["icon"])):D("",!0)]}),_:1},8,["default-value","checked-value","unchecked-value"])}}}),es={key:0,class:"tabs-container"},ts={class:"tabs-box"},ns=["onClick"],os={class:"pl-1"},as=A({__name:"tabs",props:{xGrid:null,vxeGridConfig:null,tabsConfig:null},setup(t){var h;const e=t,n=se(),o=ot(),s=y({inline:!0,size:1,...((h=e.tabsConfig)==null?void 0:h.space)??{}}),a=n==null?void 0:n.query[e.tabsConfig.field],i=y(a??e.tabsConfig.active),u=p=>{o.push({query:{[e.tabsConfig.field]:p.value}})};return(p,f)=>{const d=re;return t.tabsConfig.list.length>0?(_(),C("div",es,[$("div",ts,[v(d,V(W(l(s))),{default:w(()=>[(_(!0),C(H,null,ne(t.tabsConfig.list,(c,r)=>(_(),C("div",{key:r,class:ae(["item",{active:l(i)===(c==null?void 0:c.value)}]),onClick:m=>u(c)},[c!=null&&c.icon?(_(),E(U,{key:0,icon:c==null?void 0:c.icon},null,8,["icon"])):D("",!0),$("span",os,T((c==null?void 0:c.label)??"错误"),1)],10,ns))),128))]),_:1},16)])])):D("",!0)}}});const ss=ee(as,[["__scopeId","data-v-5c06d3a3"]]),ls=A({__name:"tags",props:{row:null,column:null},setup(t){var a,i,u,h,p,f,d;const e=t,n=y("标签出错"),o=y({}),s=e.row[(a=e.column)==null?void 0:a.field];return(u=(i=e.column)==null?void 0:i.params)!=null&&u.options&&(n.value=(p=(h=e.column)==null?void 0:h.params)==null?void 0:p.options[s]),(d=(f=e.column)==null?void 0:f.params)!=null&&d.style&&(o.value=e.column.params.style[s]),(c,r)=>{const m=Ln;return _(),E(m,V(W(l(o))),{default:w(()=>[F(T(l(n)),1)]),_:1},16)}}}),rs=A({__name:"remote",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){var a,i,u;const e=t,n=y((i=(a=e.column)==null?void 0:a.params)==null?void 0:i.file),o=((u=e.column)==null?void 0:u.field)??"",s=y(e.row[o]??"");return(h,p)=>(_(),E(l(fe),X({file:l(n)},{modelValue:l(s),column:t.column,row:t.row}),null,16,["file"]))}}),He=(t,e)=>{let n={};for(const o in t){const s=t[o]??"id";n={...n,[s]:e[o]??""}}return n},cs=({xGrid:t,vxeGridConfig:e,button:n,row:o,column:s})=>{var f,d,c,r,m,k,P;const a=M.currentRoute.value,{notification:i}=B(),u={method:((f=n.pageData)==null?void 0:f.method)??"GET",params:{},data:{}};let p={...((d=n==null?void 0:n.pageData)==null?void 0:d.queryParams)??{},...a.query};if(o&&s&&Q(JSON.stringify((c=n==null?void 0:n.pageData)==null?void 0:c.aliasParams),["[]","{}"])){const g=((r=e==null?void 0:e.rowConfig)==null?void 0:r.keyField)??"id";p={...p,[g]:o[g]}}Q(JSON.stringify((m=n==null?void 0:n.pageData)==null?void 0:m.aliasParams),["[]","{}"])||(p={...p,...He((k=n==null?void 0:n.pageData)==null?void 0:k.aliasParams,o)}),u.method==="GET"?u.params={...p}:u.data={...p},J(((P=n.pageData)==null?void 0:P.api)??"",u).then(g=>{t==null||t.commitProxy("query"),i==null||i.success({title:(g==null?void 0:g.msg)??"操作成功",duration:1500})})},bt=({vxeGridConfig:t,button:e,row:n,column:o})=>{var h,p,f,d,c,r,m,k;const{notification:s}=B();if(!((h=e==null?void 0:e.pageData)!=null&&h.path)){s==null||s.error({title:"缺少跳转地址",duration:1500});return}const a=M.currentRoute.value;let u={...((p=e==null?void 0:e.pageData)==null?void 0:p.queryParams)??{},...a.query};if(n&&o&&Q(JSON.stringify((f=e==null?void 0:e.pageData)==null?void 0:f.aliasParams),["[]","{}"])){const P=((d=t==null?void 0:t.rowConfig)==null?void 0:d.keyField)??"id";u={...u,[P]:n[P]}}Q(JSON.stringify((c=e==null?void 0:e.pageData)==null?void 0:c.aliasParams),["[]","{}"])||(u={...u,...He((r=e==null?void 0:e.pageData)==null?void 0:r.aliasParams,n)}),(m=e.pageData)!=null&&m.isBack&&(u={...u,isBack:1}),M.push({path:(k=e==null?void 0:e.pageData)==null?void 0:k.path,query:{...u}})},is=({xGrid:t,vxeGridConfig:e,button:n,row:o,column:s})=>{const{dialog:a}=B();a==null||a.create({...(n==null?void 0:n.message)??{},maskClosable:!1,onPositiveClick:()=>{cs({xGrid:t,vxeGridConfig:e,button:n,row:o,column:s})}})},Qe=y({submitBtn:{},resetBtn:{}}),Fe=y({hanldSubmit:()=>{},hanldReset:()=>{}}),Ge=y({setDisabled:()=>{}}),ke=y(),us=({vxeGridConfig:t,button:e,row:n,column:o})=>{var h,p,f,d,c,r,m,k,P,g;const s=M.currentRoute.value;let a,i={},u={...s.query};if(JSON.stringify((h=e.pageData)==null?void 0:h.queryParams)!=="{}"&&(u={...(p=e.pageData)==null?void 0:p.queryParams}),n&&o&&Q(JSON.stringify((f=e==null?void 0:e.pageData)==null?void 0:f.aliasParams),["[]","{}"])){const x=((d=t==null?void 0:t.rowConfig)==null?void 0:d.keyField)??"id";u={...u,[x]:n[x]}}switch(Q(JSON.stringify((c=e==null?void 0:e.pageData)==null?void 0:c.aliasParams),["[]","{}"])||(u={...u,...He((r=e==null?void 0:e.pageData)==null?void 0:r.aliasParams,n)}),(m=e.pageData)==null?void 0:m.type){case"table":a=Yt,i={api:((k=e==null?void 0:e.pageData)==null?void 0:k.api)??""};break;case"remote":a=fe,i={file:((P=e==null?void 0:e.pageData)==null?void 0:P.path)??"",modal:(e==null?void 0:e.pageData.modal)??!1,ajaxParams:u,"onUpdate:closeWin":()=>{var x;(x=ke.value)!=null&&x.destroy&&ke.value.destroy()}};break;default:a=ft,i={api:((g=e==null?void 0:e.pageData)==null?void 0:g.api)??"",method:e.pageData.method??"GET",ajaxParams:u,"onUpdate:init":x=>{var b,S;Fe.value.hanldSubmit=(b=x==null?void 0:x.exposed)==null?void 0:b.hanldSubmit,Fe.value.hanldReset=(S=x==null?void 0:x.exposed)==null?void 0:S.hanldReset,Qe.value.submitBtn=x==null?void 0:x.response.extraConfig.submitBtn,Qe.value.resetBtn=x==null?void 0:x.response.extraConfig.resetBtn},"onUpdate:success":()=>{var x;Ge.value.setDisabled(!1),(x=ke.value)!=null&&x.destroy&&ke.value.destroy()},"onUpdate:rest":()=>{Ge.value.setDisabled(!1)},"onUpdate:error":()=>{Ge.value.setDisabled(!1)}};break}return{hpComponent:a,componentAttrs:i}},ds=t=>{var a,i;const{dialog:e}=B(),{hpComponent:n,componentAttrs:o}=us(t),s={...((a=t.button)==null?void 0:a.message)??{},class:"pro-admin-dialog",content:()=>Y(n,{...o}),onAfterLeave:()=>{var u;(u=t.xGrid)==null||u.commitProxy("query")}};((i=t.button.pageData)==null?void 0:i.type)==="form"&&(s.action=()=>Y(ye,{extraConfig:Qe.value,"onUpdate:init":u=>{var h;Ge.value.setDisabled=(h=u==null?void 0:u.exposed)==null?void 0:h.setDisabled},"onUpdate:submit":()=>{Fe.value.hanldSubmit()},"onUpdate:rest":()=>{Fe.value.hanldReset()}})),ke.value=e==null?void 0:e.create(s)},ps=t=>{var p,f,d,c,r,m,k,P,g,x,b,S,R,j;const e=((f=(p=t.button)==null?void 0:p.pageData)==null?void 0:f.api)??"/",n=((d=t.button.pageData)==null?void 0:d.method)??"GET";let o=((c=t.button.pageData)==null?void 0:c.path)??"";const{notification:s}=B(),a=M.currentRoute.value,i={method:n,params:{},data:{}};let h={...((m=(r=t.button)==null?void 0:r.pageData)==null?void 0:m.queryParams)??{},...a.query};if(t.row&&t.column&&Q(JSON.stringify((P=(k=t.button)==null?void 0:k.pageData)==null?void 0:P.aliasParams),["[]","{}"])){const G=((x=(g=t.vxeGridConfig)==null?void 0:g.rowConfig)==null?void 0:x.keyField)??"id";h={...h,[G]:t.row[G]}}Q(JSON.stringify((S=(b=t.button)==null?void 0:b.pageData)==null?void 0:S.aliasParams),["[]","{}"])||(h={...h,...He((j=(R=t.button)==null?void 0:R.pageData)==null?void 0:j.aliasParams,t.row)}),i.method==="GET"?i.params={...h}:i.data={...h},J(e,i).then(G=>{const{data:L}=G;if(!o){if(!(L!=null&&L.url)){s==null||s.error({title:"缺少跳转地址",duration:1500});return}o=L.url}lt(o)||(o=`//${location.host}/${o}`),window.open(o,"about:blank")})},Xe=t=>{var e,n,o,s;((e=t.button.pageData)==null?void 0:e.type)==="page"?bt(t):((n=t.button.pageData)==null?void 0:n.type)==="link"?ps(t):((o=t.button.pageData)==null?void 0:o.type)==="confirm"?is(t):(s=t.button.pageData)!=null&&s.modal?ds(t):bt(t)},fs=()=>{var o;const t=xe(),e=(t==null?void 0:t.routerRecords)??[],n=[];for(const s of e){const a=`${(o=s.meta)==null?void 0:o.moduleName}${s.path}`;n.push(a)}return n},Kt=t=>{const e=fs();return Q(t,e)},hs=A({__name:"right-button",props:{xGrid:null,vxeGridConfig:null,column:null,row:null,rightButtonList:null},setup(t){var c,r,m,k,P;const e=t,n=q(()=>g=>{var G,L,te,ce,Ae,De,Re;const x=((G=g.pageData)==null?void 0:G.api)??"";if(!Kt(x))return!1;const b=((te=(L=g==null?void 0:g.pageData)==null?void 0:L.params)==null?void 0:te.where)??"",S=(Ae=(ce=g==null?void 0:g.pageData)==null?void 0:ce.params)==null?void 0:Ae.field,R=(Re=(De=g==null?void 0:g.pageData)==null?void 0:De.params)==null?void 0:Re.value;if(S===void 0&&R===void 0)return!0;if(S===void 0||S===""||S&&(R===void 0||R===""))return!1;const j=e.row[S];switch(b){case"!=":return R!==j;case"in":return R instanceof Array&&Q(j,R);case"notIn":return R instanceof Array&&!Q(j,R);default:return R===j}}),o=()=>{const g=e.rightButtonList,x=[];return g.forEach(b=>{var R;const S={label:b.title,key:b.field};(R=b.button)!=null&&R.icon&&(S.icon=()=>{var j;return Y(U,{icon:(j=b.button)==null?void 0:j.icon})}),x.push(S)}),x},s=g=>{const{notification:x}=B(),S=e.rightButtonList.find(R=>R.field===g);if(!S){x==null||x.error({title:"按钮数据错误",duration:1500});return}Xe({xGrid:e.xGrid,button:S,row:e.row,column:e.column,vxeGridConfig:e.vxeGridConfig})},a=y(((c=e.column.params)==null?void 0:c.group)??!1),i=y(((r=e.column.params)==null?void 0:r.trigger)??"click"),u=y(((m=e.column.params)==null?void 0:m.icon)??"MenuOutlined"),h=y(((k=e.column.params)==null?void 0:k.group_text)??"更多"),p={type:"success",size:"small"},f=y(((P=e.column.params)==null?void 0:P.group_style)??p),d=q(()=>o());return(g,x)=>{const b=U,S=Se,R=st,j=re;return _(),C("div",null,[l(a)?(_(),E(R,{key:0,trigger:l(i),options:l(d),onSelect:s},{default:w(()=>[v(S,V(W(l(f))),{icon:w(()=>[v(b,{icon:l(u)},null,8,["icon"])]),default:w(()=>[F(T(l(h))+" ",1)]),_:1},16)]),_:1},8,["trigger","options"])):(_(),E(j,{key:1,align:"center",wrap:!1},{default:w(()=>[(_(!0),C(H,null,ne(t.rightButtonList,(G,L)=>(_(),C(H,null,[l(n)(G)?(_(),E(S,X({key:L},(G==null?void 0:G.button)??{},{onClick:te=>l(Xe)({xGrid:t.xGrid,button:G,row:t.row,column:t.column,vxeGridConfig:t.vxeGridConfig})}),{icon:w(()=>{var te,ce;return[(te=G==null?void 0:G.button)!=null&&te.icon?(_(),E(U,{key:0,icon:(ce=G==null?void 0:G.button)==null?void 0:ce.icon},null,8,["icon"])):D("",!0)]}),default:w(()=>[F(" "+T(G.title),1)]),_:2},1040,["onClick"])):D("",!0)],64))),256))]),_:1}))])}}}),ms={class:"flex space-x-3"},_s=A({__name:"top-button",props:{xGrid:null,column:null,topButtonList:null,vxeGridConfig:null},setup(t){const e=se(),n=q(()=>o=>{var a;const s=((a=o.pageData)==null?void 0:a.api)??"";return!!Kt(s)});return(o,s)=>{var u;const a=Se,i=re;return _(),C("div",ms,[(u=l(e).query)!=null&&u.isBack?(_(),E(a,{key:0,type:"warning",onClick:l(Ie)},{default:w(()=>[F(" 返回 ")]),_:1},8,["onClick"])):D("",!0),v(i,{align:"center"},{default:w(()=>[(_(!0),C(H,null,ne(t.topButtonList,(h,p)=>(_(),C("div",{key:p},[l(n)(h)?(_(),E(a,X({key:0},(h==null?void 0:h.button)??{},{onClick:f=>l(Xe)({button:h,xGrid:t.xGrid,vxeGridConfig:t.vxeGridConfig})}),{icon:w(()=>{var f,d;return[(f=h==null?void 0:h.button)!=null&&f.icon?(_(),E(U,{key:0,icon:(d=h==null?void 0:h.button)==null?void 0:d.icon},null,8,["icon"])):D("",!0)]}),default:w(()=>[F(" "+T(h.title),1)]),_:2},1040,["onClick"])):D("",!0)]))),128))]),_:1})])}}}),Yt=A({__name:"index",props:{api:null,method:{default:"GET"},ajaxParams:{default:{}}},setup(t){const e=t,{xGrid:n,vxeGridConfig:o,tabsConfig:s,rightButtonList:a,topButtonList:i,hanldEditClose:u}=Oa(e);return(h,p)=>{var d;const f=Ce("vxe-grid");return(d=l(o))!=null&&d.id?(_(),E(f,X({key:0,ref_key:"xGrid",ref:n},l(o),{class:"p-4",onEditClosed:l(u)}),{assets:w(({row:c,column:r,$grid:m})=>[v(l(Ya),V(W({vxeGridConfig:l(o),row:c,column:r,xGrid:m})),null,16)]),money:w(({row:c,column:r,$grid:m})=>[v(l(Qa),V(W({vxeGridConfig:l(o),row:c,column:r,xGrid:m})),null,16)]),image:w(({row:c,column:r,$grid:m})=>[v(l(Na),V(W({vxeGridConfig:l(o),row:c,column:r,xGrid:m})),null,16)]),images:w(({row:c,column:r,$grid:m})=>[v(l(Ma),V(W({vxeGridConfig:l(o),row:c,column:r,xGrid:m})),null,16)]),icons:w(({row:c,column:r,$grid:m})=>[v(l(za),V(W({vxeGridConfig:l(o),row:c,column:r,xGrid:m})),null,16)]),switch:w(({row:c,column:r,$grid:m})=>[v(l(Xa),V(W({vxeGridConfig:l(o),row:c,column:r,xGrid:m})),null,16)]),tags:w(({row:c,column:r,$grid:m})=>[v(l(ls),V(W({vxeGridConfig:l(o),row:c,column:r,xGrid:m})),null,16)]),remote:w(({row:c,column:r,$grid:m})=>[v(l(rs),V(W({vxeGridConfig:l(o),row:c,column:r,xGrid:m})),null,16)]),topButtonList:w(({column:c,$grid:r})=>[v(l(_s),V(W({vxeGridConfig:l(o),topButtonList:l(i),column:c,xGrid:r})),null,16)]),top:w(({$grid:c})=>[v(l(ss),V(W({vxeGridConfig:l(o),tabsConfig:l(s),xGrid:c})),null,16)]),rightButtonList:w(({row:c,column:r,$grid:m})=>[v(l(hs),V(W({vxeGridConfig:l(o),rightButtonList:l(a),row:c,column:r,xGrid:m})),null,16)]),_:1},16,["onEditClosed"])):D("",!0)}}}),gs={class:"h-100% flex items-center"},vs={class:"flex select-none cursor-pointer"},ys={class:"pl-1 text-12px text-#555"},xs={class:"flex pl-1"},ws={class:"pl-1"},ks={key:0,class:"flex pl-1"},Cs={class:"pl-1"},bs=A({__name:"user",setup(t){const e=xe(),n=Z(),o=se();ve();const{dialog:s,notification:a}=B(),i=y([{label:"修改资料",key:"profile",icon:()=>Y(U,{icon:"EditTwotone"})},{label:"退出登录",key:"loginout",icon:()=>Y(U,{icon:"ExportOutlined"})}]),u=new Map,h=y({submitBtn:{},resetBtn:{}}),p=y({hanldSubmit:()=>{},hanldReset:()=>{}}),f=y({setDisabled:()=>{}});u.set("profile",()=>{const c=s==null?void 0:s.create({title:"用户资料",showIcon:!1,maskClosable:!1,class:"pro-admin-dialog",style:{width:"45%"},content:()=>{var r,m;return Y(ft,{api:((m=(r=n.site)==null?void 0:r.public_api)==null?void 0:m.user_edit)??"",method:"GET",ajaxParams:{},"onUpdate:init":k=>{var P,g;p.value.hanldSubmit=(P=k==null?void 0:k.exposed)==null?void 0:P.hanldSubmit,p.value.hanldReset=(g=k==null?void 0:k.exposed)==null?void 0:g.hanldReset,h.value.submitBtn=k==null?void 0:k.response.extraConfig.submitBtn,h.value.resetBtn=k==null?void 0:k.response.extraConfig.resetBtn},"onUpdate:success":()=>{f.value.setDisabled(!1),c==null||c.destroy(),e.getUserInfo()},"onUpdate:error":()=>{f.value.setDisabled(!1)},"onUpdate:rest":()=>{f.value.setDisabled(!1)}})},action:()=>Y(ye,{extraConfig:h.value,"onUpdate:init":r=>{var m;f.value.setDisabled=(m=r==null?void 0:r.exposed)==null?void 0:m.setDisabled},"onUpdate:submit":()=>{var r;(r=p.value)==null||r.hanldSubmit()},"onUpdate:rest":()=>{var r;(r=p.value)==null||r.hanldReset()}})})}),u.set("loginout",()=>{s==null||s.warning({title:"温馨提示",content:"是否确认退出登录？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{bo().then(c=>{e.setToken(""),M.push({path:"/login",query:{redirect:o.fullPath}}),a==null||a.success({title:(c==null?void 0:c.msg)??"操作成功",duration:1500})})}})});const d=c=>{const r=u.get(c);typeof r=="function"&&r()};return(c,r)=>{const m=Jn,k=st;return _(),C("div",gs,[v(k,{options:l(i),onSelect:d},{default:w(()=>{var P,g,x,b,S;return[$("div",vs,[v(m,{round:"",size:35,src:(P=l(e).userInfo)==null?void 0:P.headimg},null,8,["src"]),$("div",ys,[$("div",xs,[v(U,{icon:"UserOutlined"}),$("span",ws,T((g=l(e).userInfo)==null?void 0:g.nickname),1)]),(b=(x=l(e).userInfo)==null?void 0:x.role)!=null&&b.title?(_(),C("div",ks,[v(U,{icon:"CodeSandboxOutlined"}),$("span",Cs,T((S=l(e).userInfo)==null?void 0:S.role.title),1)])):D("",!0)])])]}),_:1},8,["options"])])}}}),Ps=["href","target"],Ss=A({__name:"side-title",props:{MenuItem:null},setup(t){var f,d;const e=t,n=q(()=>{var c;return(c=e.MenuItem)==null?void 0:c.menuTitle}),o=y(e.MenuItem.ajaxParams?fo(e.MenuItem.ajaxParams):{}),s=q(()=>e.MenuItem.path??""),a=((d=(f=e.MenuItem)==null?void 0:f.children)==null?void 0:d.find(c=>(c==null?void 0:c.show)===!0&&(c==null?void 0:c.type)!=="group"))??!1,i=q(()=>{var c;return(c=s.value)==null?void 0:c.startsWith("http")}),u=q(()=>{var c;return((c=e.MenuItem)==null?void 0:c.target)??"_blank"}),h=ve(),p=y("");if(h.value){const c=ho({appid:h.value});o.value={...o.value,appid:h.value},p.value=`?${c}`}return(c,r)=>{const m=Ce("router-link");return l(a)?(_(),C(H,{key:0},[F(T(l(n)),1)],64)):l(i)?(_(),C("a",{key:1,href:`${l(s)}${l(p)}`,target:l(u)},T(l(n)),9,Ps)):l(s)?(_(),E(m,{key:2,to:{path:`/${l(s)}`,query:{...l(o)}},replace:!0},{default:w(()=>[F(T(l(n)),1)]),_:1},8,["to"])):(_(),C(H,{key:3},[F(T(l(n)),1)],64))}}}),Es="Xvzppw3KMnSTLM9MKWlY7V+z1gYIduZfTEMhXjuiZaGkpXEZBFqj22Ki7VNZXfy3OrekGDl21Smfq7EAsBQr7RPS7RHbqZ0zUCTv1fkXsKPsdoXsriAuLIufpoYJKCwTWOMg6k0tDMquXkiCAY1NPVNQ/F0+Y6t1QPTJ1EvXXFXGwN85y9ZcPsZH50I3c76PzyEITkEAbI7kcVF+zc2Z0rjoPIWDG4npcmmcLpzm263g/PFgWl5hnjFk3wQ8w3XVWptFcAskU4whC6auNzKEK8T3VEV4GPJ9L6g3YOvLLsPp5SvfbhrZHftDGsXkzL1GLssL700aGo1QZvNpQfbkJQ==IlSMoqkIMwQy/9i7psoUa6MsD05T5rJuIht4EfaVZ+TmKErAAe1kQclAJAw+to+inZV5pNkX1V3EBCknn0AiT+tPTuM+Z/8xJm+yLArNWYO30VHVFAbIoM4sPFoJj6xtNhW/YJihrN6m8grmnZJWAaEW7evP1xfW9JzPNgHlfd7anSLT79qBSIjwi4M1F6rGUmJ6No/BNiLfj7Aa8UxGbc4J0UXAHD0Evm1ZQQWMWV04LnGhVDMEE6X3iI8bNGGWVPoBmnwedUAOqwiHYu7bBQIzZEpKdVJhCIGM9/eMIvOB7u6tHn8bmEc8ARTh1Pu1rDqbJwrTyJbW/SUAgTsomg==",$s=`-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDc9Q5mA9ZFTBLF
Ylfib/e2kaA8kYDn0U9ke5Fwb1UgUBs0E0//2OIcrvUpZT6+5+2E9y6mpeXZZ7rI
VTKNzxEz+eWEOd5hN2JUfLLj+ZFq6pDDwTWwXPbFNMZXL4nD9pxKvxkgdBaHKpQC
LLIspceK4pA6m7/0AiFGbM63Ntf9117sOyHH4DI1CJJWEEHgEsrGldW1vi5RMxUl
zO+EXzlhK/xjmUg6HCbHaZiv3u1xyF/1DEybsbvRsTeXu7l6dcVTZBPQpd2cpG5M
QMi8negUIhTWLJ1adORQdnxCKt+G57zjvhLnYWWCOMa9bl/IoYXTqx2AcGt/S/IY
ippEo3HDAgMBAAECggEAI25UUb15xYDuXaJob1H/CdKOPEgkwIeK0JUT/FCN+PF/
ezlBkcgocesIOwwWJKyyJKkyXNyrX9JHXEp1IdI7cvc2e55/71zfMqcQVIg3bkqQ
ziMUReSSWYsd5usjjz3jUAUWtWKIHkKQm0ypgYlP1xB/ijZhcHJK/a0C9NQhjH2J
PsCTARnl2qjlAgqShR1EKD26atbuGDIPali9qCZul31t6WVRmbBcnNMCo6w4wn5r
ytgE+6yPvBH62A6L3Sx+d58+4LlQAZlwHkhlbAVnshPnYqTfIM8uC9rWnl1tE8ax
yaiQlRTPf55lLrS3sPnPwRsUto1YIqh7Xq84Qgk2eQKBgQD8ByeukYXpSy/YNbcG
BrMeYhJl66mN3evQzKzUArQN/bEgv9IZrzErfA0yQXOqnCDnd6yEfL5Ht0PV/ake
6Y5sis/suwuu7yVZn2ntMNjPVWv1zJfUlywhzbb3T3+aP6649qdnSrBlDklce/FK
O6JviAlqNwO6lJrkC4/vfn+9BwKBgQDgcIqy0wn+v3EbfsEK8RTO7EAjW6Xc9Smb
G9sk3QqFZqVt+ZfNMxnLWWbKY2+cadtA0g3pZ3tlqquTGcI3q8OejEUqRrteCS1J
WTLZMn6UxlJOhrZuWJRggmKyJ7+f90EQlbNMvPu5bsw+dDVuePXP/ok5DpG521qm
JqPsGfmyZQKBgQCWEPCY6n+xFRrtA7byOKUJD15jH7q7BYw3rNev+dgaiJeip3VD
4+REPz5gUUa9LPAOw1yPGvP2IfKbhcng5TLwAIukKw/e3vj/b4OUP0Sp1/RLzMIP
TOBzVFmA0u5o+0hfTEcLoxZ7ZdFa51YaXH3xKTBp9U4cGAZOiW/wLAOFmwKBgGEv
+q+C+VIJ3lW0pq0xRfxwizmEZyduNi0He/bTjMnFcB9WNGjUFvhaZ0t+kYcew6Wn
EAUhHWsh45gYUGTBCT1vqkerR1lqCeU4Le+lkPCljGCarwbLbrz32PsigTUo4VDo
MjMppqtekiz9L2H+GRuPMia1616a4P8Pvm3vtZONAoGAVbI+1bjIDoHWK9Q2qqTj
bG06ewgdx6j3axxSJklaFLnP8nPjIYwc3NyEs4Di73F4xQvnSkctRJtatZBRANDk
x2stBnhsnRobvt91jOnE8KaMHxomHtgTXNSGig+g8zOfHzx+46yANOw3YnmmFIiM
bbmumxcy9QWi/ThFT68oQsY=
-----END PRIVATE KEY-----`,Pt=(t,e)=>{const n=new Zn;n.setPrivateKey(e);const o=t.match(/.{1,344}/g);if(!o)throw new Error("令牌表单解密失败");let s="";if(o==null||o.forEach(a=>{const i=n.decrypt(a);i&&(s+=i)}),!s)throw new Error("解密失败");return JSON.parse(new TextDecoder().decode(Uint8Array.from(window.atob(s),a=>a.charCodeAt(0))))},As=()=>{const e=Z().site;if(e!=null&&e.empower_token&&e.empower_private_key)try{return Pt(e.empower_token,e.empower_private_key)}catch(n){console.error("服务端授权失败",n)}try{return Pt(Es,$s)}catch(n){console.error("系统授权错误",n)}},Qt=()=>{const e=Z().site;return{version_name:e==null?void 0:e.version_name,version:e==null?void 0:e.version}},Ds=["href"],Rs=["href"],Xt=A({__name:"index",setup(t){const{systemAbout:e,systemAboutUrl:n,systemName:o,systemUrl:s}=As(),{version_name:a}=Qt();return(i,u)=>(_(),C("div",null,[F(" Copyright © 2023 "),$("a",{href:l(n),target:"_blank",class:"hover:text-[#18a058] pl-10px"},T(l(e)),9,Ds),F(" All Rights Reserved "),$("a",{href:l(s),target:"_blank",class:"hover:text-[#18a058] pl-10px"},T(l(o))+" "+T(l(a)),9,Rs)]))}}),Bs={class:"panel-menu"},Ts={key:0,class:"panel-two"},Us={class:"panel-title"},js={key:0,class:"hp-icon"},Gs={class:"title"},Is={class:"panel-list"},Fs=A({__name:"panel",props:{active:null,options:null},setup(t){const e=t,n=o=>o.key===e.active?!0:o!=null&&o.children?!!o.children.find(s=>n(s)):!1;return(o,s)=>(_(),C("div",Bs,[(_(!0),C(H,null,ne(t.options,(a,i)=>{var u;return _(),C(H,{key:i},[(u=a==null?void 0:a.children)!=null&&u.length&&a.type==="group"&&a.show?(_(),C("div",Ts,[$("div",Us,[a!=null&&a.icon?(_(),C("div",js,[(_(),E(we(a.icon)))])):D("",!0),$("div",Gs,[(_(),E(we(a.label)))])]),$("div",Is,[(_(!0),C(H,null,ne(a.children,(h,p)=>(_(),C(H,{key:p},[h.show?(_(),C("div",{key:0,class:ae(["panel-item",{"panel-active":n(h)}])},[(_(),E(we(h.label)))],2)):D("",!0)],64))),128))])])):a.show?(_(),C("div",{key:1,class:ae(["item",{"is-active":n(a)}])},[(_(),E(we(a.label)))],2)):D("",!0)],64)}),128))]))}});const qs=ee(Fs,[["__scopeId","data-v-0811acd7"]]),Os={class:"pro-admin-mix-tabs overflow-x-auto flex"},zs={class:"pro-menu-mix-container"},Ns=["onClick"],Hs={key:0,class:"flex-1"},Ms=A({__name:"index",setup(t){be(c=>({"6732c4dc":l(d)}));const e=de(),n=ot(),o=ve(),s=(c,r)=>c.find(m=>m.key===r?m:s((m==null?void 0:m.children)??[],r)),a=y((e==null?void 0:e.value)??""),i=y(e.options??[]),u=y([s(i.value??[],a.value)]),h=q(()=>c=>!!s(c??[],a.value)),p=c=>{const r=c[0];return r&&(r==null?void 0:r.type)!=="group"&&(r!=null&&r.show)?r:p(r.children??[])},f=c=>{const r=p((c==null?void 0:c.children)??[]);let m={};typeof r.ajaxParams=="object"&&(m={...r.ajaxParams}),o.value&&(m={...m,appid:o.value}),a.value=String((r==null?void 0:r.key)??""),u.value=[c],n.push({path:`/${r==null?void 0:r.path}`,query:{...m}})};nt(()=>e.value,c=>{a.value=String(c)});const d=q(()=>`calc(100vh - ${e["header-height"]}px)`);return(c,r)=>{const m=Gt;return _(),C("div",Os,[$("div",zs,[(_(!0),C(H,null,ne(l(i),(k,P)=>(_(),C(H,{key:P},[k.show?(_(),C("div",{key:0,class:ae(["item",{active:l(h)((k==null?void 0:k.children)??[])}]),onClick:g=>f(k)},[$("div",null,[k.menuIcon?(_(),E(U,{key:0,icon:k.menuIcon,size:22},null,8,["icon"])):D("",!0),$("div",null,T(k.menuTitle),1)])],10,Ns)):D("",!0)],64))),128))]),l(e).collapsed?D("",!0):(_(),C("div",Hs,[(_(!0),C(H,null,ne(l(u),(k,P)=>(_(),C("div",{key:P},[v(m,{class:"m-0"},{default:w(()=>[F(T(k==null?void 0:k.menuTitle),1)]),_:2},1024),v(qs,{options:(k==null?void 0:k.children)??[],active:l(a)},null,8,["options","active"])]))),128))]))])}}});const Vs=ee(Ms,[["__scopeId","data-v-05eee522"]]),Ws={class:"flex items-center justify-center"},Ls=A({__name:"index",props:{layout:null,headerHeight:{default:50},footerHeight:{default:30},logo:null,logoSize:null,title:null,siderWidth:null,collapsed:{type:Boolean},siderCollapsedWidth:null,collapsedIconSize:{default:22},showSiderTrigger:{type:[Boolean,String]},inverted:{type:Boolean},active:null,options:null,expandedKeys:null},emits:["update:collapsed","update:active","update:expandedKeys"],setup(t){const e=t;be(a=>({c79233a2:l(n),"0b15b1cb":l(s),"416ea2e1":l(o)}));const n=q(()=>`${e.headerHeight}px`),o=q(()=>`${e.footerHeight}px`),s=q(()=>`calc(100vh - ${e.headerHeight}px - ${e.footerHeight}px)`);return(a,i)=>{const u=Ft,h=qt,p=Ot;return _(),E(p,{"has-sider":"",class:"h-screen"},{default:w(()=>[v(l(Ke),{width:t.siderWidth,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth,"show-trigger":t.showSiderTrigger,onUpdateCollapsed:i[2]||(i[2]=f=>a.$emit("update:collapsed",f))},{default:w(()=>[$("div",Ws,[v(l(Ht),{src:t.logo,inverted:t.inverted,"header-height":t.headerHeight,"collapsed-width":t.siderCollapsedWidth},null,8,["src","inverted","header-height","collapsed-width"]),t.collapsed?D("",!0):(_(),E(l(Mt),{key:0,layout:t.layout,inverted:t.inverted,"header-height":t.headerHeight,title:t.title},null,8,["layout","inverted","header-height","title"]))]),v(Vs,{value:t.active,options:t.options,inverted:t.inverted,collapsed:t.collapsed,"collapsed-icon-size":t.collapsedIconSize,"expanded-keys":t.expandedKeys,"header-height":t.headerHeight,"footer-height":t.footerHeight,"onUpdate:value":i[0]||(i[0]=f=>a.$emit("update:active",f)),"onUpdate:expandedKeys":i[1]||(i[1]=f=>a.$emit("update:expandedKeys",f))},null,8,["value","options","inverted","collapsed","collapsed-icon-size","expanded-keys","header-height","footer-height"])]),_:1},8,["width","collapsed","collapsed-width","show-trigger"]),v(p,null,{default:w(()=>[v(u,{class:"pro-admin-header-height flex items-center justify-between px-3"},{default:w(()=>[oe(a.$slots,"headerLeft",{},()=>[v(l(Wt))],!0),oe(a.$slots,"headerRight",{},()=>[v(l(Lt))],!0)]),_:3}),v(l(Vt),{class:"pro-admin-content-height"},{default:w(()=>[oe(a.$slots,"default",{},void 0,!0)]),_:3}),v(h,{class:"pro-admin-footer-height flex items-center justify-center"},{default:w(()=>[v(l(Xt))]),_:1})]),_:3})]),_:3})}}});const Js=ee(Ls,[["__scopeId","data-v-a71b2900"]]),Zs={class:"pro-admin-side-menu overflow-y-auto overflow-x-hidden"},Ks=A({__name:"index",setup(t){const e=de();return(n,o)=>{const s=Kn;return _(),C("div",Zs,[v(s,X({mode:"vertical"},l(e)),null,16)])}}});const Ys=ee(Ks,[["__scopeId","data-v-bd821ef9"]]),Qs={class:"flex items-center justify-center"},Xs=A({__name:"index",props:{layout:null,headerHeight:{default:50},footerHeight:{default:30},logo:null,logoSize:null,title:null,siderWidth:null,collapsed:{type:Boolean},siderCollapsedWidth:null,collapsedIconSize:{default:28},showSiderTrigger:{type:[Boolean,String]},accordion:{type:Boolean},inverted:{type:Boolean},active:null,options:null,expandedKeys:null,rootIndent:null,indent:null},emits:["update:collapsed","update:active","update:expandedKeys"],setup(t){const e=t;be(a=>({"655570f5":l(n),"65c87fc5":l(s),"0a8d2da7":l(o)}));const n=q(()=>`${e.headerHeight}px`),o=q(()=>`${e.footerHeight}px`),s=q(()=>`calc(100vh - ${e.headerHeight}px - ${e.footerHeight}px)`);return(a,i)=>{const u=Ft,h=qt,p=Ot;return _(),E(p,{"has-sider":"",class:"h-screen"},{default:w(()=>[v(l(Ke),{inverted:t.inverted,width:t.siderWidth,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth,"show-trigger":t.showSiderTrigger,onUpdateCollapsed:i[2]||(i[2]=f=>a.$emit("update:collapsed",f))},{default:w(()=>[$("div",Qs,[v(l(Ht),{src:t.logo,"header-height":t.headerHeight,"collapsed-width":t.siderCollapsedWidth},null,8,["src","header-height","collapsed-width"]),t.collapsed?D("",!0):(_(),E(l(Mt),{key:0,layout:t.layout,"header-height":t.headerHeight,title:t.title},null,8,["layout","header-height","title"]))]),v(l(Ke),{inverted:t.inverted,width:t.siderWidth,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth},{default:w(()=>[v(Ys,{value:t.active,options:t.options,accordion:t.accordion,inverted:t.inverted,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth,"collapsed-icon-size":t.collapsedIconSize,"expanded-keys":t.expandedKeys,"root-indent":t.rootIndent,indent:t.rootIndent,"onUpdate:value":i[0]||(i[0]=f=>a.$emit("update:active",f)),"onUpdate:expandedKeys":i[1]||(i[1]=f=>a.$emit("update:expandedKeys",f))},null,8,["value","options","accordion","inverted","collapsed","collapsed-width","collapsed-icon-size","expanded-keys","root-indent","indent"])]),_:1},8,["inverted","width","collapsed","collapsed-width"])]),_:1},8,["inverted","width","collapsed","collapsed-width","show-trigger"]),v(p,null,{default:w(()=>[v(u,{class:"pro-admin-header-height flex items-center justify-between px-3"},{default:w(()=>[oe(a.$slots,"headerLeft",{},()=>[v(l(Wt))],!0),oe(a.$slots,"headerRight",{},()=>[v(l(Lt))],!0)]),_:3}),v(l(Vt),{class:"pro-admin-content-height"},{default:w(()=>[oe(a.$slots,"default",{},void 0,!0)]),_:3}),v(h,{class:"pro-admin-footer-height flex items-center justify-center"},{default:w(()=>[v(l(Xt))]),_:1})]),_:3})]),_:3})}}});const el=ee(Xs,[["__scopeId","data-v-ffb6b8ca"]]),tl=A({__name:"index",setup(t){const e=Z(),n=xe(),o=q(()=>n.getMenusData),{active:s}=vl(),{layout:a}=Yn(e);return(i,u)=>{var h,p;return _(),C(H,null,[l(a).layout==="mix"?(_(),E(Js,{key:0,collapsed:l(a).collapsed,"onUpdate:collapsed":u[0]||(u[0]=f=>l(a).collapsed=f),accordion:l(a).accordion,layout:l(a).layout,logo:l(a).logo,"logo-size":l(a).logoSize,title:(h=l(e).site)==null?void 0:h.web_name,"header-height":l(a).headerHeight,"footer-height":l(a).footerHeight,"sider-width":l(a).siderWidth,"sider-collapsed-width":l(a).siderCollapsedWidth,"show-sider-trigger":l(a).showSiderTrigger,inverted:l(a).inverted,active:l(s),options:l(o),"root-indent":l(a).rootIndent,indent:l(a).indent},{default:w(()=>[v(kt)]),_:1},8,["collapsed","accordion","layout","logo","logo-size","title","header-height","footer-height","sider-width","sider-collapsed-width","show-sider-trigger","inverted","active","options","root-indent","indent"])):D("",!0),l(a).layout==="side"?(_(),E(el,{key:1,collapsed:l(a).collapsed,"onUpdate:collapsed":u[1]||(u[1]=f=>l(a).collapsed=f),accordion:l(a).accordion,layout:l(a).layout,logo:l(a).logo,"logo-size":l(a).logoSize,title:(p=l(e).site)==null?void 0:p.web_name,"header-height":l(a).headerHeight,"footer-height":l(a).footerHeight,"sider-width":l(a).siderWidth,"sider-collapsed-width":l(a).siderCollapsedWidth,"show-sider-trigger":l(a).showSiderTrigger,inverted:l(a).inverted,active:l(s),options:l(o),"root-indent":l(a).rootIndent,indent:l(a).indent},{default:w(()=>[v(kt)]),_:1},8,["collapsed","accordion","layout","logo","logo-size","title","header-height","footer-height","sider-width","sider-collapsed-width","show-sider-trigger","inverted","active","options","root-indent","indent"])):D("",!0)],64)}}}),St={path:"/",name:"default-router",component:tl,redirect:void 0,children:[]},nl=A({__name:"index",setup(t){const e=se(),n=ze("GetTable"),o=e.meta.method,s=e.query??{};return(a,i)=>(_(),E(Yt,{api:l(n),method:l(o),"ajax-params":l(s)},null,8,["api","method","ajax-params"]))}}),ol={class:"h-100% p-4"},al={class:"h-100% flex flex-col"},sl={key:0,class:"flex items-center bg-white px-5 py-4 mb-[10px]"},ll=$("span",{class:"pl-1 text-[16px]"},"返回",-1),rl={key:0,class:"pl-20px text-[16px] select-none"},cl=A({__name:"index",setup(t){const e=se(),n=y(),o=y(),s=ze(),a=e.meta.method,i={...e.query};i!=null&&i.isBack&&(i==null||delete i.isBack);const u=y({...i}),h=y({submitBtn:{},resetBtn:{}}),p=r=>{var k;const m=(k=r==null?void 0:r.response)==null?void 0:k.extraConfig;h.value=m},f=()=>{n.value.hanldSubmit()},d=()=>{n.value.hanldReset()},c=()=>{o.value.setDisabled(!1)};return(r,m)=>{var P,g,x;const k=U;return _(),C("div",ol,[$("div",al,[(P=l(e).query)!=null&&P.isBack?(_(),C("div",sl,[$("div",{class:"flex items-center cursor-pointer select-none",onClick:m[0]||(m[0]=(...b)=>l(Ie)&&l(Ie)(...b))},[v(k,{icon:"ArrowLeftOutlined",size:16}),ll]),(g=l(e).meta)!=null&&g.title?(_(),C("div",rl,T((x=l(e).meta)==null?void 0:x.title),1)):D("",!0)])):D("",!0),v(Zt,{ref_key:"formRef",ref:n,class:"flex-1 p-5 bg-white overflow-y-auto overflow-x-hidden",api:l(s),method:l(a),"ajax-params":l(u),"onUpdate:init":p,"onUpdate:success":c,"onUpdate:rest":c,"onUpdate:error":c},null,8,["api","method","ajax-params"]),v(l(ye),{ref_key:"buttonRef",ref:o,class:"bg-white","extra-config":l(h),"onUpdate:submit":f,"onUpdate:rest":d},null,8,["extra-config"])])])}}}),il={class:"h-100% p-4"},ul=A({__name:"index",setup(t){const n=se().meta.ajaxParams;return(o,s)=>(_(),C("div",il,[v(fe,{file:l(n)},null,8,["file"])]))}}),dl=Object.freeze(Object.defineProperty({__proto__:null,formIndex:cl,remoteIndex:ul,tableIndex:nl},Symbol.toStringTag,{value:"Module"})),We={routeView:()=>_e(()=>import("./route-view.6fba3d6c.js"),["./route-view.6fba3d6c.js",".pnpm.dcaa090d.js","..\\css\\.pnpm.c37a7d79.css"],import.meta.url),blankView:()=>_e(()=>import("./blank-view.7ebd8257.js"),["./blank-view.7ebd8257.js",".pnpm.dcaa090d.js","..\\css\\.pnpm.c37a7d79.css"],import.meta.url)},pl=t=>{if(!t)return We.blankView;if(t in We)return We[t];const e=po(t??"");return dl[e]},fl=t=>{const e=[];for(const n of t)if(n.path){const o={path:`/${n.path}`,name:n.path.replace("/","_"),component:pl(n.component),redirect:n==null?void 0:n.redirect,meta:{title:n.title,path:n.path,pid:n.pid,icon:n.icon,moduleName:n.module,method:n.method,ajaxParams:n.auth_params},children:[]};(!o.children||o.children.length<1)&&delete o.children,e.push(o)}return e},hl=async()=>{const{active:t,list:e}=await So();if(e.length>0){St.redirect=t;const n=fl(e);return{menus:e,routes:{...St,children:n}}}},en=(t,e)=>{var s;const n=[];let o=[];e?o=t.filter(a=>a.pid===e):o=t.filter(a=>!a.pid);for(const a of o){const i={key:String(a.id),menuTitle:a.title,menuIcon:a.icon,ajaxParams:a.auth_params,path:a.path,show:a.show==="1",pid:a.pid,target:a.target??"_blank",children:en(t,a.id)},u=(s=i==null?void 0:i.children)==null?void 0:s.filter(h=>h==null?void 0:h.show);u!=null&&u.length&&i.pid!==0&&(i.type="group"),a!=null&&a.title&&(i.label=()=>Y(Ss,{MenuItem:i})),a!=null&&a.icon&&(i.icon=()=>Y(U,{icon:a==null?void 0:a.icon})),(!i.children||i.children.length<1)&&delete i.children,n.push(i)}return n},xe=Dt("user",()=>{const t=Ee(),e=y(),n=y(),o=y(),s=q(()=>en(o.value??[])),a=f=>{t.value=f},i=async f=>{const{notification:d}=B(),{msg:c,data:r}=await Co(f);r!=null&&r.token?(a(r.token),d==null||d.success({title:c||"登录成功",duration:1500})):d==null||d.success({title:"系统错误",content:"登录失败",duration:1500})},u=f=>{e.value=f};return{token:t,setToken:a,login:i,userInfo:e,setUserInfo:u,getUserInfo:async()=>{const{data:f}=await Po();f&&u(f)},routerRecords:n,generateDynameicRoutes:async()=>{const f=await hl();return f!=null&&f.routes&&(o.value=f.menus,n.value=f.routes.children),f==null?void 0:f.routes},menuData:o,getMenusData:s}}),ml=()=>{const t=se(),e=xe(),n=Rt({active:""}),o=a=>{var u;const i=(u=e.menuData)==null?void 0:u.find(h=>`/${h.path}`===a);return String(i==null?void 0:i.id)},s=a=>{n.active=o(a)};return nt(()=>t.fullPath,()=>{s(t.path)}),{...Xn(n),updateActive:s}},[_l,gl]=Qn(ml),vl=()=>gl()??{active:y(""),updateActive:()=>{}},yl=A({__name:"App",setup(t){return _l(),(e,n)=>{const o=eo,s=Ce("router-view"),a=so,i=At;return _(),E(i,null,{default:w(()=>[v(o),v(a,null,{default:w(()=>[v(s)]),_:1})]),_:1})}}}),Et=(t,e)=>(t.forEach(n=>{e.push(n.path)}),e),$t=t=>{for(const e of t){const n=e.remote,o={path:e.path,name:n.replace("/","_"),component:Y(fe,{file:n}),props:{file:n},meta:{title:e.title,path:e.path,pid:0,moduleName:"admin",method:"GET",ajaxParams:n}};M.addRoute(o)}},tn="/login",ue=y(["/error","/404","/403","/500","/401"]),Le=y([...ue.value,tn]);let je=!1;M.beforeEach(async(t,e,n)=>{var p,f,d,c;const o=Ee(),s=ve(),a=Z(),i=xe();(p=B().loadingBar)==null||p.start();const h=(f=t.query)==null?void 0:f.token;if(h&&i.setToken(h),(d=t.query)!=null&&d.appid&&(s.value=(c=t.query)==null?void 0:c.appid),h){n({path:"/"});return}if(o.value){if(!i.userInfo&&!ue.value.includes(t.path))try{const r=await a.getSite();if(r!=null&&r.login_link&&a.setLoginLink(r==null?void 0:r.login_link),r!=null&&r.remote_url&&!je){const k=r==null?void 0:r.remote_url;ue.value=Et(k,ue.value),$t(k),je=!0}await i.getUserInfo();const m=await i.generateDynameicRoutes();m&&M.addRoute(m),n({...t,replace:!0});return}catch(r){console.error(r)}}else{if(!je){const r=await a.getSite();if(r!=null&&r.login_link&&a.setLoginLink(r==null?void 0:r.login_link),r!=null&&r.remote_url){const m=r==null?void 0:r.remote_url;ue.value=Et(m,ue.value),Le.value=[...Le.value,...ue.value],$t(m),je=!0,n({...t,replace:!0});return}}if(!Le.value.includes(t.path)){n({path:tn,query:{redirect:t.path}});return}}n()});M.afterEach(t=>{var a,i,u,h,p;const{version_name:e}=Qt();(a=B().loadingBar)==null||a.finish();const o=Z(),s=(i=t.meta)==null?void 0:i.title;s?document.title=`${s} - ${(u=o.site)==null?void 0:u.web_name} ${e}`:(h=o.layout)!=null&&h.title&&(document.title=(p=o.layout)==null?void 0:p.title)});const xl=t=>{t.use(me),t.config.globalProperties.$XModal=me.modal,t.config.globalProperties.$XPrint=me.print,t.config.globalProperties.$XSaveFile=me.saveFile,t.config.globalProperties.$XReadFile=me.readFile},wl=to(),nn=document.createElement("meta");nn.name="naive-ui-style";document.head.appendChild(nn);const $e=no(yl);xl($e);$e.use(M);$e.use(wl);$e.mount("#app");dt.vue=$e;export{Xt as _,xe as a,Cl as b,ee as c,kt as d,Z as u};
