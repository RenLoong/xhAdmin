import{e as U,T as J,A as V,d as K,g as z,w as o,aM as M,o as r,a5 as l,h as t,i as e,J as w,a0 as I,G as f,X as h,a3 as O,a4 as Q,I as X,R as Y,a6 as H,aN as W,aO as Z,a1 as ee,ab as ne,Y as te,aP as oe,aQ as se,aw as ae}from"./.pnpm.9e80f7b6.js";import{u as E,a as re,b as le,_ as _e,c as ce}from"./index.b34a197c.js";const ie=()=>{var u;const v=U(),n=U(!1),_=E(),x=re(),a=J(),y=(u=a.currentRoute.value)==null?void 0:u.query,c=V({username:null,password:null,...y}),k=V({username:[{required:!0,message:"请输入登录账号"}],password:[{required:!0,message:"请输入登录密码"}]});return{appStore:_,formRef:v,loading:n,model:c,rules:k,login:async()=>{var p,d,m;try{n.value=!0,await((p=v.value)==null?void 0:p.validate()),await x.login(c);const g=(m=(d=a.currentRoute.value)==null?void 0:d.query)==null?void 0:m.redirect;await a.push(g||"/"),n.value=!1}catch{n.value=!1}}}},ue={class:"flex-1 flex justify-center items-center"},pe={class:"w-380px bg-white p-30px rounded-5px"},de={class:"text-center"},me={class:"text-26px"},fe={key:0,class:"flex justify-between items-center pt-5"},ge=["href"],he=["href"],ve={class:"flex justify-center py-2 items-center text-16px text-white"},xe=K({__name:"index",setup(v){const n=E(),{appStore:_,formRef:x,model:a,rules:y,login:c}=ie();return le(()=>c()),(k,i)=>{const u=X,p=Y,d=H,m=W,g=Z,P=ee,T=ne,$=ae,D=te,F=M;return r(),z(F,{tag:"div",class:"pro-admin-login-container h-screen flex flex-col"},{default:o(()=>{var b,L,R,C,N,q,S,j,A,B;return[l("div",ue,[l("div",pe,[l("div",de,[t(u,{src:e(_).layout.logo,width:"50",height:"50"},null,8,["src"]),l("div",me,w((b=e(_).site)==null?void 0:b.web_name)+" "+w((L=e(_).site)==null?void 0:L.web_title),1)]),t(g,{ref_key:"formRef",ref:x,"label-placement":"left",model:e(a),rules:e(y),class:"pt-30px"},{default:o(()=>[t(m,{path:"username"},{default:o(()=>[t(d,{value:e(a).username,"onUpdate:value":i[0]||(i[0]=s=>e(a).username=s),placeholder:"请输入登录账号"},{prefix:o(()=>[t(p,{component:e(oe),size:"22"},null,8,["component"])]),_:1},8,["value"])]),_:1}),t(m,{path:"password"},{default:o(()=>[t(d,{value:e(a).password,"onUpdate:value":i[1]||(i[1]=s=>e(a).password=s),type:"password",placeholder:"请输入登录密码","show-password-on":"click",clearable:""},{prefix:o(()=>[t(p,{component:e(se),size:"22"},null,8,["component"])]),_:1},8,["value"])]),_:1})]),_:1},8,["model","rules"]),t(P,{type:"primary",block:"",secondary:"",strong:"",onClick:e(c)},{default:o(()=>[I(" 提交登录 ")]),_:1},8,["onClick"]),(R=e(n).loginLink)!=null&&R.register||(C=e(n).loginLink)!=null&&C.forget?(r(),f("div",fe,[(N=e(n).loginLink)!=null&&N.register?(r(),f("a",{key:0,href:(q=e(n).loginLink)==null?void 0:q.register}," 用户注册 ",8,ge)):h("",!0),(S=e(n).loginLink)!=null&&S.forget?(r(),f("a",{key:1,href:(j=e(n).loginLink)==null?void 0:j.forget}," 找回密码 ",8,he)):h("",!0)])):h("",!0),(B=(A=e(n).loginLink)==null?void 0:A.other_login)!=null&&B.length?(r(),f(O,{key:1},[t(T,null,{default:o(()=>[I(" 其他登录方式 ")]),_:1}),t(D,{justify:"center",size:30},{default:o(()=>[(r(!0),f(O,null,Q(e(n).loginLink.other_login,(s,G)=>(r(),z($,{key:G,trigger:"hover"},{trigger:o(()=>[t(u,{src:s==null?void 0:s.icon,class:"cursor-pointer",width:"40",height:"40","preview-disabled":!0},null,8,["src"])]),default:o(()=>[l("span",null,w((s==null?void 0:s.title)??"错误"),1)]),_:2},1024))),128))]),_:1})],64)):h("",!0)])]),l("div",ve,[t(e(_e))])]}),_:1})}}});const ke=ce(xe,[["__scopeId","data-v-523e343d"]]);export{ke as default};
