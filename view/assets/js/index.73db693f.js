import{m as _n,d as R,u as gn,a as vn,b as yn,c as xn,r as oe,e as x,z as wn,f as Cn,o as v,g as $,w as C,h as y,i as l,_ as kn,j as bn,N as Pn,k as Sn,l as Ot,n as $n,p as Rn,q as Dn,s as En,t as st,v as lt,x as Un,y as Ht,A as qt,B as re,C as rt,D as Se,E as ve,F as O,G as S,H as se,I as $e,J as G,K as Vt,L as pe,M as Z,O as Nt,P as jn,Q as et,R as Mt,S as Ne,T as ct,U as z,V as U,W as Re,X as ie,Y as Pe,Z as W,$ as ae,a0 as D,a1 as it,a2 as Wt,a3 as ee,a4 as Lt,a5 as Et,a6 as q,a7 as V,a8 as Tn,a9 as Bn,aa as An,ab as _e,ac as Jt,ad as Ut,ae as Gn,af as Fn,ag as ut,ah as zn,ai as dt,aj as Kt,ak as In,al as On,am as Hn,an as qn,ao as Vn,ap as Nn,aq as Zt,ar as jt,as as Mn,at as Wn,au as Ln,av as Jn,aw as Kn,ax as Zn,ay as Qn,az as Yn,aA as Ce,aB as Xn,aC as eo,aD as pt,aE as ft,aF as ht,aG as Qt,aH as to,aI as no,aJ as oo,aK as ao,aL as so,aM as lo}from"./.pnpm.416993ac.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const Yt={},T=()=>Yt,ro=t=>{_n(Yt,t)},co=R({__name:"naive-provider",setup(t){const e=gn(),n=vn(),o=yn(),s=xn();return ro({notification:e,message:n,dialog:o,loadingBar:s}),(a,i)=>oe(a.$slots,"default")}}),io=R({__name:"index",setup(t){const e=x(wn),n=x(Cn);return(o,s)=>{const a=kn,i=bn,d=Pn,h=Sn,p=Ot;return v(),$(p,{locale:l(e),"date-locale":l(n)},{default:C(()=>[y(h,null,{default:C(()=>[y(d,null,{default:C(()=>[y(i,null,{default:C(()=>[y(a,null,{default:C(()=>[y(co,null,{default:C(()=>[oe(o.$slots,"default")]),_:3})]),_:3})]),_:3})]),_:3})]),_:3})]),_:3},8,["locale","date-locale"])}}}),uo={title:"KFAdmin",layout:"top",headerHeight:50,footerHeight:35,accordion:!0,collapsed:!1,siderWidth:230,siderCollapsedWidth:80,showSiderTrigger:"arrow-circle",inverted:!0,logoSize:35,rootIndent:18,indent:32},po="modulepreload",fo=function(t,e){return new URL(t,e).href},Tt={},ge=function(e,n,o){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=fo(a,o),a in Tt)return;Tt[a]=!0;const i=a.endsWith(".css"),d=i?'[rel="stylesheet"]':"";if(!!o)for(let f=s.length-1;f>=0;f--){const u=s[f];if(u.href===a&&(!i||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${d}`))return;const p=document.createElement("link");if(p.rel=i?"stylesheet":po,i||(p.as="script",p.crossOrigin=""),p.href=a,document.head.appendChild(p),i)return new Promise((f,u)=>{p.addEventListener("load",f),p.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())},ho=[{path:"/login",name:"Login",component:()=>ge(()=>import("./index.36c0ce28.js"),["./index.36c0ce28.js",".pnpm.416993ac.js","..\\css\\.pnpm.e29dc35f.css","..\\css\\index.d42b6c71.css"],import.meta.url),meta:{title:"用户登录"}},{path:"/redirect/:path(.*)",name:"redirect",component:()=>ge(()=>import("./index.c7bcecf8.js"),["./index.c7bcecf8.js",".pnpm.416993ac.js","..\\css\\.pnpm.e29dc35f.css"],import.meta.url)},{path:"/error",name:"error",meta:{title:"找不到页面"},component:()=>ge(()=>import("./error.ce96f80d.js"),["./error.ce96f80d.js",".pnpm.416993ac.js","..\\css\\.pnpm.e29dc35f.css"],import.meta.url)},{path:"/:pathMatch(.*)",component:()=>ge(()=>import("./error.ce96f80d.js"),["./error.ce96f80d.js",".pnpm.416993ac.js","..\\css\\.pnpm.e29dc35f.css"],import.meta.url)}],J=$n({routes:[...ho],history:Rn("/")}),Me=()=>{var n,o;const t=J.currentRoute.value;let e="";return(n=t==null?void 0:t.meta)!=null&&n.moduleName?e=(o=t==null?void 0:t.meta)==null?void 0:o.moduleName:e=location.pathname.replace(/^\/(.*)\/$/,"$1"),e},ye=(t="",e=!1)=>{var a;const n=J.currentRoute.value,o=((a=n==null?void 0:n.meta)==null?void 0:a.moduleName)??"",s=x(n.path);if(e){const i=s.value.indexOf("/",1);s.value=s.value.substring(0,i),s.value=`${s.value}/`}return`${o}${s.value}${t}`},mt=t=>{let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},Ie=t=>{mt(t)?location.href=t:J.push(t)};function Ke(t=6){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return e}const te=(t,e)=>{for(const n in e)if(e[n]===t)return!0;return!1},He=()=>{var n;const t=J.currentRoute.value,{notification:e}=T();(n=t.query)!=null&&n.isBack?J.back():e==null||e.error({title:"返回上次页面错误",duration:2e3})},mo=t=>t.replace(/\/(\w)/g,(e,n)=>n.toUpperCase()),Al=(t,e="Enter")=>{const n=o=>{o.key===e&&(t(),o.preventDefault())};Dn(()=>document.addEventListener("keydown",n)),En(()=>document.removeEventListener("keydown",n))},_o=t=>{let e;const n={},o=t.slice(t.indexOf("?")+1).split("&");for(let s=0;s<o.length;s++)e=o[s].split("="),n[e[0]]=e[1];return n},go=t=>{const e=new URLSearchParams;for(const[o,s]of Object.entries(t))e.append(o,s);return e.toString()},le=(t,e)=>{let n=t,o=0;function s(){n=n[e[o]],o++,o<e.length&&n&&s()}return s(),n},_t="Authorization",gt="Appid",De=st(()=>{const t=Me();return lt(`${t}_${_t}`,null)}),Ee=st(()=>{const t=Me();return lt(`${t}_${gt}`,null)}),Xt="/",L=Un.create({baseURL:Xt,timeout:6e4}),vo=async t=>{const e=De();e.value&&t.headers.set(_t,e.value);const n=Ee();return n.value&&t.headers.set(gt,n.value),t},yo=t=>{var s,a,i,d;const{notification:e}=T(),n=De(),o=t.data;return t.headers["content-type"]==="application/json"?te(o==null?void 0:o.code,[404,500])?(e==null||e.error({title:"温馨提示",content:(o==null?void 0:o.msg)||"网络错误",duration:1500}),Promise.reject(t.data)):(o==null?void 0:o.code)===301?(Ie(((s=o==null?void 0:o.data)==null?void 0:s.url)??""),Promise.reject(t.data)):(o==null?void 0:o.code)===302?(e==null||e.error({title:"温馨提示",content:(o==null?void 0:o.msg)||"网络错误",duration:1500}),Ie(((a=o==null?void 0:o.data)==null?void 0:a.url)??""),Promise.reject(t.data)):(o==null?void 0:o.code)===303?(e==null||e.success({title:"温馨提示",content:(o==null?void 0:o.msg)||"网络错误",duration:1500}),Ie(((i=o==null?void 0:o.data)==null?void 0:i.url)??""),Promise.reject(t.data)):(o==null?void 0:o.code)===304?(window.location.reload(),Promise.reject(t.data)):(o==null?void 0:o.code)===305?(e==null||e.success({title:"温馨提示",content:(o==null?void 0:o.msg)||"网络错误",duration:1500}),setTimeout(()=>{window.location.reload()},2500),Promise.reject(t.data)):(o==null?void 0:o.code)===200?o:((o==null?void 0:o.code)===12e3&&(n.value="",J.replace({path:"/login",query:{redirect:(d=J.currentRoute.value)==null?void 0:d.fullPath}})),Promise.reject(t.data)):t.headers["content-type"]==="application/octet-stream"?Promise.resolve(o):Promise.resolve(t)},xo=t=>{const{notification:e}=T();if(t.response){const{data:n,status:o,statusText:s}=t.response;o===401?e==null||e.error({title:"温馨提示",content:(n==null?void 0:n.msg)||s,duration:1500}):o===403?e==null||e.error({title:"资源请求错误",content:(n==null?void 0:n.msg)||s,duration:1500}):o===500&&(e==null||e.error({title:"服务器错误",content:(n==null?void 0:n.msg)||s,duration:1500}))}return Promise.reject(t)};L.interceptors.request.use(vo);L.interceptors.response.use(yo,xo);const fe=(t,e,n)=>L.request({url:t,params:e,method:"GET",...n}),vt=(t,e,n)=>L.request({url:t,data:e,method:"POST",...n}),yt=(t,e,n)=>L.request({url:t,data:e,method:"PUT",...n}),We=(t,e,n)=>L.request({url:t,data:e,method:"DELETE",...n}),wo=Object.freeze(Object.defineProperty({__proto__:null,baseURL:Xt,default:L,instance:L,useDelete:We,useGet:fe,usePost:vt,usePut:yt},Symbol.toStringTag,{value:"Module"})),Co=Me(),ko=`${Co}/Publics/site`,bo=()=>fe(ko),Po=st(()=>{const t=Me();return lt(`${t}-layout-theme`,uo)}),Q=Ht("app",()=>{const t=Po(),e=qt(l(t)),n=x(),o=x(),s=x(),a=p=>{s.value=p},i=p=>{o.value=p},d=p=>{var u;e.title=p.web_title,e.web_name=p.web_name;const f=new URL("data:image/png;base64,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",self.location).href;e.logo=(p==null?void 0:p.web_logo)==="string"?p.web_logo:f,e.layout=((u=p==null?void 0:p.theme)==null?void 0:u.layout)??e.layout,n.value=p};return{layout:e,getSite:async()=>{const{data:p}=await bo();return d(p),p},site:n,dynameicRemoteRoute:o,setDynameicRemoteRoute:i,loginLink:s,setLoginLink:a}}),So=t=>{var o;const n=(o=Q().site)==null?void 0:o.public_api.login;return vt(n,t)},$o=()=>{var n;const e=(n=Q().site)==null?void 0:n.public_api.loginout;return We(e)},Ro=()=>{var n;const e=(n=Q().site)==null?void 0:n.public_api.user;return fe(e)},Do=async()=>{var o;const e=(o=Q().site)==null?void 0:o.public_api.menus,{data:n}=await fe(e);return n},Ze=R({__name:"route-view",setup(t){const e=re(),n=()=>`${new Date().getTime()}${Math.random()}`,o=x("");return rt(()=>e.fullPath,()=>{o.value=n()}),(s,a)=>{const i=Se("router-view");return v(),$(i,{key:l(o)})}}}),Eo=R({__name:"logo",props:{collapsedWidth:null,headerHeight:null,size:{default:30},src:null,inverted:{type:Boolean}},setup(t){const e=t;ve(s=>({a225a460:l(o),"069e2b22":l(n)}));const n=O(()=>`${e.headerHeight}px`),o=O(()=>`${e.collapsedWidth}px`);return(s,a)=>{const i=$e;return v(),S("div",{class:se(["pro-admin-layout-header flex items-center justify-center",{"bg-[#011528]":t.inverted}])},[y(i,{src:t.src,width:t.size,height:t.size,"preview-disabled":""},null,8,["src","width","height"])],2)}}});const Y=(t,e)=>{const n=t.__vccOpts||t;for(const[o,s]of e)n[o]=s;return n},xt=Y(Eo,[["__scopeId","data-v-65fa780c"]]),Uo=R({__name:"title",props:{headerHeight:null,layout:null,title:null,size:{default:16},inverted:{type:Boolean}},setup(t){const e=t;ve(s=>({"5a04372c":l(n)}));const n=O(()=>`${e.headerHeight}px`),o=O(()=>({fontSize:`${e.size}px`}));return(s,a)=>(v(),S("div",{class:se(["pro-admin-tabs-layout-header flex items-center flex-1 truncate select-none",{"justify-center":t.inverted}]),style:Vt(l(o))},G(t.title),7))}});const en=Y(Uo,[["__scopeId","data-v-be8d9a40"]]),tn=R({__name:"layout-content",setup(t){const e=pe();return(n,o)=>{const s=Nt;return v(),$(s,Z(l(e),{style:{"--n-color":"var(--pro-admin-layout-content-bg)"}}),{default:C(()=>[oe(n.$slots,"default")]),_:3},16)}}}),tt=R({__name:"layout-sider",setup(t){const e=pe();return(n,o)=>{const s=jn;return v(),$(s,Z({"collapse-mode":"width"},l(e)),{default:C(()=>[oe(n.$slots,"default")]),_:3},16)}}}),wt={vue:null},A=R({__name:"index",props:{icon:null,depth:null,size:{default:18},color:null},setup(t){return(e,n)=>{const o=Mt;return v(),$(o,{component:l(et)[t.icon],size:t.size,depth:t.depth,color:t.color},null,8,["component","size","depth","color"])}}}),jo={};function To(t,e){return v(),S("div",null," 高德地图 ")}const Bo=Y(jo,[["render",To]]),Ao={};function Go(t,e){return v(),S("div",null," 百度地图 ")}const Fo=Y(Ao,[["render",Go]]),xe=R({__name:"buttons",props:{extraConfig:null},emits:["update:init","update:submit","update:rest"],setup(t,{expose:e,emit:n}){const o=Ne(),s=x(!1),a=h=>{s.value=h},i=()=>{a(!0),n("update:submit")},d=()=>{a(!0),n("update:rest")};return ct(()=>{n("update:init",{exposed:o.exposed})}),e({setDisabled:a}),(h,p)=>{var r;const f=Re,u=ie;return(r=t.extraConfig.submitBtn)!=null&&r.show?(v(),$(u,{key:0,justify:"center",size:30,class:"py-3 b-t-1px"},{default:C(()=>{var c,m,g,b;return[(c=t.extraConfig.submitBtn)!=null&&c.show?(v(),$(f,Z({key:0},((m=t.extraConfig)==null?void 0:m.submitBtn)??{},{loading:l(s),disabled:l(s),onClick:i}),{default:C(()=>{var _;return[z(G(l(s)?"请求中...":((_=t.extraConfig.submitBtn)==null?void 0:_.content)??"提交"),1)]}),_:1},16,["loading","disabled"])):U("",!0),(g=t.extraConfig.resetBtn)!=null&&g.show?(v(),$(f,Z({key:1},((b=t.extraConfig)==null?void 0:b.resetBtn)??{},{disabled:l(s),onClick:d}),{default:C(()=>{var _;return[z(G(((_=t.extraConfig.resetBtn)==null?void 0:_.content)??"重置"),1)]}),_:1},16,["disabled"])):U("",!0)]}),_:1})):U("",!0)}}}),zo={class:"h-450px overflow-y-auto p-5"},Io=D("div",{class:"text-blueGray pt-2 select-none"}," 温馨提示：单击图标为选择，双击图标为复制 ",-1),Oo=["title","alt","onClick","onDblclick"],Ho=R({__name:"icons-mgr",emits:["update:init","update:copy","update:click","update:confirm"],setup(t,{expose:e,emit:n}){const{notification:o}=T(),s=Ne(),a=x(Object.keys(et)),i=x(""),d=x(""),h=u=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(u).then(r=>{});else{const r=document.createElement("input");r.value=u,document.body.appendChild(r),r.select(),document.execCommand("Copy"),r.remove()}n("update:copy",u),o==null||o.success({title:"复制成功",duration:1500})},p=u=>{i.value=u===i.value?"":u,n("update:click",i.value)},f=()=>(n("update:confirm",i.value??""),i.value);return ct(()=>{n("update:init",{exposed:s.exposed})}),e({hanldConfirm:f}),(u,r)=>{const c=it,m=Wt,g=Mt,b=ie;return v(),S("div",zo,[y(m,null,{default:C(()=>[y(c,{modelValue:l(d),"onUpdate:modelValue":r[0]||(r[0]=_=>Pe(d)?d.value=_:null),placeholder:"可输入搜索图标名称"},null,8,["modelValue"])]),_:1}),Io,y(b,{justify:"space-around",class:"pt-5",size:22},{default:C(()=>[(v(!0),S(W,null,ae(l(a).filter(_=>_.includes(l(d))),_=>(v(),S("div",{key:_,class:se([{"bg-slate":_===l(i)},"hover:bg-slate px-2 py-1 border-sm cursor-pointer"]),title:_,alt:_,onClick:w=>p(_),onDblclick:w=>h(_)},[y(g,{component:l(et)[_],size:26,color:"#555"},null,8,["component"])],42,Oo))),128))]),_:1})])}}}),qo={class:"w-100%"},Vo=R({__name:"index",props:{modelValue:null},emits:["update:modelValue"],setup(t,{emit:e}){const{dialog:n,notification:o}=T(),s=x(),a=x(),i=x({submitBtn:{type:"success",content:"确定",show:!0},resetBtn:{type:"warning",content:"关闭",show:!0}}),d=()=>{e("update:modelValue","")},h=()=>{s.value=n==null?void 0:n.create({class:"pro-admin-dialog",title:"图标管理器",maskClosable:!1,showIcon:!1,style:{width:"45%"},content:()=>ee(Ho,{"onUpdate:init":p=>{a.value=p==null?void 0:p.exposed}}),action:()=>ee(xe,{extraConfig:i.value,"onUpdate:submit":()=>{var f,u;const p=(f=a.value)==null?void 0:f.hanldConfirm();p?(e("update:modelValue",p),(u=s.value)==null||u.destroy()):o==null||o.error({title:"请选择图标",duration:1500})},"onUpdate:rest":()=>{var p;(p=s.value)==null||p.destroy()}})})};return(p,f)=>{const u=it,r=Re,c=Wt;return v(),S("div",qo,[y(c,null,{default:C(()=>[y(u,{value:t.modelValue,placeholder:"请选择图标",disabled:""},null,8,["value"]),y(r,{type:"warning",onClick:d},{default:C(()=>[z(" 重置图标 ")]),_:1}),y(r,{type:"success",onClick:h},{default:C(()=>[z(" 选择图标 ")]),_:1})]),_:1})])}}}),No={};function Mo(t,e){return v(),S("div",null," 腾讯地图 ")}const Wo=Y(No,[["render",Mo]]);function Lo(){const t=wt.vue;Lt.install(t)}const Jo={form:{labelPlacement:"top",inline:!1,labelPosition:"right",labelSuffix:void 0,hideRequiredAsterisk:!1,labelWidth:"auto",showMessage:!0,inlineMessage:!1,statusIcon:!1,validateOnRuleChange:!0,disabled:!1,size:void 0},row:{gutter:30,alignItems:"center",type:void 0,align:void 0,justify:void 0,tag:"div"},global:{"*":{}},submitBtn:!1,resetBtn:!1},Ko=t=>t.map(e=>(e.handle=n=>{if((e==null?void 0:e.where)==="==")return n===e.value;if((e==null?void 0:e.where)==="!=")return n!==e.value;if((e==null?void 0:e.where)==="in"){const o=e.value;return o instanceof Array&&o instanceof Object?te(n,e.value):(console.error("联动组件的IN条件值必须是数组或对象"),!1)}},e)),Zo=t=>t.map(e=>(e!=null&&e.control&&(e.control=Ko(e.control)),e)),Qo=(t,e)=>{const n=x({}),o=x({api:"",method:"POST"}),s=x(""),a=x({}),i=x([]),d=x(Jo),h=Ne(),p=()=>{var b,_;const{notification:r}=T(),c=J.currentRoute.value,m={...c==null?void 0:c.query};m!=null&&m.isBack&&(m==null||delete m.isBack);const g={method:((b=o.value)==null?void 0:b.method)??"GET",params:{...t.ajaxParams},data:{}};o.value.method==="GET"?g.params={...a.value}:g.data={...a.value},e("update:submit",{api:o.value.api,queryParams:g}),L(((_=o.value)==null?void 0:_.api)??"",g).then(w=>{var k;(k=c.query)!=null&&k.isBack&&!t.isModal&&!s.value?He():s.value&&Ie(s.value),e("update:success",w),r==null||r.success({title:(w==null?void 0:w.msg)??"操作失败",duration:1500})}).catch(w=>{e("update:error",w)})},f=()=>{const{notification:r}=T();n.value.resetFields(),r==null||r.success({title:"数据重置成功",duration:1500}),e("update:rest")},u=x({method:t.method,params:{},data:{}});return t.method==="GET"?u.value.params={...t.ajaxParams}:u.value.data={...t.ajaxParams},L((t==null?void 0:t.api)??"",u.value).then(r=>{const{data:c}=r,{notification:m}=T();if(!(c!=null&&c.http))return m==null||m.error({title:"提交接口获取失败",duration:2e3}),Promise.reject(new Error("提交接口获取失败"));if(!(c!=null&&c.formRule))return m==null||m.error({title:"表单规则获取失败",duration:2e3}),Promise.reject(new Error("表单规则获取失败"));o.value=c.http,i.value=Zo(c.formRule),d.value={...d.value,...c.config},s.value=(c==null?void 0:c.redirect)??"",e("update:init",{response:c,exposed:h.exposed})}).catch(r=>{e("update:error",r)}),{fApi:n,submitAPI:o,redirectUrl:s,formData:a,formRule:i,formConfig:d,hanldSubmit:p,hanldReset:f}},Yo={class:"h-100%"},nn=R({__name:"index",props:{api:null,method:{default:"GET"},ajaxParams:{default:{}},isModal:{type:Boolean,default:!1}},emits:["update:init","update:submit","update:success","update:rest","update:error"],setup(t,{expose:e,emit:n}){const o=t,{fApi:s,formData:a,formConfig:i,formRule:d,hanldSubmit:h,hanldReset:p}=Qo(o,n);Lo(),Et.use(Cs);const f=Et.$form();return e({hanldSubmit:h,hanldReset:p}),(u,r)=>(v(),S("div",Yo,[y(l(f),{api:l(s),"onUpdate:api":r[0]||(r[0]=c=>Pe(s)?s.value=c:null),modelValue:l(a),"onUpdate:modelValue":r[1]||(r[1]=c=>Pe(a)?a.value=c:null),modelModifiers:{lazy:!0},rule:l(d),option:l(i)},null,8,["api","modelValue","rule","option"])]))}}),Xo={class:"h-550px overflow-x-hidden overflow-y-auto p-5"},Ct=R({__name:"popup",setup(t){const e=pe();return(n,o)=>(v(),S("div",Xo,[y(nn,q(V(l(e))),null,16)]))}}),ea=(t,e,n)=>{const{notification:o}=T();if(!(n!=null&&n.file))return o==null||o.error({title:"导出数据失败，缺少[file]地址",duration:2e3}),Promise.reject(new Error("导出数据失败，缺少导出地址"));L(n==null?void 0:n.file,{responseType:"blob"}).then(s=>{Tn.saveFile({filename:t,type:e,content:s.data})})},ta=({vxeGridConfig:t,options:e,xGrid:n})=>{var i;const{notification:o}=T();if(!((i=t.exportConfig)!=null&&i.api))return o==null||o.error({title:"请设置请求API",duration:1500}),Promise.reject(new Error("请设置请求API"));const s=n==null?void 0:n.getProxyInfo(),a={format:e.type??"xlsx",filename:e.filename??"导出文件",sheetName:e.sheetName??"",isHeader:e.isHeader??!1,original:e.original??!1,mode:e.mode??"all",pager:s?s.pager:null,ids:e.mode==="selected"?e.data.map(d=>d.id):[],fields:e.columns.map(d=>({field:d.field,title:d.title}))};return new Promise(d=>{var f;const h={method:"POST",data:{...a}},p=((f=t.exportConfig)==null?void 0:f.api)??"";L(p,h).then(u=>{const{data:r}=u;ea(a.filename,a.format,r),d(u)})})},na=({vxeGridConfig:t,file:e,xGrid:n})=>{const{notification:o}=T(),s=new FormData;return s.append("file",e),new Promise(a=>{var h;const i=((h=t.importConfig)==null?void 0:h.api)??"";L(i,{method:"POST",data:s}).then(p=>{const{msg:f}=p;o==null||o.success({title:f??"操作成功",duration:1500}),n==null||n.commitProxy("query"),a(p)}).catch(p=>{console.error("导入失败",p)})})},oa=({$table:t,file:e})=>new Promise(n=>{const o=new FileReader;o.onload=s=>{const a=s.target?s.target.result:"",i=Bn(a,{type:"binary"}),d=An.sheet_to_json(i.Sheets.Sheet1);t.loadData(d),n(d)},o.readAsBinaryString(e)}),aa=t=>{var e,n;return(e=t.vxeGridConfig.importConfig)!=null&&e.api&&((n=t.vxeGridConfig.importConfig)!=null&&n.isRemote)?na(t):oa(t)},sa=async({options:t,xGrid:e,vxeGridConfig:n})=>{var r,c,m,g;const o=t.form,s=t.page,a=t.sort,i=t.filters;let d=ye();const h=((r=n.screenConfig)==null?void 0:r.method)??"GET",p=(c=e==null?void 0:e.formConfig)==null?void 0:c.data;t!=null&&t.code&&((m=n.screenConfig)!=null&&m.api)&&(d=(g=n.screenConfig)==null?void 0:g.api);const f=J.currentRoute.value,u=x({method:h,params:{page:s.currentPage??1,limit:s.pageSize??20,...o,...(f==null?void 0:f.query)??{},...p}});return JSON.stringify(a)!=="{}"&&u.value.params&&(u.value.params={...u.value.params,field:a.field,order:a.order}),i.length>0&&u.value.params&&i.forEach(({field:b,values:_})=>{u.value.params={...u.value.params,[b]:_.join(",")}}),new Promise((b,_)=>{L(d,u.value).then(w=>{b(w)}).catch(w=>{_(w)})})},la=(t,e,n,o)=>{const{notification:s}=T();if(e.length<=0){s==null||s.error({title:"请先导入数据",duration:1500});return}if(!t){s==null||s.error({title:"未设置导入API接口",duration:1500});return}vt(t,{import:n,data:e}).then(i=>{var d;(d=o.xGrid)==null||d.commitProxy("query"),s==null||s.success({title:(i==null?void 0:i.msg)??"操作成功",duration:1500})})},ra=t=>{_e.commands.add("importAllData",e=>{var a;const{$table:n}=e,o=n==null?void 0:n.getTableData(),s=o==null?void 0:o.fullData;la(((a=t.vxeTableConfig.importConfig)==null?void 0:a.api)??"",s,"all",t)})},ca=t=>{const{notification:e}=T(),n=x(),o=x({}),s=x({active:"",field:"",list:[]}),a=x([]),i=x([]),d={method:t.method,params:{},data:{}};d.method==="GET"?d.params={...t.ajaxParams}:d.data={...t.ajaxParams},L(t.api,d).then(f=>{const u=f.data;o.value=u.tableConfig,s.value=u.tabsConfig,a.value=u.rightButtonList,i.value=u.topButtonList;const r={...o.value.toolbarConfig,slots:{buttons:"topButtonList"}};o.value.toolbarConfig=r,r!=null&&r.import&&(o.value.importConfig={...o.value.importConfig,remote:!0,importMethod:c=>aa({...c,vxeGridConfig:o.value,xGrid:n.value})}),r.export&&(o.value.exportConfig={...o.value.exportConfig,remote:!0,exportMethod:c=>ta({...c,vxeGridConfig:o.value,xGrid:n.value})}),o.value.proxyConfig={...o.value.proxyConfig,ajax:{query:c=>sa({options:c,xGrid:n.value,vxeGridConfig:o.value})}}});const h=(f,u)=>{var r;if(!f){e==null||e.error({title:"请设置请求API接口",duration:1500}),(r=n.value)==null||r.commitProxy("query");return}yt(f,u).then(()=>{var c;(c=n.value)==null||c.commitProxy("query")})},p=({row:f,column:u})=>{var g,b,_;const r=((b=(g=o.value)==null?void 0:g.rowConfig)==null?void 0:b.keyField)??"id",c=f[u==null?void 0:u.field],m={[r]:f[r],keyField:r,field:u==null?void 0:u.field,value:c};h((_=u==null?void 0:u.params)==null?void 0:_.api,m)};return ra({xGrid:n.value,vxeTableConfig:o.value}),{xGrid:n,vxeGridConfig:o,tabsConfig:s,rightButtonList:a,topButtonList:i,hanldEditClose:p}},ia=R({__name:"icons",props:{row:null,column:null},setup(t){const e=t,n=e.column.params,o=e.column.field;let s=x();if(o.includes(".")){const a=o.split(".");s=le(e.row,a)}else s=e.row[o];return n!=null&&n.type&&delete n.type,(a,i)=>(v(),$(A,Z({icon:l(s)},l(n)),null,16,["icon"]))}}),ua=R({__name:"image",props:{column:null,row:null},setup(t){var a;const e=t,n=e.column.field;let o=x();if(n.includes(".")){const i=n.split(".");o=le(e.row,i)}else o=e.row[n];const s=x(e.column.params);return s!=null&&s.type&&delete s.value.type,(a=s.value)!=null&&a.style||(s.value.style={width:"35px",height:"30px"}),(i,d)=>{const h=$e;return l(o)?(v(),$(h,Z({key:0,src:l(o)},l(s)),null,16,["src"])):U("",!0)}}}),da={key:0,class:"flex gap-1"},pa=R({__name:"images",props:{column:null,row:null},setup(t){var a,i;const e=t,n=e.column.field;let o=x();if(n.includes(".")){const d=n.split(".");o=le(e.row,d)}else o=e.row[n];const s=x(e.column.params);return(a=s.value)!=null&&a.type&&delete s.value.type,(i=s.value)!=null&&i.style||(s.value.style={width:"35px",height:"30px"}),(d,h)=>{const p=$e,f=Jt;return l(o)instanceof Array||l(o)instanceof Object?(v(),S("div",da,[(v(!0),S(W,null,ae(l(o),(u,r)=>(v(),S("div",{key:r,class:"item"},[typeof u=="string"?(v(),$(p,Z({key:0,src:u},l(s)),null,16,["src"])):u!=null&&u.label&&(u!=null&&u.url)?(v(),$(f,{key:1,trigger:"hover"},{trigger:C(()=>[y(p,Z({src:u.url},l(s)),null,16,["src"])]),default:C(()=>[z(" "+G(u.label),1)]),_:2},1024)):U("",!0)]))),128))])):U("",!0)}}}),fa={class:"assets-container"},ha={class:"item"},ma=["src"],_a=["src"],ga={class:"text-center select-none"},va=R({__name:"assets",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){var i,d,h;const e=t,n=((d=(i=e.column)==null?void 0:i.params)==null?void 0:d.resource)??[],o=(h=e.column)==null?void 0:h.field;let s=x();if(o.includes(".")){const p=o.split(".");s=le(e.row,p)}else s=e.row[o];const a="";return(p,f)=>{const u=A,r=Jt;return v(),S("div",fa,[(v(!0),S(W,null,ae(l(n),(c,m)=>(v(),$(r,{key:m,show:c.isUpdate,trigger:"hover",placement:"top"},{trigger:C(()=>[D("div",ha,[(c==null?void 0:c.type)==="url"&&l(mt)(c==null?void 0:c.icon)?(v(),S("img",{key:0,class:"logo",src:c==null?void 0:c.icon},null,8,ma)):U("",!0),(c==null?void 0:c.type)==="path"?(v(),S("img",{key:1,class:"logo",src:l(a)+(c==null?void 0:c.icon)},null,8,_a)):(v(),$(u,{key:2,icon:c.icon},null,8,["icon"])),D("div",ga,G(l(s)[c.field]??"字段错误"),1)])]),default:C(()=>[z(" "+G((c==null?void 0:c.title)??"未知"),1)]),_:2},1032,["show"]))),128))])}}});const ya=Y(va,[["__scopeId","data-v-0c469536"]]),xa=R({__name:"money",props:{row:null,column:null},setup(t){var i;const e=t,n=x(((i=e.column)==null?void 0:i.params)??{}),o=e.column.field;let s=x();if(o.includes(".")){const d=o.split(".");s=le(e.row,d)}else s=e.row[o];const a=x("￥");return n!=null&&n.format&&(a.value=n==null?void 0:n.format,n==null||delete n.format),(d,h)=>(v(),S("div",q(V(l(n))),G(l(a))+G(l(Ut).commafy(l(Ut).toNumber(l(s)),{digits:2})),17))}}),wa=R({__name:"swtich",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){const e=t,{notification:n}=T(),o=x({}),s=e.column.field;let a=x();if(s.includes(".")){const h=s.split(".");a=le(e.row,h)}else a=e.row[s];const i=({focused:h,checked:p})=>{var f,u,r,c;return p?o.value=((u=(f=e.column)==null?void 0:f.params)==null?void 0:u.checked)??{}:o.value=((c=(r=e.column)==null?void 0:r.params)==null?void 0:c.unchecked)??{},o.value},d=h=>{var m,g,b,_,w;const p=((g=(m=e.vxeGridConfig)==null?void 0:m.rowConfig)==null?void 0:g.keyField)??"id",f={[p]:e.row[p],keyField:p,field:(b=e.column)==null?void 0:b.field,value:h},u=ye("rowEdit",!0),r=((_=e.column.params)==null?void 0:_.api)??u,c=x({method:((w=e.column.params)==null?void 0:w.method)??"PUT",params:{},data:{}});c.value.method==="GET"?c.value.params={...f}:c.value.data={...f},L(r,c.value).then(k=>{e.xGrid.commitProxy("query"),n==null||n.success({title:(k==null?void 0:k.msg)??"操作成功",duration:1500})})};return(h,p)=>{var u,r,c,m,g,b;const f=Gn;return v(),$(f,{"rail-style":i,"default-value":l(a),"checked-value":(c=(r=(u=t.column)==null?void 0:u.params)==null?void 0:r.checked)==null?void 0:c.value,"unchecked-value":(b=(g=(m=t.column)==null?void 0:m.params)==null?void 0:g.unchecked)==null?void 0:b.value,"on-update:value":d},{checked:C(()=>{var _,w,k;return[z(G((k=(w=(_=t.column)==null?void 0:_.params)==null?void 0:w.checked)==null?void 0:k.text),1)]}),unchecked:C(()=>{var _,w,k;return[z(G((k=(w=(_=t.column)==null?void 0:_.params)==null?void 0:w.unchecked)==null?void 0:k.text),1)]}),icon:C(()=>{var _,w,k,P;return[(w=(_=t.column)==null?void 0:_.params)!=null&&w.icon?(v(),$(A,{key:0,icon:(P=(k=t.column)==null?void 0:k.params)==null?void 0:P.icon},null,8,["icon"])):U("",!0)]}),"checked-icon":C(()=>{var _,w,k,P,E,j;return[(k=(w=(_=t.column)==null?void 0:_.params)==null?void 0:w.checked)!=null&&k.icon?(v(),$(A,{key:0,icon:(j=(E=(P=t.column)==null?void 0:P.params)==null?void 0:E.checked)==null?void 0:j.icon},null,8,["icon"])):U("",!0)]}),"unchecked-icon":C(()=>{var _,w,k,P,E,j;return[(k=(w=(_=t.column)==null?void 0:_.params)==null?void 0:w.unchecked)!=null&&k.icon?(v(),$(A,{key:0,icon:(j=(E=(P=t.column)==null?void 0:P.params)==null?void 0:E.unchecked)==null?void 0:j.icon},null,8,["icon"])):U("",!0)]}),_:1},8,["default-value","checked-value","unchecked-value"])}}}),Ca=R({__name:"input",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){var f,u,r,c,m,g,b,_;const e=t,n=x(e.row[(f=e.column)==null?void 0:f.field]),o=x(e.row[(u=e.column)==null?void 0:u.field]),s=e.column.field,a=((c=(r=e.column)==null?void 0:r.params)==null?void 0:c.api)??ye("rowEdit",!0),i=((g=(m=e.column)==null?void 0:m.params)==null?void 0:g.method)??"PUT",d=((_=(b=e.column)==null?void 0:b.params)==null?void 0:_.props)??{};if(s.includes(".")){const w=s.split(".");n.value=le(e.row,w),o.value=le(e.row,w)}else n.value=e.row[s],o.value=e.row[s];const{notification:h}=T(),p=()=>{var E,j,B;const w=((j=(E=e.vxeGridConfig)==null?void 0:E.rowConfig)==null?void 0:j.keyField)??"id";if(n.value===o.value)return;const k={[w]:e.row[w],keyField:w,field:(B=e.column)==null?void 0:B.field,value:n.value},P=x({method:i??"PUT",params:{},data:{}});P.value.method==="GET"?P.value.params={...k}:P.value.data={...k},L(a,P.value).then(I=>{o.value=k.value,e.xGrid.commitProxy("query"),h==null||h.success({title:(I==null?void 0:I.msg)??"操作成功",duration:1500})})};return(w,k)=>{const P=it;return v(),$(P,Z({value:l(n),"onUpdate:value":k[0]||(k[0]=E=>Pe(n)?n.value=E:null),"on-blur":p},l(d)),null,16,["value"])}}}),ka=R({__name:"select",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){var f,u,r,c,m,g,b,_,w;const e=t,n=x(e.row[(f=e.column)==null?void 0:f.field]),o=e.column.field,s=((r=(u=e.column)==null?void 0:u.params)==null?void 0:r.api)??ye("rowEdit",!0),a=((m=(c=e.column)==null?void 0:c.params)==null?void 0:m.method)??"PUT",i=((b=(g=e.column)==null?void 0:g.params)==null?void 0:b.propsData)??{},d=((w=(_=e.column)==null?void 0:_.params)==null?void 0:w.options)??[],{notification:h}=T();if(o.includes(".")){const k=o.split(".");n.value=le(e.row,k)}else n.value=e.row[o];const p=k=>{var B,I,K;const P=((I=(B=e.vxeGridConfig)==null?void 0:B.rowConfig)==null?void 0:I.keyField)??"id",E={[P]:e.row[P],keyField:P,field:(K=e.column)==null?void 0:K.field,value:k},j=x({method:a??"PUT",params:{},data:{}});j.value.method==="GET"?j.value.params={...E}:j.value.data={...E},L(s,j.value).then(ne=>{e.xGrid.commitProxy("query"),n.value=k,h==null||h.success({title:(ne==null?void 0:ne.msg)??"操作成功",duration:1500})})};return(k,P)=>{const E=Fn;return v(),$(E,Z({value:l(n),"onUpdate:value":P[0]||(P[0]=j=>Pe(n)?n.value=j:null)},l(i),{options:l(d),"on-update:value":p}),null,16,["value","options"])}}}),ba={key:0,class:"tabs-container"},Pa={class:"tabs-box"},Sa=["onClick"],$a={class:"pl-1"},Ra=R({__name:"tabs",props:{xGrid:null,vxeGridConfig:null,tabsConfig:null},setup(t){var h;const e=t,n=re(),o=ut(),s=x({inline:!0,size:1,...((h=e.tabsConfig)==null?void 0:h.space)??{}}),a=n==null?void 0:n.query[e.tabsConfig.field],i=x(a??e.tabsConfig.active),d=p=>{o.push({query:{[e.tabsConfig.field]:p.value}})};return(p,f)=>{const u=ie;return t.tabsConfig.list.length>0?(v(),S("div",ba,[D("div",Pa,[y(u,q(V(l(s))),{default:C(()=>[(v(!0),S(W,null,ae(t.tabsConfig.list,(r,c)=>(v(),S("div",{key:c,class:se(["item",{active:l(i)===(r==null?void 0:r.value)}]),onClick:m=>d(r)},[r!=null&&r.icon?(v(),$(A,{key:0,icon:r==null?void 0:r.icon},null,8,["icon"])):U("",!0),D("span",$a,G((r==null?void 0:r.label)??"错误"),1)],10,Sa))),128))]),_:1},16)])])):U("",!0)}}});const Da=Y(Ra,[["__scopeId","data-v-5c06d3a3"]]),Ea=R({__name:"tags",props:{row:null,column:null},setup(t){var a,i,d,h,p,f,u;const e=t,n=x("标签出错"),o=x({}),s=e.row[(a=e.column)==null?void 0:a.field];return(d=(i=e.column)==null?void 0:i.params)!=null&&d.options&&(n.value=(p=(h=e.column)==null?void 0:h.params)==null?void 0:p.options[s]),(u=(f=e.column)==null?void 0:f.params)!=null&&u.style&&(o.value=e.column.params.style[s]),(r,c)=>{const m=zn;return v(),$(m,q(V(l(o))),{default:C(()=>[z(G(l(n)),1)]),_:1},16)}}}),Ua=R({__name:"remote",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){var a,i,d;const e=t,n=x((i=(a=e.column)==null?void 0:a.params)==null?void 0:i.file),o=((d=e.column)==null?void 0:d.field)??"",s=x(e.row[o]??"");return(h,p)=>(v(),$(l(he),Z({file:l(n)},{modelValue:l(s),column:t.column,row:t.row}),null,16,["file"]))}}),Le=(t,e)=>{let n={};for(const o in t){const s=t[o]??"id";n={...n,[s]:e[o]??""}}return n},ja=({xGrid:t,vxeGridConfig:e,button:n,row:o,column:s})=>{var f,u,r,c,m,g,b;const a=J.currentRoute.value,{notification:i}=T(),d={method:((f=n.pageData)==null?void 0:f.method)??"GET",params:{},data:{}};let p={...((u=n==null?void 0:n.pageData)==null?void 0:u.queryParams)??{},...a.query};if(o&&s&&te(JSON.stringify((r=n==null?void 0:n.pageData)==null?void 0:r.aliasParams),["[]","{}"])){const _=((c=e==null?void 0:e.rowConfig)==null?void 0:c.keyField)??"id";p={...p,[_]:o[_]}}te(JSON.stringify((m=n==null?void 0:n.pageData)==null?void 0:m.aliasParams),["[]","{}"])||(p={...p,...Le((g=n==null?void 0:n.pageData)==null?void 0:g.aliasParams,o)}),d.method==="GET"?d.params={...p}:d.data={...p},L(((b=n.pageData)==null?void 0:b.api)??"",d).then(_=>{t==null||t.commitProxy("query"),i==null||i.success({title:(_==null?void 0:_.msg)??"操作成功",duration:1500})})},Bt=({vxeGridConfig:t,button:e,row:n,column:o})=>{var h,p,f,u,r,c,m,g;const{notification:s}=T();if(!((h=e==null?void 0:e.pageData)!=null&&h.path)){s==null||s.error({title:"缺少跳转地址",duration:1500});return}const a=J.currentRoute.value;let d={...((p=e==null?void 0:e.pageData)==null?void 0:p.queryParams)??{},...a.query};if(n&&o&&te(JSON.stringify((f=e==null?void 0:e.pageData)==null?void 0:f.aliasParams),["[]","{}"])){const b=((u=t==null?void 0:t.rowConfig)==null?void 0:u.keyField)??"id";d={...d,[b]:n[b]}}te(JSON.stringify((r=e==null?void 0:e.pageData)==null?void 0:r.aliasParams),["[]","{}"])||(d={...d,...Le((c=e==null?void 0:e.pageData)==null?void 0:c.aliasParams,n)}),(m=e.pageData)!=null&&m.isBack&&(d={...d,isBack:1}),J.push({path:(g=e==null?void 0:e.pageData)==null?void 0:g.path,query:{...d}})},Ta=({xGrid:t,vxeGridConfig:e,button:n,row:o,column:s})=>{const{dialog:a}=T();a==null||a.create({...(n==null?void 0:n.message)??{},maskClosable:!1,onPositiveClick:()=>{ja({xGrid:t,vxeGridConfig:e,button:n,row:o,column:s})}})},nt=x({submitBtn:{},resetBtn:{}}),qe=x({hanldSubmit:()=>{},hanldReset:()=>{}}),Oe=x({setDisabled:()=>{}}),ke=x(),Ba=({vxeGridConfig:t,button:e,row:n,column:o})=>{var h,p,f,u,r,c,m,g,b,_;const s=J.currentRoute.value;let a,i={},d={...s.query};if(JSON.stringify((h=e.pageData)==null?void 0:h.queryParams)!=="{}"&&(d={...(p=e.pageData)==null?void 0:p.queryParams}),n&&o&&te(JSON.stringify((f=e==null?void 0:e.pageData)==null?void 0:f.aliasParams),["[]","{}"])){const w=((u=t==null?void 0:t.rowConfig)==null?void 0:u.keyField)??"id";d={...d,[w]:n[w]}}switch(te(JSON.stringify((r=e==null?void 0:e.pageData)==null?void 0:r.aliasParams),["[]","{}"])||(d={...d,...Le((c=e==null?void 0:e.pageData)==null?void 0:c.aliasParams,n)}),(m=e.pageData)==null?void 0:m.type){case"table":a=an,i={api:((g=e==null?void 0:e.pageData)==null?void 0:g.api)??""};break;case"remote":a=he,i={file:((b=e==null?void 0:e.pageData)==null?void 0:b.path)??"",modal:(e==null?void 0:e.pageData.modal)??!1,ajaxParams:d,"onUpdate:closeWin":()=>{var w;(w=ke.value)!=null&&w.destroy&&ke.value.destroy()}};break;default:a=Ct,i={api:((_=e==null?void 0:e.pageData)==null?void 0:_.api)??"",method:e.pageData.method??"GET",ajaxParams:d,"onUpdate:init":w=>{var k,P;qe.value.hanldSubmit=(k=w==null?void 0:w.exposed)==null?void 0:k.hanldSubmit,qe.value.hanldReset=(P=w==null?void 0:w.exposed)==null?void 0:P.hanldReset,nt.value.submitBtn=w==null?void 0:w.response.extraConfig.submitBtn,nt.value.resetBtn=w==null?void 0:w.response.extraConfig.resetBtn},"onUpdate:success":()=>{var w;Oe.value.setDisabled(!1),(w=ke.value)!=null&&w.destroy&&ke.value.destroy()},"onUpdate:rest":()=>{Oe.value.setDisabled(!1)},"onUpdate:error":()=>{Oe.value.setDisabled(!1)}};break}return{hpComponent:a,componentAttrs:i}},Aa=t=>{var a,i;const{dialog:e}=T(),{hpComponent:n,componentAttrs:o}=Ba(t),s={...((a=t.button)==null?void 0:a.message)??{},class:"pro-admin-dialog",content:()=>ee(n,{...o}),onAfterLeave:()=>{var d;(d=t.xGrid)==null||d.commitProxy("query")}};((i=t.button.pageData)==null?void 0:i.type)==="form"&&(s.action=()=>ee(xe,{extraConfig:nt.value,"onUpdate:init":d=>{var h;Oe.value.setDisabled=(h=d==null?void 0:d.exposed)==null?void 0:h.setDisabled},"onUpdate:submit":()=>{qe.value.hanldSubmit()},"onUpdate:rest":()=>{qe.value.hanldReset()}})),ke.value=e==null?void 0:e.create(s)},Ga=t=>{var p,f,u,r,c,m,g,b,_,w,k,P,E,j;const e=((f=(p=t.button)==null?void 0:p.pageData)==null?void 0:f.api)??"/",n=((u=t.button.pageData)==null?void 0:u.method)??"GET";let o=((r=t.button.pageData)==null?void 0:r.path)??"";const{notification:s}=T(),a=J.currentRoute.value,i={method:n,params:{},data:{}};let h={...((m=(c=t.button)==null?void 0:c.pageData)==null?void 0:m.queryParams)??{},...a.query};if(t.row&&t.column&&te(JSON.stringify((b=(g=t.button)==null?void 0:g.pageData)==null?void 0:b.aliasParams),["[]","{}"])){const B=((w=(_=t.vxeGridConfig)==null?void 0:_.rowConfig)==null?void 0:w.keyField)??"id";h={...h,[B]:t.row[B]}}te(JSON.stringify((P=(k=t.button)==null?void 0:k.pageData)==null?void 0:P.aliasParams),["[]","{}"])||(h={...h,...Le((j=(E=t.button)==null?void 0:E.pageData)==null?void 0:j.aliasParams,t.row)}),i.method==="GET"?i.params={...h}:i.data={...h},L(e,i).then(B=>{const{data:I}=B;if(!o){if(!(I!=null&&I.url)){s==null||s.error({title:"缺少跳转地址",duration:1500});return}o=I.url}mt(o)||(o=`//${location.host}/${o}`),window.open(o,"about:blank")})},ot=t=>{var e,n,o,s;((e=t.button.pageData)==null?void 0:e.type)==="page"?Bt(t):((n=t.button.pageData)==null?void 0:n.type)==="link"?Ga(t):((o=t.button.pageData)==null?void 0:o.type)==="confirm"?Ta(t):(s=t.button.pageData)!=null&&s.modal?Aa(t):Bt(t)},Fa=()=>{var o;const t=we(),e=(t==null?void 0:t.routerRecords)??[],n=[];for(const s of e){const a=`${(o=s.meta)==null?void 0:o.moduleName}${s.path}`;n.push(a)}return n},on=t=>{const e=Fa();return te(t,e)},za=R({__name:"right-button",props:{xGrid:null,vxeGridConfig:null,column:null,row:null,rightButtonList:null},setup(t){var r,c,m,g,b;const e=t,n=O(()=>_=>{var B,I,K,ne,je,Te,Be;const w=((B=_.pageData)==null?void 0:B.api)??"";if(!on(w))return!1;const k=((K=(I=_==null?void 0:_.pageData)==null?void 0:I.params)==null?void 0:K.where)??"",P=(je=(ne=_==null?void 0:_.pageData)==null?void 0:ne.params)==null?void 0:je.field,E=(Be=(Te=_==null?void 0:_.pageData)==null?void 0:Te.params)==null?void 0:Be.value;if(P===void 0&&E===void 0)return!0;if(P===void 0||P===""||P&&(E===void 0||E===""))return!1;const j=e.row[P];switch(k){case"!=":return E!==j;case"in":return E instanceof Array&&te(j,E);case"notIn":return E instanceof Array&&!te(j,E);default:return E===j}}),o=()=>{const _=e.rightButtonList,w=[];return _.forEach(k=>{var E;const P={label:k.title,key:k.field};(E=k.button)!=null&&E.icon&&(P.icon=()=>{var j;return ee(A,{icon:(j=k.button)==null?void 0:j.icon})}),w.push(P)}),w},s=_=>{const{notification:w}=T(),P=e.rightButtonList.find(E=>E.field===_);if(!P){w==null||w.error({title:"按钮数据错误",duration:1500});return}ot({xGrid:e.xGrid,button:P,row:e.row,column:e.column,vxeGridConfig:e.vxeGridConfig})},a=x(((r=e.column.params)==null?void 0:r.group)??!1),i=x(((c=e.column.params)==null?void 0:c.trigger)??"click"),d=x(((m=e.column.params)==null?void 0:m.icon)??"MenuOutlined"),h=x(((g=e.column.params)==null?void 0:g.group_text)??"更多"),p={type:"success",size:"small"},f=x(((b=e.column.params)==null?void 0:b.group_style)??p),u=O(()=>o());return(_,w)=>{const k=A,P=Re,E=dt,j=ie;return v(),S("div",null,[l(a)?(v(),$(E,{key:0,trigger:l(i),options:l(u),onSelect:s},{default:C(()=>[y(P,q(V(l(f))),{icon:C(()=>[y(k,{icon:l(d)},null,8,["icon"])]),default:C(()=>[z(G(l(h))+" ",1)]),_:1},16)]),_:1},8,["trigger","options"])):(v(),$(j,{key:1,align:"center",wrap:!1},{default:C(()=>[(v(!0),S(W,null,ae(t.rightButtonList,(B,I)=>(v(),S(W,null,[l(n)(B)?(v(),$(P,Z({key:I},(B==null?void 0:B.button)??{},{onClick:K=>l(ot)({xGrid:t.xGrid,button:B,row:t.row,column:t.column,vxeGridConfig:t.vxeGridConfig})}),{icon:C(()=>{var K,ne;return[(K=B==null?void 0:B.button)!=null&&K.icon?(v(),$(A,{key:0,icon:(ne=B==null?void 0:B.button)==null?void 0:ne.icon},null,8,["icon"])):U("",!0)]}),default:C(()=>[z(" "+G(B.title),1)]),_:2},1040,["onClick"])):U("",!0)],64))),256))]),_:1}))])}}}),Ia={class:"flex space-x-3"},Oa=R({__name:"top-button",props:{xGrid:null,column:null,topButtonList:null,vxeGridConfig:null},setup(t){const e=re(),n=O(()=>o=>{var a;const s=((a=o.pageData)==null?void 0:a.api)??"";return!!on(s)});return(o,s)=>{var d;const a=Re,i=ie;return v(),S("div",Ia,[(d=l(e).query)!=null&&d.isBack?(v(),$(a,{key:0,type:"warning",onClick:l(He)},{default:C(()=>[z(" 返回 ")]),_:1},8,["onClick"])):U("",!0),y(i,{align:"center"},{default:C(()=>[(v(!0),S(W,null,ae(t.topButtonList,(h,p)=>(v(),S("div",{key:p},[l(n)(h)?(v(),$(a,Z({key:0},(h==null?void 0:h.button)??{},{onClick:f=>l(ot)({button:h,xGrid:t.xGrid,vxeGridConfig:t.vxeGridConfig})}),{icon:C(()=>{var f,u;return[(f=h==null?void 0:h.button)!=null&&f.icon?(v(),$(A,{key:0,icon:(u=h==null?void 0:h.button)==null?void 0:u.icon},null,8,["icon"])):U("",!0)]}),default:C(()=>[z(" "+G(h.title),1)]),_:2},1040,["onClick"])):U("",!0)]))),128))]),_:1})])}}}),an=R({__name:"index",props:{api:null,method:{default:"GET"},ajaxParams:{default:{}}},setup(t){const e=t,{xGrid:n,vxeGridConfig:o,tabsConfig:s,rightButtonList:a,topButtonList:i,hanldEditClose:d}=ca(e);return(h,p)=>{var u;const f=Se("vxe-grid");return(u=l(o))!=null&&u.id?(v(),$(f,Z({key:0,ref_key:"xGrid",ref:n},l(o),{class:"p-4",onEditClosed:l(d)}),{assets:C(({row:r,column:c,$grid:m})=>[y(l(ya),q(V({vxeGridConfig:l(o),row:r,column:c,xGrid:m})),null,16)]),money:C(({row:r,column:c,$grid:m})=>[y(l(xa),q(V({vxeGridConfig:l(o),row:r,column:c,xGrid:m})),null,16)]),image:C(({row:r,column:c,$grid:m})=>[y(l(ua),q(V({vxeGridConfig:l(o),row:r,column:c,xGrid:m})),null,16)]),images:C(({row:r,column:c,$grid:m})=>[y(l(pa),q(V({vxeGridConfig:l(o),row:r,column:c,xGrid:m})),null,16)]),icons:C(({row:r,column:c,$grid:m})=>[y(l(ia),q(V({vxeGridConfig:l(o),row:r,column:c,xGrid:m})),null,16)]),switch:C(({row:r,column:c,$grid:m})=>[y(l(wa),q(V({vxeGridConfig:l(o),row:r,column:c,xGrid:m})),null,16)]),input:C(({row:r,column:c,$grid:m})=>[y(l(Ca),q(V({vxeGridConfig:l(o),row:r,column:c,xGrid:m})),null,16)]),select:C(({row:r,column:c,$grid:m})=>[y(l(ka),q(V({vxeGridConfig:l(o),row:r,column:c,xGrid:m})),null,16)]),tags:C(({row:r,column:c,$grid:m})=>[y(l(Ea),q(V({vxeGridConfig:l(o),row:r,column:c,xGrid:m})),null,16)]),remote:C(({row:r,column:c,$grid:m})=>[y(l(Ua),q(V({vxeGridConfig:l(o),row:r,column:c,xGrid:m})),null,16)]),topButtonList:C(({column:r,$grid:c})=>[y(l(Oa),q(V({vxeGridConfig:l(o),topButtonList:l(i),column:r,xGrid:c})),null,16)]),top:C(({$grid:r})=>[y(l(Da),q(V({vxeGridConfig:l(o),tabsConfig:l(s),xGrid:r})),null,16)]),rightButtonList:C(({row:r,column:c,$grid:m})=>[y(l(za),q(V({vxeGridConfig:l(o),rightButtonList:l(a),row:r,column:c,xGrid:m})),null,16)]),_:1},16,["onEditClosed"])):U("",!0)}}}),Ha=R({__name:"index",setup(t){const e=pe();return(n,o)=>(v(),$(l(he),q(V(l(e))),null,16))}}),N=(t,e)=>{const n=new Event(t);e&&(n.dataFul=e),window.dispatchEvent(n)},sn=(t,e)=>new Promise(n=>{const{dialog:o}=T(),{notification:s}=T();o==null||o.warning({title:"温馨提示",content:"是否确认删除该数据？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{We(t,{id:e}).then(async i=>{n(i),s==null||s.success({title:(i==null?void 0:i.msg)??"操作成功",duration:1500})})}})}),at=(t,e,n,o)=>new Promise(s=>{const{dialog:a}=T(),i=x(),d=x({hanldSubmit:()=>{},hanldReset:()=>{}}),h=x({submitBtn:{type:"success",content:"确定",show:!0},resetBtn:{type:"warning",content:"取消",show:!0}}),p={title:t,class:"pro-admin-dialog",style:{width:"45%"},showIcon:!1,maskClosable:!1,content:()=>ee(Ct,{api:e,method:n,isModal:!0,ajaxParams:o??{},"onUpdate:init":f=>{var u,r;d.value.hanldSubmit=(u=f==null?void 0:f.exposed)==null?void 0:u.hanldSubmit,d.value.hanldReset=(r=f==null?void 0:f.exposed)==null?void 0:r.hanldReset},"onUpdate:success":f=>{var u;s(f),(u=i.value)==null||u.destroy()}}),action:()=>ee(xe,{extraConfig:h.value,"onUpdate:submit":()=>{d.value.hanldSubmit()},"onUpdate:rest":()=>{var f;(f=i.value)==null||f.destroy()}})};i.value=a==null?void 0:a.create(p)}),qa=()=>{const t=Q();return{getCategory:async()=>{var p;const d=((p=Q().site)==null?void 0:p.uploadify_cate.index)??"",{data:h}=await fe(d);return h},hanldClickCate:async(i,d)=>{i!==d&&(N("uploadify:cateActive",{active:d}),N("uploadify:files",{cid:d}))},hanldAddCate:()=>{var d;const i=((d=t.site)==null?void 0:d.uploadify_cate.add)??"";at("添加分类",i,"GET",{}).then(async()=>{N("uploadify:category"),N("uploadify:files")})},hanldEditCate:i=>{var h;const d=((h=t.site)==null?void 0:h.uploadify_cate.edit)??"";at("添加分类",d,"GET",{id:i}).then(async()=>{N("uploadify:category"),N("uploadify:files")})},hanldDelCate:i=>{var h;const d=((h=t.site)==null?void 0:h.uploadify_cate.del)??"";sn(d,i).then(async()=>{N("uploadify:category"),N("uploadify:files")})}}},Va=()=>{const t=Q(),{notification:e,dialog:n}=T();return{getUploadifyList:async u=>{var m;const r=((m=t.site)==null?void 0:m.uploadify_api.index)??"",{data:c}=await fe(r,u);return c},hanldEditFile:u=>{var c;const r=((c=t.site)==null?void 0:c.uploadify_api.edit)??"";at("修改附件",r,"GET",{id:u}).then(async()=>{N("uploadify:files")})},hanldDelFile:u=>{var c;const r=((c=t.site)==null?void 0:c.uploadify_api.del)??"";sn(r,u).then(async()=>{N("uploadify:files")})},hanldDelsFile:u=>{if(!(u!=null&&u.length)){e==null||e.error({title:"请勾选需要删除的附件",duration:1500});return}n==null||n.warning({title:"温馨提示",content:"是否确认删除选中的数据？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{var c;const r=((c=t.site)==null?void 0:c.uploadify_api.del)??"";u.forEach(m=>{We(r,{id:m}).then(b=>{N("uploadify:files"),e==null||e.success({title:(b==null?void 0:b.msg)??"操作完成",duration:1500})})}),N("uploadify:clearCheckbox")}})},hanldMoveFile:(u,r)=>{var g;if(!(r!=null&&r.length)){e==null||e.error({title:"请勾选需要移动的附件",duration:1500});return}const c=((g=t.site)==null?void 0:g.uploadify_api.move)??"";yt(c,{cate_id:u,ids:r}).then(b=>{N("uploadify:files"),N("uploadify:clearSelected"),N("uploadify:clearCheckbox"),e==null||e.success({title:(b==null?void 0:b.msg)??"操作完成",duration:1500})})},hanldSelected:(u,r,c)=>{if(c===1){r[0]=u;return}if(!(r!=null&&r.length)){r==null||r.push(u);return}if(!(r!=null&&r.find(m=>m===u)))r==null||r.push(u);else for(let m=0;m<r.length;m++)if(r[m]===u){r.splice(m,1);break}},hanldCheckBox:(u,r)=>{if(!(u!=null&&u.length)){u==null||u.push(r);return}if(!(u!=null&&u.find(c=>c===r)))u==null||u.push(r);else for(let c=0;c<u.length;c++)if(u[c]===r){u.splice(c,1);break}},uploadFinish:u=>{var c,m;const r=(m=(c=u==null?void 0:u.event)==null?void 0:c.target)!=null&&m.response?JSON.parse(u.event.target.response):{msg:"上传结束",code:404};r.code===200?(N("uploadify:cateActive",{active:""}),N("uploadify:files"),e==null||e.success({title:r.msg??"上传完成",duration:1500})):e==null||e.error({title:r.msg??"上传失败",duration:1500})}}},Na=()=>({handlePageChange:e=>{const n={page:e.currentPage,limit:e.pageSize};N("uploadify:paginator",n)}}),kt=t=>(Vn("data-v-8afbe171"),t=t(),Nn(),t),Ma={class:"h-550px flex border-solid border-t-1 mt-15px"},Wa={class:"w-150px h-100% border-solid border-r-1 overflow-y-auto overflow-x-hidden"},La={class:"text-12px flex"},Ja=kt(()=>D("span",{class:"pl-1"},"全部分类",-1)),Ka=["title","onClick","onDblclick"],Za={class:"text-12px flex"},Qa={class:"pl-1 truncate"},Ya={class:"h-100% flex-1 flex flex-col"},Xa={class:"flex justify-between items-center h-55px px-5"},es=kt(()=>D("div",{class:"text-12px text-dark"},null,-1)),ts={class:"flex-1 overflow-y-auto overflow-x-hidden border-solid border-t-1 p-3"},ns={class:"w-100% h-120px"},os=kt(()=>D("div",{class:"w-100% h-100% flex items-center justify-center bg-gray select-none"}," 图片加载失败 ",-1)),as={class:"absolute bottom-39px left-0 right-0 text-center py-3px text-white bg-[rgba(0,0,0,0.5)] text-12px truncate"},ss={class:"flex justify-between p-2"},ls={class:"flex space-x-2"},rs={class:"h-55px flex items-center justify-center border-solid border-t-1"},cs=R({__name:"uploadify",props:{modelValue:null,format:null,limit:{default:1}},emits:["update:init"],setup(t,{expose:e,emit:n}){var Rt;const o=t,{notification:s}=T(),a=De(),i=Ee(),d=Q(),h=x(""),p=x([]),f=x([]),u=x([]),r=x([]),c=x([]),m=x({currentPage:1,pageSize:20,total:0,background:!0}),g=Ne(),{getCategory:b,hanldClickCate:_,hanldAddCate:w,hanldEditCate:k,hanldDelCate:P}=qa(),{getUploadifyList:E,hanldEditFile:j,hanldMoveFile:B,hanldDelFile:I,hanldDelsFile:K,hanldSelected:ne,hanldCheckBox:je,uploadFinish:Te}=Va(),{handlePageChange:Be}=Na(),dn={[_t]:a.value??"",[gt]:i.value??""};let St="";St=`//${location.host}/${(Rt=d.site)==null?void 0:Rt.uploadify_api.upload}`;const $t=x({action:St,headers:dn,data:{cid:h.value},showFileList:!1,multiple:!0,onFinish:F=>Te({...F})}),pn=()=>{if(!f.value.length)return s==null||s.error({title:"请选择附件再确定",duration:1500}),[];if(f.value.length>o.limit)return s==null||s.error({title:`最多选择${o.limit}个附件`,duration:1500}),[];const F=[];for(let H=0;H<c.value.length;H++){const X=c.value[H];te(X.id,f.value)&&F.push(X.url)}return F};return window.addEventListener("uploadify:cateActive",F=>{const{active:H}=F.dataFul;h.value=H,$t.value.data={cid:H}}),window.addEventListener("uploadify:category",async F=>{const H=await b();r.value=H,H.forEach(X=>{u.value.push({label:`移动至 -- ${X==null?void 0:X.title}`,key:X==null?void 0:X.id})})}),window.addEventListener("uploadify:selected",F=>{F.dataFul}),window.addEventListener("uploadify:clearSelected",F=>{f.value=[]}),window.addEventListener("uploadify:clearCheckbox",F=>{p.value=[]}),window.addEventListener("uploadify:files",async F=>{var Ae,Ge,Fe;const H=(Ae=F==null?void 0:F.dataFul)==null?void 0:Ae.cid,X=(Ge=F==null?void 0:F.dataFul)==null?void 0:Ge.page,ue=(Fe=F==null?void 0:F.dataFul)==null?void 0:Fe.limit,ce=await E({cid:H,page:X,limit:ue});c.value=(ce==null?void 0:ce.data)??[],m.value.currentPage=ce.current_page,m.value.pageSize=ce.per_page,m.value.total=ce.total}),window.addEventListener("uploadify:paginator",F=>{const{page:H,limit:X}=F.dataFul;m.value.currentPage=H,m.value.pageSize=X;const ue={cid:h.value,page:H,limit:X};N("uploadify:files",ue)}),ct(async()=>{N("uploadify:category"),N("uploadify:files"),n("update:init",{exposed:g.exposed})}),e({hanldConfirmSelect:pn}),(F,H)=>{const X=Kt,ue=Re,Dt=In,ce=dt,Ae=ie,Ge=$e,Fe=On,fn=Hn,hn=qn,mn=Se("vxe-pager");return v(),S("div",Ma,[D("div",Wa,[y(X,null,{default:C(()=>[z(" 附件分类 ")]),_:1}),D("div",{class:se(["px-10px flex justify-between cursor-pointer hover:bg-[#e5e5e5] py-15px select-none",{"bg-[#e5e5e5]":l(h)===""}]),onClick:H[0]||(H[0]=M=>l(_)(l(h),""))},[D("div",La,[y(A,{icon:"AppstoreOutlined",color:"#666"}),Ja]),y(A,{icon:"FolderAddOutlined",color:"#888",onClick:l(w)},null,8,["onClick"])],2),(v(!0),S(W,null,ae(l(r),(M,Je)=>(v(),S("div",{key:Je,title:M.title,class:se(["px-10px flex justify-between cursor-pointer hover:bg-[#e5e5e5] py-15px select-none",{"bg-[#e5e5e5]":l(h)===M.id}]),onClick:me=>l(_)(l(h),M.id),onDblclick:me=>l(k)(M.id)},[D("div",Za,[y(A,{icon:"FolderOpenTwotone",color:"#666"}),D("span",Qa,G(M.title),1)]),y(A,{icon:"DeleteFilled",color:"#666",onClick:me=>l(P)(M.id)},null,8,["onClick"])],42,Ka))),128))]),D("div",Ya,[D("div",Xa,[es,y(Ae,{align:"center"},{default:C(()=>[D("div",null,[y(Dt,q(V(l($t))),{default:C(()=>[y(ue,{type:"success"},{icon:C(()=>[y(A,{icon:"UploadOutlined"})]),default:C(()=>[z(" 上传 ")]),_:1})]),_:1},16)]),D("div",null,[y(ce,{trigger:"hover",options:l(u),onSelect:H[1]||(H[1]=M=>l(B)(M,l(p)))},{default:C(()=>[y(ue,{type:"warning"},{icon:C(()=>[y(A,{icon:"RotateLeftOutlined"})]),default:C(()=>[z(" 移动 ")]),_:1})]),_:1},8,["options"])]),D("div",null,[y(ue,{type:"error",onClick:H[2]||(H[2]=M=>l(K)(l(p)))},{icon:C(()=>[y(A,{icon:"RestFilled"})]),default:C(()=>[z(" 删除 ")]),_:1})])]),_:1})]),D("div",ts,[y(hn,{cols:5,"y-gap":10,"x-gap":12},{default:C(()=>[(v(!0),S(W,null,ae(l(c),(M,Je)=>(v(),$(fn,{key:Je},{default:C(()=>[D("div",{class:se(["relative border-solid border-1",l(te)(M.id,l(f)??[])?"border-red":"border-gray"])},[D("div",ns,[y(Ge,{class:"w-100% h-100% cursor-pointer !block",src:M.url,"preview-disabled":!0,onClick:me=>l(ne)(M.id,l(f),o.limit)},{placeholder:C(()=>[os]),_:2},1032,["src","onClick"])]),D("div",as,G(M.title),1),D("div",ss,[D("div",null,[y(Fe,{checked:l(te)(M.id,l(p)),value:M.id,onClick:me=>l(je)(l(p),M.id)},null,8,["checked","value","onClick"])]),D("div",ls,[y(A,{icon:"EditOutlined",class:"cursor-pointer",color:"#555",title:"修改",size:20,onClick:me=>l(j)(M.id)},null,8,["onClick"]),y(A,{icon:"DeleteOutlined",class:"cursor-pointer",color:"#555",title:"删除",size:20,onClick:me=>l(I)(M.id)},null,8,["onClick"])])])],2)]),_:2},1024))),128))]),_:1})]),D("div",rs,[y(mn,Z(l(m),{layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"],onPageChange:l(Be)}),null,16,["onPageChange"])])])])}}});const is=Y(cs,[["__scopeId","data-v-8afbe171"]]),us={class:"absolute top-1px right-1px w-20px h-20px rounded-3px bg-[rgba(0,0,0,.45)] text-12px cursor-pointer pr-5px select-none flex items-center justify-center"},ds=R({__name:"index",props:{modelValue:null,format:null,limit:{default:1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,{dialog:o}=T(),s=x(),a=x(),i=x({submitBtn:{type:"success",content:"确定",show:!0},resetBtn:{type:"warning",content:"关闭",show:!0}}),d=p=>{const f=[...n.modelValue];f.splice(p,1),e("update:modelValue",f)},h=()=>{a.value=o==null?void 0:o.create({title:"附件管理器",class:"pro-admin-dialog",style:{width:"45%"},showIcon:!1,maskClosable:!1,content:()=>ee(is,{...n,"onUpdate:init":p=>{s.value=p.exposed}}),action:()=>ee(xe,{extraConfig:i.value,"onUpdate:submit":()=>{var f;const p=s.value.hanldConfirmSelect();p.length&&(e("update:modelValue",p),(f=a.value)==null||f.destroy())},"onUpdate:rest":()=>{var p;(p=a.value)==null||p.destroy()}})})};return Zt(()=>{typeof n.modelValue=="string"&&e("update:modelValue",n.modelValue===""?[]:[n.modelValue])}),(p,f)=>{const u=$e,r=ie;return t.modelValue instanceof Array?(v(),$(r,{key:0},{default:C(()=>[(v(!0),S(W,null,ae(t.modelValue,(c,m)=>(v(),S("div",{key:m,class:"flex items-center justify-center w-50px h-50px relative cursor-pointer border-1 border-solid rounded-3px bg-[#f5f5f5] border-[#888]"},[y(u,{src:c},null,8,["src"]),D("div",us,[y(A,{icon:"DeleteFilled",class:"!w-12px",size:16,color:"#fff",onClick:g=>d(m)},null,8,["onClick"])])]))),128)),D("div",{class:"flex items-center justify-center w-50px h-50px relative cursor-pointer border-1 border-solid rounded-3px bg-[#f5f5f5] border-[#888]",onClick:h},[y(A,{icon:"FolderOpenOutlined",size:28,color:"#555"})])]),_:1})):U("",!0)}}}),ps=R({__name:"index",props:{modelValue:null,style:{default:{}}},setup(t){return(e,n)=>(v(),S("div",q(V(t.style)),G(t.modelValue),17))}}),fs={javascript:Mn,php:Wn,python:Ln,java:Jn,css:Kn,xml:Zn},hs=t=>(jt.registerLanguage(t,fs[t]),jt),ms={class:"w-100%"},_s=["innerHTML"],gs=R({__name:"index",props:{modelValue:null,language:{default:"javascript"},showLineNumbers:{type:Boolean}},setup(t){const e=t,n=hs(e.language),o=x("");return Zt(()=>{o.value=n.highlight(e.modelValue,{language:e.language}).value}),(s,a)=>(v(),S("div",ms,[D("pre",null,[z("    "),D("code",{class:"hljs",innerHTML:l(o)},null,8,_s),z(`
    `)])]))}});const vs=Y(gs,[["__scopeId","data-v-8be2469c"]]),ys=["innerHTML"],xs=R({__name:"index",props:{text:null,icon:{default:""},style:{default:{color:"#666",padding:"5px 0 0 0",fontSize:"12px"}},iconSize:{default:16}},setup(t){return(e,n)=>{const o=A;return v(),S("div",{class:"form-prompt",style:Vt(t.style)},[t.icon?(v(),$(o,{key:0,icon:t.icon,size:t.iconSize},null,8,["icon","size"])):U("",!0),D("span",{class:"text",innerHTML:t.text},null,8,ys)],4)}}});const ws=Y(xs,[["__scopeId","data-v-76a40fc1"]]),Ve={amap:Bo,bmap:Fo,icons:Vo,qmap:Wo,remote:Ha,uploadify:ds,info:ps,HCode:vs,PromptTip:ws};function Cs(t){Object.keys(Ve).forEach(e=>{t.component(e,Ve[e])})}const ks=(t,e)=>{const n=x((t==null?void 0:t.file)??""),o=x(),s=x(""),a=x(""),i=x(Ke()),d=()=>{if(!n.value){s.value="config";return}s.value="loading";const _=Date.now(),w=`${n.value}.vue?t=${_}`;fe(w).then(k=>{a.value=k,s.value="success",e("update:init",k)}).catch(k=>{console.error(k),s.value="fail",e("update:error",k)})};d();const h=(_,w="el-icon-warning",k="font-size:26px;color:red;")=>({template:`
        <div class="remote-loading">
            <div class="${w}" style="${k}"></div>
            <div class="mt-5px">${_}</div>
        </div>
        `}),p=(_,w)=>{Qn.render(_).then(k=>{const P=document.createElement("style");if(P.setAttribute("type","text/css"),P.setAttribute("id",`css${w}`),P.styleSheet)P.styleSheet.cssText=k.css;else{const j=document.createTextNode(k.css);P.appendChild(j)}const E=document.getElementsByTagName("head");E.length?E[0].appendChild(P):document.documentElement.appendChild(P)})},f=_=>({templates:_.match(/<template>([\s\S]*)<\/template>/)[1],sctipts:_.match(/<script.*>([\s\S]*)<\/script>/)[1],styles:_.match(/<style.*>([\s\S]*)<\/style>/)[1],stylesHasScoped:_.match(/<style.*scoped>([\s\S]*)<\/style>/)!==null}),u=()=>{const _=wt.vue,{notification:w,message:k,dialog:P,loadingBar:E}=T(),j=ut(),B=re(),I=we(),K=Q();_.config.globalProperties.$userApp=I,_.config.globalProperties.$siteApp=K,_.config.globalProperties.$routeApp=B,_.config.globalProperties.$routerApp=j,_.config.globalProperties.$http=wo,_.config.globalProperties.$echarts=Yn,_.component("AppIcons")===void 0&&_.component("AppIcons",A),Object.keys(Ve).forEach(ne=>{_.component(ne)===void 0&&_.component(ne,Ve[ne])}),Lt.install(_),_.config.globalProperties.$useNotification=w,_.config.globalProperties.$useMessage=k,_.config.globalProperties.$useDialog=P,_.config.globalProperties.$useLoadingBar=E},r=(_,w,k)=>{const P=f(w),E=P.sctipts.indexOf("{"),j=P.sctipts.lastIndexOf("}"),B=P.sctipts.slice(E,j+1),I=new Function(`return ${B}`)();if(!I)return h("远程组件代码格式解析失败");if(I.template=P==null?void 0:P.templates,_.setAttribute("class",`remote css${k}`),!document.querySelector(`style[id=css${k}]`)){let K="";P.stylesHasScoped?K=`
            .css${k}{
                ${P.styles}
            }
        `:K=P.styles,p(K,k)}return u(),I},c=O(()=>s.value==="config"?h("请先配置远程文件"):s.value==="fail"?h("远程组件加载失败"):a.value?r(o.value,a.value,i.value):h("正在加载中..."));return{fileUrl:n,remoteRef:o,loadingStatus:s,componentFile:a,cssId:i,currentView:c,hanldWin:_=>{n.value=_,i.value=Ke(),d()},hanldReload:()=>{i.value=Ke(),d()},hanldClose:()=>{t!=null&&t.modal&&e("update:closeWin")}}},bs=R({__name:"index",emits:["update:init","update:success","update:error","update:closeWin"],setup(t,{emit:e}){const n=pe(),{remoteRef:o,loadingStatus:s,currentView:a,hanldClose:i,hanldReload:d,hanldWin:h}=ks(n,e);return(p,f)=>(v(),S("div",{ref_key:"remoteRef",ref:o,class:"h-100%"},[l(s)==="success"?(v(),$(Ce(l(a)),Z({key:0},l(n),{"onUpdate:openWin":l(h),"onUpdate:reloadWin":l(d),"onUpdate:closeWin":l(i)}),null,16,["onUpdate:openWin","onUpdate:reloadWin","onUpdate:closeWin"])):U("",!0)],512))}});const he=Y(bs,[["__scopeId","data-v-6270af91"]]),ln=R({__name:"header-left",setup(t){const n=Q().site,o=n==null?void 0:n.public_api;return(s,a)=>{var i,d;return v(),S("div",null,[(i=l(o))!=null&&i.header_left_file?(v(),$(he,{key:0,file:(d=l(o))==null?void 0:d.header_left_file},null,8,["file"])):U("",!0)])}}}),bt=R({__name:"header-right",setup(t){const n=Q().site,o=n==null?void 0:n.public_api.header_right_file;return(s,a)=>{const i=ie;return v(),$(i,{size:10,class:"h-100%"},{default:C(()=>[l(o)?(v(),$(he,{key:0,file:l(o)??""},null,8,["file"])):U("",!0),y(l(js))]),_:1})}}}),Ps={class:"h-100% flex items-center"},Ss={class:"flex select-none cursor-pointer"},$s={class:"flex flex-col justify-center pl-1 text-12px text-#555"},Rs={class:"flex items-center pl-1"},Ds={class:"pl-1"},Es={key:0,class:"flex items-center pl-1"},Us={class:"pl-1"},js=R({__name:"user",setup(t){const e=we(),n=Q(),o=re(),{dialog:s,notification:a}=T(),i=x([{label:"修改资料",key:"profile",icon:()=>ee(A,{icon:"EditTwotone"})},{label:"退出登录",key:"loginout",icon:()=>ee(A,{icon:"ExportOutlined"})}]),d=new Map,h=x({submitBtn:{},resetBtn:{}}),p=x({hanldSubmit:()=>{},hanldReset:()=>{}}),f=x({setDisabled:()=>{}});d.set("profile",()=>{const r=s==null?void 0:s.create({title:"用户资料",showIcon:!1,maskClosable:!1,class:"pro-admin-dialog",style:{width:"45%"},content:()=>{var c,m;return ee(Ct,{api:((m=(c=n.site)==null?void 0:c.public_api)==null?void 0:m.user_edit)??"",method:"GET",ajaxParams:{},"onUpdate:init":g=>{var b,_;p.value.hanldSubmit=(b=g==null?void 0:g.exposed)==null?void 0:b.hanldSubmit,p.value.hanldReset=(_=g==null?void 0:g.exposed)==null?void 0:_.hanldReset,h.value.submitBtn=g==null?void 0:g.response.extraConfig.submitBtn,h.value.resetBtn=g==null?void 0:g.response.extraConfig.resetBtn},"onUpdate:success":()=>{f.value.setDisabled(!1),r==null||r.destroy(),e.getUserInfo()},"onUpdate:error":()=>{f.value.setDisabled(!1)},"onUpdate:rest":()=>{f.value.setDisabled(!1)}})},action:()=>ee(xe,{extraConfig:h.value,"onUpdate:init":c=>{var m;f.value.setDisabled=(m=c==null?void 0:c.exposed)==null?void 0:m.setDisabled},"onUpdate:submit":()=>{var c;(c=p.value)==null||c.hanldSubmit()},"onUpdate:rest":()=>{var c;(c=p.value)==null||c.hanldReset()}})})}),d.set("loginout",()=>{s==null||s.warning({title:"温馨提示",content:"是否确认退出登录？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{$o().then(r=>{var m,g;const c=(m=n.site)!=null&&m.login_url?`/#/${(g=n.site)==null?void 0:g.login_url}`:"/#/login";e.setToken(""),a==null||a.success({title:(r==null?void 0:r.msg)??"操作成功",duration:1500}),setTimeout(()=>{window.location.href=`${c}?redirect=${o.fullPath}`},500)})}})});const u=r=>{const c=d.get(r);typeof c=="function"&&c()};return(r,c)=>{const m=Xn,g=dt;return v(),S("div",Ps,[y(g,{options:l(i),onSelect:u},{default:C(()=>{var b,_,w,k,P;return[D("div",Ss,[y(m,{round:"",size:35,src:(b=l(e).userInfo)==null?void 0:b.headimg},null,8,["src"]),D("div",$s,[D("div",Rs,[y(A,{icon:"UserOutlined"}),D("span",Ds,G((_=l(e).userInfo)==null?void 0:_.nickname),1)]),(k=(w=l(e).userInfo)==null?void 0:w.role)!=null&&k.title?(v(),S("div",Es,[y(A,{icon:"CodeSandboxOutlined"}),D("span",Us,G((P=l(e).userInfo)==null?void 0:P.role.title),1)])):U("",!0)])])]}),_:1},8,["options"])])}}}),Ts=["href","target"],Bs=R({__name:"side-title",props:{MenuItem:null},setup(t){var f,u;const e=t,n=O(()=>{var r;return(r=e.MenuItem)==null?void 0:r.menuTitle}),o=x(e.MenuItem.ajaxParams?_o(e.MenuItem.ajaxParams):{}),s=O(()=>e.MenuItem.path??""),a=((u=(f=e.MenuItem)==null?void 0:f.children)==null?void 0:u.find(r=>(r==null?void 0:r.show)===!0&&(r==null?void 0:r.type)!=="group"))??!1,i=O(()=>{var r;return(r=s.value)==null?void 0:r.startsWith("http")}),d=O(()=>{var r;return((r=e.MenuItem)==null?void 0:r.target)??"_blank"}),h=Ee(),p=x("");if(h.value){const r=go({appid:h.value});o.value={...o.value,appid:h.value},p.value=`?${r}`}return(r,c)=>{const m=Se("router-link");return l(a)?(v(),S(W,{key:0},[z(G(l(n)),1)],64)):l(i)?(v(),S("a",{key:1,href:`${l(s)}${l(p)}`,target:l(d)},G(l(n)),9,Ts)):l(s)?(v(),$(m,{key:2,to:{path:`/${l(s)}`,query:{...l(o)}},replace:!0},{default:C(()=>[z(G(l(n)),1)]),_:1},8,["to"])):(v(),S(W,{key:3},[z(G(l(n)),1)],64))}}}),At="OUtzMas9edTHUH/JnNdjl4lHWYG9gISU6vl1DnlCzkumaS2EkD8OLhRzTMziPeF5AxwRwukfkvIVs2nzq7KWi2RxbtTzzLtOQMml5cLVHkQZs8dhEMLkXtyVFKOTAjsXTvU2NFMCfwUc8LhqIrDnbd11kU5oQoTcysWvQbk/P6wfBMd7p3TOZwWewFg+oz5qHfwhgtW2dXev4p+a9fknRNBKUgdBxStKVsImmh4SlXRfOlhgMhOoL6ycaOdbhz6LgvDynfuWIA7dngosFv6x9SXIW2WndIoztR/4A+9uYG6xxiuH7Por9QJjFVU/VzLytposud3gAQi7ba2gyN9I6g==e3dqJ6AL4KUa3qpU0WtHV215X5FP5e1CZeyTqT2ap9dEOIS8hp94xpVIod9MSyYorLrNVOo8OyocipT9zLZITtPJ5LNVczJcnzHrNi6goXzojZ7etvuGK0HRj8CygkIhZMb7PUF9lNodtoUJ8BOjKvvETpXXSnHmyhwyskBRtBZ3LwAbKNCNKPCDhDQgF/Zo8P0h+oUjCZ/3B2kvSxPhPS9OjPU583PqOlZZNf0/2TzC+JxCI2Du/87kDGUXS8Y7UKP2NzdlqT21VkOQnbsFHRGg3jfT/+uJu6M/qljnvGo6bp6nL0vpD0paZmKrSUGVE99FWkLYNRiWAKkttCDn2g==",Gt=`-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCz+Ny6Y+2LRQb5
d81sZgzExl3EwWHJnP/BDOqD90UxEYStdzVulGtykumcfUPW+Hugspq8waetBGb7
MEFcbl3y7cTmrK/4Uninmy5Nf4nsGQk+/5WvQE2pzlLfPH0ZgxWyFepNdIXc6+k/
loXCOLus0jUZoDnN1YJfDMtGi+VyYl1jbatu3TQohO15NRb4KZ1TUeWQbOSnpXDA
WA2x9qVJtgKn1sD3KlxPu9Lm01QqCiIrEHEBWWCJQesgwP98JS438kCRmZMQBEJV
urr4UsLH889TMFg5ySKoGFLs3NOwOKbf0wwSpl4t7kAqyKOhbd4IprPVih/E9We5
VvYn5+7JAgMBAAECggEAMGRcRaoU93vKEk5KaDlQeaC1GfC9sI6MnoYwkOduLXF+
cX46Wc+CzL4AHtn34dfStjUQMm0H/xfN8QDaslXi4S1Z4oTQlD7ovniVjLUciuV4
fP4Qa50oxN37npcPNErxDH+kDsukKvEsOLLqqHzEygWDza4tnNEqSxCPoBqBya2B
TZomn3559fCOxGbKn7+3wlF7kKqr1HCbgX04RGISksh/EA1KPZRxOIol3B4dtz+H
xG/aG5aAGGnsFhlk/V/UiCBpyNYyJjVidJE9r8sY+GrszIEzsCLePhSWwG0UoTTN
PRt1o+nMCTuF8VoCkWGI7K6S5J5mQKdsFSaLPbLj4QKBgQDuEkf17kRNxWd2zBE7
fLGeRoezjyTBxcn6zzaJ1jQXs/ROV08q/LxNdRRNJ3jPk3V9y9Ceh6tyGvitumDF
m2fsrb+yofXQ8gL8xKFXhJHhbPRVqNKfb0DIWIeLSmhDM4xvmK3E+EuDQCe+t+7d
KRhUzYVXtsfid2MOrCfCkTwR5QKBgQDBhn/cs78V6hheZt0JUpV+bL01qelEC+SV
qwprkxbp6HWkRLp0yQb18Khq1s0NtMAQXlM5BGCQR9i7syy5vGi80a/lsR1O8F3y
PSo1GFYX9MGhIUHp7pw/6ls4WgZQ4eDMW7w0mrJ8DPUXlw2q/kY4SCAAHbGqarBo
nc8cv4UrFQKBgDbF0fSM+v4BmspELPrIt3y4sWPoXQaP4OZpYhzYQWfqqRyVDcvQ
FeqkMyWFHVB0lqV4jOjMQe+gsPIXXUhZdtGHMAGDLbEC3RkWjCA8ieuZS6Whj8PK
rtbpN1Yeqlo7s+XA9MnKbmUmD37bhoMvfz+TgUgq71X1Lb8kcIldLLrZAoGAJR1/
fjt25WQNImXF9JjDFQkTzKv2kddaEp5IFFOUbG3pygRoYid/z0FFe6AQmZVV1I3S
ljfRsTomRfFaHZEV4Uix3HJ4dYBB9EhoxOAS+us1C4sOUigyDUwMDKWvWmnHrEnX
sZsNqh7uDoUo2OeFXhvvDzaisVVe2eGSLChLCPUCgYEAqIu/Ws/C2OceneO25l/3
2WxcN3UbVT6x8TkwFjYv9UWs0/Opqlnj8aFy4zgU76zIDRGjVyObv53Gwhaaim1z
TeIrGe7RcWmPjzsERGlb+qe7tvCiNNDTd6RK0ywIrcSUrkEaZepqUepGFgB/vq9T
v07JgHIyR8viVUUqohaz5hM=
-----END PRIVATE KEY-----`,As=window.location.hostname,Qe=(t,e)=>{const n=new eo;n.setPrivateKey(e);const o=t.match(/.{1,344}/g);if(!o)throw new Error("令牌表单解密失败");let s="";if(o==null||o.forEach(a=>{const i=n.decrypt(a);i&&(s+=i)}),!s)throw new Error("解密失败");return JSON.parse(new TextDecoder().decode(Uint8Array.from(window.atob(s),a=>a.charCodeAt(0))))},Gs=()=>{const e=Q().site;if(e!=null&&e.empower_token&&e.empower_private_key)try{const n=Qe(e.empower_token,e.empower_private_key);return n.systemUrl===As?n:Qe(At,Gt)}catch(n){console.error("服务端授权失败",n)}try{return Qe(At,Gt)}catch(n){console.error("系统授权错误",n)}},rn=()=>{const e=Q().site;return{version_name:e==null?void 0:e.version_name,version:e==null?void 0:e.version}},Fs=["href"],zs=["href"],Pt=R({__name:"index",setup(t){const{systemAbout:e,systemAboutUrl:n,systemName:o,systemUrl:s}=Gs(),{version_name:a}=rn();return(i,d)=>(v(),S("div",null,[z(" copyright © 2023 "),D("a",{href:`http://${l(n)}`,target:"_blank",class:"hover:text-[#18a058] pl-10px"},G(l(e)),9,Fs),z(" All Rights Reserved "),D("a",{href:`http://${l(s)}`,target:"_blank",class:"hover:text-[#18a058] pl-10px"},G(l(o))+" "+G(l(a)),9,zs)]))}}),Is={class:"panel-menu"},Os={key:0,class:"panel-two"},Hs={class:"panel-title"},qs={key:0,class:"hp-icon"},Vs={class:"title"},Ns={class:"panel-list"},Ms=R({__name:"panel",props:{active:null,options:null},setup(t){const e=t,n=o=>o.key===e.active?!0:o!=null&&o.children?!!o.children.find(s=>n(s)):!1;return(o,s)=>(v(),S("div",Is,[(v(!0),S(W,null,ae(t.options,(a,i)=>{var d;return v(),S(W,{key:i},[(d=a==null?void 0:a.children)!=null&&d.length&&a.type==="group"&&a.show?(v(),S("div",Os,[D("div",Hs,[a!=null&&a.icon?(v(),S("div",qs,[(v(),$(Ce(a.icon)))])):U("",!0),D("div",Vs,[(v(),$(Ce(a.label)))])]),D("div",Ns,[(v(!0),S(W,null,ae(a.children,(h,p)=>(v(),S(W,{key:p},[h.show?(v(),S("div",{key:0,class:se(["panel-item",{"panel-active":n(h)}])},[(v(),$(Ce(h.label)))],2)):U("",!0)],64))),128))])])):a.show?(v(),S("div",{key:1,class:se(["item",{"is-active":n(a)}])},[(v(),$(Ce(a.label)))],2)):U("",!0)],64)}),128))]))}});const Ws=Y(Ms,[["__scopeId","data-v-0811acd7"]]),Ls={class:"pro-admin-mix-tabs overflow-x-auto flex"},Js={class:"pro-menu-mix-container"},Ks=["onClick"],Zs={class:"flex flex-col gap-[5px] justify-center items-center"},Qs={key:0,class:"flex-1"},Ys=R({__name:"index",setup(t){ve(r=>({"5ea09e9a":l(u)}));const e=pe(),n=ut(),o=Ee(),s=(r,c)=>r.find(m=>m.key===c?m:s((m==null?void 0:m.children)??[],c)),a=x((e==null?void 0:e.value)??""),i=x(e.options??[]),d=x([s(i.value??[],a.value)]),h=O(()=>r=>!!s(r??[],a.value)),p=r=>{const c=r[0];return c&&(c==null?void 0:c.type)!=="group"&&(c!=null&&c.show)?c:p(c.children??[])},f=r=>{const c=p((r==null?void 0:r.children)??[]);let m={};typeof c.ajaxParams=="object"&&(m={...c.ajaxParams}),o.value&&(m={...m,appid:o.value}),a.value=String((c==null?void 0:c.key)??""),d.value=[r],n.push({path:`/${c==null?void 0:c.path}`,query:{...m}})};rt(()=>e.value,r=>{a.value=String(r)});const u=O(()=>`calc(100vh - ${e["header-height"]}px)`);return(r,c)=>{const m=Kt;return v(),S("div",Ls,[D("div",Js,[(v(!0),S(W,null,ae(l(i),(g,b)=>(v(),S(W,{key:b},[g.show?(v(),S("div",{key:0,class:se(["item",{active:l(h)((g==null?void 0:g.children)??[])}]),onClick:_=>f(g)},[D("div",Zs,[g.menuIcon?(v(),$(A,{key:0,icon:g.menuIcon,size:24},null,8,["icon"])):U("",!0),D("div",null,G(g.menuTitle),1)])],10,Ks)):U("",!0)],64))),128))]),l(e).collapsed?U("",!0):(v(),S("div",Qs,[(v(!0),S(W,null,ae(l(d),(g,b)=>(v(),S("div",{key:b},[y(m,{class:"m-0"},{default:C(()=>[z(G(g==null?void 0:g.menuTitle),1)]),_:2},1024),y(Ws,{options:(g==null?void 0:g.children)??[],active:l(a)},null,8,["options","active"])]))),128))]))])}}});const Xs=Y(Ys,[["__scopeId","data-v-9f78627c"]]),el={class:"flex items-center justify-center"},tl=R({__name:"index",props:{layout:null,headerHeight:{default:50},footerHeight:{default:30},logo:null,logoSize:null,title:null,siderWidth:null,collapsed:{type:Boolean},siderCollapsedWidth:null,collapsedIconSize:{default:22},showSiderTrigger:{type:[Boolean,String]},inverted:{type:Boolean},active:null,options:null,expandedKeys:null},emits:["update:collapsed","update:active","update:expandedKeys"],setup(t){const e=t;ve(a=>({d2e39d26:l(n),"5ba7ce4d":l(s),"3bc5ee1f":l(o)}));const n=O(()=>`${e.headerHeight}px`),o=O(()=>`${e.footerHeight}px`),s=O(()=>`calc(100vh - ${e.headerHeight}px - ${e.footerHeight}px)`);return(a,i)=>{const d=pt,h=ft,p=ht;return v(),$(p,{"has-sider":"",class:"h-screen"},{default:C(()=>[y(l(tt),{width:t.siderWidth,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth,"show-trigger":t.showSiderTrigger,onUpdateCollapsed:i[2]||(i[2]=f=>a.$emit("update:collapsed",f))},{default:C(()=>[D("div",el,[y(l(xt),{src:t.logo,inverted:t.inverted,"header-height":t.headerHeight,"collapsed-width":t.siderCollapsedWidth},null,8,["src","inverted","header-height","collapsed-width"]),t.collapsed?U("",!0):(v(),$(l(en),{key:0,layout:t.layout,inverted:t.inverted,"header-height":t.headerHeight,title:t.title},null,8,["layout","inverted","header-height","title"]))]),y(Xs,{value:t.active,options:t.options,inverted:t.inverted,collapsed:t.collapsed,"collapsed-icon-size":t.collapsedIconSize,"expanded-keys":t.expandedKeys,"header-height":t.headerHeight,"footer-height":t.footerHeight,"onUpdate:value":i[0]||(i[0]=f=>a.$emit("update:active",f)),"onUpdate:expandedKeys":i[1]||(i[1]=f=>a.$emit("update:expandedKeys",f))},null,8,["value","options","inverted","collapsed","collapsed-icon-size","expanded-keys","header-height","footer-height"])]),_:1},8,["width","collapsed","collapsed-width","show-trigger"]),y(p,null,{default:C(()=>[y(d,{class:"pro-admin-header-height flex items-center justify-between px-3"},{default:C(()=>[oe(a.$slots,"headerLeft",{},()=>[y(l(ln))],!0),oe(a.$slots,"headerRight",{},()=>[y(l(bt))],!0)]),_:3}),y(l(tn),{class:"pro-admin-content-height"},{default:C(()=>[oe(a.$slots,"default",{},void 0,!0)]),_:3}),y(h,{class:"pro-admin-footer-height flex items-center justify-center"},{default:C(()=>[y(l(Pt))]),_:1})]),_:3})]),_:3})}}});const nl=Y(tl,[["__scopeId","data-v-0e6084af"]]),ol={class:"pro-admin-side-menu overflow-y-auto overflow-x-hidden"},al=R({__name:"index",setup(t){const e=pe();return(n,o)=>{const s=Qt;return v(),S("div",ol,[y(s,Z({mode:"vertical"},l(e)),null,16)])}}});const sl=Y(al,[["__scopeId","data-v-bd821ef9"]]),ll={class:"flex items-center justify-center"},rl=R({__name:"index",props:{layout:null,headerHeight:{default:50},footerHeight:{default:30},logo:null,logoSize:null,title:null,siderWidth:null,collapsed:{type:Boolean},siderCollapsedWidth:null,collapsedIconSize:{default:28},showSiderTrigger:{type:[Boolean,String]},accordion:{type:Boolean},inverted:{type:Boolean},active:null,options:null,expandedKeys:null,rootIndent:null,indent:null},emits:["update:collapsed","update:active","update:expandedKeys"],setup(t){const e=t;ve(a=>({"655570f5":l(n),"65c87fc5":l(s),"0a8d2da7":l(o)}));const n=O(()=>`${e.headerHeight}px`),o=O(()=>`${e.footerHeight}px`),s=O(()=>`calc(100vh - ${e.headerHeight}px - ${e.footerHeight}px)`);return(a,i)=>{const d=pt,h=ft,p=ht;return v(),$(p,{"has-sider":"",class:"h-screen"},{default:C(()=>[y(l(tt),{inverted:t.inverted,width:t.siderWidth,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth,"show-trigger":t.showSiderTrigger,onUpdateCollapsed:i[2]||(i[2]=f=>a.$emit("update:collapsed",f))},{default:C(()=>[D("div",ll,[y(l(xt),{src:t.logo,"header-height":t.headerHeight,"collapsed-width":t.siderCollapsedWidth},null,8,["src","header-height","collapsed-width"]),t.collapsed?U("",!0):(v(),$(l(en),{key:0,layout:t.layout,"header-height":t.headerHeight,title:t.title},null,8,["layout","header-height","title"]))]),y(l(tt),{inverted:t.inverted,width:t.siderWidth,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth},{default:C(()=>[y(sl,{value:t.active,options:t.options,accordion:t.accordion,inverted:t.inverted,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth,"collapsed-icon-size":t.collapsedIconSize,"expanded-keys":t.expandedKeys,"root-indent":t.rootIndent,indent:t.rootIndent,"onUpdate:value":i[0]||(i[0]=f=>a.$emit("update:active",f)),"onUpdate:expandedKeys":i[1]||(i[1]=f=>a.$emit("update:expandedKeys",f))},null,8,["value","options","accordion","inverted","collapsed","collapsed-width","collapsed-icon-size","expanded-keys","root-indent","indent"])]),_:1},8,["inverted","width","collapsed","collapsed-width"])]),_:1},8,["inverted","width","collapsed","collapsed-width","show-trigger"]),y(p,null,{default:C(()=>[y(d,{class:"pro-admin-header-height flex items-center justify-between px-3"},{default:C(()=>[oe(a.$slots,"headerLeft",{},()=>[y(l(ln))],!0),oe(a.$slots,"headerRight",{},()=>[y(l(bt))],!0)]),_:3}),y(l(tn),{class:"pro-admin-content-height"},{default:C(()=>[oe(a.$slots,"default",{},void 0,!0)]),_:3}),y(h,{class:"pro-admin-footer-height flex items-center justify-center"},{default:C(()=>[y(l(Pt))]),_:1})]),_:3})]),_:3})}}});const cl=Y(rl,[["__scopeId","data-v-ffb6b8ca"]]),il=R({__name:"menu",props:{active:null,options:null},setup(t){return(e,n)=>{const o=Qt;return v(),S("div",null,[y(o,{value:t.active,mode:"horizontal",options:t.options},null,8,["value","options"])])}}}),ul={class:"flex flex-1 justify-between"},dl=R({__name:"index",props:{siderCollapsedWidth:null,inverted:{type:Boolean},active:null,options:null,headerHeight:{default:50},footerHeight:{default:30},logo:null,logoSize:null,title:null},setup(t){const e=t;ve(s=>({"7ca8433f":l(n),"21dffff1":l(o)}));const n=O(()=>`${e.headerHeight}px`),o=O(()=>`${e.footerHeight}px`);return(s,a)=>{const i=pt,d=Nt,h=ft,p=ht;return v(),$(p,{class:"h-screen","content-style":"display:flex; flex-direction:column;"},{default:C(()=>[y(i,{class:"pro-admin-header flex items-center justify-between px-3"},{default:C(()=>[y(l(xt),{src:t.logo,"header-height":t.headerHeight,"collapsed-width":t.siderCollapsedWidth},null,8,["src","header-height","collapsed-width"]),D("div",ul,[oe(s.$slots,"headerLeft",{},()=>[y(il,{active:t.active,options:t.options},null,8,["active","options"])],!0),oe(s.$slots,"headerRight",{},()=>[y(l(bt))],!0)])]),_:3}),y(d,{class:"pro-admin-content flex-1"},{default:C(()=>[oe(s.$slots,"default",{},void 0,!0)]),_:3}),y(h,{class:"pro-admin-footer flex items-center justify-center"},{default:C(()=>[y(l(Pt))]),_:1})]),_:3})}}});const pl=Y(dl,[["__scopeId","data-v-acf00aef"]]),fl=R({__name:"index",setup(t){const e=Q(),n=we(),o=O(()=>n.getMenusData),{active:s}=El(),{layout:a}=to(e);return(i,d)=>{var h,p,f;return v(),S(W,null,[l(a).layout==="mix"?(v(),$(nl,{key:0,collapsed:l(a).collapsed,"onUpdate:collapsed":d[0]||(d[0]=u=>l(a).collapsed=u),accordion:l(a).accordion,layout:l(a).layout,logo:l(a).logo,"logo-size":l(a).logoSize,title:(h=l(e).site)==null?void 0:h.web_name,"header-height":l(a).headerHeight,"footer-height":l(a).footerHeight,"sider-width":l(a).siderWidth,"sider-collapsed-width":l(a).siderCollapsedWidth,"show-sider-trigger":l(a).showSiderTrigger,inverted:l(a).inverted,active:l(s),options:l(o),"root-indent":l(a).rootIndent,indent:l(a).indent},{default:C(()=>[y(Ze)]),_:1},8,["collapsed","accordion","layout","logo","logo-size","title","header-height","footer-height","sider-width","sider-collapsed-width","show-sider-trigger","inverted","active","options","root-indent","indent"])):U("",!0),l(a).layout==="side"?(v(),$(cl,{key:1,collapsed:l(a).collapsed,"onUpdate:collapsed":d[1]||(d[1]=u=>l(a).collapsed=u),accordion:l(a).accordion,layout:l(a).layout,logo:l(a).logo,"logo-size":l(a).logoSize,title:(p=l(e).site)==null?void 0:p.web_name,"header-height":l(a).headerHeight,"footer-height":l(a).footerHeight,"sider-width":l(a).siderWidth,"sider-collapsed-width":l(a).siderCollapsedWidth,"show-sider-trigger":l(a).showSiderTrigger,inverted:l(a).inverted,active:l(s),options:l(o),"root-indent":l(a).rootIndent,indent:l(a).indent},{default:C(()=>[y(Ze)]),_:1},8,["collapsed","accordion","layout","logo","logo-size","title","header-height","footer-height","sider-width","sider-collapsed-width","show-sider-trigger","inverted","active","options","root-indent","indent"])):U("",!0),l(a).layout==="top"?(v(),$(pl,{key:2,logo:l(a).logo,"logo-size":l(a).logoSize,title:(f=l(e).site)==null?void 0:f.web_name,"header-height":l(a).headerHeight,"footer-height":l(a).footerHeight,"sider-collapsed-width":l(a).siderCollapsedWidth,inverted:l(a).inverted,active:l(s),options:l(o)},{default:C(()=>[y(Ze)]),_:1},8,["logo","logo-size","title","header-height","footer-height","sider-collapsed-width","inverted","active","options"])):U("",!0)],64)}}}),Ft={path:"/",name:"default-router",component:fl,redirect:void 0,children:[]},hl=R({__name:"index",setup(t){const e=re(),n=ye("GetTable"),o=e.meta.method,s=e.query??{};return(a,i)=>(v(),$(an,{api:l(n),method:l(o),"ajax-params":l(s)},null,8,["api","method","ajax-params"]))}}),ml={class:"h-100% p-4"},_l={class:"h-100% flex flex-col"},gl={key:0,class:"flex items-center bg-white px-5 py-4 mb-[10px]"},vl=D("span",{class:"pl-1 text-[16px]"},"返回",-1),yl={key:0,class:"pl-20px text-[16px] select-none"},xl=R({__name:"index",setup(t){const e=re(),n=x(),o=x(),s=ye(),a=e.meta.method,i={...e.query};i!=null&&i.isBack&&(i==null||delete i.isBack);const d=x({...i}),h=x({submitBtn:{},resetBtn:{}}),p=c=>{var g;const m=(g=c==null?void 0:c.response)==null?void 0:g.extraConfig;h.value=m},f=()=>{n.value.hanldSubmit()},u=()=>{n.value.hanldReset()},r=()=>{o.value.setDisabled(!1)};return(c,m)=>{var b,_,w;const g=A;return v(),S("div",ml,[D("div",_l,[(b=l(e).query)!=null&&b.isBack?(v(),S("div",gl,[D("div",{class:"flex items-center cursor-pointer select-none",onClick:m[0]||(m[0]=(...k)=>l(He)&&l(He)(...k))},[y(g,{icon:"ArrowLeftOutlined",size:16}),vl]),(_=l(e).meta)!=null&&_.title?(v(),S("div",yl,G((w=l(e).meta)==null?void 0:w.title),1)):U("",!0)])):U("",!0),y(nn,{ref_key:"formRef",ref:n,class:"flex-1 p-5 bg-white overflow-y-auto overflow-x-hidden",api:l(s),method:l(a),"ajax-params":l(d),"onUpdate:init":p,"onUpdate:success":r,"onUpdate:rest":r,"onUpdate:error":r},null,8,["api","method","ajax-params"]),y(l(xe),{ref_key:"buttonRef",ref:o,class:"bg-white","extra-config":l(h),"onUpdate:submit":f,"onUpdate:rest":u},null,8,["extra-config"])])])}}}),wl={class:"h-100% p-4"},Cl=R({__name:"index",setup(t){const n=re().meta.ajaxParams;return(o,s)=>(v(),S("div",wl,[y(he,{file:l(n)},null,8,["file"])]))}}),kl=Object.freeze(Object.defineProperty({__proto__:null,formIndex:xl,remoteIndex:Cl,tableIndex:hl},Symbol.toStringTag,{value:"Module"})),Ye={routeView:()=>ge(()=>import("./route-view.2120624d.js"),["./route-view.2120624d.js",".pnpm.416993ac.js","..\\css\\.pnpm.e29dc35f.css"],import.meta.url),blankView:()=>ge(()=>import("./blank-view.976a7bac.js"),["./blank-view.976a7bac.js",".pnpm.416993ac.js","..\\css\\.pnpm.e29dc35f.css"],import.meta.url)},bl=t=>{if(!t)return Ye.blankView;if(t in Ye)return Ye[t];const e=mo(t??"");return kl[e]},Pl=t=>{const e=[];for(const n of t)if(n.path){const o={path:`/${n.path}`,name:n.path.replace("/","_"),component:bl(n.component),redirect:n==null?void 0:n.redirect,meta:{title:n.title,path:n.path,pid:n.pid,icon:n.icon,moduleName:n.module,method:n.method,ajaxParams:n.auth_params},children:[]};(!o.children||o.children.length<1)&&delete o.children,e.push(o)}return e},Sl=async()=>{const{active:t,list:e}=await Do();if(e.length>0){Ft.redirect=t;const n=Pl(e);return{menus:e,routes:{...Ft,children:n}}}},cn=(t,e)=>{var s;const n=[];let o=[];e?o=t.filter(a=>a.pid===e):o=t.filter(a=>!a.pid);for(const a of o){const i={key:String(a.id),menuTitle:a.title,menuIcon:a.icon,ajaxParams:a.auth_params,path:a.path,show:a.show==="1",pid:a.pid,target:a.target??"_blank",children:cn(t,a.id)},d=(s=i==null?void 0:i.children)==null?void 0:s.filter(h=>h==null?void 0:h.show);d!=null&&d.length&&i.pid!==0&&(i.type="group"),a!=null&&a.title&&(i.label=()=>ee(Bs,{MenuItem:i})),a!=null&&a.icon&&(i.icon=()=>ee(A,{icon:a==null?void 0:a.icon})),(!i.children||i.children.length<1)&&delete i.children,n.push(i)}return n},we=Ht("user",()=>{const t=De(),e=x(),n=x(),o=x(),s=O(()=>cn(o.value??[])),a=f=>{t.value=f},i=async f=>{const{notification:u}=T(),{msg:r,data:c}=await So(f);c!=null&&c.token?(a(c.token),u==null||u.success({title:r||"登录成功",duration:1500})):u==null||u.success({title:"系统错误",content:"登录失败",duration:1500})},d=f=>{e.value=f};return{token:t,setToken:a,login:i,userInfo:e,setUserInfo:d,getUserInfo:async()=>{const{data:f}=await Ro();f&&d(f)},routerRecords:n,generateDynameicRoutes:async()=>{const f=await Sl();return f!=null&&f.routes&&(o.value=f.menus,n.value=f.routes.children),f==null?void 0:f.routes},menuData:o,getMenusData:s}}),$l=()=>{const t=re(),e=we(),n=qt({active:""}),o=a=>{var d;const i=(d=e.menuData)==null?void 0:d.find(h=>`/${h.path}`===a);return String(i==null?void 0:i.id)},s=a=>{n.active=o(a)};return rt(()=>t.fullPath,()=>{s(t.path)}),{...oo(n),updateActive:s}},[Rl,Dl]=no($l),El=()=>Dl()??{active:x(""),updateActive:()=>{}},Ul=R({__name:"App",setup(t){return Rl(),(e,n)=>{const o=ao,s=Se("router-view"),a=io,i=Ot;return v(),$(i,null,{default:C(()=>[y(o),y(a,null,{default:C(()=>[y(s)]),_:1})]),_:1})}}}),zt=(t,e)=>(t.forEach(n=>{e.push(n.path)}),e),It=t=>{for(const e of t){const n=e.remote,o={path:e==null?void 0:e.path,name:n.replace("/","_"),component:ee(he,{file:n}),props:{file:n},meta:{title:e.title,path:e.path,pid:0,moduleName:"admin",method:"GET",ajaxParams:n}};J.addRoute(o)}},be=x("/login"),de=x(["/error","/404","/403","/500","/401"]),Xe=x([...de.value,be]),ze=x(!1);J.beforeEach(async(t,e,n)=>{var p,f,u,r,c,m;const o=De(),s=Ee(),a=Q(),i=we();(p=T().loadingBar)==null||p.start();const h=(f=t.query)==null?void 0:f.token;if(h&&i.setToken(h),(u=t.query)!=null&&u.appid&&(s.value=(r=t.query)==null?void 0:r.appid),h){n({path:"/"});return}if(o.value){if((c=a.site)!=null&&c.login_url&&(be.value=(m=a.site)==null?void 0:m.login_url),!i.userInfo&&!de.value.includes(t.path))try{const g=await a.getSite();if(g!=null&&g.login_link&&a.setLoginLink(g==null?void 0:g.login_link),g!=null&&g.remote_url&&!ze.value){const _=g==null?void 0:g.remote_url;de.value=zt(_,de.value),It(_),ze.value=!0}await i.getUserInfo();const b=await i.generateDynameicRoutes();b&&J.addRoute(b),n({...t,replace:!0});return}catch(g){console.error(g)}}else{if(!ze.value){const g=await a.getSite();if(g!=null&&g.login_link&&a.setLoginLink(g==null?void 0:g.login_link),g!=null&&g.remote_url){const b=g==null?void 0:g.remote_url;de.value=zt(b,de.value),Xe.value=[...Xe.value,...de.value],It(b),ze.value=!0,g!=null&&g.login_url&&(t.path=g==null?void 0:g.login_url,be.value=g==null?void 0:g.login_url),n({...t,replace:!0});return}}if(!Xe.value.includes(t.path)){n({path:be.value,query:{redirect:t.path}});return}}i.userInfo&&[be.value,"/login"].includes(t.path)&&n({path:"/"}),n()});J.afterEach(t=>{var a,i,d,h,p;const{version_name:e}=rn();(a=T().loadingBar)==null||a.finish();const o=Q(),s=(i=t.meta)==null?void 0:i.title;s?document.title=`${s} - ${(d=o.site)==null?void 0:d.web_name} ${e}`:(h=o.layout)!=null&&h.title&&(document.title=(p=o.layout)==null?void 0:p.title)});const jl=t=>{t.use(_e),t.config.globalProperties.$XModal=_e.modal,t.config.globalProperties.$XPrint=_e.print,t.config.globalProperties.$XSaveFile=_e.saveFile,t.config.globalProperties.$XReadFile=_e.readFile},Tl=so(),un=document.createElement("meta");un.name="naive-ui-style";document.head.appendChild(un);const Ue=lo(Ul);jl(Ue);Ue.use(J);Ue.use(Tl);Ue.mount("#app");wt.vue=Ue;export{Pt as _,we as a,Al as b,Y as c,Ze as d,Q as u};
