import{e as B,T as J,A as U,d as K,g as V,w as o,aM as M,o as r,a5 as _,h as t,i as e,J as y,a0 as z,G as l,X as I,a3 as O,a4 as Q,I as X,R as Y,a6 as H,aN as W,aO as Z,a1 as ee,ab as ne,Y as te,aP as oe,aQ as se,aw as ae}from"./.pnpm.e0cde08c.js";import{u as E,a as re,b as le,_ as _e,c as ce}from"./index.ff7d8f47.js";const ie=()=>{var p;const h=B(),n=B(!1),c=E(),v=re(),a=J(),x=(p=a.currentRoute.value)==null?void 0:p.query,i=U({username:null,password:null,...x}),k=U({username:[{required:!0,message:"请输入登录账号"}],password:[{required:!0,message:"请输入登录密码"}]});return{appStore:c,formRef:h,loading:n,model:i,rules:k,login:async()=>{var d,m,f;try{n.value=!0,await((d=h.value)==null?void 0:d.validate()),await v.login(i);const g=(f=(m=a.currentRoute.value)==null?void 0:m.query)==null?void 0:f.redirect;await a.push(g||"/"),n.value=!1}catch{n.value=!1}}}},ue={class:"flex-1 flex justify-center items-center"},pe={class:"w-380px bg-white p-30px rounded-5px"},de={class:"text-center"},me={class:"text-26px"},fe={key:0,class:"flex justify-between items-center pt-5"},ge=["href"],he={key:1},ve=["href"],xe={key:3},ye={class:"flex justify-center py-2 items-center text-16px text-white"},ke=K({__name:"index",setup(h){const n=E(),{appStore:c,formRef:v,model:a,rules:x,login:i}=ie();return le(()=>i()),(k,u)=>{const p=X,d=Y,m=H,f=W,g=Z,P=ee,T=ne,$=ae,D=te,F=M;return r(),V(F,{tag:"div",class:"pro-admin-login-container h-screen flex flex-col"},{default:o(()=>{var w,b,L,R,C,N,q,S,j,A;return[_("div",ue,[_("div",pe,[_("div",de,[t(p,{src:e(c).layout.logo,width:"50",height:"50"},null,8,["src"]),_("div",me,y((w=e(c).site)==null?void 0:w.web_name)+" "+y((b=e(c).site)==null?void 0:b.web_title),1)]),t(g,{ref_key:"formRef",ref:v,"label-placement":"left",model:e(a),rules:e(x),class:"pt-30px"},{default:o(()=>[t(f,{path:"username"},{default:o(()=>[t(m,{value:e(a).username,"onUpdate:value":u[0]||(u[0]=s=>e(a).username=s),placeholder:"请输入登录账号"},{prefix:o(()=>[t(d,{component:e(oe),size:"22"},null,8,["component"])]),_:1},8,["value"])]),_:1}),t(f,{path:"password"},{default:o(()=>[t(m,{value:e(a).password,"onUpdate:value":u[1]||(u[1]=s=>e(a).password=s),type:"password",placeholder:"请输入登录密码","show-password-on":"click",clearable:""},{prefix:o(()=>[t(d,{component:e(se),size:"22"},null,8,["component"])]),_:1},8,["value"])]),_:1})]),_:1},8,["model","rules"]),t(P,{type:"primary",block:"",secondary:"",strong:"",onClick:e(i)},{default:o(()=>[z(" 提交登录 ")]),_:1},8,["onClick"]),(L=e(n).loginLink)!=null&&L.register||(R=e(n).loginLink)!=null&&R.forget?(r(),l("div",fe,[(C=e(n).loginLink)!=null&&C.register?(r(),l("a",{key:0,href:(N=e(n).loginLink)==null?void 0:N.register}," 用户注册 ",8,ge)):(r(),l("div",he)),(q=e(n).loginLink)!=null&&q.forget?(r(),l("a",{key:2,href:(S=e(n).loginLink)==null?void 0:S.forget}," 找回密码 ",8,ve)):(r(),l("div",xe))])):I("",!0),(A=(j=e(n).loginLink)==null?void 0:j.other_login)!=null&&A.length?(r(),l(O,{key:1},[t(T,null,{default:o(()=>[z(" 其他登录方式 ")]),_:1}),t(D,{justify:"center",size:30},{default:o(()=>[(r(!0),l(O,null,Q(e(n).loginLink.other_login,(s,G)=>(r(),V($,{key:G,trigger:"hover"},{trigger:o(()=>[t(p,{src:s==null?void 0:s.icon,class:"cursor-pointer",width:"40",height:"40","preview-disabled":!0},null,8,["src"])]),default:o(()=>[_("span",null,y((s==null?void 0:s.title)??"错误"),1)]),_:2},1024))),128))]),_:1})],64)):I("",!0)])]),_("div",ye,[t(e(_e))])]}),_:1})}}});const Le=ce(ke,[["__scopeId","data-v-82691ead"]]);export{Le as default};
