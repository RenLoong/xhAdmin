import{m as vn,d as D,u as yn,a as xn,b as wn,c as Cn,r as ae,e as x,z as kn,f as Pn,o as g,g as $,w as k,h as y,i as l,_ as bn,j as Sn,N as $n,k as Dn,l as Ht,n as Rn,p as En,q as Un,s as Tn,t as ct,v as it,x as Bn,y as qt,A as Vt,B as re,C as ut,D as Ce,E as me,F as z,G as b,H as se,I as Re,J as A,K as Nt,L as he,M as Z,O as Mt,P as jn,Q as ot,R as Lt,S as Je,T as dt,U as F,V as T,W as ke,X as ue,Y as we,Z as M,$ as oe,a0 as R,a1 as pt,a2 as Wt,a3 as J,a4 as Jt,a5 as Tt,a6 as H,a7 as q,a8 as An,a9 as Gn,aa as zn,ab as ve,ac as Kt,ad as Bt,ae as Fn,af as In,ag as ft,ah as On,ai as mt,aj as Hn,ak as Qt,al as qn,am as Vn,an as Nn,ao as Mn,ap as Ln,aq as Wn,ar as Zt,as as jt,at as Jn,au as Kn,av as Qn,aw as Zn,ax as Yn,ay as Xn,az as eo,aA as to,aB as no,aC as oo,aD as ao,aE as so,aF as Se,aG as lo,aH as ro,aI as ht,aJ as _t,aK as gt,aL as Yt,aM as co,aN as io,aO as uo,aP as po,aQ as fo,aR as mo}from"./.pnpm.37ca1b2a.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const Xt={},U=()=>Xt,ho=t=>{vn(Xt,t)},_o=D({__name:"naive-provider",setup(t){const e=yn(),n=xn(),o=wn(),s=Cn();return ho({notification:e,message:n,dialog:o,loadingBar:s}),(a,r)=>ae(a.$slots,"default")}}),go=D({__name:"index",setup(t){const e=x(kn),n=x(Pn);return(o,s)=>{const a=bn,r=Sn,u=$n,d=Dn,f=Ht;return g(),$(f,{locale:l(e),"date-locale":l(n)},{default:k(()=>[y(d,null,{default:k(()=>[y(u,null,{default:k(()=>[y(r,null,{default:k(()=>[y(a,null,{default:k(()=>[y(_o,null,{default:k(()=>[ae(o.$slots,"default")]),_:3})]),_:3})]),_:3})]),_:3})]),_:3})]),_:3},8,["locale","date-locale"])}}}),vo={title:"KFAdmin",layout:"mix",headerHeight:50,footerHeight:35,accordion:!0,collapsed:!1,siderWidth:230,siderCollapsedWidth:80,showSiderTrigger:"arrow-circle",inverted:!0,logoSize:35,rootIndent:18,indent:32},yo="modulepreload",xo=function(t,e){return new URL(t,e).href},At={},ye=function(e,n,o){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=xo(a,o),a in At)return;At[a]=!0;const r=a.endsWith(".css"),u=r?'[rel="stylesheet"]':"";if(!!o)for(let m=s.length-1;m>=0;m--){const p=s[m];if(p.href===a&&(!r||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${u}`))return;const f=document.createElement("link");if(f.rel=r?"stylesheet":yo,r||(f.as="script",f.crossOrigin=""),f.href=a,document.head.appendChild(f),r)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())},wo=[{path:"/login",name:"Login",component:()=>ye(()=>import("./index.80024908.js"),["./index.80024908.js",".pnpm.37ca1b2a.js","..\\css\\.pnpm.ec8b2022.css","..\\css\\index.8b065a1b.css"],import.meta.url),meta:{title:"用户登录"}},{path:"/redirect/:path(.*)",name:"redirect",component:()=>ye(()=>import("./index.3505243e.js"),["./index.3505243e.js",".pnpm.37ca1b2a.js","..\\css\\.pnpm.ec8b2022.css"],import.meta.url)},{path:"/error",name:"error",meta:{title:"找不到页面"},component:()=>ye(()=>import("./error.8c2aee0a.js"),["./error.8c2aee0a.js",".pnpm.37ca1b2a.js","..\\css\\.pnpm.ec8b2022.css"],import.meta.url)},{path:"/:pathMatch(.*)",component:()=>ye(()=>import("./error.8c2aee0a.js"),["./error.8c2aee0a.js",".pnpm.37ca1b2a.js","..\\css\\.pnpm.ec8b2022.css"],import.meta.url)}],K=Rn({routes:[...wo],history:En("/")}),Ee=()=>{var n,o;const t=K.currentRoute.value;let e="";return(n=t==null?void 0:t.meta)!=null&&n.moduleName?e=(o=t==null?void 0:t.meta)==null?void 0:o.moduleName:e=location.pathname.replace(/^\/(.*)\/$/,"$1"),e},Pe=(t="",e=!1)=>{var a;const n=K.currentRoute.value,o=((a=n==null?void 0:n.meta)==null?void 0:a.moduleName)??"",s=x(n.path);if(e){const r=s.value.indexOf("/",1);s.value=s.value.substring(0,r),s.value=`${s.value}/`}return`${o}${s.value}${t}`},vt=t=>{let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},He=t=>{vt(t)?location.href=t:K.push(t)};function Xe(t=6){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return e}const ee=(t,e)=>{for(const n in e)if(e[n]===t)return!0;return!1},Ne=()=>{var n;const t=K.currentRoute.value,{notification:e}=U();(n=t.query)!=null&&n.isBack?K.back():e==null||e.error({title:"返回上次页面错误",duration:2e3})},Co=t=>t.replace(/\/(\w)/g,(e,n)=>n.toUpperCase()),ar=(t,e="Enter")=>{const n=o=>{o.key===e&&(t(),o.preventDefault())};Un(()=>document.addEventListener("keydown",n)),Tn(()=>document.removeEventListener("keydown",n))},ko=t=>{let e;const n={},o=t.slice(t.indexOf("?")+1).split("&");for(let s=0;s<o.length;s++)e=o[s].split("="),n[e[0]]=e[1];return n},Po=t=>{const e=new URLSearchParams;for(const[o,s]of Object.entries(t))e.append(o,s);return e.toString()},le=(t,e)=>{let n=t,o=0;function s(){n=n[e[o]],o++,o<e.length&&n&&s()}return s(),n},yt="authorization",xt="appid",Ue=ct(()=>{const t=Ee();return it(`${t}_${yt}`,null)}),Te=ct(()=>{const t=Ee();return it(`${t}_${xt}`,null)}),en="/",L=Bn.create({baseURL:en,timeout:6e4}),bo=async t=>{const e=Ue();e.value&&t.headers.set(yt,e.value);const n=Te();return n.value&&t.headers.set(xt,n.value),t},So=t=>{var a,r,u,d;const{notification:e}=U(),n=Ue(),o=t.data;return t.headers["content-type"].includes("application/json")?ee(o==null?void 0:o.code,[404,500])?(e==null||e.error({title:"温馨提示",content:(o==null?void 0:o.msg)||"网络错误",duration:1500}),Promise.reject(t.data)):(o==null?void 0:o.code)===301?(He(((a=o==null?void 0:o.data)==null?void 0:a.url)??""),Promise.reject(t.data)):(o==null?void 0:o.code)===302?(e==null||e.error({title:"温馨提示",content:(o==null?void 0:o.msg)||"网络错误",duration:1500}),He(((r=o==null?void 0:o.data)==null?void 0:r.url)??""),Promise.reject(t.data)):(o==null?void 0:o.code)===303?(e==null||e.success({title:"温馨提示",content:(o==null?void 0:o.msg)||"网络错误",duration:1500}),He(((u=o==null?void 0:o.data)==null?void 0:u.url)??""),Promise.reject(t.data)):(o==null?void 0:o.code)===304?(window.location.reload(),Promise.reject(t.data)):(o==null?void 0:o.code)===305?(e==null||e.success({title:"温馨提示",content:(o==null?void 0:o.msg)||"网络错误",duration:1500}),setTimeout(()=>{window.location.reload()},2500),Promise.reject(t.data)):(o==null?void 0:o.code)===200?o:((o==null?void 0:o.code)===12e3&&(n.value="",K.replace({path:"/login",query:{redirect:(d=K.currentRoute.value)==null?void 0:d.fullPath}})),Promise.reject(t.data)):t.headers["content-type"]==="application/octet-stream"?Promise.resolve(o):Promise.resolve(t)},$o=t=>{const{notification:e}=U();if(t.response){const{data:n,status:o,statusText:s}=t.response;o===401?e==null||e.error({title:"温馨提示",content:(n==null?void 0:n.msg)||s,duration:1500}):o===403?e==null||e.error({title:"资源请求错误",content:(n==null?void 0:n.msg)||s,duration:1500}):o===500&&(e==null||e.error({title:"服务器错误",content:(n==null?void 0:n.msg)||s,duration:1500}))}return Promise.reject(t)};L.interceptors.request.use(bo);L.interceptors.response.use(So,$o);const be=(t,e,n)=>L.request({url:t,params:e,method:"GET",...n}),wt=(t,e,n)=>L.request({url:t,data:e,method:"POST",...n}),Ct=(t,e,n)=>L.request({url:t,data:e,method:"PUT",...n}),Ke=(t,e,n)=>L.request({url:t,data:e,method:"DELETE",...n}),Do=Object.freeze(Object.defineProperty({__proto__:null,baseURL:en,default:L,instance:L,useDelete:Ke,useGet:be,usePost:wt,usePut:Ct},Symbol.toStringTag,{value:"Module"})),Ro=Ee(),Eo=`${Ro}/Publics/site`,Uo=()=>be(Eo),To=ct(()=>{const t=Ee();return it(`${t}-layout-theme`,vo)}),te=qt("app",()=>{const t=To(),e=Vt(l(t)),n=x(),o=x(),s=x(),a=f=>{s.value=f},r=f=>{o.value=f},u=f=>{var p;e.title=f.web_title,e.web_name=f.web_name;const m=new URL("data:image/png;base64,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",self.location).href;e.logo=(f==null?void 0:f.web_logo)==="string"?f.web_logo:m,e.layout=((p=f==null?void 0:f.theme)==null?void 0:p.layout)??e.layout,n.value=f};return{layout:e,getSite:async()=>{const{data:f}=await Uo();return u(f),f},site:n,dynameicRemoteRoute:o,setDynameicRemoteRoute:r,loginLink:s,setLoginLink:a}}),Bo=t=>{var o;const n=(o=te().site)==null?void 0:o.public_api.login;return wt(n,t)},jo=()=>{var n;const e=(n=te().site)==null?void 0:n.public_api.loginout;return Ke(e)},Ao=()=>{var n;const e=(n=te().site)==null?void 0:n.public_api.user;return be(e)},et=D({__name:"route-view",setup(t){const e=re(),n=()=>`${new Date().getTime()}${Math.random()}`,o=x("");return ut(()=>e.fullPath,()=>{o.value=n()}),(s,a)=>{const r=Ce("router-view");return g(),$(r,{key:l(o)})}}}),Go=D({__name:"logo",props:{collapsedWidth:null,headerHeight:null,size:{default:30},src:null,inverted:{type:Boolean}},setup(t){const e=t;me(s=>({a225a460:l(o),"069e2b22":l(n)}));const n=z(()=>`${e.headerHeight}px`),o=z(()=>`${e.collapsedWidth}px`);return(s,a)=>{const r=Re;return g(),b("div",{class:se(["pro-admin-layout-header flex items-center justify-center",{"bg-[#011528]":t.inverted}])},[y(r,{src:t.src,width:t.size,height:t.size,"preview-disabled":""},null,8,["src","width","height"])],2)}}});const Q=(t,e)=>{const n=t.__vccOpts||t;for(const[o,s]of e)n[o]=s;return n},kt=Q(Go,[["__scopeId","data-v-65fa780c"]]),zo=D({__name:"title",props:{headerHeight:null,layout:null,title:null,size:{default:16},inverted:{type:Boolean}},setup(t){const e=t;me(s=>({"5a04372c":l(n)}));const n=z(()=>`${e.headerHeight}px`),o=z(()=>({fontSize:`${e.size}px`}));return(s,a)=>(g(),b("div",{class:se(["pro-admin-tabs-layout-header flex items-center flex-1 truncate select-none",{"justify-center":t.inverted}]),style:Nt(l(o))},A(t.title),7))}});const tn=Q(zo,[["__scopeId","data-v-be8d9a40"]]),nn=D({__name:"layout-content",setup(t){const e=he();return(n,o)=>{const s=Mt;return g(),$(s,Z(l(e),{style:{"--n-color":"var(--pro-admin-layout-content-bg)"}}),{default:k(()=>[ae(n.$slots,"default")]),_:3},16)}}}),at=D({__name:"layout-sider",setup(t){const e=he();return(n,o)=>{const s=jn;return g(),$(s,Z({"collapse-mode":"width"},l(e)),{default:k(()=>[ae(n.$slots,"default")]),_:3},16)}}}),Pt={vue:null},G=D({__name:"index",props:{icon:null,depth:null,size:{default:18},color:null},setup(t){return(e,n)=>{const o=Lt;return g(),$(o,{component:l(ot)[t.icon],size:t.size,depth:t.depth,color:t.color},null,8,["component","size","depth","color"])}}}),Fo={};function Io(t,e){return g(),b("div",null," 高德地图 ")}const Oo=Q(Fo,[["render",Io]]),Ho={};function qo(t,e){return g(),b("div",null," 百度地图 ")}const Vo=Q(Ho,[["render",qo]]),de=D({__name:"buttons",props:{extraConfig:null},emits:["update:init","update:submit","update:rest"],setup(t,{expose:e,emit:n}){const o=Je(),s=x(!1),a=d=>{s.value=d},r=()=>{a(!0),n("update:submit")},u=()=>{a(!0),n("update:rest")};return dt(()=>{n("update:init",{exposed:o.exposed})}),e({setDisabled:a}),(d,f)=>{var c;const m=ke,p=ue;return(c=t.extraConfig.submitBtn)!=null&&c.show?(g(),$(p,{key:0,justify:"center",size:30,class:"py-3 b-t-1px"},{default:k(()=>{var i,_,v,C;return[(i=t.extraConfig.submitBtn)!=null&&i.show?(g(),$(m,Z({key:0},((_=t.extraConfig)==null?void 0:_.submitBtn)??{},{loading:l(s),disabled:l(s),onClick:r}),{default:k(()=>{var h;return[F(A(l(s)?"请求中...":((h=t.extraConfig.submitBtn)==null?void 0:h.content)??"提交"),1)]}),_:1},16,["loading","disabled"])):T("",!0),(v=t.extraConfig.resetBtn)!=null&&v.show?(g(),$(m,Z({key:1},((C=t.extraConfig)==null?void 0:C.resetBtn)??{},{disabled:l(s),onClick:u}),{default:k(()=>{var h;return[F(A(((h=t.extraConfig.resetBtn)==null?void 0:h.content)??"重置"),1)]}),_:1},16,["disabled"])):T("",!0)]}),_:1})):T("",!0)}}}),No={class:"h-450px overflow-y-auto p-5"},Mo=R("div",{class:"text-blueGray pt-2 select-none"}," 温馨提示：单击图标为选择，双击图标为复制 ",-1),Lo=["title","alt","onClick","onDblclick"],Wo=D({__name:"icons-mgr",emits:["update:init","update:copy","update:click","update:confirm"],setup(t,{expose:e,emit:n}){const{notification:o}=U(),s=Je(),a=x(Object.keys(ot)),r=x(""),u=x(""),d=p=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(p).then(c=>{});else{const c=document.createElement("input");c.value=p,document.body.appendChild(c),c.select(),document.execCommand("Copy"),c.remove()}n("update:copy",p),o==null||o.success({title:"复制成功",duration:1500})},f=p=>{r.value=p===r.value?"":p,n("update:click",r.value)},m=()=>(n("update:confirm",r.value??""),r.value);return dt(()=>{n("update:init",{exposed:s.exposed})}),e({hanldConfirm:m}),(p,c)=>{const i=pt,_=Wt,v=Lt,C=ue;return g(),b("div",No,[y(_,null,{default:k(()=>[y(i,{modelValue:l(u),"onUpdate:modelValue":c[0]||(c[0]=h=>we(u)?u.value=h:null),placeholder:"可输入搜索图标名称"},null,8,["modelValue"])]),_:1}),Mo,y(C,{justify:"space-around",class:"pt-5",size:22},{default:k(()=>[(g(!0),b(M,null,oe(l(a).filter(h=>h.includes(l(u))),h=>(g(),b("div",{key:h,class:se([{"bg-slate":h===l(r)},"hover:bg-slate px-2 py-1 border-sm cursor-pointer"]),title:h,alt:h,onClick:w=>f(h),onDblclick:w=>d(h)},[y(v,{component:l(ot)[h],size:26,color:"#555"},null,8,["component"])],42,Lo))),128))]),_:1})])}}}),Jo={class:"w-100%"},Ko=D({__name:"index",props:{modelValue:null},emits:["update:modelValue"],setup(t,{emit:e}){const{dialog:n,notification:o}=U(),s=x(),a=x(),r=x({submitBtn:{type:"success",content:"确定",show:!0},resetBtn:{type:"warning",content:"关闭",show:!0}}),u=()=>{e("update:modelValue","")},d=()=>{s.value=n==null?void 0:n.create({class:"pro-admin-dialog",title:"图标管理器",maskClosable:!1,showIcon:!1,style:{width:"45%"},content:()=>J(Wo,{"onUpdate:init":f=>{a.value=f==null?void 0:f.exposed}}),action:()=>J(de,{extraConfig:r.value,"onUpdate:submit":()=>{var m,p;const f=(m=a.value)==null?void 0:m.hanldConfirm();f?(e("update:modelValue",f),(p=s.value)==null||p.destroy()):o==null||o.error({title:"请选择图标",duration:1500})},"onUpdate:rest":()=>{var f;(f=s.value)==null||f.destroy()}})})};return(f,m)=>{const p=pt,c=ke,i=Wt;return g(),b("div",Jo,[y(i,null,{default:k(()=>[y(p,{value:t.modelValue,placeholder:"请选择图标",disabled:""},null,8,["value"]),y(c,{type:"warning",onClick:u},{default:k(()=>[F(" 重置图标 ")]),_:1}),y(c,{type:"success",onClick:d},{default:k(()=>[F(" 选择图标 ")]),_:1})]),_:1})])}}}),Qo={};function Zo(t,e){return g(),b("div",null," 腾讯地图 ")}const Yo=Q(Qo,[["render",Zo]]);function Xo(){const t=Pt.vue;Jt.install(t)}const ea={form:{labelPlacement:"top",inline:!1,labelPosition:"right",labelSuffix:void 0,hideRequiredAsterisk:!1,labelWidth:"auto",showMessage:!0,inlineMessage:!1,statusIcon:!1,validateOnRuleChange:!0,disabled:!1,size:void 0},row:{gutter:30,alignItems:"center",type:void 0,align:void 0,justify:void 0,tag:"div"},global:{"*":{}},submitBtn:!1,resetBtn:!1},ta=t=>t.map(e=>(e.handle=n=>{if((e==null?void 0:e.where)==="==")return n===e.value;if((e==null?void 0:e.where)==="!=")return n!==e.value;if((e==null?void 0:e.where)==="in"){const o=e.value;return o instanceof Array&&o instanceof Object?ee(n,e.value):(console.error("联动组件的IN条件值必须是数组或对象"),!1)}},e)),na=t=>t.map(e=>(e!=null&&e.control&&(e.control=ta(e.control)),e)),oa=(t,e)=>{const n=x({}),o=x({api:"",method:"POST"}),s=x(""),a=x({}),r=x([]),u=x(ea),d=Je(),f=()=>{var C,h;const{notification:c}=U(),i=K.currentRoute.value,_={...i==null?void 0:i.query};_!=null&&_.isBack&&(_==null||delete _.isBack);const v={method:((C=o.value)==null?void 0:C.method)??"GET",params:{...t.ajaxParams},data:{}};o.value.method==="GET"?v.params={...a.value}:v.data={...a.value},e("update:submit",{api:o.value.api,queryParams:v}),L(((h=o.value)==null?void 0:h.api)??"",v).then(w=>{var P;(P=i.query)!=null&&P.isBack&&!t.isModal&&!s.value?Ne():s.value&&He(s.value),e("update:success",w),c==null||c.success({title:(w==null?void 0:w.msg)??"操作失败",duration:1500})}).catch(w=>{e("update:error",w)})},m=()=>{const{notification:c}=U();n.value.resetFields(),c==null||c.success({title:"数据重置成功",duration:1500}),e("update:rest")},p=x({method:t.method,params:{},data:{}});return t.method==="GET"?p.value.params={...t.ajaxParams}:p.value.data={...t.ajaxParams},L((t==null?void 0:t.api)??"",p.value).then(c=>{const{data:i}=c,{notification:_}=U();if(!(i!=null&&i.http))return _==null||_.error({title:"提交接口获取失败",duration:2e3}),Promise.reject(new Error("提交接口获取失败"));if(!(i!=null&&i.formRule))return _==null||_.error({title:"表单规则获取失败",duration:2e3}),Promise.reject(new Error("表单规则获取失败"));o.value=i.http,r.value=na(i.formRule),u.value={...u.value,...i.config},s.value=(i==null?void 0:i.redirect)??"",e("update:init",{response:i,exposed:d.exposed})}).catch(c=>{e("update:error",c)}),{fApi:n,submitAPI:o,redirectUrl:s,formData:a,formRule:r,formConfig:u,hanldSubmit:f,hanldReset:m}},aa={class:"h-100%"},on=D({__name:"index",props:{api:null,method:{default:"GET"},ajaxParams:{default:{}},isModal:{type:Boolean,default:!1}},emits:["update:init","update:submit","update:success","update:rest","update:error"],setup(t,{expose:e,emit:n}){const o=t,{fApi:s,formData:a,formConfig:r,formRule:u,hanldSubmit:d,hanldReset:f}=oa(o,n);Xo(),Tt.use(qs);const m=Tt.$form();return e({hanldSubmit:d,hanldReset:f}),(p,c)=>(g(),b("div",aa,[y(l(m),{api:l(s),"onUpdate:api":c[0]||(c[0]=i=>we(s)?s.value=i:null),modelValue:l(a),"onUpdate:modelValue":c[1]||(c[1]=i=>we(a)?a.value=i:null),modelModifiers:{lazy:!0},rule:l(u),option:l(r)},null,8,["api","modelValue","rule","option"])]))}}),sa={class:"h-550px overflow-x-hidden overflow-y-auto p-5"},Qe=D({__name:"popup",setup(t){const e=he();return(n,o)=>(g(),b("div",sa,[y(on,H(q(l(e))),null,16)]))}}),la=(t,e,n)=>{const{notification:o}=U();if(!(n!=null&&n.file))return o==null||o.error({title:"导出数据失败，缺少[file]地址",duration:2e3}),Promise.reject(new Error("导出数据失败，缺少导出地址"));L(n==null?void 0:n.file,{responseType:"blob"}).then(s=>{An.saveFile({filename:t,type:e,content:s.data})})},ra=({vxeGridConfig:t,options:e,xGrid:n})=>{var r;const{notification:o}=U();if(!((r=t.exportConfig)!=null&&r.api))return o==null||o.error({title:"请设置请求API",duration:1500}),Promise.reject(new Error("请设置请求API"));const s=n==null?void 0:n.getProxyInfo(),a={format:e.type??"xlsx",filename:e.filename??"导出文件",sheetName:e.sheetName??"",isHeader:e.isHeader??!1,original:e.original??!1,mode:e.mode??"all",pager:s?s.pager:null,ids:e.mode==="selected"?e.data.map(u=>u.id):[],fields:e.columns.map(u=>({field:u.field,title:u.title}))};return new Promise(u=>{var m;const d={method:"POST",data:{...a}},f=((m=t.exportConfig)==null?void 0:m.api)??"";L(f,d).then(p=>{const{data:c}=p;la(a.filename,a.format,c),u(p)})})},ca=({vxeGridConfig:t,file:e,xGrid:n})=>{const{notification:o}=U(),s=new FormData;return s.append("file",e),new Promise(a=>{var d;const r=((d=t.importConfig)==null?void 0:d.api)??"";L(r,{method:"POST",data:s}).then(f=>{const{msg:m}=f;o==null||o.success({title:m??"操作成功",duration:1500}),n==null||n.commitProxy("query"),a(f)}).catch(f=>{console.error("导入失败",f)})})},ia=({$table:t,file:e})=>new Promise(n=>{const o=new FileReader;o.onload=s=>{const a=s.target?s.target.result:"",r=Gn(a,{type:"binary"}),u=zn.sheet_to_json(r.Sheets.Sheet1);t.loadData(u),n(u)},o.readAsBinaryString(e)}),ua=t=>{var e,n;return(e=t.vxeGridConfig.importConfig)!=null&&e.api&&((n=t.vxeGridConfig.importConfig)!=null&&n.isRemote)?ca(t):ia(t)},da=async({options:t,xGrid:e,vxeGridConfig:n})=>{var c,i,_,v;const o=t.form,s=t.page,a=t.sort,r=t.filters;let u=Pe();const d=((c=n.screenConfig)==null?void 0:c.method)??"GET",f=(i=e==null?void 0:e.formConfig)==null?void 0:i.data;t!=null&&t.code&&((_=n.screenConfig)!=null&&_.api)&&(u=(v=n.screenConfig)==null?void 0:v.api);const m=K.currentRoute.value,p=x({method:d,params:{page:s.currentPage??1,limit:s.pageSize??20,...o,...(m==null?void 0:m.query)??{},...f}});return JSON.stringify(a)!=="{}"&&p.value.params&&(p.value.params={...p.value.params,field:a.field,order:a.order}),r.length>0&&p.value.params&&r.forEach(({field:C,values:h})=>{p.value.params={...p.value.params,[C]:h.join(",")}}),new Promise((C,h)=>{L(u,p.value).then(w=>{C(w)}).catch(w=>{h(w)})})},pa=(t,e,n,o)=>{const{notification:s}=U();if(e.length<=0){s==null||s.error({title:"请先导入数据",duration:1500});return}if(!t){s==null||s.error({title:"未设置导入API接口",duration:1500});return}wt(t,{import:n,data:e}).then(r=>{var u;(u=o.xGrid)==null||u.commitProxy("query"),s==null||s.success({title:(r==null?void 0:r.msg)??"操作成功",duration:1500})})},fa=t=>{ve.commands.add("importAllData",e=>{var a;const{$table:n}=e,o=n==null?void 0:n.getTableData(),s=o==null?void 0:o.fullData;pa(((a=t.vxeTableConfig.importConfig)==null?void 0:a.api)??"",s,"all",t)})},ma=t=>{const{notification:e}=U(),n=x(),o=x({}),s=x({active:"",field:"",list:[]}),a=x([]),r=x([]),u=x([]),d={method:t.method,params:{},data:{}};d.method==="GET"?d.params={...t.ajaxParams}:d.data={...t.ajaxParams},L(t.api,d).then(p=>{const c=p.data;o.value=c.tableConfig,s.value=c.tabsConfig,a.value=c.rightButtonList,r.value=c.selectButtonList,u.value=c.topButtonList;const i={...o.value.toolbarConfig,slots:{buttons:"topButtonList"}};o.value.toolbarConfig=i,i!=null&&i.import&&(o.value.importConfig={...o.value.importConfig,remote:!0,importMethod:_=>ua({..._,vxeGridConfig:o.value,xGrid:n.value})}),i.export&&(o.value.exportConfig={...o.value.exportConfig,remote:!0,exportMethod:_=>ra({..._,vxeGridConfig:o.value,xGrid:n.value})}),o.value.proxyConfig={...o.value.proxyConfig,ajax:{query:_=>da({options:_,xGrid:n.value,vxeGridConfig:o.value})}}});const f=(p,c)=>{var i;if(!p){e==null||e.error({title:"请设置请求API接口",duration:1500}),(i=n.value)==null||i.commitProxy("query");return}Ct(p,c).then(()=>{var _;(_=n.value)==null||_.commitProxy("query")})},m=({row:p,column:c})=>{var C,h,w;const i=((h=(C=o.value)==null?void 0:C.rowConfig)==null?void 0:h.keyField)??"id",_=p[c==null?void 0:c.field],v={[i]:p[i],keyField:i,field:c==null?void 0:c.field,value:_};f((w=c==null?void 0:c.params)==null?void 0:w.api,v)};return fa({xGrid:n.value,vxeTableConfig:o.value}),{xGrid:n,vxeGridConfig:o,tabsConfig:s,rightButtonList:a,selectButtonList:r,topButtonList:u,hanldEditClose:m}},ha=D({__name:"icons",props:{row:null,column:null},setup(t){const e=t,n=e.column.params,o=e.column.field;let s=x();if(o.includes(".")){const a=o.split(".");s=le(e.row,a)}else s=e.row[o];return n!=null&&n.type&&delete n.type,(a,r)=>(g(),$(G,Z({icon:l(s)},l(n)),null,16,["icon"]))}}),_a=D({__name:"image",props:{column:null,row:null},setup(t){var a;const e=t,n=e.column.field;let o=x();if(n.includes(".")){const r=n.split(".");o=le(e.row,r)}else o=e.row[n];const s=x(e.column.params);return s!=null&&s.type&&delete s.value.type,(a=s.value)!=null&&a.style||(s.value.style={width:"35px",height:"30px"}),(r,u)=>{const d=Re;return l(o)?(g(),$(d,Z({key:0,src:l(o)},l(s)),null,16,["src"])):T("",!0)}}}),ga={key:0,class:"flex gap-1"},va=D({__name:"images",props:{column:null,row:null},setup(t){var a,r;const e=t,n=e.column.field;let o=x();if(n.includes(".")){const u=n.split(".");o=le(e.row,u)}else o=e.row[n];const s=x(e.column.params);return(a=s.value)!=null&&a.type&&delete s.value.type,(r=s.value)!=null&&r.style||(s.value.style={width:"35px",height:"30px"}),(u,d)=>{const f=Re,m=Kt;return l(o)instanceof Array||l(o)instanceof Object?(g(),b("div",ga,[(g(!0),b(M,null,oe(l(o),(p,c)=>(g(),b("div",{key:c,class:"item"},[typeof p=="string"?(g(),$(f,Z({key:0,src:p},l(s)),null,16,["src"])):p!=null&&p.label&&(p!=null&&p.url)?(g(),$(m,{key:1,trigger:"hover"},{trigger:k(()=>[y(f,Z({src:p.url},l(s)),null,16,["src"])]),default:k(()=>[F(" "+A(p.label),1)]),_:2},1024)):T("",!0)]))),128))])):T("",!0)}}}),ya={class:"assets-container"},xa={class:"item"},wa=["src"],Ca=["src"],ka={class:"text-center select-none"},Pa=D({__name:"assets",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){var r,u,d;const e=t,n=((u=(r=e.column)==null?void 0:r.params)==null?void 0:u.resource)??[],o=(d=e.column)==null?void 0:d.field;let s=x();if(o.includes(".")){const f=o.split(".");s=le(e.row,f)}else s=e.row[o];const a="";return(f,m)=>{const p=G,c=Kt;return g(),b("div",ya,[(g(!0),b(M,null,oe(l(n),(i,_)=>(g(),$(c,{key:_,show:i.isUpdate,trigger:"hover",placement:"top"},{trigger:k(()=>[R("div",xa,[(i==null?void 0:i.type)==="url"&&l(vt)(i==null?void 0:i.icon)?(g(),b("img",{key:0,class:"logo",src:i==null?void 0:i.icon},null,8,wa)):T("",!0),(i==null?void 0:i.type)==="path"?(g(),b("img",{key:1,class:"logo",src:l(a)+(i==null?void 0:i.icon)},null,8,Ca)):(g(),$(p,{key:2,icon:i.icon},null,8,["icon"])),R("div",ka,A(l(s)[i.field]??"字段错误"),1)])]),default:k(()=>[F(" "+A((i==null?void 0:i.title)??"未知"),1)]),_:2},1032,["show"]))),128))])}}});const ba=Q(Pa,[["__scopeId","data-v-0c469536"]]),Sa=D({__name:"money",props:{row:null,column:null},setup(t){var r;const e=t,n=x(((r=e.column)==null?void 0:r.params)??{}),o=e.column.field;let s=x();if(o.includes(".")){const u=o.split(".");s=le(e.row,u)}else s=e.row[o];const a=x("￥");return n!=null&&n.format&&(a.value=n==null?void 0:n.format,n==null||delete n.format),(u,d)=>(g(),b("div",H(q(l(n))),A(l(a))+A(l(Bt).commafy(l(Bt).toNumber(l(s)),{digits:2})),17))}}),$a=D({__name:"swtich",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){const e=t,{notification:n}=U(),o=x({}),s=e.column.field;let a=x();if(s.includes(".")){const d=s.split(".");a=le(e.row,d)}else a=e.row[s];const r=({focused:d,checked:f})=>{var m,p,c,i;return f?o.value=((p=(m=e.column)==null?void 0:m.params)==null?void 0:p.checked)??{}:o.value=((i=(c=e.column)==null?void 0:c.params)==null?void 0:i.unchecked)??{},o.value},u=d=>{var _,v,C,h,w;const f=((v=(_=e.vxeGridConfig)==null?void 0:_.rowConfig)==null?void 0:v.keyField)??"id",m={[f]:e.row[f],keyField:f,field:(C=e.column)==null?void 0:C.field,value:d},p=Pe("rowEdit",!0),c=((h=e.column.params)==null?void 0:h.api)??p,i=x({method:((w=e.column.params)==null?void 0:w.method)??"PUT",params:{},data:{}});i.value.method==="GET"?i.value.params={...m}:i.value.data={...m},L(c,i.value).then(P=>{e.xGrid.commitProxy("query"),n==null||n.success({title:(P==null?void 0:P.msg)??"操作成功",duration:1500})})};return(d,f)=>{var p,c,i,_,v,C;const m=Fn;return g(),$(m,{"rail-style":r,"default-value":l(a),"checked-value":(i=(c=(p=t.column)==null?void 0:p.params)==null?void 0:c.checked)==null?void 0:i.value,"unchecked-value":(C=(v=(_=t.column)==null?void 0:_.params)==null?void 0:v.unchecked)==null?void 0:C.value,"on-update:value":u},{checked:k(()=>{var h,w,P;return[F(A((P=(w=(h=t.column)==null?void 0:h.params)==null?void 0:w.checked)==null?void 0:P.text),1)]}),unchecked:k(()=>{var h,w,P;return[F(A((P=(w=(h=t.column)==null?void 0:h.params)==null?void 0:w.unchecked)==null?void 0:P.text),1)]}),icon:k(()=>{var h,w,P,S;return[(w=(h=t.column)==null?void 0:h.params)!=null&&w.icon?(g(),$(G,{key:0,icon:(S=(P=t.column)==null?void 0:P.params)==null?void 0:S.icon},null,8,["icon"])):T("",!0)]}),"checked-icon":k(()=>{var h,w,P,S,E,B;return[(P=(w=(h=t.column)==null?void 0:h.params)==null?void 0:w.checked)!=null&&P.icon?(g(),$(G,{key:0,icon:(B=(E=(S=t.column)==null?void 0:S.params)==null?void 0:E.checked)==null?void 0:B.icon},null,8,["icon"])):T("",!0)]}),"unchecked-icon":k(()=>{var h,w,P,S,E,B;return[(P=(w=(h=t.column)==null?void 0:h.params)==null?void 0:w.unchecked)!=null&&P.icon?(g(),$(G,{key:0,icon:(B=(E=(S=t.column)==null?void 0:S.params)==null?void 0:E.unchecked)==null?void 0:B.icon},null,8,["icon"])):T("",!0)]}),_:1},8,["default-value","checked-value","unchecked-value"])}}}),Da=D({__name:"input",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){var m,p,c,i,_,v,C,h;const e=t,n=x(e.row[(m=e.column)==null?void 0:m.field]),o=x(e.row[(p=e.column)==null?void 0:p.field]),s=e.column.field,a=((i=(c=e.column)==null?void 0:c.params)==null?void 0:i.api)??Pe("rowEdit",!0),r=((v=(_=e.column)==null?void 0:_.params)==null?void 0:v.method)??"PUT",u=((h=(C=e.column)==null?void 0:C.params)==null?void 0:h.props)??{};if(s.includes(".")){const w=s.split(".");n.value=le(e.row,w),o.value=le(e.row,w)}else n.value=e.row[s],o.value=e.row[s];const{notification:d}=U(),f=()=>{var E,B,j;const w=((B=(E=e.vxeGridConfig)==null?void 0:E.rowConfig)==null?void 0:B.keyField)??"id";if(n.value===o.value)return;const P={[w]:e.row[w],keyField:w,field:(j=e.column)==null?void 0:j.field,value:n.value},S=x({method:r??"PUT",params:{},data:{}});S.value.method==="GET"?S.value.params={...P}:S.value.data={...P},L(a,S.value).then(O=>{o.value=P.value,e.xGrid.commitProxy("query"),d==null||d.success({title:(O==null?void 0:O.msg)??"操作成功",duration:1500})})};return(w,P)=>{const S=pt;return g(),$(S,Z({value:l(n),"onUpdate:value":P[0]||(P[0]=E=>we(n)?n.value=E:null),"on-blur":f},l(u)),null,16,["value"])}}}),Ra=D({__name:"select",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){var m,p,c,i,_,v,C,h,w;const e=t,n=x(e.row[(m=e.column)==null?void 0:m.field]),o=e.column.field,s=((c=(p=e.column)==null?void 0:p.params)==null?void 0:c.api)??Pe("rowEdit",!0),a=((_=(i=e.column)==null?void 0:i.params)==null?void 0:_.method)??"PUT",r=((C=(v=e.column)==null?void 0:v.params)==null?void 0:C.propsData)??{},u=((w=(h=e.column)==null?void 0:h.params)==null?void 0:w.options)??[],{notification:d}=U();if(o.includes(".")){const P=o.split(".");n.value=le(e.row,P)}else n.value=e.row[o];const f=P=>{var j,O,Y;const S=((O=(j=e.vxeGridConfig)==null?void 0:j.rowConfig)==null?void 0:O.keyField)??"id",E={[S]:e.row[S],keyField:S,field:(Y=e.column)==null?void 0:Y.field,value:P},B=x({method:a??"PUT",params:{},data:{}});B.value.method==="GET"?B.value.params={...E}:B.value.data={...E},L(s,B.value).then(ne=>{e.xGrid.commitProxy("query"),n.value=P,d==null||d.success({title:(ne==null?void 0:ne.msg)??"操作成功",duration:1500})})};return(P,S)=>{const E=In;return g(),$(E,Z({value:l(n),"onUpdate:value":S[0]||(S[0]=B=>we(n)?n.value=B:null)},l(r),{options:l(u),"on-update:value":f}),null,16,["value","options"])}}}),Ea={key:0,class:"tabs-container"},Ua={class:"tabs-box"},Ta=["onClick"],Ba={class:"pl-1"},ja=D({__name:"tabs",props:{xGrid:null,vxeGridConfig:null,tabsConfig:null},setup(t){var d;const e=t,n=re(),o=ft(),s=x({inline:!0,size:1,...((d=e.tabsConfig)==null?void 0:d.space)??{}}),a=n==null?void 0:n.query[e.tabsConfig.field],r=x(a??e.tabsConfig.active),u=f=>{o.push({query:{[e.tabsConfig.field]:f.value}})};return(f,m)=>{const p=ue;return t.tabsConfig.list.length>0?(g(),b("div",Ea,[R("div",Ua,[y(p,H(q(l(s))),{default:k(()=>[(g(!0),b(M,null,oe(t.tabsConfig.list,(c,i)=>(g(),b("div",{key:i,class:se(["item",{active:l(r)===(c==null?void 0:c.value)}]),onClick:_=>u(c)},[c!=null&&c.icon?(g(),$(G,{key:0,icon:c==null?void 0:c.icon},null,8,["icon"])):T("",!0),R("span",Ba,A((c==null?void 0:c.label)??"错误"),1)],10,Ta))),128))]),_:1},16)])])):T("",!0)}}});const Aa=Q(ja,[["__scopeId","data-v-5c06d3a3"]]),Ga=D({__name:"tags",props:{row:null,column:null},setup(t){const e=t,n=x({}),o=z(()=>{var a,r,u,d,f,m,p;const s=e.row[(a=e.column)==null?void 0:a.field]??"";return(u=(r=e.column)==null?void 0:r.params)!=null&&u.style&&s&&(n.value=e.column.params.style[s]),(f=(d=e.column)==null?void 0:d.params)!=null&&f.options&&s?(p=(m=e.column)==null?void 0:m.params)==null?void 0:p.options[s]:s});return(s,a)=>{const r=On;return g(),$(r,H(q(l(n))),{default:k(()=>[F(A(l(o)),1)]),_:1},16)}}}),za=D({__name:"remote",props:{vxeGridConfig:null,xGrid:null,column:null,row:null},setup(t){var a,r,u;const e=t,n=x((r=(a=e.column)==null?void 0:a.params)==null?void 0:r.file),o=((u=e.column)==null?void 0:u.field)??"",s=x(e.row[o]??"");return(d,f)=>(g(),$(l(ce),Z({file:l(n)},{modelValue:l(s),column:t.column,row:t.row}),null,16,["file"]))}}),Ze=(t,e)=>{let n={};for(const o in t){const s=t[o]??"id";n={...n,[s]:e[o]??""}}return n},Fa=({xGrid:t,vxeGridConfig:e,button:n,row:o,column:s})=>{var m,p,c,i,_,v,C;const a=K.currentRoute.value,{notification:r}=U(),u={method:((m=n.pageData)==null?void 0:m.method)??"GET",params:{},data:{}};let f={...((p=n==null?void 0:n.pageData)==null?void 0:p.queryParams)??{},...a.query};if(o&&s&&ee(JSON.stringify((c=n==null?void 0:n.pageData)==null?void 0:c.aliasParams),["[]","{}"])){const h=((i=e==null?void 0:e.rowConfig)==null?void 0:i.keyField)??"id";f={...f,[h]:o[h]}}ee(JSON.stringify((_=n==null?void 0:n.pageData)==null?void 0:_.aliasParams),["[]","{}"])||(f={...f,...Ze((v=n==null?void 0:n.pageData)==null?void 0:v.aliasParams,o)}),u.method==="GET"?u.params={...f}:u.data={...f},L(((C=n.pageData)==null?void 0:C.api)??"",u).then(h=>{t==null||t.commitProxy("query"),r==null||r.success({title:(h==null?void 0:h.msg)??"操作成功",duration:1500})})},Gt=({vxeGridConfig:t,button:e,row:n,column:o})=>{var d,f,m,p,c,i,_,v;const{notification:s}=U();if(!((d=e==null?void 0:e.pageData)!=null&&d.path)){s==null||s.error({title:"缺少跳转地址",duration:1500});return}const a=K.currentRoute.value;let u={...((f=e==null?void 0:e.pageData)==null?void 0:f.queryParams)??{},...a.query};if(n&&o&&ee(JSON.stringify((m=e==null?void 0:e.pageData)==null?void 0:m.aliasParams),["[]","{}"])){const C=((p=t==null?void 0:t.rowConfig)==null?void 0:p.keyField)??"id";u={...u,[C]:n[C]}}ee(JSON.stringify((c=e==null?void 0:e.pageData)==null?void 0:c.aliasParams),["[]","{}"])||(u={...u,...Ze((i=e==null?void 0:e.pageData)==null?void 0:i.aliasParams,n)}),(_=e.pageData)!=null&&_.isBack&&(u={...u,isBack:1}),K.push({path:(v=e==null?void 0:e.pageData)==null?void 0:v.path,query:{...u}})},Ia=({xGrid:t,vxeGridConfig:e,button:n,row:o,column:s})=>{const{dialog:a}=U();a==null||a.create({...(n==null?void 0:n.message)??{},maskClosable:!1,onPositiveClick:()=>{Fa({xGrid:t,vxeGridConfig:e,button:n,row:o,column:s})}})},st=x({submitBtn:{},resetBtn:{}}),Me=x({hanldSubmit:()=>{},hanldReset:()=>{}}),qe=x({setDisabled:()=>{}}),$e=x(),Oa=({vxeGridConfig:t,button:e,row:n,column:o})=>{var d,f,m,p,c,i,_,v,C,h;const s=K.currentRoute.value;let a,r={},u={...s.query};if(JSON.stringify((d=e.pageData)==null?void 0:d.queryParams)!=="{}"&&(u={...(f=e.pageData)==null?void 0:f.queryParams}),n&&o&&ee(JSON.stringify((m=e==null?void 0:e.pageData)==null?void 0:m.aliasParams),["[]","{}"])){const w=((p=t==null?void 0:t.rowConfig)==null?void 0:p.keyField)??"id";u={...u,[w]:n[w]}}switch(ee(JSON.stringify((c=e==null?void 0:e.pageData)==null?void 0:c.aliasParams),["[]","{}"])||(u={...u,...Ze((i=e==null?void 0:e.pageData)==null?void 0:i.aliasParams,n)}),(_=e.pageData)==null?void 0:_.type){case"table":a=sn,r={api:((v=e==null?void 0:e.pageData)==null?void 0:v.api)??""};break;case"remote":a=ce,r={file:((C=e==null?void 0:e.pageData)==null?void 0:C.path)??"",modal:(e==null?void 0:e.pageData.modal)??!1,ajaxParams:u,"onUpdate:closeWin":()=>{var w;(w=$e.value)!=null&&w.destroy&&$e.value.destroy()}};break;default:a=Qe,r={api:((h=e==null?void 0:e.pageData)==null?void 0:h.api)??"",method:e.pageData.method??"GET",ajaxParams:u,"onUpdate:init":w=>{var P,S;Me.value.hanldSubmit=(P=w==null?void 0:w.exposed)==null?void 0:P.hanldSubmit,Me.value.hanldReset=(S=w==null?void 0:w.exposed)==null?void 0:S.hanldReset,st.value.submitBtn=w==null?void 0:w.response.extraConfig.submitBtn,st.value.resetBtn=w==null?void 0:w.response.extraConfig.resetBtn},"onUpdate:success":()=>{var w;qe.value.setDisabled(!1),(w=$e.value)!=null&&w.destroy&&$e.value.destroy()},"onUpdate:rest":()=>{qe.value.setDisabled(!1)},"onUpdate:error":()=>{qe.value.setDisabled(!1)}};break}return{hpComponent:a,componentAttrs:r}},Ha=t=>{var a,r;const{dialog:e}=U(),{hpComponent:n,componentAttrs:o}=Oa(t),s={...((a=t.button)==null?void 0:a.message)??{},class:"pro-admin-dialog",content:()=>J(n,{...o}),onAfterLeave:()=>{var u;(u=t.xGrid)==null||u.commitProxy("query")}};((r=t.button.pageData)==null?void 0:r.type)==="form"&&(s.action=()=>J(de,{extraConfig:st.value,"onUpdate:init":u=>{var d;qe.value.setDisabled=(d=u==null?void 0:u.exposed)==null?void 0:d.setDisabled},"onUpdate:submit":()=>{Me.value.hanldSubmit()},"onUpdate:rest":()=>{Me.value.hanldReset()}})),$e.value=e==null?void 0:e.create(s)},qa=t=>{var f,m,p,c,i,_,v,C,h,w,P,S,E,B;const e=((m=(f=t.button)==null?void 0:f.pageData)==null?void 0:m.api)??"/",n=((p=t.button.pageData)==null?void 0:p.method)??"GET";let o=((c=t.button.pageData)==null?void 0:c.path)??"";const{notification:s}=U(),a=K.currentRoute.value,r={method:n,params:{},data:{}};let d={...((_=(i=t.button)==null?void 0:i.pageData)==null?void 0:_.queryParams)??{},...a.query};if(t.row&&t.column&&ee(JSON.stringify((C=(v=t.button)==null?void 0:v.pageData)==null?void 0:C.aliasParams),["[]","{}"])){const j=((w=(h=t.vxeGridConfig)==null?void 0:h.rowConfig)==null?void 0:w.keyField)??"id";d={...d,[j]:t.row[j]}}ee(JSON.stringify((S=(P=t.button)==null?void 0:P.pageData)==null?void 0:S.aliasParams),["[]","{}"])||(d={...d,...Ze((B=(E=t.button)==null?void 0:E.pageData)==null?void 0:B.aliasParams,t.row)}),r.method==="GET"?r.params={...d}:r.data={...d},L(e,r).then(j=>{const{data:O}=j;if(!o){if(!(O!=null&&O.url)){s==null||s.error({title:"缺少跳转地址",duration:1500});return}o=O.url}vt(o)||(o=`//${location.host}/${o}`),window.open(o,"about:blank")})},lt=t=>{var e,n,o,s;((e=t.button.pageData)==null?void 0:e.type)==="page"?Gt(t):((n=t.button.pageData)==null?void 0:n.type)==="link"?qa(t):((o=t.button.pageData)==null?void 0:o.type)==="confirm"?Ia(t):(s=t.button.pageData)!=null&&s.modal?Ha(t):Gt(t)},Va=()=>{var o;const t=_e(),e=(t==null?void 0:t.routerRecords)??[],n=[];for(const s of e){const a=`${(o=s.meta)==null?void 0:o.moduleName}${s.path}`;n.push(a)}return n},an=t=>{const e=Va();return ee(t,e)},Na=D({__name:"right-button",props:{xGrid:null,vxeGridConfig:null,column:null,row:null,rightButtonList:null},setup(t){var c,i,_,v,C;const e=t,n=z(()=>h=>{var j,O,Y,ne,je,Ae,Ge;const w=((j=h.pageData)==null?void 0:j.api)??"";if(!an(w))return!1;const P=((Y=(O=h==null?void 0:h.pageData)==null?void 0:O.params)==null?void 0:Y.where)??"",S=(je=(ne=h==null?void 0:h.pageData)==null?void 0:ne.params)==null?void 0:je.field,E=(Ge=(Ae=h==null?void 0:h.pageData)==null?void 0:Ae.params)==null?void 0:Ge.value;if(S===void 0&&E===void 0)return!0;if(S===void 0||S===""||S&&(E===void 0||E===""))return!1;const B=e.row[S];switch(P){case"!=":return E!==B;case"in":return E instanceof Array&&ee(B,E);case"notIn":return E instanceof Array&&!ee(B,E);default:return E===B}}),o=()=>{const h=e.rightButtonList,w=[];return h.forEach(P=>{var E;const S={label:P.title,key:P.field};(E=P.button)!=null&&E.icon&&(S.icon=()=>{var B;return J(G,{icon:(B=P.button)==null?void 0:B.icon})}),w.push(S)}),w},s=h=>{const{notification:w}=U(),S=e.rightButtonList.find(E=>E.field===h);if(!S){w==null||w.error({title:"按钮数据错误",duration:1500});return}lt({xGrid:e.xGrid,button:S,row:e.row,column:e.column,vxeGridConfig:e.vxeGridConfig})},a=x(((c=e.column.params)==null?void 0:c.group)??!1),r=x(((i=e.column.params)==null?void 0:i.trigger)??"click"),u=x(((_=e.column.params)==null?void 0:_.icon)??"MenuOutlined"),d=x(((v=e.column.params)==null?void 0:v.group_text)??"更多"),f={type:"success",size:"small"},m=x(((C=e.column.params)==null?void 0:C.group_style)??f),p=z(()=>o());return(h,w)=>{const P=G,S=ke,E=mt,B=ue;return g(),b("div",null,[l(a)?(g(),$(E,{key:0,trigger:l(r),options:l(p),onSelect:s},{default:k(()=>[y(S,H(q(l(m))),{icon:k(()=>[y(P,{icon:l(u)},null,8,["icon"])]),default:k(()=>[F(A(l(d))+" ",1)]),_:1},16)]),_:1},8,["trigger","options"])):(g(),$(B,{key:1,align:"center",wrap:!1},{default:k(()=>[(g(!0),b(M,null,oe(t.rightButtonList,(j,O)=>(g(),b(M,null,[l(n)(j)?(g(),$(S,Z({key:O},(j==null?void 0:j.button)??{},{onClick:Y=>l(lt)({xGrid:t.xGrid,button:j,row:t.row,column:t.column,vxeGridConfig:t.vxeGridConfig})}),{icon:k(()=>{var Y,ne;return[(Y=j==null?void 0:j.button)!=null&&Y.icon?(g(),$(G,{key:0,icon:(ne=j==null?void 0:j.button)==null?void 0:ne.icon},null,8,["icon"])):T("",!0)]}),default:k(()=>[F(" "+A(j.title),1)]),_:2},1040,["onClick"])):T("",!0)],64))),256))]),_:1}))])}}}),Ma={class:"flex space-x-3"},La=D({__name:"top-button",props:{xGrid:null,column:null,topButtonList:null,vxeGridConfig:null},setup(t){const e=re(),n=z(()=>o=>{var a;const s=((a=o.pageData)==null?void 0:a.api)??"";return!!an(s)});return(o,s)=>{var u;const a=ke,r=ue;return g(),b("div",Ma,[(u=l(e).query)!=null&&u.isBack?(g(),$(a,{key:0,type:"warning",onClick:l(Ne)},{default:k(()=>[F(" 返回 ")]),_:1},8,["onClick"])):T("",!0),y(r,{align:"center"},{default:k(()=>[(g(!0),b(M,null,oe(t.topButtonList,(d,f)=>(g(),b("div",{key:f},[l(n)(d)?(g(),$(a,Z({key:0},(d==null?void 0:d.button)??{},{onClick:m=>l(lt)({button:d,xGrid:t.xGrid,vxeGridConfig:t.vxeGridConfig})}),{icon:k(()=>{var m,p;return[(m=d==null?void 0:d.button)!=null&&m.icon?(g(),$(G,{key:0,icon:(p=d==null?void 0:d.button)==null?void 0:p.icon},null,8,["icon"])):T("",!0)]}),default:k(()=>[F(" "+A(d.title),1)]),_:2},1040,["onClick"])):T("",!0)]))),128))]),_:1})])}}}),Wa=async(t,e,n)=>{const{notification:o}=U(),s={method:e??"GET",params:{},data:{}};return s.method==="GET"?s.params={...n}:s.data={...n},await L(t,s).then(a=>{o==null||o.success({title:(a==null?void 0:a.msg)??"操作成功",duration:1500})})},Ja=(t,e,n)=>{const{dialog:o}=U();o==null||o.create({...(e==null?void 0:e.message)??{},maskClosable:!1,onPositiveClick:()=>{var u,d;const s=((u=e.pageData)==null?void 0:u.api)??"",a=((d=e.pageData)==null?void 0:d.method)??"GET",r={...K.currentRoute.value.query,...n};Wa(s,a,r).then(()=>{t==null||t.commitProxy("query")})}})},Ve=x({submitBtn:{},resetBtn:{}}),xe=x({hanldSubmit:()=>{},hanldReset:()=>{}}),De=x({setDisabled:()=>{}}),Le=x(),Ka=(t,e,n)=>{var a;const{dialog:o}=U(),s={api:((a=e==null?void 0:e.pageData)==null?void 0:a.api)??"",method:e.pageData.method??"GET",ajaxParams:n,"onUpdate:init":r=>{var u,d;xe.value.hanldSubmit=(u=r==null?void 0:r.exposed)==null?void 0:u.hanldSubmit,xe.value.hanldReset=(d=r==null?void 0:r.exposed)==null?void 0:d.hanldReset,Ve.value.submitBtn=r==null?void 0:r.response.extraConfig.submitBtn,Ve.value.resetBtn=r==null?void 0:r.response.extraConfig.resetBtn},"onUpdate:success":()=>{var r;De.value.setDisabled(!1),(r=Le.value)!=null&&r.destroy&&Le.value.destroy()},"onUpdate:rest":()=>{De.value.setDisabled(!1)},"onUpdate:error":()=>{De.value.setDisabled(!1)}};o==null||o.create({...(e==null?void 0:e.message)??{},class:"pro-admin-dialog",content:()=>J(Qe,{...s}),onAfterLeave:()=>{t==null||t.commitProxy("query")},action:()=>J(de,{extraConfig:Ve.value,"onUpdate:init":r=>{var u;De.value.setDisabled=(u=r==null?void 0:r.exposed)==null?void 0:u.setDisabled},"onUpdate:submit":()=>{xe.value.hanldSubmit()},"onUpdate:rest":()=>{xe.value.hanldReset()}})})},Qa=(t,e,n)=>{var a;const{dialog:o}=U(),s={file:((a=e==null?void 0:e.pageData)==null?void 0:a.path)??"",modal:(e==null?void 0:e.pageData.modal)??!1,ajaxParams:n,"onUpdate:closeWin":()=>{var r;(r=Le.value)!=null&&r.destroy&&Le.value.destroy()}};o==null||o.create({...(e==null?void 0:e.message)??{},class:"pro-admin-dialog",content:()=>J(ce,{...s}),onAfterLeave:()=>{t==null||t.commitProxy("query")},action:()=>J(de,{extraConfig:Ve.value,"onUpdate:init":r=>{var u;De.value.setDisabled=(u=r==null?void 0:r.exposed)==null?void 0:u.setDisabled},"onUpdate:submit":()=>{xe.value.hanldSubmit()},"onUpdate:rest":()=>{xe.value.hanldReset()}})})},Za={class:"action-buttons"},Ya=D({__name:"pagination",props:{xGrid:null,vxeGridConfig:null,selectButtonList:null},setup(t){const e=t,{notification:n}=U(),o=z(()=>e.xGrid.reactData.tablePage.currentPage),s=z(()=>e.xGrid.reactData.tablePage.pageSize),a=z(()=>e.xGrid.reactData.tablePage.total),r=d=>{var i,_,v,C,h,w;const f=((i=e.xGrid)==null?void 0:i.getCheckboxRecords())??[];if(f.length<=0){n==null||n.error({title:"请选择数据",duration:2e3});return}const m=((v=(_=e.vxeGridConfig)==null?void 0:_.rowConfig)==null?void 0:v.keyField)??"id",p=f.map(P=>P[m]),c={[m]:p};((C=d.pageData)==null?void 0:C.type)==="confirm"&&Ja(e.xGrid,d,c),((h=d.pageData)==null?void 0:h.type)==="form"&&Ka(e.xGrid,d,c),((w=d.pageData)==null?void 0:w.type)==="remote"&&Qa(e.xGrid,d,c)},u=({type:d,currentPage:f,pageSize:m,$pager:p})=>{e.xGrid.reactData.tablePage.currentPage=f,e.xGrid.reactData.tablePage.pageSize=m,e.xGrid.commitProxy("query")};return(d,f)=>{const m=ke,p=Ce("vxe-pager");return g(),$(p,{"current-page":l(o),"page-size":l(s),total:l(a),layouts:["PrevJump","PrevPage","JumpNumber","NextPage","NextJump","Sizes","FullJump","Total"],perfect:"",onPageChange:u},{left:k(()=>[R("div",Za,[(g(!0),b(M,null,oe(t.selectButtonList,(c,i)=>(g(),$(m,Z({key:i},(c==null?void 0:c.button)??{},{size:"small",onClick:_=>r(c)}),{default:k(()=>[F(A(c==null?void 0:c.title),1)]),_:2},1040,["onClick"]))),128))])]),_:1},8,["current-page","page-size","total"])}}});const Xa=Q(Ya,[["__scopeId","data-v-3b2d70a1"]]),es=D({__name:"form-remote",props:{vxeGridConfig:null,xGrid:null},setup(t){return(e,n)=>{var o;return g(),$(l(ce),{file:(o=t.vxeGridConfig.screenRemote)==null?void 0:o.file},null,8,["file"])}}}),sn=D({__name:"index",props:{api:null,method:{default:"GET"},ajaxParams:{default:{}}},setup(t){const e=t,{xGrid:n,vxeGridConfig:o,tabsConfig:s,rightButtonList:a,selectButtonList:r,topButtonList:u,hanldEditClose:d}=ma(e);return(f,m)=>{var c,i,_;const p=Ce("vxe-grid");return(c=l(o))!=null&&c.id?(g(),$(p,Z({key:0,ref_key:"xGrid",ref:n},l(o),{class:"p-4",onEditClosed:l(d)}),Hn({assets:k(({row:v,column:C,$grid:h})=>[y(l(ba),H(q({vxeGridConfig:l(o),row:v,column:C,xGrid:h})),null,16)]),money:k(({row:v,column:C,$grid:h})=>[y(l(Sa),H(q({vxeGridConfig:l(o),row:v,column:C,xGrid:h})),null,16)]),image:k(({row:v,column:C,$grid:h})=>[y(l(_a),H(q({vxeGridConfig:l(o),row:v,column:C,xGrid:h})),null,16)]),images:k(({row:v,column:C,$grid:h})=>[y(l(va),H(q({vxeGridConfig:l(o),row:v,column:C,xGrid:h})),null,16)]),icons:k(({row:v,column:C,$grid:h})=>[y(l(ha),H(q({vxeGridConfig:l(o),row:v,column:C,xGrid:h})),null,16)]),switch:k(({row:v,column:C,$grid:h})=>[y(l($a),H(q({vxeGridConfig:l(o),row:v,column:C,xGrid:h})),null,16)]),input:k(({row:v,column:C,$grid:h})=>[y(l(Da),H(q({vxeGridConfig:l(o),row:v,column:C,xGrid:h})),null,16)]),select:k(({row:v,column:C,$grid:h})=>[y(l(Ra),H(q({vxeGridConfig:l(o),row:v,column:C,xGrid:h})),null,16)]),tags:k(({row:v,column:C,$grid:h})=>[y(l(Ga),H(q({vxeGridConfig:l(o),row:v,column:C,xGrid:h})),null,16)]),remote:k(({row:v,column:C,$grid:h})=>[y(l(za),H(q({vxeGridConfig:l(o),row:v,column:C,xGrid:h})),null,16)]),topButtonList:k(({column:v,$grid:C})=>[y(l(La),H(q({vxeGridConfig:l(o),topButtonList:l(u),column:v,xGrid:C})),null,16)]),top:k(({$grid:v})=>[y(l(Aa),H(q({vxeGridConfig:l(o),tabsConfig:l(s),xGrid:v})),null,16)]),rightButtonList:k(({row:v,column:C,$grid:h})=>[y(l(Na),H(q({vxeGridConfig:l(o),rightButtonList:l(a),row:v,column:C,xGrid:h})),null,16)]),pager:k(({$grid:v})=>[y(l(Xa),H(q({xGrid:v,vxeGridConfig:l(o),selectButtonList:l(r)})),null,16)]),_:2},[(_=(i=l(o))==null?void 0:i.screenRemote)!=null&&_.file?{name:"form",fn:k(({$grid:v})=>[y(l(es),H(q({vxeGridConfig:l(o),xGrid:v})),null,16)]),key:"0"}:void 0]),1040,["onEditClosed"])):T("",!0)}}}),ts=D({__name:"index",setup(t){const e=he();return(n,o)=>(g(),$(l(ce),H(q(l(e))),null,16))}}),N=(t,e)=>{const n=new Event(t);e&&(n.dataFul=e),window.dispatchEvent(n)},ln=(t,e)=>new Promise(n=>{const{dialog:o}=U(),{notification:s}=U();o==null||o.warning({title:"温馨提示",content:"是否确认删除该数据？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{Ke(t,{id:e}).then(async r=>{n(r),s==null||s.success({title:(r==null?void 0:r.msg)??"操作成功",duration:1500})})}})}),rt=(t,e,n,o)=>new Promise(s=>{const{dialog:a}=U(),r=x(),u=x({hanldSubmit:()=>{},hanldReset:()=>{}}),d=x({submitBtn:{type:"success",content:"确定",show:!0},resetBtn:{type:"warning",content:"取消",show:!0}}),f={title:t,class:"pro-admin-dialog",style:{width:"45%"},showIcon:!1,maskClosable:!1,content:()=>J(Qe,{api:e,method:n,isModal:!0,ajaxParams:o??{},"onUpdate:init":m=>{var p,c;u.value.hanldSubmit=(p=m==null?void 0:m.exposed)==null?void 0:p.hanldSubmit,u.value.hanldReset=(c=m==null?void 0:m.exposed)==null?void 0:c.hanldReset},"onUpdate:success":m=>{var p;s(m),(p=r.value)==null||p.destroy()}}),action:()=>J(de,{extraConfig:d.value,"onUpdate:submit":()=>{u.value.hanldSubmit()},"onUpdate:rest":()=>{var m;(m=r.value)==null||m.destroy()}})};r.value=a==null?void 0:a.create(f)}),ns=()=>{const t=te();return{getCategory:async()=>{var f;const u=((f=te().site)==null?void 0:f.uploadify_cate.index)??"",{data:d}=await be(u);return d},hanldClickCate:async(r,u)=>{r!==u&&(N("uploadify:cateActive",{active:u}),N("uploadify:files",{cid:u}))},hanldAddCate:()=>{var u;const r=((u=t.site)==null?void 0:u.uploadify_cate.add)??"";rt("添加分类",r,"GET",{}).then(async()=>{N("uploadify:category"),N("uploadify:files")})},hanldEditCate:r=>{var d;const u=((d=t.site)==null?void 0:d.uploadify_cate.edit)??"";rt("添加分类",u,"GET",{id:r}).then(async()=>{N("uploadify:category"),N("uploadify:files")})},hanldDelCate:r=>{var d;const u=((d=t.site)==null?void 0:d.uploadify_cate.del)??"";ln(u,r).then(async()=>{N("uploadify:category"),N("uploadify:files")})}}},os=()=>{const t=te(),{notification:e,dialog:n}=U();return{getUploadifyList:async p=>{var _;const c=((_=t.site)==null?void 0:_.uploadify_api.index)??"",{data:i}=await be(c,p);return i},hanldEditFile:p=>{var i;const c=((i=t.site)==null?void 0:i.uploadify_api.edit)??"";rt("修改附件",c,"GET",{id:p}).then(async()=>{N("uploadify:files")})},hanldDelFile:p=>{var i;const c=((i=t.site)==null?void 0:i.uploadify_api.del)??"";ln(c,p).then(async()=>{N("uploadify:files")})},hanldDelsFile:p=>{if(!(p!=null&&p.length)){e==null||e.error({title:"请勾选需要删除的附件",duration:1500});return}n==null||n.warning({title:"温馨提示",content:"是否确认删除选中的数据？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{var i;const c=((i=t.site)==null?void 0:i.uploadify_api.del)??"";p.forEach(_=>{Ke(c,{id:_}).then(C=>{N("uploadify:files"),e==null||e.success({title:(C==null?void 0:C.msg)??"操作完成",duration:1500})})}),N("uploadify:clearCheckbox")}})},hanldMoveFile:(p,c)=>{var v;if(!(c!=null&&c.length)){e==null||e.error({title:"请勾选需要移动的附件",duration:1500});return}const i=((v=t.site)==null?void 0:v.uploadify_api.move)??"";Ct(i,{cate_id:p,ids:c}).then(C=>{N("uploadify:files"),N("uploadify:clearSelected"),N("uploadify:clearCheckbox"),e==null||e.success({title:(C==null?void 0:C.msg)??"操作完成",duration:1500})})},hanldSelected:(p,c,i)=>{if(i===1){c[0]=p;return}if(!(c!=null&&c.length)){c==null||c.push(p);return}if(!(c!=null&&c.find(_=>_===p)))c==null||c.push(p);else for(let _=0;_<c.length;_++)if(c[_]===p){c.splice(_,1);break}},hanldCheckBox:(p,c)=>{if(!(p!=null&&p.length)){p==null||p.push(c);return}if(!(p!=null&&p.find(i=>i===c)))p==null||p.push(c);else for(let i=0;i<p.length;i++)if(p[i]===c){p.splice(i,1);break}},uploadFinish:p=>{var i,_;const c=(_=(i=p==null?void 0:p.event)==null?void 0:i.target)!=null&&_.response?JSON.parse(p.event.target.response):{msg:"上传结束",code:404};c.code===200?(N("uploadify:cateActive",{active:""}),N("uploadify:files"),e==null||e.success({title:c.msg??"上传完成",duration:1500})):e==null||e.error({title:c.msg??"上传失败",duration:1500})}}},as=()=>({handlePageChange:e=>{const n={page:e.currentPage,limit:e.pageSize};N("uploadify:paginator",n)}}),bt=t=>(Ln("data-v-8afbe171"),t=t(),Wn(),t),ss={class:"h-550px flex border-solid border-t-1 mt-15px"},ls={class:"w-150px h-100% border-solid border-r-1 overflow-y-auto overflow-x-hidden"},rs={class:"text-12px flex"},cs=bt(()=>R("span",{class:"pl-1"},"全部分类",-1)),is=["title","onClick","onDblclick"],us={class:"text-12px flex"},ds={class:"pl-1 truncate"},ps={class:"h-100% flex-1 flex flex-col"},fs={class:"flex justify-between items-center h-55px px-5"},ms=bt(()=>R("div",{class:"text-12px text-dark"},null,-1)),hs={class:"flex-1 overflow-y-auto overflow-x-hidden border-solid border-t-1 p-3"},_s={class:"w-100% h-120px"},gs=bt(()=>R("div",{class:"w-100% h-100% flex items-center justify-center bg-gray select-none"}," 图片加载失败 ",-1)),vs={class:"absolute bottom-39px left-0 right-0 text-center py-3px text-white bg-[rgba(0,0,0,0.5)] text-12px truncate"},ys={class:"flex justify-between p-2"},xs={class:"flex space-x-2"},ws={class:"h-55px flex items-center justify-center border-solid border-t-1"},Cs=D({__name:"uploadify",props:{modelValue:null,format:null,limit:{default:1}},emits:["update:init"],setup(t,{expose:e,emit:n}){var Et;const o=t,{notification:s}=U(),a=Ue(),r=Te(),u=te(),d=x(""),f=x([]),m=x([]),p=x([]),c=x([]),i=x([]),_=x({currentPage:1,pageSize:20,total:0,background:!0}),v=Je(),{getCategory:C,hanldClickCate:h,hanldAddCate:w,hanldEditCate:P,hanldDelCate:S}=ns(),{getUploadifyList:E,hanldEditFile:B,hanldMoveFile:j,hanldDelFile:O,hanldDelsFile:Y,hanldSelected:ne,hanldCheckBox:je,uploadFinish:Ae}=os(),{handlePageChange:Ge}=as(),fn={[yt]:a.value??"",[xt]:r.value??""};let Dt="";Dt=`//${location.host}/${(Et=u.site)==null?void 0:Et.uploadify_api.upload}`;const Rt=x({action:Dt,headers:fn,data:{cid:d.value},showFileList:!1,multiple:!0,onFinish:I=>Ae({...I})}),mn=()=>{if(!m.value.length)return s==null||s.error({title:"请选择附件再确定",duration:1500}),[];if(m.value.length>o.limit)return s==null||s.error({title:`最多选择${o.limit}个附件`,duration:1500}),[];const I=[];for(let V=0;V<i.value.length;V++){const X=i.value[V];ee(X.id,m.value)&&I.push(X.url)}return I};return window.addEventListener("uploadify:cateActive",I=>{const{active:V}=I.dataFul;d.value=V,Rt.value.data={cid:V}}),window.addEventListener("uploadify:category",async I=>{const V=await C();c.value=V,V.forEach(X=>{p.value.push({label:`移动至 -- ${X==null?void 0:X.title}`,key:X==null?void 0:X.id})})}),window.addEventListener("uploadify:selected",I=>{I.dataFul}),window.addEventListener("uploadify:clearSelected",I=>{m.value=[]}),window.addEventListener("uploadify:clearCheckbox",I=>{f.value=[]}),window.addEventListener("uploadify:files",async I=>{var ze,Fe,Ie;const V=(ze=I==null?void 0:I.dataFul)==null?void 0:ze.cid,X=(Fe=I==null?void 0:I.dataFul)==null?void 0:Fe.page,pe=(Ie=I==null?void 0:I.dataFul)==null?void 0:Ie.limit,ie=await E({cid:V,page:X,limit:pe});i.value=(ie==null?void 0:ie.data)??[],_.value.currentPage=ie.current_page,_.value.pageSize=ie.per_page,_.value.total=ie.total}),window.addEventListener("uploadify:paginator",I=>{const{page:V,limit:X}=I.dataFul;_.value.currentPage=V,_.value.pageSize=X;const pe={cid:d.value,page:V,limit:X};N("uploadify:files",pe)}),dt(async()=>{N("uploadify:category"),N("uploadify:files"),n("update:init",{exposed:v.exposed})}),e({hanldConfirmSelect:mn}),(I,V)=>{const X=Qt,pe=ke,Ut=qn,ie=mt,ze=ue,Fe=Re,Ie=Vn,hn=Nn,_n=Mn,gn=Ce("vxe-pager");return g(),b("div",ss,[R("div",ls,[y(X,null,{default:k(()=>[F(" 附件分类 ")]),_:1}),R("div",{class:se(["px-10px flex justify-between cursor-pointer hover:bg-[#e5e5e5] py-15px select-none",{"bg-[#e5e5e5]":l(d)===""}]),onClick:V[0]||(V[0]=W=>l(h)(l(d),""))},[R("div",rs,[y(G,{icon:"AppstoreOutlined",color:"#666"}),cs]),y(G,{icon:"FolderAddOutlined",color:"#888",onClick:l(w)},null,8,["onClick"])],2),(g(!0),b(M,null,oe(l(c),(W,Ye)=>(g(),b("div",{key:Ye,title:W.title,class:se(["px-10px flex justify-between cursor-pointer hover:bg-[#e5e5e5] py-15px select-none",{"bg-[#e5e5e5]":l(d)===W.id}]),onClick:ge=>l(h)(l(d),W.id),onDblclick:ge=>l(P)(W.id)},[R("div",us,[y(G,{icon:"FolderOpenTwotone",color:"#666"}),R("span",ds,A(W.title),1)]),y(G,{icon:"DeleteFilled",color:"#666",onClick:ge=>l(S)(W.id)},null,8,["onClick"])],42,is))),128))]),R("div",ps,[R("div",fs,[ms,y(ze,{align:"center"},{default:k(()=>[R("div",null,[y(Ut,H(q(l(Rt))),{default:k(()=>[y(pe,{type:"success"},{icon:k(()=>[y(G,{icon:"UploadOutlined"})]),default:k(()=>[F(" 上传 ")]),_:1})]),_:1},16)]),R("div",null,[y(ie,{trigger:"hover",options:l(p),onSelect:V[1]||(V[1]=W=>l(j)(W,l(f)))},{default:k(()=>[y(pe,{type:"warning"},{icon:k(()=>[y(G,{icon:"RotateLeftOutlined"})]),default:k(()=>[F(" 移动 ")]),_:1})]),_:1},8,["options"])]),R("div",null,[y(pe,{type:"error",onClick:V[2]||(V[2]=W=>l(Y)(l(f)))},{icon:k(()=>[y(G,{icon:"RestFilled"})]),default:k(()=>[F(" 删除 ")]),_:1})])]),_:1})]),R("div",hs,[y(_n,{cols:5,"y-gap":10,"x-gap":12},{default:k(()=>[(g(!0),b(M,null,oe(l(i),(W,Ye)=>(g(),$(hn,{key:Ye},{default:k(()=>[R("div",{class:se(["relative border-solid border-1",l(ee)(W.id,l(m)??[])?"border-red":"border-gray"])},[R("div",_s,[y(Fe,{class:"w-100% h-100% cursor-pointer !block",src:W.url,"preview-disabled":!0,onClick:ge=>l(ne)(W.id,l(m),o.limit)},{placeholder:k(()=>[gs]),_:2},1032,["src","onClick"])]),R("div",vs,A(W.title),1),R("div",ys,[R("div",null,[y(Ie,{checked:l(ee)(W.id,l(f)),value:W.id,onClick:ge=>l(je)(l(f),W.id)},null,8,["checked","value","onClick"])]),R("div",xs,[y(G,{icon:"EditOutlined",class:"cursor-pointer",color:"#555",title:"修改",size:20,onClick:ge=>l(B)(W.id)},null,8,["onClick"]),y(G,{icon:"DeleteOutlined",class:"cursor-pointer",color:"#555",title:"删除",size:20,onClick:ge=>l(O)(W.id)},null,8,["onClick"])])])],2)]),_:2},1024))),128))]),_:1})]),R("div",ws,[y(gn,Z(l(_),{layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"],onPageChange:l(Ge)}),null,16,["onPageChange"])])])])}}});const ks=Q(Cs,[["__scopeId","data-v-8afbe171"]]),Ps={class:"absolute top-0 right-0 w-15px h-15px rounded-3px bg-[rgba(0,0,0,.45)] text-12px cursor-pointer select-none flex items-center justify-center"},bs=D({__name:"index",props:{modelValue:null,format:null,limit:{default:1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,{dialog:o}=U(),s=x(),a=x(),r=x({submitBtn:{type:"success",content:"确定",show:!0},resetBtn:{type:"warning",content:"关闭",show:!0}}),u=f=>{const m=[...n.modelValue];m.splice(f,1),e("update:modelValue",m)},d=()=>{a.value=o==null?void 0:o.create({title:"附件管理器",class:"pro-admin-dialog",style:{width:"45%"},showIcon:!1,maskClosable:!1,content:()=>J(ks,{...n,"onUpdate:init":f=>{s.value=f.exposed}}),action:()=>J(de,{extraConfig:r.value,"onUpdate:submit":()=>{var m;const f=s.value.hanldConfirmSelect();f.length&&(e("update:modelValue",f),(m=a.value)==null||m.destroy())},"onUpdate:rest":()=>{var f;(f=a.value)==null||f.destroy()}})})};return Zt(()=>{typeof n.modelValue=="string"&&e("update:modelValue",n.modelValue===""?[]:[n.modelValue])}),(f,m)=>{const p=Re,c=ue;return t.modelValue instanceof Array?(g(),$(c,{key:0},{default:k(()=>[(g(!0),b(M,null,oe(t.modelValue,(i,_)=>(g(),b("div",{key:_,class:"flex items-center justify-center w-35px h-35px relative cursor-pointer border-1 border-solid rounded-3px bg-[#f5f5f5] border-[#888]"},[y(p,{src:i},null,8,["src"]),R("div",Ps,[y(G,{icon:"DeleteFilled",size:14,color:"#fff",onClick:v=>u(_)},null,8,["onClick"])])]))),128)),R("div",{class:"flex items-center justify-center w-35px h-35px relative cursor-pointer border-1 border-solid rounded-3px bg-[#f5f5f5] border-[#888]",onClick:d},[y(G,{icon:"FolderOpenOutlined",size:20,color:"#555"})])]),_:1})):T("",!0)}}}),Ss=D({__name:"index",props:{modelValue:null,style:{default:{}}},setup(t){return(e,n)=>(g(),b("div",H(q(t.style)),A(t.modelValue),17))}}),$s={javascript:Jn,php:Kn,python:Qn,java:Zn,css:Yn,xml:Xn},Ds=t=>(jt.registerLanguage(t,$s[t]),jt),Rs={class:"w-100%"},Es=["innerHTML"],Us=D({__name:"index",props:{modelValue:null,language:{default:"javascript"},showLineNumbers:{type:Boolean}},setup(t){const e=t,n=Ds(e.language),o=x("");return Zt(()=>{o.value=n.highlight(e.modelValue,{language:e.language}).value}),(s,a)=>(g(),b("div",Rs,[R("pre",null,[F("    "),R("code",{class:"hljs",innerHTML:l(o)},null,8,Es),F(`
    `)])]))}});const Ts=Q(Us,[["__scopeId","data-v-8be2469c"]]),Bs=["innerHTML"],js=D({__name:"index",props:{text:null,icon:{default:""},style:{default:{color:"#666",padding:"5px 0 0 0",fontSize:"12px"}},iconSize:{default:16}},setup(t){return(e,n)=>{const o=G;return g(),b("div",{class:"form-prompt",style:Nt(t.style)},[t.icon?(g(),$(o,{key:0,icon:t.icon,size:t.iconSize},null,8,["icon","size"])):T("",!0),R("span",{class:"text",innerHTML:t.text},null,8,Bs)],4)}}});const As=Q(js,[["__scopeId","data-v-76a40fc1"]]),Gs={class:"editor-container"},zs=D({__name:"wang-editor",props:{modelValue:null,toolbarConfig:null,editorConfig:null,editHeight:{default:300}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t;me(d=>({e829e538:l(u)}));const o=eo(),s=x(n.modelValue);to(()=>{const d=o.value;d!=null&&d.destroy()});const a=d=>{o.value=d},r=d=>{const f=d.getHtml();e("update:modelValue",f)},u=z(()=>`${n.editHeight}px`);return(d,f)=>(g(),b("div",Gs,[y(l(no),Z({class:"toolbar",editor:l(o)},t.toolbarConfig),null,16,["editor"]),y(l(oo),{modelValue:l(s),"onUpdate:modelValue":f[0]||(f[0]=m=>we(s)?s.value=m:null),"default-config":t.editorConfig,class:"editor-content",onOnCreated:a,onOnChange:r},null,8,["modelValue","default-config"])]))}});const Fs=Q(zs,[["__scopeId","data-v-2fc4a811"]]),Is={};function Os(t,e){return g(),b("div",null," tinymce正在等待集成中... ")}const Hs=Q(Is,[["render",Os]]),We={amap:Oo,bmap:Vo,icons:Ko,qmap:Yo,remote:ts,uploadify:bs,info:Ss,HCode:Ts,PromptTip:As,wangEditor:Fs,tinymceEditor:Hs};function qs(t){Object.keys(We).forEach(e=>{t.component(e,We[e])})}const Vs=(t,e)=>{const n=x((t==null?void 0:t.file)??""),o=x(),s=x(""),a=x(""),r=x(Xe()),u=()=>{if(!n.value){s.value="config";return}s.value="loading";const h=Date.now(),w=`${n.value}.vue?t=${h}`;be(w).then(P=>{a.value=P,s.value="success",e("update:init",P)}).catch(P=>{console.error(P),s.value="fail",e("update:error",P)})};u();const d=(h,w="el-icon-warning",P="font-size:26px;color:red;")=>({template:`
        <div class="remote-loading">
            <div class="${w}" style="${P}"></div>
            <div class="mt-5px">${h}</div>
        </div>
        `}),f=(h,w)=>{ao.render(h).then(P=>{const S=document.createElement("style");if(S.setAttribute("type","text/css"),S.setAttribute("id",`css${w}`),S.styleSheet)S.styleSheet.cssText=P.css;else{const B=document.createTextNode(P.css);S.appendChild(B)}const E=document.getElementsByTagName("head");E.length?E[0].appendChild(S):document.documentElement.appendChild(S)})},m=h=>({templates:h.match(/<template>([\s\S]*)<\/template>/)[1],sctipts:h.match(/<script.*>([\s\S]*)<\/script>/)[1],styles:h.match(/<style.*>([\s\S]*)<\/style>/)[1],stylesHasScoped:h.match(/<style.*scoped>([\s\S]*)<\/style>/)!==null}),p=()=>{const h=Pt.vue,{notification:w,message:P,dialog:S,loadingBar:E}=U(),B=ft(),j=re(),O=_e(),Y=te();h.config.globalProperties.$userApp=O,h.config.globalProperties.$siteApp=Y,h.config.globalProperties.$routeApp=j,h.config.globalProperties.$routerApp=B,h.config.globalProperties.$http=Do,h.config.globalProperties.$echarts=so,h.component("AppIcons")===void 0&&h.component("AppIcons",G),Object.keys(We).forEach(ne=>{h.component(ne)===void 0&&h.component(ne,We[ne])}),Jt.install(h),h.config.globalProperties.$useNotification=w,h.config.globalProperties.$useMessage=P,h.config.globalProperties.$useDialog=S,h.config.globalProperties.$useLoadingBar=E},c=(h,w,P)=>{const S=m(w),E=S.sctipts.indexOf("{"),B=S.sctipts.lastIndexOf("}"),j=S.sctipts.slice(E,B+1),O=new Function(`return ${j}`)();if(!O)return d("远程组件代码格式解析失败");if(O.template=S==null?void 0:S.templates,h.setAttribute("class",`remote css${P}`),!document.querySelector(`style[id=css${P}]`)){let Y="";S.stylesHasScoped?Y=`
            .css${P}{
                ${S.styles}
            }
        `:Y=S.styles,f(Y,P)}return p(),O},i=z(()=>s.value==="config"?d("请先配置远程文件"):s.value==="fail"?d("远程组件加载失败"):a.value?c(o.value,a.value,r.value):d("正在加载中..."));return{fileUrl:n,remoteRef:o,loadingStatus:s,componentFile:a,cssId:r,currentView:i,hanldWin:h=>{n.value=h,r.value=Xe(),u()},hanldReload:()=>{r.value=Xe(),u()},hanldClose:()=>{t!=null&&t.modal&&e("update:closeWin")}}},Ns=D({__name:"index",emits:["update:init","update:success","update:error","update:closeWin"],setup(t,{emit:e}){const n=he(),{remoteRef:o,loadingStatus:s,currentView:a,hanldClose:r,hanldReload:u,hanldWin:d}=Vs(n,e);return(f,m)=>(g(),b("div",{ref_key:"remoteRef",ref:o,class:"h-100%"},[l(s)==="success"?(g(),$(Se(l(a)),Z({key:0},l(n),{"onUpdate:openWin":l(d),"onUpdate:reloadWin":l(u),"onUpdate:closeWin":l(r)}),null,16,["onUpdate:openWin","onUpdate:reloadWin","onUpdate:closeWin"])):T("",!0)],512))}});const ce=Q(Ns,[["__scopeId","data-v-6270af91"]]),rn=D({__name:"header-left",setup(t){const n=te().site,o=n==null?void 0:n.public_api;return(s,a)=>{var r,u;return g(),b("div",null,[(r=l(o))!=null&&r.header_left_file?(g(),$(ce,{key:0,file:(u=l(o))==null?void 0:u.header_left_file},null,8,["file"])):T("",!0)])}}}),St=D({__name:"header-right",setup(t){const n=te().site,o=n==null?void 0:n.public_api.header_right_file;return(s,a)=>{const r=ue;return g(),$(r,{size:10,class:"h-100%"},{default:k(()=>[l(o)?(g(),$(ce,{key:0,file:l(o)??""},null,8,["file"])):T("",!0),y(l(Ys))]),_:1})}}}),Ms={class:"h-100% flex items-center"},Ls={class:"flex select-none cursor-pointer"},Ws={class:"flex flex-col justify-center pl-1 text-12px text-#555"},Js={class:"flex items-center pl-1"},Ks={class:"pl-1"},Qs={key:0,class:"flex items-center pl-1"},Zs={class:"pl-1"},Ys=D({__name:"user",setup(t){const e=_e(),n=te(),o=re(),{dialog:s,notification:a}=U(),r=x([{label:"修改资料",key:"profile",icon:()=>J(G,{icon:"EditTwotone"})},{label:"退出登录",key:"loginout",icon:()=>J(G,{icon:"ExportOutlined"})}]),u=new Map,d=x({submitBtn:{},resetBtn:{}}),f=x({hanldSubmit:()=>{},hanldReset:()=>{}}),m=x({setDisabled:()=>{}});u.set("profile",()=>{const c=s==null?void 0:s.create({title:"用户资料",showIcon:!1,maskClosable:!1,class:"pro-admin-dialog",style:{width:"45%"},content:()=>{var i,_;return J(Qe,{api:((_=(i=n.site)==null?void 0:i.public_api)==null?void 0:_.user_edit)??"",method:"GET",ajaxParams:{},"onUpdate:init":v=>{var C,h;f.value.hanldSubmit=(C=v==null?void 0:v.exposed)==null?void 0:C.hanldSubmit,f.value.hanldReset=(h=v==null?void 0:v.exposed)==null?void 0:h.hanldReset,d.value.submitBtn=v==null?void 0:v.response.extraConfig.submitBtn,d.value.resetBtn=v==null?void 0:v.response.extraConfig.resetBtn},"onUpdate:success":()=>{m.value.setDisabled(!1),c==null||c.destroy(),e.getUserInfo()},"onUpdate:error":()=>{m.value.setDisabled(!1)},"onUpdate:rest":()=>{m.value.setDisabled(!1)}})},action:()=>J(de,{extraConfig:d.value,"onUpdate:init":i=>{var _;m.value.setDisabled=(_=i==null?void 0:i.exposed)==null?void 0:_.setDisabled},"onUpdate:submit":()=>{var i;(i=f.value)==null||i.hanldSubmit()},"onUpdate:rest":()=>{var i;(i=f.value)==null||i.hanldReset()}})})}),u.set("loginout",()=>{s==null||s.warning({title:"温馨提示",content:"是否确认退出登录？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{jo().then(c=>{var C,h;const _=`/${Ee()}`,v=(C=n.site)!=null&&C.login_url?`${_}#/${(h=n.site)==null?void 0:h.login_url}`:_;e.setToken(""),a==null||a.success({title:(c==null?void 0:c.msg)??"操作成功",duration:1500}),setTimeout(()=>{window.location.href=`${v}?redirect=${o.fullPath}`},500)})}})});const p=c=>{const i=u.get(c);typeof i=="function"&&i()};return(c,i)=>{const _=lo,v=mt;return g(),b("div",Ms,[y(v,{options:l(r),onSelect:p},{default:k(()=>{var C,h,w,P,S;return[R("div",Ls,[y(_,{round:"",size:35,src:(C=l(e).userInfo)==null?void 0:C.headimg},null,8,["src"]),R("div",Ws,[R("div",Js,[y(G,{icon:"UserOutlined"}),R("span",Ks,A((h=l(e).userInfo)==null?void 0:h.nickname),1)]),(P=(w=l(e).userInfo)==null?void 0:w.role)!=null&&P.title?(g(),b("div",Qs,[y(G,{icon:"CodeSandboxOutlined"}),R("span",Zs,A((S=l(e).userInfo)==null?void 0:S.role.title),1)])):T("",!0)])])]}),_:1},8,["options"])])}}}),Xs=["href","target"],el=D({__name:"side-title",props:{MenuItem:null},setup(t){var m,p;const e=t,n=z(()=>{var c;return(c=e.MenuItem)==null?void 0:c.menuTitle}),o=x(e.MenuItem.ajaxParams?ko(e.MenuItem.ajaxParams):{}),s=z(()=>e.MenuItem.path??""),a=((p=(m=e.MenuItem)==null?void 0:m.children)==null?void 0:p.find(c=>(c==null?void 0:c.show)===!0&&(c==null?void 0:c.type)!=="group"))??!1,r=z(()=>{var c;return(c=s.value)==null?void 0:c.startsWith("http")}),u=z(()=>{var c;return((c=e.MenuItem)==null?void 0:c.target)??"_blank"}),d=Te(),f=x("");if(d.value){const c=Po({appid:d.value});o.value={...o.value,appid:d.value},f.value=`?${c}`}return(c,i)=>{const _=Ce("router-link");return l(a)?(g(),b(M,{key:0},[F(A(l(n)),1)],64)):l(r)?(g(),b("a",{key:1,href:`${l(s)}${l(f)}`,target:l(u)},A(l(n)),9,Xs)):l(s)?(g(),$(_,{key:2,to:{path:`/${l(s)}`,query:{...l(o)}},replace:!0},{default:k(()=>[F(A(l(n)),1)]),_:1},8,["to"])):(g(),b(M,{key:3},[F(A(l(n)),1)],64))}}}),zt="OUtzMas9edTHUH/JnNdjl4lHWYG9gISU6vl1DnlCzkumaS2EkD8OLhRzTMziPeF5AxwRwukfkvIVs2nzq7KWi2RxbtTzzLtOQMml5cLVHkQZs8dhEMLkXtyVFKOTAjsXTvU2NFMCfwUc8LhqIrDnbd11kU5oQoTcysWvQbk/P6wfBMd7p3TOZwWewFg+oz5qHfwhgtW2dXev4p+a9fknRNBKUgdBxStKVsImmh4SlXRfOlhgMhOoL6ycaOdbhz6LgvDynfuWIA7dngosFv6x9SXIW2WndIoztR/4A+9uYG6xxiuH7Por9QJjFVU/VzLytposud3gAQi7ba2gyN9I6g==e3dqJ6AL4KUa3qpU0WtHV215X5FP5e1CZeyTqT2ap9dEOIS8hp94xpVIod9MSyYorLrNVOo8OyocipT9zLZITtPJ5LNVczJcnzHrNi6goXzojZ7etvuGK0HRj8CygkIhZMb7PUF9lNodtoUJ8BOjKvvETpXXSnHmyhwyskBRtBZ3LwAbKNCNKPCDhDQgF/Zo8P0h+oUjCZ/3B2kvSxPhPS9OjPU583PqOlZZNf0/2TzC+JxCI2Du/87kDGUXS8Y7UKP2NzdlqT21VkOQnbsFHRGg3jfT/+uJu6M/qljnvGo6bp6nL0vpD0paZmKrSUGVE99FWkLYNRiWAKkttCDn2g==",Ft=`-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCz+Ny6Y+2LRQb5
d81sZgzExl3EwWHJnP/BDOqD90UxEYStdzVulGtykumcfUPW+Hugspq8waetBGb7
MEFcbl3y7cTmrK/4Uninmy5Nf4nsGQk+/5WvQE2pzlLfPH0ZgxWyFepNdIXc6+k/
loXCOLus0jUZoDnN1YJfDMtGi+VyYl1jbatu3TQohO15NRb4KZ1TUeWQbOSnpXDA
WA2x9qVJtgKn1sD3KlxPu9Lm01QqCiIrEHEBWWCJQesgwP98JS438kCRmZMQBEJV
urr4UsLH889TMFg5ySKoGFLs3NOwOKbf0wwSpl4t7kAqyKOhbd4IprPVih/E9We5
VvYn5+7JAgMBAAECggEAMGRcRaoU93vKEk5KaDlQeaC1GfC9sI6MnoYwkOduLXF+
cX46Wc+CzL4AHtn34dfStjUQMm0H/xfN8QDaslXi4S1Z4oTQlD7ovniVjLUciuV4
fP4Qa50oxN37npcPNErxDH+kDsukKvEsOLLqqHzEygWDza4tnNEqSxCPoBqBya2B
TZomn3559fCOxGbKn7+3wlF7kKqr1HCbgX04RGISksh/EA1KPZRxOIol3B4dtz+H
xG/aG5aAGGnsFhlk/V/UiCBpyNYyJjVidJE9r8sY+GrszIEzsCLePhSWwG0UoTTN
PRt1o+nMCTuF8VoCkWGI7K6S5J5mQKdsFSaLPbLj4QKBgQDuEkf17kRNxWd2zBE7
fLGeRoezjyTBxcn6zzaJ1jQXs/ROV08q/LxNdRRNJ3jPk3V9y9Ceh6tyGvitumDF
m2fsrb+yofXQ8gL8xKFXhJHhbPRVqNKfb0DIWIeLSmhDM4xvmK3E+EuDQCe+t+7d
KRhUzYVXtsfid2MOrCfCkTwR5QKBgQDBhn/cs78V6hheZt0JUpV+bL01qelEC+SV
qwprkxbp6HWkRLp0yQb18Khq1s0NtMAQXlM5BGCQR9i7syy5vGi80a/lsR1O8F3y
PSo1GFYX9MGhIUHp7pw/6ls4WgZQ4eDMW7w0mrJ8DPUXlw2q/kY4SCAAHbGqarBo
nc8cv4UrFQKBgDbF0fSM+v4BmspELPrIt3y4sWPoXQaP4OZpYhzYQWfqqRyVDcvQ
FeqkMyWFHVB0lqV4jOjMQe+gsPIXXUhZdtGHMAGDLbEC3RkWjCA8ieuZS6Whj8PK
rtbpN1Yeqlo7s+XA9MnKbmUmD37bhoMvfz+TgUgq71X1Lb8kcIldLLrZAoGAJR1/
fjt25WQNImXF9JjDFQkTzKv2kddaEp5IFFOUbG3pygRoYid/z0FFe6AQmZVV1I3S
ljfRsTomRfFaHZEV4Uix3HJ4dYBB9EhoxOAS+us1C4sOUigyDUwMDKWvWmnHrEnX
sZsNqh7uDoUo2OeFXhvvDzaisVVe2eGSLChLCPUCgYEAqIu/Ws/C2OceneO25l/3
2WxcN3UbVT6x8TkwFjYv9UWs0/Opqlnj8aFy4zgU76zIDRGjVyObv53Gwhaaim1z
TeIrGe7RcWmPjzsERGlb+qe7tvCiNNDTd6RK0ywIrcSUrkEaZepqUepGFgB/vq9T
v07JgHIyR8viVUUqohaz5hM=
-----END PRIVATE KEY-----`,tl=window.location.hostname,tt=(t,e)=>{const n=new ro;n.setPrivateKey(e);const o=t.match(/.{1,344}/g);if(!o)throw new Error("令牌表单解密失败");let s="";if(o==null||o.forEach(r=>{const u=n.decrypt(r);u&&(s+=u)}),!s)throw new Error("解密失败");const a=new TextDecoder().decode(Uint8Array.from(window.atob(s),r=>r.charCodeAt(0)));return JSON.parse(a)},nl=()=>{const e=te().site;if(e!=null&&e.empower_token&&e.empower_private_key)try{const n=tt(e.empower_token,e.empower_private_key);return n.systemUrl===tl?n:tt(zt,Ft)}catch(n){console.error("服务端授权失败",n)}try{return tt(zt,Ft)}catch(n){console.error("系统授权错误",n)}},cn=()=>{const e=te().site;return{version_name:e==null?void 0:e.version_name,version:e==null?void 0:e.version}},ol=["href"],al={key:1},sl=["href"],$t=D({__name:"index",setup(t){const{systemAbout:e,systemAboutUrl:n,systemName:o,systemUrl:s}=nl(),{version_name:a}=cn();return(r,u)=>(g(),b("div",null,[F(" copyright © 2023 "),l(n)!=="#"?(g(),b("a",{key:0,href:`http://${l(n)}`,target:"_blank",class:"hover:text-[#18a058] pl-10px"},A(l(e)),9,ol)):(g(),b("span",al,A(l(e)),1)),F(" All Rights Reserved "),R("a",{href:`http://${l(s)}`,target:"_blank",class:"hover:text-[#18a058] pl-10px"},A(l(o))+" "+A(l(a)),9,sl)]))}}),ll={class:"panel-menu"},rl={key:0,class:"panel-two"},cl={class:"panel-title"},il={key:0,class:"hp-icon"},ul={class:"title"},dl={class:"panel-list"},pl=D({__name:"panel",props:{active:null,options:null},setup(t){const e=t,n=o=>o.key===e.active?!0:o!=null&&o.children?!!o.children.find(s=>n(s)):!1;return(o,s)=>(g(),b("div",ll,[(g(!0),b(M,null,oe(t.options,(a,r)=>{var u;return g(),b(M,{key:r},[(u=a==null?void 0:a.children)!=null&&u.length&&a.type==="group"&&a.show?(g(),b("div",rl,[R("div",cl,[a!=null&&a.icon?(g(),b("div",il,[(g(),$(Se(a.icon)))])):T("",!0),R("div",ul,[(g(),$(Se(a.label)))])]),R("div",dl,[(g(!0),b(M,null,oe(a.children,(d,f)=>(g(),b(M,{key:f},[d.show?(g(),b("div",{key:0,class:se(["panel-item",{"panel-active":n(d)}])},[(g(),$(Se(d.label)))],2)):T("",!0)],64))),128))])])):a.show?(g(),b("div",{key:1,class:se(["item",{"is-active":n(a)}])},[(g(),$(Se(a.label)))],2)):T("",!0)],64)}),128))]))}});const fl=Q(pl,[["__scopeId","data-v-0811acd7"]]),ml={class:"pro-admin-mix-tabs overflow-x-auto flex"},hl={class:"pro-menu-mix-container"},_l=["onClick"],gl={class:"flex flex-col gap-[5px] justify-center items-center"},vl={key:0,class:"flex-1"},yl=D({__name:"index",setup(t){me(c=>({"5ea09e9a":l(p)}));const e=he(),n=ft(),o=Te(),s=(c,i)=>c.find(_=>_.key===i?_:s((_==null?void 0:_.children)??[],i)),a=x((e==null?void 0:e.value)??""),r=x(e.options??[]),u=x([s(r.value??[],a.value)]),d=z(()=>c=>!!s(c??[],a.value)),f=c=>{const i=c[0];return i&&(i==null?void 0:i.type)!=="group"&&(i!=null&&i.show)?i:f(i.children??[])},m=c=>{const i=f((c==null?void 0:c.children)??[]);let _={};typeof i.ajaxParams=="object"&&(_={...i.ajaxParams}),o.value&&(_={..._,appid:o.value}),a.value=String((i==null?void 0:i.key)??""),u.value=[c],n.push({path:`/${i==null?void 0:i.path}`,query:{..._}})};ut(()=>e.value,c=>{a.value=String(c)});const p=z(()=>`calc(100vh - ${e["header-height"]}px)`);return(c,i)=>{const _=Qt;return g(),b("div",ml,[R("div",hl,[(g(!0),b(M,null,oe(l(r),(v,C)=>(g(),b(M,{key:C},[v.show?(g(),b("div",{key:0,class:se(["item",{active:l(d)((v==null?void 0:v.children)??[])}]),onClick:h=>m(v)},[R("div",gl,[v.menuIcon?(g(),$(G,{key:0,icon:v.menuIcon,size:24},null,8,["icon"])):T("",!0),R("div",null,A(v.menuTitle),1)])],10,_l)):T("",!0)],64))),128))]),l(e).collapsed?T("",!0):(g(),b("div",vl,[(g(!0),b(M,null,oe(l(u),(v,C)=>(g(),b("div",{key:C},[y(_,{class:"m-0"},{default:k(()=>[F(A(v==null?void 0:v.menuTitle),1)]),_:2},1024),y(fl,{options:(v==null?void 0:v.children)??[],active:l(a)},null,8,["options","active"])]))),128))]))])}}});const xl=Q(yl,[["__scopeId","data-v-9f78627c"]]),wl={class:"flex items-center justify-center"},Cl=D({__name:"index",props:{layout:null,headerHeight:{default:50},footerHeight:{default:30},logo:null,logoSize:null,title:null,siderWidth:null,collapsed:{type:Boolean},siderCollapsedWidth:null,collapsedIconSize:{default:22},showSiderTrigger:{type:[Boolean,String]},inverted:{type:Boolean},active:null,options:null,expandedKeys:null},emits:["update:collapsed","update:active","update:expandedKeys"],setup(t){const e=t;me(a=>({d2e39d26:l(n),"5ba7ce4d":l(s),"3bc5ee1f":l(o)}));const n=z(()=>`${e.headerHeight}px`),o=z(()=>`${e.footerHeight}px`),s=z(()=>`calc(100vh - ${e.headerHeight}px - ${e.footerHeight}px)`);return(a,r)=>{const u=ht,d=_t,f=gt;return g(),$(f,{"has-sider":"",class:"h-screen"},{default:k(()=>[y(l(at),{width:t.siderWidth,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth,"show-trigger":t.showSiderTrigger,onUpdateCollapsed:r[2]||(r[2]=m=>a.$emit("update:collapsed",m))},{default:k(()=>[R("div",wl,[y(l(kt),{src:t.logo,inverted:t.inverted,"header-height":t.headerHeight,"collapsed-width":t.siderCollapsedWidth},null,8,["src","inverted","header-height","collapsed-width"]),t.collapsed?T("",!0):(g(),$(l(tn),{key:0,layout:t.layout,inverted:t.inverted,"header-height":t.headerHeight,title:t.title},null,8,["layout","inverted","header-height","title"]))]),y(xl,{value:t.active,options:t.options,inverted:t.inverted,collapsed:t.collapsed,"collapsed-icon-size":t.collapsedIconSize,"expanded-keys":t.expandedKeys,"header-height":t.headerHeight,"footer-height":t.footerHeight,"onUpdate:value":r[0]||(r[0]=m=>a.$emit("update:active",m)),"onUpdate:expandedKeys":r[1]||(r[1]=m=>a.$emit("update:expandedKeys",m))},null,8,["value","options","inverted","collapsed","collapsed-icon-size","expanded-keys","header-height","footer-height"])]),_:1},8,["width","collapsed","collapsed-width","show-trigger"]),y(f,null,{default:k(()=>[y(u,{class:"pro-admin-header-height flex items-center justify-between px-3"},{default:k(()=>[ae(a.$slots,"headerLeft",{},()=>[y(l(rn))],!0),ae(a.$slots,"headerRight",{},()=>[y(l(St))],!0)]),_:3}),y(l(nn),{class:"pro-admin-content-height"},{default:k(()=>[ae(a.$slots,"default",{},void 0,!0)]),_:3}),y(d,{class:"pro-admin-footer-height flex items-center justify-center"},{default:k(()=>[y(l($t))]),_:1})]),_:3})]),_:3})}}});const kl=Q(Cl,[["__scopeId","data-v-0e6084af"]]),Pl={class:"pro-admin-side-menu overflow-y-auto overflow-x-hidden"},bl=D({__name:"index",setup(t){const e=he();return(n,o)=>{const s=Yt;return g(),b("div",Pl,[y(s,Z({mode:"vertical"},l(e)),null,16)])}}});const Sl=Q(bl,[["__scopeId","data-v-bd821ef9"]]),$l={class:"flex items-center justify-center"},Dl=D({__name:"index",props:{layout:null,headerHeight:{default:50},footerHeight:{default:30},logo:null,logoSize:null,title:null,siderWidth:null,collapsed:{type:Boolean},siderCollapsedWidth:null,collapsedIconSize:{default:28},showSiderTrigger:{type:[Boolean,String]},accordion:{type:Boolean},inverted:{type:Boolean},active:null,options:null,expandedKeys:null,rootIndent:null,indent:null},emits:["update:collapsed","update:active","update:expandedKeys"],setup(t){const e=t;me(a=>({"655570f5":l(n),"65c87fc5":l(s),"0a8d2da7":l(o)}));const n=z(()=>`${e.headerHeight}px`),o=z(()=>`${e.footerHeight}px`),s=z(()=>`calc(100vh - ${e.headerHeight}px - ${e.footerHeight}px)`);return(a,r)=>{const u=ht,d=_t,f=gt;return g(),$(f,{"has-sider":"",class:"h-screen"},{default:k(()=>[y(l(at),{inverted:t.inverted,width:t.siderWidth,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth,"show-trigger":t.showSiderTrigger,onUpdateCollapsed:r[2]||(r[2]=m=>a.$emit("update:collapsed",m))},{default:k(()=>[R("div",$l,[y(l(kt),{src:t.logo,"header-height":t.headerHeight,"collapsed-width":t.siderCollapsedWidth},null,8,["src","header-height","collapsed-width"]),t.collapsed?T("",!0):(g(),$(l(tn),{key:0,layout:t.layout,"header-height":t.headerHeight,title:t.title},null,8,["layout","header-height","title"]))]),y(l(at),{inverted:t.inverted,width:t.siderWidth,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth},{default:k(()=>[y(Sl,{value:t.active,options:t.options,accordion:t.accordion,inverted:t.inverted,collapsed:t.collapsed,"collapsed-width":t.siderCollapsedWidth,"collapsed-icon-size":t.collapsedIconSize,"expanded-keys":t.expandedKeys,"root-indent":t.rootIndent,indent:t.rootIndent,"onUpdate:value":r[0]||(r[0]=m=>a.$emit("update:active",m)),"onUpdate:expandedKeys":r[1]||(r[1]=m=>a.$emit("update:expandedKeys",m))},null,8,["value","options","accordion","inverted","collapsed","collapsed-width","collapsed-icon-size","expanded-keys","root-indent","indent"])]),_:1},8,["inverted","width","collapsed","collapsed-width"])]),_:1},8,["inverted","width","collapsed","collapsed-width","show-trigger"]),y(f,null,{default:k(()=>[y(u,{class:"pro-admin-header-height flex items-center justify-between px-3"},{default:k(()=>[ae(a.$slots,"headerLeft",{},()=>[y(l(rn))],!0),ae(a.$slots,"headerRight",{},()=>[y(l(St))],!0)]),_:3}),y(l(nn),{class:"pro-admin-content-height"},{default:k(()=>[ae(a.$slots,"default",{},void 0,!0)]),_:3}),y(d,{class:"pro-admin-footer-height flex items-center justify-center"},{default:k(()=>[y(l($t))]),_:1})]),_:3})]),_:3})}}});const Rl=Q(Dl,[["__scopeId","data-v-ffb6b8ca"]]),El=D({__name:"menu",props:{active:null,options:null},setup(t){return(e,n)=>{const o=Yt;return g(),b("div",null,[y(o,{value:t.active,mode:"horizontal",options:t.options},null,8,["value","options"])])}}}),Ul={class:"flex flex-1 justify-between"},Tl=D({__name:"index",props:{siderCollapsedWidth:null,inverted:{type:Boolean},active:null,options:null,headerHeight:{default:50},footerHeight:{default:30},logo:null,logoSize:null,title:null},setup(t){const e=t;me(s=>({"7ca8433f":l(n),"21dffff1":l(o)}));const n=z(()=>`${e.headerHeight}px`),o=z(()=>`${e.footerHeight}px`);return(s,a)=>{const r=ht,u=Mt,d=_t,f=gt;return g(),$(f,{class:"h-screen","content-style":"display:flex; flex-direction:column;"},{default:k(()=>[y(r,{class:"pro-admin-header flex items-center justify-between px-3"},{default:k(()=>[y(l(kt),{src:t.logo,"header-height":t.headerHeight,"collapsed-width":t.siderCollapsedWidth},null,8,["src","header-height","collapsed-width"]),R("div",Ul,[ae(s.$slots,"headerLeft",{},()=>[y(El,{active:t.active,options:t.options},null,8,["active","options"])],!0),ae(s.$slots,"headerRight",{},()=>[y(l(St))],!0)])]),_:3}),y(u,{class:"pro-admin-content flex-1"},{default:k(()=>[ae(s.$slots,"default",{},void 0,!0)]),_:3}),y(d,{class:"pro-admin-footer flex items-center justify-center"},{default:k(()=>[y(l($t))]),_:1})]),_:3})}}});const Bl=Q(Tl,[["__scopeId","data-v-acf00aef"]]),jl=D({__name:"index",setup(t){const e=te(),n=_e(),o=z(()=>n.getMenusData),{active:s}=Zl(),{layout:a}=co(e);return(r,u)=>{var d,f,m;return g(),b(M,null,[l(a).layout==="mix"?(g(),$(kl,{key:0,collapsed:l(a).collapsed,"onUpdate:collapsed":u[0]||(u[0]=p=>l(a).collapsed=p),accordion:l(a).accordion,layout:l(a).layout,logo:l(a).logo,"logo-size":l(a).logoSize,title:(d=l(e).site)==null?void 0:d.web_name,"header-height":l(a).headerHeight,"footer-height":l(a).footerHeight,"sider-width":l(a).siderWidth,"sider-collapsed-width":l(a).siderCollapsedWidth,"show-sider-trigger":l(a).showSiderTrigger,inverted:l(a).inverted,active:l(s),options:l(o),"root-indent":l(a).rootIndent,indent:l(a).indent},{default:k(()=>[y(et)]),_:1},8,["collapsed","accordion","layout","logo","logo-size","title","header-height","footer-height","sider-width","sider-collapsed-width","show-sider-trigger","inverted","active","options","root-indent","indent"])):T("",!0),l(a).layout==="side"?(g(),$(Rl,{key:1,collapsed:l(a).collapsed,"onUpdate:collapsed":u[1]||(u[1]=p=>l(a).collapsed=p),accordion:l(a).accordion,layout:l(a).layout,logo:l(a).logo,"logo-size":l(a).logoSize,title:(f=l(e).site)==null?void 0:f.web_name,"header-height":l(a).headerHeight,"footer-height":l(a).footerHeight,"sider-width":l(a).siderWidth,"sider-collapsed-width":l(a).siderCollapsedWidth,"show-sider-trigger":l(a).showSiderTrigger,inverted:l(a).inverted,active:l(s),options:l(o),"root-indent":l(a).rootIndent,indent:l(a).indent},{default:k(()=>[y(et)]),_:1},8,["collapsed","accordion","layout","logo","logo-size","title","header-height","footer-height","sider-width","sider-collapsed-width","show-sider-trigger","inverted","active","options","root-indent","indent"])):T("",!0),l(a).layout==="top"?(g(),$(Bl,{key:2,logo:l(a).logo,"logo-size":l(a).logoSize,title:(m=l(e).site)==null?void 0:m.web_name,"header-height":l(a).headerHeight,"footer-height":l(a).footerHeight,"sider-collapsed-width":l(a).siderCollapsedWidth,inverted:l(a).inverted,active:l(s),options:l(o)},{default:k(()=>[y(et)]),_:1},8,["logo","logo-size","title","header-height","footer-height","sider-collapsed-width","inverted","active","options"])):T("",!0)],64)}}}),It={path:"/",name:"default-router",component:jl,redirect:void 0,children:[]},Al=D({__name:"index",setup(t){const e=re(),n=Pe("GetTable"),o=e.meta.method,s=e.query??{};return(a,r)=>(g(),$(sn,{api:l(n),method:l(o),"ajax-params":l(s)},null,8,["api","method","ajax-params"]))}}),Gl={class:"h-100% p-4"},zl={class:"h-100% flex flex-col"},Fl={key:0,class:"flex items-center bg-white px-5 py-4 mb-[10px]"},Il=R("span",{class:"pl-1 text-[16px]"},"返回",-1),Ol={key:0,class:"pl-20px text-[16px] select-none"},Hl=D({__name:"index",setup(t){const e=re(),n=x(),o=x(),s=Pe(),a=e.meta.method,r={...e.query};r!=null&&r.isBack&&(r==null||delete r.isBack);const u=x({...r}),d=x({submitBtn:{},resetBtn:{}}),f=i=>{var v;const _=(v=i==null?void 0:i.response)==null?void 0:v.extraConfig;d.value=_},m=()=>{n.value.hanldSubmit()},p=()=>{n.value.hanldReset()},c=()=>{o.value.setDisabled(!1)};return(i,_)=>{var C,h,w;const v=G;return g(),b("div",Gl,[R("div",zl,[(C=l(e).query)!=null&&C.isBack?(g(),b("div",Fl,[R("div",{class:"flex items-center cursor-pointer select-none",onClick:_[0]||(_[0]=(...P)=>l(Ne)&&l(Ne)(...P))},[y(v,{icon:"ArrowLeftOutlined",size:16}),Il]),(h=l(e).meta)!=null&&h.title?(g(),b("div",Ol,A((w=l(e).meta)==null?void 0:w.title),1)):T("",!0)])):T("",!0),y(on,{ref_key:"formRef",ref:n,class:"flex-1 p-5 bg-white overflow-y-auto overflow-x-hidden",api:l(s),method:l(a),"ajax-params":l(u),"onUpdate:init":f,"onUpdate:success":c,"onUpdate:rest":c,"onUpdate:error":c},null,8,["api","method","ajax-params"]),y(l(de),{ref_key:"buttonRef",ref:o,class:"bg-white","extra-config":l(d),"onUpdate:submit":m,"onUpdate:rest":p},null,8,["extra-config"])])])}}}),ql={class:"h-100% p-4"},Vl=D({__name:"index",setup(t){const n=re().meta.ajaxParams;return(o,s)=>(g(),b("div",ql,[y(ce,{file:l(n)},null,8,["file"])]))}}),Nl=Object.freeze(Object.defineProperty({__proto__:null,formIndex:Hl,remoteIndex:Vl,tableIndex:Al},Symbol.toStringTag,{value:"Module"})),nt={routeView:()=>ye(()=>import("./route-view.c518ec9a.js"),["./route-view.c518ec9a.js",".pnpm.37ca1b2a.js","..\\css\\.pnpm.ec8b2022.css"],import.meta.url),blankView:()=>ye(()=>import("./blank-view.777de82f.js"),["./blank-view.777de82f.js",".pnpm.37ca1b2a.js","..\\css\\.pnpm.ec8b2022.css"],import.meta.url)},Ml=t=>{if(!t)return nt.blankView;if(t in nt)return nt[t];const e=Co(t??"");return Nl[e]},Ll=t=>{const e=[];for(const n of t)if(n.path){const o={path:`/${n.path}`,name:n.path.replace("/","_"),component:Ml(n.component),redirect:n==null?void 0:n.redirect,meta:{title:n.title,path:n.path,pid:n.pid,icon:n.icon,moduleName:n.module,method:n.method,ajaxParams:n.auth_params},children:[]};(!o.children||o.children.length<1)&&delete o.children,e.push(o)}return e},Wl=async()=>{var o;const t=_e(),{active:e,list:n}=((o=t.userInfo)==null?void 0:o.menus)??{};if(n!=null&&n.length&&(n==null?void 0:n.length)>0){It.redirect=e;const s=Ll(n);return{menus:n,routes:{...It,children:s}}}},un=(t,e)=>{var s;const n=[];let o=[];e?o=t.filter(a=>a.pid===e):o=t.filter(a=>!a.pid);for(const a of o){const r={key:String(a.id),menuTitle:a.title,menuIcon:a.icon,ajaxParams:a.auth_params,path:a.path,show:a.show==="1",pid:a.pid,target:a.target??"_blank",children:un(t,a.id)},u=(s=r==null?void 0:r.children)==null?void 0:s.filter(d=>d==null?void 0:d.show);u!=null&&u.length&&r.pid!==0&&(r.type="group"),a!=null&&a.title&&(r.label=()=>J(el,{MenuItem:r})),a!=null&&a.icon&&(r.icon=()=>J(G,{icon:a==null?void 0:a.icon})),(!r.children||r.children.length<1)&&delete r.children,n.push(r)}return n},_e=qt("user",()=>{const t=Ue(),e=x(),n=x(),o=x(),s=z(()=>un(o.value??[])),a=m=>{t.value=m},r=async m=>{const{notification:p}=U(),{msg:c,data:i}=await Bo(m);i!=null&&i.token?(a(i.token),p==null||p.success({title:c||"登录成功",duration:1500})):p==null||p.success({title:"系统错误",content:"登录失败",duration:1500})},u=m=>{e.value=m};return{token:t,setToken:a,login:r,userInfo:e,setUserInfo:u,getUserInfo:async()=>{const{data:m}=await Ao();m&&u(m)},routerRecords:n,generateDynameicRoutes:async()=>{const m=await Wl();return m!=null&&m.routes&&(o.value=m.menus,n.value=m.routes.children),m==null?void 0:m.routes},menuData:o,getMenusData:s}}),Jl=()=>{const t=re(),e=_e(),n=Vt({active:""}),o=a=>{var u;const r=(u=e.menuData)==null?void 0:u.find(d=>`/${d.path}`===a);return String(r==null?void 0:r.id)},s=a=>{n.active=o(a)};return ut(()=>t.fullPath,()=>{s(t.path)}),{...uo(n),updateActive:s}},[Kl,Ql]=io(Jl),Zl=()=>Ql()??{active:x(""),updateActive:()=>{}},Yl=D({__name:"App",setup(t){return Kl(),(e,n)=>{const o=po,s=Ce("router-view"),a=go,r=Ht;return g(),$(r,null,{default:k(()=>[y(o),y(a,null,{default:k(()=>[y(s)]),_:1})]),_:1})}}}),Xl=(t,e,n)=>(t.forEach(o=>{[n,"/login"].includes(o.path)||e.includes(o.path)||e.push(o.path)}),e),er=t=>{for(const e of t){const n=e.remote,o={path:e==null?void 0:e.path,name:n.replace("/","_"),component:J(ce,{file:n}),props:{file:n},meta:{title:e.title,path:e.path,pid:0,moduleName:"admin",method:"GET",ajaxParams:n}};K.addRoute(o)}},fe=x("/login"),dn=x(["/error","/404","/403","/500","/401"]),Oe=x([...dn.value,fe.value]),Ot=x(!1);K.beforeEach(async(t,e,n)=>{var f,m,p,c;const o=Ue(),s=Te(),a=te(),r=_e();(f=U().loadingBar)==null||f.start();const d=(m=t.query)==null?void 0:m.token;if(d&&r.setToken(d),(p=t.query)!=null&&p.appid&&(s.value=(c=t.query)==null?void 0:c.appid),d){n({path:"/"});return}if(r.userInfo&&[fe.value,"/login"].includes(t.path)){n({path:"/"});return}if(!a.site){const i=await a.getSite();if(i!=null&&i.login_link&&a.setLoginLink(i==null?void 0:i.login_link),i!=null&&i.login_url&&(fe.value=i==null?void 0:i.login_url),i!=null&&i.remote_url&&!Ot.value){const _=i==null?void 0:i.remote_url;fe.value&&(Oe.value=[...Oe.value,fe.value]),_&&Xl(_,Oe.value,fe.value),er(_),Ot.value=!0,n({...t,replace:!0})}}if(o.value){if(!r.userInfo&&!dn.value.includes(t.path))try{await r.getUserInfo();const i=await r.generateDynameicRoutes();i&&K.addRoute(i),n({...t,replace:!0});return}catch(i){console.error(i)}}else{if(!Oe.value.includes(t.path)){n({path:fe.value,query:{redirect:t.path}});return}n()}n()});K.afterEach(t=>{var a,r,u,d,f;const{version_name:e}=cn();(a=U().loadingBar)==null||a.finish();const o=te(),s=(r=t.meta)==null?void 0:r.title;s?document.title=`${s} - ${(u=o.site)==null?void 0:u.web_name} ${e}`:(d=o.layout)!=null&&d.title&&(document.title=(f=o.layout)==null?void 0:f.title)});const tr=t=>{t.use(ve),t.config.globalProperties.$XModal=ve.modal,t.config.globalProperties.$XPrint=ve.print,t.config.globalProperties.$XSaveFile=ve.saveFile,t.config.globalProperties.$XReadFile=ve.readFile},nr=fo(),pn=document.createElement("meta");pn.name="naive-ui-style";document.head.appendChild(pn);const Be=mo(Yl);tr(Be);Be.use(K);Be.use(nr);Be.mount("#app");Pt.vue=Be;export{$t as _,_e as a,ar as b,Q as c,Ue as d,et as e,Ee as g,te as u};
