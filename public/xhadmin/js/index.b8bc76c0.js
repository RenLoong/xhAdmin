var Ao=Object.defineProperty;var jo=(e,t,o)=>t in e?Ao(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var Xe=(e,t,o)=>(jo(e,typeof t!="symbol"?t+"":t,o),o);import"./vue.7d38ec30.js";import{d as Xt,s as ze,c as Bo}from"./pinia.99400ea4.js";import{E as So,a as ie,b as Eo,c as To,z as Vo,e as Uo,i as Ro}from"./element-plus.dfdb5447.js";import{V as Lo,a as Te}from"./vxe-table.f573e5e5.js";import{T as Mo,E as Fo,Z as Oo}from"./@wangeditor.30d2bbb2.js";import{N as ct}from"./@vicons.9fd20fd4.js";import{Q as it}from"./@element-plus.9ffd8649.js";import{d as I,b as S,f as T,o as p,$ as D,a0 as w,a1 as Qt,C as r,h as y,w as ft,c as b,a as P,e as k,aE as Ae,aF as je,a4 as F,F as H,af as ne,a2 as L,a3 as q,I as qo,X as he,Y as ve,v as $e,U as me,l as Fe,aj as Q,aq as ee,Z as zo,p as X,aG as Be,H as Zt,a7 as Jt,g as Gt,j as ut,a5 as dt,ah as Ke,a9 as No,r as pt,u as Ho,W as Wo,k as Xo}from"./@vue.711157a1.js";import{a as Qo}from"./axios.a342f982.js";import{c as Zo,a as Kt,u as Yt}from"./@vueuse.032dd06c.js";import{u as ge,a as ht,c as Jo,b as Go}from"./vue-router.815db13b.js";import{F as Bt}from"./@form-create.c32edb5f.js";import{H as St,j as Ko,p as Yo,a as ea,b as ta,c as oa,x as aa}from"./highlight.js.1f34202d.js";import{X as Et}from"./xe-utils.a41f8ad3.js";import{l as na}from"./less.9f8d4656.js";import{e as sa}from"./echarts.eeef61a5.js";import{l as la,n as ra}from"./@formatjs.edd32ab3.js";import{r as ca,u as ia}from"./xlsx.04f2268f.js";import{J as ua}from"./jsencrypt.a25df808.js";import{n as eo}from"./nprogress.467ab7a9.js";import"./lodash-es.2e98bc53.js";import"./@popperjs.c75af06c.js";import"./@ctrl.f8748455.js";import"./dayjs.f21ac596.js";import"./async-validator.dee29e8b.js";import"./memoize-one.297ddbcb.js";import"./normalize-wheel-es.ed76fb12.js";import"./@floating-ui.ac9e5c57.js";import"./dom-zindex.4334dded.js";import"./zrender.29f65bdb.js";import"./tslib.96271c1f.js";import"./intl-messageformat.353b9996.js";const da=Object.freeze(Object.defineProperty({__proto__:null,get baseURL(){return $t},get default(){return K},get instance(){return K}},Symbol.toStringTag,{value:"Module"}));(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();const te=I({__name:"index",props:{icon:{},size:{default:18},color:{}},setup(e){const t=e,o=S(()=>{if(it[t.icon])return it[t.icon];if(ct[t.icon])return ct[t.icon]});return(a,s)=>{const n=T("el-icon");return p(),D(n,{size:a.size,color:a.color},{default:w(()=>[(p(),D(Qt(r(o))))]),_:1},8,["size","color"])}}}),to=S(()=>e=>{const o=e.split("?")[0].split(".").pop();if(!o)return!1;const a=o.toLowerCase();return["png","jpg","jpeg","gif","webp","svg","bmp"].includes(a)}),gt=e=>(Ae("data-v-d120635f"),e=e(),je(),e),pa={class:"category-container"},ma={class:"item"},_a=gt(()=>P("div",{class:"title"}," 请输入分类名称 ",-1)),fa={class:"item"},ha=gt(()=>P("div",{class:"title"}," 请输入分类目录 ",-1)),ga={class:"item"},va=gt(()=>P("div",{class:"title"}," 请输入分类排序 ",-1)),ya=I({__name:"category",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,a=t,s=y({...o.modelValue});return ft(()=>s,n=>{a("update:modelValue",s.value)},{immediate:!0}),(n,l)=>{const c=T("el-input");return p(),b("div",pa,[P("div",ma,[_a,k(c,{modelValue:r(s).title,"onUpdate:modelValue":l[0]||(l[0]=i=>r(s).title=i),placeholder:"请输入分类名称"},null,8,["modelValue"])]),P("div",fa,[ha,k(c,{modelValue:r(s).dir_name,"onUpdate:modelValue":l[1]||(l[1]=i=>r(s).dir_name=i),placeholder:"请输入分类目录"},null,8,["modelValue"])]),P("div",ga,[va,k(c,{modelValue:r(s).sort,"onUpdate:modelValue":l[2]||(l[2]=i=>r(s).sort=i),placeholder:"请输入分类排序"},null,8,["modelValue"])])])}}});const M=(e,t)=>{const o=e.__vccOpts||e;for(const[a,s]of t)o[a]=s;return o},Tt=M(ya,[["__scopeId","data-v-d120635f"]]),Qe="/login",oo="/register",ao="/password",xa="/user/personal",no="/Index/index",ka=["/exception","/401","/403","/404","/401","/500","/502"],wa={401:"您没有权限访问该页面",403:"资源错误",404:"资源错误",500:"服务器内部错误",502:"请求错误，无法获取到数据"},ba="modulepreload",Ca=function(e){return"/"+e},Vt={},be=function(t,o,a){if(!o||o.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(o.map(n=>{if(n=Ca(n),n in Vt)return;Vt[n]=!0;const l=n.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!a)for(let d=s.length-1;d>=0;d--){const _=s[d];if(_.href===n&&(!l||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":ba,l||(u.as="script",u.crossOrigin=""),u.href=n,document.head.appendChild(u),l)return new Promise((d,_)=>{u.addEventListener("load",d),u.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t()).catch(n=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=n,window.dispatchEvent(l),!l.defaultPrevented)throw n})},Ye=I({__name:"menu-item",props:{menuData:{}},setup(e){const t=Se(),o=a=>{const s=a.path,n=y({});a.ajaxParams&&(n.value=tt(a.ajaxParams));let l={...n.value};t.value&&(l={...l,appid:t.value}),pe(`/${s}`,l)};return(a,s)=>{const n=T("el-menu-item-group"),l=T("el-menu-item");return p(),b(H,null,[a.menuData.isGroup&&a.menuData.show?(p(),D(n,{key:0},{title:w(()=>[P("span",null,F(a.menuData.title),1)]),default:w(()=>[(p(!0),b(H,null,ne(a.menuData.children,c=>(p(),D(Ye,{key:c.activeId,"menu-data":c},null,8,["menu-data"]))),128))]),_:1})):L("",!0),!a.menuData.isGroup&&a.menuData.show?(p(),D(l,{key:1,index:a.menuData.activeId,onClick:s[0]||(s[0]=c=>o(a.menuData))},{default:w(()=>[q(F(a.menuData.title),1)]),_:1},8,["index"])):L("",!0)],64)}}}),Pa=I({__name:"menu-item-level",props:{menuData:{}},setup(e){const t=Se(),o=a=>{const s=a.path,n=y({});a.ajaxParams&&(n.value=tt(a.ajaxParams));let l={...n.value};t.value&&(l={...l,appid:t.value}),pe(`/${s}`,l)};return(a,s)=>{const n=T("el-sub-menu"),l=T("el-menu-item");return p(),b(H,null,[a.menuData.isGroup&&a.menuData.show?(p(),D(n,{key:0,index:a.menuData.activeId},{title:w(()=>[P("span",null,F(a.menuData.title),1)]),default:w(()=>[(p(!0),b(H,null,ne(a.menuData.children,c=>(p(),D(Ye,{key:c.activeId,"menu-data":c},null,8,["menu-data"]))),128))]),_:1},8,["index"])):L("",!0),!a.menuData.isGroup&&a.menuData.show?(p(),D(l,{key:1,index:a.menuData.activeId,onClick:s[0]||(s[0]=c=>o(a.menuData))},{default:w(()=>[q(F(a.menuData.title),1)]),_:1},8,["index"])):L("",!0)],64)}}}),at={layout:"mix",layoutMenu:"level",layoutTabsTheme:"radius",layoutSize:!1,theme:"OS",sideMenuCollapse:!1,sideMenuWidth:80,sideWidth:220,headerHeight:50,logoHeight:30,footerHeight:35},Ut={nickname:"",username:"",password:"",headimg:"",role:{},menus:[]},$a={form:{inline:!1,labelPosition:"top",labelSuffix:void 0,hideRequiredAsterisk:!0,labelWidth:"auto",showMessage:!0,inlineMessage:!0,statusIcon:!1,validateOnRuleChange:!0,disabled:!1,size:void 0,title:!0},row:{gutter:50,type:void 0,align:void 0,justify:void 0,tag:"div"},global:{"*":{}},submitBtn:!1,resetBtn:!1},Da=e=>e.map(t=>(t.handle=o=>{if((t==null?void 0:t.where)==="==")return o===t.value;if((t==null?void 0:t.where)==="!=")return o!==t.value;if((t==null?void 0:t.where)==="in"){const a=t.value;return a instanceof Array&&a instanceof Object?qe(o,t.value):(console.error("联动组件的IN条件值必须是数组或对象"),!1)}},t)),Ia=e=>e.map(t=>(t!=null&&t.control&&(t.control=Da(t.control)),t)),Aa={};function ja(e,t){return p(),b("div",null," 高德地图 ")}const Ba=M(Aa,[["render",ja]]),Sa={};function Ea(e,t){return p(),b("div",null," 百度地图 ")}const Ta=M(Sa,[["render",Ea]]),Va={};function Ua(e,t){return p(),b("div",null," 腾讯地图 ")}const Ra=M(Va,[["render",Ua]]),La={javascript:Ko,php:Yo,python:ea,java:ta,css:oa,xml:aa},Ma=e=>(St.registerLanguage(e,La[e]),St),Fa={class:"w-100%"},Oa=["innerHTML"],qa=I({__name:"index",props:{modelValue:{},language:{default:"javascript"},showLineNumbers:{type:Boolean}},setup(e){const t=e,o=Ma(t.language),a=y("");return qo(()=>{a.value=o.highlight(t.modelValue,{language:t.language}).value}),(s,n)=>(p(),b("div",Fa,[P("pre",null,[q("    "),P("code",{class:"hljs",innerHTML:r(a)},null,8,Oa),q(`
    `)])]))}}),za=I({__name:"xh-button",props:{type:{default:"default"},text:{type:Boolean}},setup(e){const t=e,o=S(()=>t.text?"":`xh-button-${t.type}`);return(a,s)=>(p(),b("button",{class:ve(["xh-button",r(o)])},[he(a.$slots,"loading",{},void 0,!0),he(a.$slots,"icon",{},void 0,!0),he(a.$slots,"default",{},void 0,!0)],2))}});const Na=M(za,[["__scopeId","data-v-dbf03c62"]]),Re=I({__name:"index",props:{type:{default:"default"}},setup(e){const t=e,o=["","primary","success","info","warning","danger"],a=S(()=>!o.includes(t.type));return(s,n)=>{const l=T("el-button");return r(a)?(p(),D(Na,{key:0,type:s.type},{default:w(()=>[he(s.$slots,"loading"),he(s.$slots,"icon"),he(s.$slots,"default")]),_:3},8,["type"])):(p(),D(l,{key:1,type:s.type},{default:w(()=>[he(s.$slots,"loading"),he(s.$slots,"icon"),he(s.$slots,"default")]),_:3},8,["type"]))}}}),W=(e,t,o="",a)=>{So({message:e,title:o,duration:2e3,type:t,...a})},de=(e,t="温馨提示",o)=>{W(e,"success",t,o)},E=(e,t="温馨提示",o)=>{W(e,"error",t,o)},so=e=>(Ae("data-v-f0d97d29"),e=e(),je(),e),Ha={class:"xh-icons-modal"},Wa={class:"xh-icons"},Xa={class:"search-container"},Qa=so(()=>P("div",{class:"placeholder text-blueGray"}," 温馨提示：单击图标为选择，双击图标为复制 ",-1)),Za={class:"icon-list"},Ja={class:"tools"},Ga=so(()=>P("div",{class:"title"}," 所有图标 ",-1)),Ka={class:"options"},Ya={class:"list"},en=["onDblclick","onClick"],tn={class:"icon-title"},on={class:"xh-action"},an=I({__name:"modal",emits:["update:confirm","update:close"],setup(e,{emit:t}){const o=t,a=y([{title:"Element-Plus",type:"element",icons:Object.keys(it)},{title:"vicons/antd",type:"naiveui",icons:Object.keys(ct)}]),s=y(""),n=y("element"),l=y(""),c=y([]),i=m=>{c.value=[];const f=a.value.find(v=>v.type===m);f&&u(f.icons)};function u(m){let f=0;function v(){globalThis.requestIdleCallback(j=>{for(;j.timeRemaining()>0&&f<m.length;)c.value.push(m[f++]);f<m.length&&v()})}v()}const d=m=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(m).then(f=>{});else{const f=document.createElement("input");f.value=m,document.body.appendChild(f),f.select(),document.execCommand("Copy"),f.remove()}de("复制成功")},_=m=>{l.value=m===l.value?"":m},h=()=>{o("update:confirm",{icon:l.value,type:n.value})},g=()=>{o("update:close")};return $e(()=>{u(a.value[0].icons)}),(m,f)=>{const v=te,j=T("el-button"),A=T("el-button-group"),B=T("el-input"),R=T("el-option"),C=T("el-select"),$=Re;return p(),b("div",Ha,[P("div",Wa,[P("div",Xa,[k(B,{modelValue:r(s),"onUpdate:modelValue":f[1]||(f[1]=x=>me(s)?s.value=x:null),placeholder:"图标名称"},{prepend:w(()=>[k(v,{icon:"Search",type:"element"})]),append:w(()=>[k(A,null,{default:w(()=>[k(j,{onClick:f[0]||(f[0]=x=>s.value="")},{default:w(()=>[q(" 重置 ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),Qa]),P("div",Za,[P("div",Ja,[Ga,P("div",Ka,[k(C,{modelValue:r(n),"onUpdate:modelValue":f[2]||(f[2]=x=>me(n)?n.value=x:null),onChange:i},{default:w(()=>[(p(!0),b(H,null,ne(r(a),(x,J)=>(p(),D(R,{key:J,label:x.title,value:x.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),P("div",Ya,[(p(!0),b(H,null,ne(r(c).filter(x=>x.includes(r(s))),(x,J)=>(p(),b("div",{key:J,class:ve(["item",{active:x===r(l)}]),onDblclick:Z=>d(x),onClick:Z=>_(x)},[k(v,{icon:x,size:26,type:r(n),color:"#888"},null,8,["icon","type"]),P("div",tn,F(x),1)],42,en))),128))])])]),P("div",on,[k($,{type:"primary",class:"xh-group-button",onClick:h},{default:w(()=>[q(" 确定 ")]),_:1}),k($,{type:"danger",class:"xh-group-button",onClick:g},{default:w(()=>[q(" 取消 ")]),_:1})])])}}});const nn=M(an,[["__scopeId","data-v-f0d97d29"]]),le=(e,t,o)=>ie({title:"通用模态框",customStyle:{width:"45%",height:"650px"},showClose:!0,closeOnClickModal:!1,...o,showConfirmButton:!1,customClass:"xh-modal-mask",message:()=>Fe(e,t)}),_e=()=>{ie.close()},sn={key:1},ln=I({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const o=t,a=()=>{le(nn,{"onUpdate:confirm":n=>{o("update:modelValue",n),ie.close()},"onUpdate:close":()=>{ie.close()}},{title:"图标库",closeOnClickModal:!1,customStyle:{width:"45%",height:"650px"}})},s=()=>{o("update:modelValue",""),de("重置成功")};return(n,l)=>{var _;const c=te,i=T("el-button"),u=T("el-button-group"),d=T("el-input");return p(),D(d,{value:((_=n.modelValue)==null?void 0:_.icon)||"",placeholder:"请选择图标",disabled:""},{prepend:w(()=>{var h,g,m;return[(h=n.modelValue)!=null&&h.icon?(p(),D(c,{key:0,icon:(g=n.modelValue)==null?void 0:g.icon,type:((m=n.modelValue)==null?void 0:m.type)||"",size:18},null,8,["icon","type"])):(p(),b("span",sn,"无"))]}),append:w(()=>[k(u,null,{default:w(()=>[k(i,{type:"primary",onClick:s},{default:w(()=>[q(" 重置图标 ")]),_:1}),k(i,{type:"danger",onClick:a},{default:w(()=>[q(" 选择图标 ")]),_:1})]),_:1})]),_:1},8,["value"])}}}),rn=I({__name:"index",props:{modelValue:{},style:{default:{}}},setup(e){return(t,o)=>(p(),b("div",Q(ee(t.style)),F(t.modelValue),17))}}),cn={};function un(e,t){return p(),b("div",null," 自定义输入框（未实现） ")}const dn=M(cn,[["render",un]]),pn=["innerHTML"],mn=I({__name:"index",props:{text:{},icon:{default:""},style:{default:{color:"#666",padding:"5px 0 0 0",fontSize:"12px"}},iconSize:{default:16}},setup(e){return(t,o)=>{const a=te;return p(),b("div",{class:"form-prompt",style:zo(t.style)},[t.icon?(p(),D(a,{key:0,icon:t.icon,size:t.iconSize},null,8,["icon","size"])):L("",!0),P("span",{class:"text",innerHTML:t.text},null,8,pn)],4)}}});const _n=M(mn,[["__scopeId","data-v-3e2f6421"]]),fn=I({__name:"index",props:{modelValue:{},file:{},ajaxParams:{}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,a=t,s=l=>{a("update:modelValue",l)},n=y(o.modelValue);return(l,c)=>(p(),D(r(fe),X({modelValue:r(n),"onUpdate:modelValue":c[0]||(c[0]=i=>me(n)?n.value=i:null),file:l.file},{ajaxParams:l.ajaxParams},{"onUpdate:modelValue":s}),null,16,["modelValue","file"]))}}),hn={};function gn(e,t){return p(),b("div",null," 表格展示器 ")}const vn=M(hn,[["render",gn]]),yn={class:"upload-container"},xn=["onClick"],kn=["onClick"],wn=I({__name:"index",props:{modelValue:{default:[]},limit:{default:1},suffix:{default:"*"},format:{default:"*"}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,a=t,s=l=>{const c=l.map(i=>i==null?void 0:i.url);a("update:modelValue",c)},n=l=>{const c=o.modelValue.filter((i,u)=>u!==l);a("update:modelValue",c)};return $e(()=>{if(typeof o.modelValue=="string"){const l=o.modelValue===""?"":[o.modelValue];a("update:modelValue",l)}}),(l,c)=>{const i=T("el-image"),u=te,d=T("el-icon");return p(),b("div",null,[k(go,{limit:l.limit,suffix:l.suffix,format:l.format,"onUpdate:confirm":s},{open:w(({open:_})=>[P("div",yn,[(p(!0),b(H,null,ne(l.modelValue,(h,g)=>(p(),b("div",{key:g,class:"item"},[r(to)(h)?(p(),D(i,{key:0,class:"image","preview-src-list":l.modelValue,"z-index":999,src:h,infinite:!1},null,8,["preview-src-list","src"])):(p(),D(d,{key:1,class:"file-thumb"},{default:w(()=>[k(u,{icon:"Document",size:28,type:"element"})]),_:1})),P("div",{class:"del-file",onClick:m=>n(g)},[k(u,{icon:"Delete",size:15,type:"element"})],8,xn)]))),128)),P("div",{class:"item",onClick:_},[k(u,{icon:"PlusOutlined",size:24,color:"#888"})],8,kn)])]),_:1},8,["limit","suffix","format"])])}}});const bn=M(wn,[["__scopeId","data-v-fa07f09d"]]),Cn={class:"editor-container"},Pn=I({__name:"index",props:{modelValue:{},toolbarConfig:{},editorConfig:{},editHeight:{default:450},isUploadify:{type:Boolean,default:!0},uploadifyLimit:{},uploadifyExt:{}},emits:["update:modelValue"],setup(e,{emit:t}){Be(d=>({eba27502:r(u)}));const o=e,a=t,s=Zt(),n=y(o.modelValue);y({defaultConfig:{insertKeys:{index:22,keys:["xhUploadify"]}}});const l=y({});o.editorConfig&&(l.value=o.editorConfig),l.value.MENU_CONF={uploadImage:{customBrowseAndUpload(d){le(mt,{params:{limit:99,suffix:["png","jpg","jpeg","gif","bmp"],format:["png","jpg","jpeg","gif","bmp"]},"onUpdate:modelValue":_=>{_.forEach(h=>{d(h)}),_e()},"onUpdate:close":()=>{_e()}},{title:"附件库",customStyle:{width:0,height:0}})}},uploadVideo:{customBrowseAndUpload(d){le(mt,{params:{suffix:["mp4","avi","flv","wmv","mov","rmvb","rm","mkv","webm","3gp","mpeg","mpg","dat","ts","mts","vob"],format:["mp4","avi","flv","wmv","mov","rmvb","rm","mkv","webm","3gp","mpeg","mpg","dat","ts","mts","vob"]},"onUpdate:modelValue":_=>{_.forEach(h=>{d(h)}),_e()},"onUpdate:close":()=>{_e()}},{title:"附件库",customStyle:{width:0,height:0}})}}},Jt(()=>{s.value&&(s.value.destroy(),s.value=null)});const c=d=>{s.value=d},i=d=>{const _=d.getHtml();a("update:modelValue",_)},u=S(()=>`${o.editHeight}px`);return(d,_)=>(p(),b("div",Cn,[k(r(Mo),{class:"toolbar",editor:r(s)},null,8,["editor"]),k(r(Fo),{modelValue:r(n),"onUpdate:modelValue":_[0]||(_[0]=h=>me(n)?n.value=h:null),"default-config":d.editorConfig,class:"editor-content",onOnCreated:c,onOnChange:i},null,8,["modelValue","default-config"])]))}});const Rt=M(Pn,[["__scopeId","data-v-cd39d08f"]]),Lt={amap:Ba,bmap:Ta,icons:ln,qmap:Ra,remote:fn,uploadify:bn,info:rn,HCode:qa,PromptTip:_n,wangEditor:Rt,tinymceEditor:Rt,XInput:dn,XTable:vn},$n=e=>{Object.keys(Lt).forEach(t=>{e.component(t,Lt[t])})},vt=I({__name:"index",props:{api:{default:""},method:{default:"GET"},ajaxParams:{},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(e,{expose:t,emit:o}){const a=e,s=o,n=ge(),l=Gt(),c=y({}),i=y({api:"",method:"POST"}),u=y({}),d=y(),_=y($a),h=y("");Bt.use($n);const g=Bt.$form(),m=()=>{const j=y({method:a.method,params:{...a.ajaxParams},data:{...a.ajaxParams}});a.method==="GET"?delete j.value.data:delete j.value.params,s("update:init"),K(a.api,j.value).then(A=>{const{data:B}=A;if(!(B!=null&&B.http))return E("提交接口获取失败"),Promise.reject(new Error("提交接口获取失败"));if(!(B!=null&&B.formRule))return E("表单规则获取失败"),Promise.reject(new Error("表单规则获取失败"));i.value=B.http,d.value=Ia(B.formRule),_.value={..._.value,...B.config},h.value=(B==null?void 0:B.redirect)??"",s("update:init-ok",{response:B,exposed:l.exposed})}).catch(A=>{s("update:init-error",A)})},f=()=>{var A,B,R;const j=y({method:((A=i.value)==null?void 0:A.method)??"GET",params:{...a.ajaxParams},data:{}});((B=i.value)==null?void 0:B.method)==="GET"?j.value.params={...j.value.params,...u.value}:j.value.data={...j.value.data,...u.value},s("update:submit",{api:i.value.api,queryParams:j}),K(((R=i.value)==null?void 0:R.api)??"",j.value).then(C=>{var $;($=n.query)!=null&&$.isBack&&!a.isModal&&!h.value?Ge():h.value&&pe(h.value),s("update:submit-ok",C),de((C==null?void 0:C.msg)??"操作失败")}).catch(C=>{s("update:submit-error",C)})},v=()=>{s("update:rest-ok")};return $e(()=>m()),t({init:m,submit:f,reset:v}),(j,A)=>(p(),D(r(g),{api:r(c),"onUpdate:api":A[0]||(A[0]=B=>me(c)?c.value=B:null),modelValue:r(u),"onUpdate:modelValue":A[1]||(A[1]=B=>me(u)?u.value=B:null),modelModifiers:{lazy:!0},rule:r(d),option:r(_),title:""},null,8,["api","modelValue","rule","option"]))}}),Dn={class:"xh-modal-container"},In=I({__name:"info-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},setup(e){const t=y(),o=y({submitBtn:{},resetBtn:{}}),a=s=>{var l;const n=(l=s==null?void 0:s.response)==null?void 0:l.extraConfig;o.value=n};return(s,n)=>(p(),b("div",Dn,[k(r(vt),{ref_key:"formRef",ref:t,class:"xh-form-create",api:s.api,method:s.method,"ajax-params":s.ajaxParams,"is-modal":!0,"onUpdate:initOk":a},null,8,["api","method","ajax-params"])]))}});const yt=M(In,[["__scopeId","data-v-be00eddc"]]),An={class:"xh-modal-container"},jn={class:"xh-modal-content"},Bn=I({__name:"form-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(e,{emit:t}){const o=t,a=y(),s=y(),n=y({submitBtn:{},resetBtn:{}}),l=()=>{s.value.setDisabled(!1)},c=h=>{var m;const g=(m=h==null?void 0:h.response)==null?void 0:m.extraConfig;g.resetBtn.content="关闭窗口",g.resetBtn.type="error",n.value=g},i=()=>{a.value.submit()},u=()=>{l(),o("update:submit-ok")},d=()=>{l(),o("update:submit-error")},_=()=>{a.value.reset(),o("update:rest-ok")};return(h,g)=>(p(),b("div",An,[P("div",jn,[k(r(vt),{ref_key:"formRef",ref:a,class:"xh-form-create",api:h.api,method:h.method,"ajax-params":h.ajaxParams,"is-modal":!0,"onUpdate:initOk":c,"onUpdate:submitOk":u,"onUpdate:submitError":d,"onUpdate:restOk":l,"onUpdate:initError":l},null,8,["api","method","ajax-params"])]),k(r(lo),{ref_key:"buttonRef",ref:s,"extra-config":r(n),"onUpdate:submit":i,"onUpdate:rest":_},null,8,["extra-config"])]))}});const xt=M(Bn,[["__scopeId","data-v-cea8d9fb"]]),Sn=I({__name:"buttons",props:{extraConfig:{}},emits:["update:init","update:submit","update:rest"],setup(e,{expose:t,emit:o}){const a=o,s=Gt(),n=y(!1),l=u=>{n.value=u},c=()=>{l(!0),a("update:submit")},i=()=>{l(!0),a("update:rest")};return $e(()=>{a("update:init",{exposed:s.exposed})}),t({setDisabled:l}),(u,d)=>{var g;const _=Re,h=T("el-space");return(g=u.extraConfig.submitBtn)!=null&&g.show?(p(),D(h,{key:0,alignment:"center",class:"footer-buttons",size:[30,0]},{default:w(()=>{var m,f,v,j;return[(m=u.extraConfig.submitBtn)!=null&&m.show?(p(),D(_,X({key:0,type:"primary",class:"xh-extra-button"},((f=u.extraConfig)==null?void 0:f.submitBtn)??{},{loading:r(n),disabled:r(n),onClick:c}),{default:w(()=>{var A;return[q(F(r(n)?"请求中...":((A=u.extraConfig.submitBtn)==null?void 0:A.content)??"提交"),1)]}),_:1},16,["loading","disabled"])):L("",!0),(v=u.extraConfig.resetBtn)!=null&&v.show?(p(),D(_,X({key:1,type:"warning",class:"xh-extra-button"},((j=u.extraConfig)==null?void 0:j.resetBtn)??{},{disabled:r(n),onClick:i}),{default:w(()=>{var A;return[q(F(((A=u.extraConfig.resetBtn)==null?void 0:A.content)??"重置"),1)]}),_:1},16,["disabled"])):L("",!0)]}),_:1})):L("",!0)}}});const lo=M(Sn,[["__scopeId","data-v-c3072cde"]]),En=(e,t,o,a,s)=>{var _,h;o==null||o.xGrid;const n=o==null?void 0:o.form,l=o==null?void 0:o.page,c=o==null?void 0:o.sort,i=o==null?void 0:o.filters;o!=null&&o.code&&((_=a.screenConfig)!=null&&_.api)&&(e=(h=a.screenConfig)==null?void 0:h.api);const u=G.currentRoute.value,d=y({method:t,params:{page:l.currentPage??1,limit:l.pageSize??20,...s??{},...n,...(u==null?void 0:u.query)??{}}});return JSON.stringify(c)!=="{}"&&d.value.params&&(d.value.params={...d.value.params,field:c.field,order:c.order}),i.length>0&&d.value.params&&i.forEach(({field:g,values:m})=>{d.value.params={...d.value.params,[g]:m.join(",")}}),new Promise((g,m)=>{K(e,d.value).then(f=>{g(f)}).catch(f=>{m(f)})})},Tn=(e,t,o)=>{K(o.file,{responseType:"blob"}).then(a=>{Lo.saveFile({filename:e,type:t,content:a.data})})},Vn=(e,t,o)=>new Promise((a,s)=>{var c;if(!((c=t.exportConfig)!=null&&c.api))return E("请设置请求API"),Promise.reject(new Error("请设置请求API"));const n=o==null?void 0:o.getProxyInfo(),l={format:e.type??"xlsx",filename:e.filename??"导出文件",sheetName:e.sheetName??"",isHeader:e.isHeader??!1,original:e.original??!1,mode:e.mode??"all",pager:n?n.pager:null,ids:e.mode==="selected"?e.data.map(i=>i.id):[],fields:e.columns.map(i=>({field:i.field,title:i.title}))};return new Promise(i=>{var _;const u={method:"POST",data:{...l}},d=((_=t.exportConfig)==null?void 0:_.api)??"";K(d,u).then(h=>{const{data:g}=h;if(!(g!=null&&g.file))return E("导出数据失败，缺少[file]地址"),Promise.reject(new Error("导出数据失败，缺少导出地址"));Tn(l.filename,l.format,g),i(h)})})}),Un=(e,t,o)=>{const a=new FormData;return a.append("file",e.file),new Promise(s=>{var c;const n=((c=t.importConfig)==null?void 0:c.api)??"";K(n,{method:"POST",data:a}).then(i=>{const{msg:u}=i;de(u||"操作成功"),o==null||o.commitProxy("query"),s(i)}).catch(i=>{console.error("导入失败",i)})})},Rn=(e,t,o)=>new Promise(a=>{const s=new FileReader;s.onload=n=>{const l=n.target?n.target.result:"",c=ca(l,{type:"binary"}),i=ia.sheet_to_json(c.Sheets.Sheet1);e.$table.loadData(i),de("已将数据导入至本地表格"),a(i)},s.readAsBinaryString(e.file)}),Ln=(e,t,o)=>{var a,s;return(a=t.importConfig)!=null&&a.api&&((s=t.importConfig)!=null&&s.isRemote)?Un(e,t,o):Rn(e)},Mn=(e,t,o,a,s)=>{const n={...o.toolbarConfig,slots:{buttons:"topButtonList"}};return o.toolbarConfig=n,n!=null&&n.import&&(o.importConfig={...o.importConfig,remote:!0,importMethod:l=>Ln(l,o,s)}),n!=null&&n.export&&(o.exportConfig={...o.exportConfig,remote:!0,exportMethod:l=>Vn(l,o,s)}),o.proxyConfig={...o.proxyConfig,ajax:{query:l=>En(e,t,l,o,a)}},o},Ce=(e,t,o)=>K.request({url:e,params:t,method:"GET",...o}),Ue=(e,t,o)=>K.request({url:e,data:t,method:"POST",...o}),Ze=(e,t,o)=>K.request({url:e,data:t,method:"PUT",...o}),Je=(e,t,o)=>K.request({url:e,data:t,method:"DELETE",...o}),re=(e,t)=>{const o=e.field;let a=t[o];if(o.includes(".")){const s=o.split(".");let n=t;s.forEach(l=>{n=n[l]}),a=n}return a},Le=(e,t,o,a=!0)=>{if(!e){E("请设置请求API接口"),o==null||o.commitProxy("query");return}Ze(e,t).then(s=>{o==null||o.commitProxy("query"),a&&de((s==null?void 0:s.msg)??"操作成功")})},Fn=(e,t,o,a)=>{var c,i;const s=((c=o==null?void 0:o.rowConfig)==null?void 0:c.keyField)??"id",n=t[e==null?void 0:e.field],l={[s]:t[s],keyField:s,field:e==null?void 0:e.field,value:n};Le((i=e==null?void 0:e.params)==null?void 0:i.api,l,a)},On=(e,t)=>{let o={};for(const a in e){const s=e[a]||"id";o={...o,[s]:t[a]||""}}return o},Ne=(e,t,o)=>{var l,c;const a=G.currentRoute.value;let n={...((l=e==null?void 0:e.pageData)==null?void 0:l.queryParams)??{},...a.query};return(c=e.pageData)!=null&&c.isBack&&(n={...n,isBack:1}),n},qn=(e,t,o,a,s)=>{var u,d,_,h,g;const n=G.currentRoute.value,l=((u=e==null?void 0:e.pageData)==null?void 0:u.queryParams)??{},c=y({...n.query}),i=y({...c.value});if(l instanceof Object&&(i.value={...i.value,...l}),o&&!qe(JSON.stringify((d=e==null?void 0:e.pageData)==null?void 0:d.aliasParams),["[]","{}"]))i.value={...i.value,...On((_=e==null?void 0:e.pageData)==null?void 0:_.aliasParams,o)};else{const m=((h=a==null?void 0:a.rowConfig)==null?void 0:h.keyField)??"id";if(!o[m]){E("当前数据错误");return}const f=o[m];i.value={...i.value,[m]:f}}return(g=e.pageData)!=null&&g.isBack&&(i.value={...i.value,isBack:1}),i.value},zn=(e,t,o)=>{var s,n;if(!((s=e==null?void 0:e.pageData)!=null&&s.path)){E("缺少跳转地址");return}const a=Ne(e);G.push({path:(n=e==null?void 0:e.pageData)==null?void 0:n.path,query:{...a}})},Nn=(e,t,o,a)=>{var s,n;if(!((s=e==null?void 0:e.pageData)!=null&&s.path)){E("缺少跳转地址");return}G.push({path:(n=e==null?void 0:e.pageData)==null?void 0:n.path,query:{...t}})},Oe=e=>{bt(e)||(e=`${window.location.origin}/${e}`),window.open(e)},Hn=(e,t,o)=>{var i,u,d;const a=((i=e==null?void 0:e.pageData)==null?void 0:i.api)??"",s=((u=e.pageData)==null?void 0:u.method)??"GET";let n=((d=e.pageData)==null?void 0:d.path)??"";const l=Ne(e),c={method:s,params:{},data:{}};if(s==="GET"?c.params=l:c.data=l,n){Oe(n);return}K(a,c).then(_=>{const{data:h}=_;if(!(h!=null&&h.url)){E("缺少目标跳转地址");return}n=h.url,Oe(n)})},Wn=(e,t,o,a)=>{var d,_,h,g,m;const s=((d=e==null?void 0:e.pageData)==null?void 0:d.api)??"",n=((_=e.pageData)==null?void 0:_.method)??"GET";let l=((h=t.checkboxConfig)==null?void 0:h.labelField)??"";l||(l=((g=t==null?void 0:t.rowConfig)==null?void 0:g.keyField)??"id");let c=((m=e.pageData)==null?void 0:m.path)??"";const i=Ne(e),u={method:n,params:{},data:{}};if(n==="GET"?u.params={...i,[l]:o}:u.data={...i,[l]:o},c){Oe(c);return}K(s,u).then(f=>{const{data:v}=f;if(!(v!=null&&v.url)){E("缺少目标跳转地址");return}c=v.url,Oe(c)})},Xn=(e,t,o,a)=>{var i,u,d;const s=((i=e==null?void 0:e.pageData)==null?void 0:i.api)??"",n=((u=e.pageData)==null?void 0:u.method)??"GET";let l=((d=e.pageData)==null?void 0:d.path)??"";const c=y({method:n,params:{...t},data:{...t}});if(n==="GET"?delete c.value.data:delete c.value.params,l){window.open(l);return}K(s,c.value).then(_=>{const{data:h}=_;if(!(h!=null&&h.url)){E("缺少目标跳转地址");return}l=h.url,Oe(l)})},Qn=(e,t,o)=>{var n,l,c,i;if(!(((n=e.message)==null?void 0:n.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供模态框接口");return}const s={api:((l=e.pageData)==null?void 0:l.api)||"",method:((c=e.pageData)==null?void 0:c.method)||"GET",ajaxParams:((i=e.pageData)==null?void 0:i.queryParams)||{},"onUpdate:submit-ok":()=>{_e(),o==null||o.commitProxy("reload")},"onUpdate:rest-ok":()=>{_e(),o==null||o.commitProxy("reload")}};le(xt,s,{...e.message,beforeClose:(u,d,_)=>{_(),o==null||o.commitProxy("reload")}})},Zn=(e,t,o,a)=>{var c,i,u,d,_,h,g;if(!(((c=e.message)==null?void 0:c.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供模态框接口");return}let n=((i=t.checkboxConfig)==null?void 0:i.labelField)??"";n||(n=((u=t==null?void 0:t.rowConfig)==null?void 0:u.keyField)??"id");const l=y({api:(d=e.pageData)==null?void 0:d.api,method:((_=e.pageData)==null?void 0:_.method)||"GET",ajaxParams:{[n]:o},"onUpdate:submit-ok":()=>{_e(),a==null||a.commitProxy("reload")},"onUpdate:rest-ok":()=>{_e(),a==null||a.commitProxy("reload")}});((h=e.pageData)==null?void 0:h.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(g=e.pageData)==null?void 0:g.queryParams}),le(xt,l.value,{...e.message,beforeClose:(m,f,v)=>{v(),a==null||a.commitProxy("reload")}})},Jn=(e,t,o,a)=>{var c,i,u,d,_;if(!(((c=e.message)==null?void 0:c.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供模态框接口");return}const n=y({api:((i=e.pageData)==null?void 0:i.api)||"",method:((u=e.pageData)==null?void 0:u.method)||"GET",ajaxParams:{...t},"onUpdate:submit-ok":()=>{_e(),a==null||a.commitProxy("reload")},"onUpdate:rest-ok":()=>{_e(),a==null||a.commitProxy("reload")}}),l=((d=e.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(n.value.ajaxParams={...n.value.ajaxParams,...l}),(_=n.value.ajaxParams)!=null&&_.isBack&&delete n.value.ajaxParams.isBack,le(xt,n.value,{...e.message,beforeClose:(h,g,m)=>{m(),a==null||a.commitProxy("reload")}})},Pe=(e,t="温馨提示",o="",a)=>ie.confirm(e,t,{confirmButtonText:"确定",cancelButtonText:"取消",type:o,...a}),Gn=(e,t,o)=>{var d,_,h,g,m;const a=(d=e.pageData)==null?void 0:d.api,s=((_=e.pageData)==null?void 0:_.method)??"GET",n=Ne(e);n!=null&&n.isBack&&delete n.isBack;const l=y({method:s,params:{...n},data:{...n}});s==="GET"?delete l.value.data:delete l.value.params;const c=((h=e.message)==null?void 0:h.content)??"",i=((g=e.message)==null?void 0:g.title)??"",u=((m=e.message)==null?void 0:m.type)??"";if(!a){E("接口地址不存在");return}Pe(c,i,u).then(()=>{K(a,l.value).then(f=>{de((f==null?void 0:f.msg)??"操作成功"),o==null||o.commitProxy("reload")})})},Kn=(e,t,o,a)=>{var h,g,m,f,v,j,A;const s=(h=e.pageData)==null?void 0:h.api,n=((g=e.pageData)==null?void 0:g.method)??"GET",l=Ne(e);l!=null&&l.isBack&&delete l.isBack;let c=((m=t.checkboxConfig)==null?void 0:m.labelField)??"";c||(c=((f=t==null?void 0:t.rowConfig)==null?void 0:f.keyField)??"id");const i=y({method:n,params:{...l,[c]:o},data:{...l,[c]:o}});n==="GET"?delete i.value.data:delete i.value.params;const u=((v=e.message)==null?void 0:v.content)??"",d=((j=e.message)==null?void 0:j.title)??"",_=((A=e.message)==null?void 0:A.type)??"";if(!s){E("接口地址不存在");return}Pe(u,d,_).then(()=>{K(s,i.value).then(B=>{de((B==null?void 0:B.msg)??"操作成功"),a==null||a.commitProxy("reload")})})},Yn=(e,t,o,a)=>{var _,h,g,m,f,v,j;const s=(_=e.pageData)==null?void 0:_.api,n=((h=e.pageData)==null?void 0:h.method)??"GET";let l=((g=o.checkboxConfig)==null?void 0:g.labelField)??"";l||(l=((m=o==null?void 0:o.rowConfig)==null?void 0:m.keyField)??"id");const c=y({method:n,params:{...t},data:{...t}});n==="GET"?delete c.value.data:delete c.value.params;const i=((f=e.message)==null?void 0:f.content)??"",u=((v=e.message)==null?void 0:v.title)??"",d=((j=e.message)==null?void 0:j.type)??"";if(!s){E("接口地址不存在");return}Pe(i,u,d).then(()=>{K(s,c.value).then(A=>{de((A==null?void 0:A.msg)??"操作成功"),a==null||a.commitProxy("reload")})})},es=(e,t,o)=>{var n,l,c;if(!(((n=e.message)==null?void 0:n.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.path){E("请提供远程组件地址");return}const s={file:((l=e.pageData)==null?void 0:l.path)||"",ajaxParams:((c=e.pageData)==null?void 0:c.queryParams)||{},"onUpdate:close":()=>{ie.close(),o==null||o.commitProxy("reload")}};le(et,s,{...e.message,beforeClose:(i,u,d)=>{d(),o==null||o.commitProxy("reload")}})},ts=(e,t,o,a)=>{var c,i,u,d,_,h;if(!(((c=e.message)==null?void 0:c.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.path){E("请提供远程组件地址");return}let n=((i=t.checkboxConfig)==null?void 0:i.labelField)??"";n||(n=((u=t==null?void 0:t.rowConfig)==null?void 0:u.keyField)??"id");const l=y({file:(d=e.pageData)==null?void 0:d.path,ajaxParams:{[n]:o},"onUpdate:close":()=>{ie.close(),a==null||a.commitProxy("reload")}});((_=e.pageData)==null?void 0:_.queryParams)instanceof Object&&(l.value.ajaxParams={...(h=e.pageData)==null?void 0:h.queryParams}),le(et,l.value,{...e.message,beforeClose:(g,m,f)=>{f(),a==null||a.commitProxy("reload")}})},os=(e,t,o,a)=>{var l,c;if(!(((l=e.message)==null?void 0:l.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.path){E("请提供远程组件地址");return}const n=y({file:(c=e.pageData)==null?void 0:c.path,ajaxParams:t,"onUpdate:close":()=>{ie.close(),a==null||a.commitProxy("reload")}});le(et,n.value,{...e.message,beforeClose:(i,u,d)=>{d(),a==null||a.commitProxy("reload")}})},as=(e,t,o)=>{var n,l,c,i;if(!(((n=e.message)==null?void 0:n.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供信息模态框接口");return}const s={api:((l=e.pageData)==null?void 0:l.api)||"",method:((c=e.pageData)==null?void 0:c.method)||"GET",ajaxParams:((i=e.pageData)==null?void 0:i.queryParams)||{}};le(yt,s,{...e.message,beforeClose:(u,d,_)=>{_(),o==null||o.commitProxy("reload")}})},ns=(e,t,o,a)=>{var i,u,d,_,h,g;if(!(((i=e.message)==null?void 0:i.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供模态框接口");return}let n=((u=t.checkboxConfig)==null?void 0:u.labelField)??"";n||(n=((d=t==null?void 0:t.rowConfig)==null?void 0:d.keyField)??"id");const l=y({api:(_=e.pageData)==null?void 0:_.api,method:((h=e.pageData)==null?void 0:h.method)||"GET",ajaxParams:{[n]:o}}),c=((g=e==null?void 0:e.pageData)==null?void 0:g.queryParams)??"";c instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...c}),le(yt,l.value,{...e.message,beforeClose:(m,f,v)=>{v(),a==null||a.commitProxy("reload")}})},ss=(e,t,o,a)=>{var c,i,u,d,_;if(!(((c=e.message)==null?void 0:c.title)||"")){E("信息模态框标题不能为空");return}if(!e.pageData.api){E("请提供信息模态框接口");return}const n=y({api:((i=e.pageData)==null?void 0:i.api)||"",method:((u=e.pageData)==null?void 0:u.method)||"GET",ajaxParams:{...t}}),l=((d=e.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(n.value.ajaxParams={...n.value.ajaxParams,...l}),(_=n.value.ajaxParams)!=null&&_.isBack&&delete n.value.ajaxParams.isBack,le(yt,n.value,{...e.message,beforeClose:(h,g,m)=>{m(),a==null||a.commitProxy("reload")}})},ls=(e,t,o)=>{var n,l,c,i;if(!(((n=e.message)==null?void 0:n.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供表格模态框接口");return}const s={api:((l=e.pageData)==null?void 0:l.api)||"",method:((c=e.pageData)==null?void 0:c.method)||"GET",ajaxParams:((i=e.pageData)==null?void 0:i.queryParams)||{}};le(wt,s,{...e.message,beforeClose:(u,d,_)=>{_(),o==null||o.commitProxy("reload")}})},rs=(e,t,o,a)=>{var c,i,u,d,_,h,g;if(!(((c=e.message)==null?void 0:c.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供模态框接口");return}let n=((i=t.checkboxConfig)==null?void 0:i.labelField)??"";n||(n=((u=t==null?void 0:t.rowConfig)==null?void 0:u.keyField)??"id");const l=y({api:(d=e.pageData)==null?void 0:d.api,method:((_=e.pageData)==null?void 0:_.method)||"GET",ajaxParams:{[n]:o}});((h=e.pageData)==null?void 0:h.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(g=e.pageData)==null?void 0:g.queryParams}),le(wt,l.value,{...e.message,beforeClose:(m,f,v)=>{v(),a==null||a.commitProxy("reload")}})},cs=(e,t,o,a)=>{var c,i,u,d;if(!(((c=e.message)==null?void 0:c.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供模态框接口");return}const n=y({api:(i=e.pageData)==null?void 0:i.api,method:((u=e.pageData)==null?void 0:u.method)||"GET",ajaxParams:{...t}}),l=((d=e==null?void 0:e.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(n.value.ajaxParams={...n.value.ajaxParams,...l}),le(wt,n.value,{...e.message,beforeClose:(_,h,g)=>{g(),a==null||a.commitProxy("reload")}})},is=(e,t,o,a)=>{},us=(e,t,o)=>{var a;switch((a=t.pageData)==null?void 0:a.type){case"page":zn(t);break;case"link":Hn(t);break;case"down":break;case"confirm":Gn(t,e,o);break;case"modal":Qn(t,e,o);break;case"info":as(t,e,o);break;case"table":ls(t,e,o);break;case"remote":es(t,e,o);break;default:E("按钮类型错误");break}},ds=(e,t,o)=>{var c,i,u,d;const a=(c=e.columns)==null?void 0:c.filter(_=>_.type==="checkbox");if(!(a!=null&&a.length)){E("请先开启批量操作");return}const s=(o==null?void 0:o.getCheckboxRecords())??[];if(s.length<=0){E("请选择数据");return}let n=((i=e.checkboxConfig)==null?void 0:i.labelField)??"";n||(n=((u=e==null?void 0:e.rowConfig)==null?void 0:u.keyField)??"id");const l=s.map(_=>_[n]);switch((d=t.pageData)==null?void 0:d.type){case"link":Wn(t,e,l);break;case"down":break;case"confirm":Kn(t,e,l,o);break;case"remote":ts(t,e,l,o);break;case"modal":Zn(t,e,l,o);break;case"info":ns(t,e,l,o);break;case"table":rs(t,e,l,o);break;default:E("按钮类型错误");break}},Mt=(e,t,o,a,s)=>{var c,i;if(!a){E("行参数出错");return}const n=y({}),l=((c=t.pageData)==null?void 0:c.queryParams)??"";switch(l instanceof Object&&(n.value={...l}),n.value={...n.value,...qn(t,o,a,e)},(i=t.pageData)==null?void 0:i.type){case"page":Nn(t,n.value);break;case"link":Xn(t,n.value);break;case"down":is(t,n.value);break;case"confirm":Yn(t,n.value,e,s);break;case"modal":Jn(t,n.value,e,s);break;case"info":ss(t,n.value,e,s);break;case"table":cs(t,n.value,e,s);break;case"remote":os(t,n.value,e,s);break;default:E("按钮类型错误");break}};const ps=()=>{const e=ye(),t=Me(),o=(e==null?void 0:e.routeList)??[],a=[];for(const s of o){const n=`${t}${s.path}`;a.push(n)}return a},kt=e=>{const t=ps();return qe(e,t)},ms={class:"button-group"},_s={class:"pr-1"},fs={class:"no-group-buttons"},hs=I({__name:"index",props:{xGrid:{},column:{},rightButtonList:{},gridConfig:{},row:{}},setup(e){var m;const t=e,o=S(()=>{var f;return((f=t.column.params)==null?void 0:f.buttonGroupIcon)??"Operation"}),a=S(()=>{var f;return((f=t.column.params)==null?void 0:f.buttonGroupIconType)??"element"}),s={type:"primary",size:"small"},n=y(((m=t.column.params)==null?void 0:m.buttonStyle)??s),l=S(()=>t.rightButtonList.filter(f=>{var v,j;return((v=f.pageData)==null?void 0:v.group)||((j=t.column.params)==null?void 0:j.group)})),c=S(()=>t.rightButtonList.filter(f=>{var v;return!((v=f.pageData)!=null&&v.group)})),i=S(()=>{var f;return((f=t.column.params)==null?void 0:f.groupText)||"更多"}),u=S(()=>f=>{var C,$,x,J,Z,se,ce;const v=((C=f.pageData)==null?void 0:C.api)??"";if(!kt(v))return!1;const j=((x=($=f==null?void 0:f.pageData)==null?void 0:$.params)==null?void 0:x.where)??"",A=(Z=(J=f==null?void 0:f.pageData)==null?void 0:J.params)==null?void 0:Z.field,B=(ce=(se=f==null?void 0:f.pageData)==null?void 0:se.params)==null?void 0:ce.value;if(A===void 0&&B===void 0)return!0;if(A===void 0||A===""||A&&(B===void 0||B===""))return!1;const R=t.row[A];switch(j){case"!=":return B!==R;case"in":return B instanceof Array&&qe(R,B);case"notIn":return B instanceof Array&&!qe(R,B);default:return B===R}}),d=["","primary","success","info","warning","danger"],_=S(()=>f=>{const v={...f};return v!=null&&v.icon&&delete v.icon,v.type==="error"&&(v.type="danger"),d.includes(v.type)||(v.type=""),v}),h=f=>{Mt(t.gridConfig,f,t.column,t.row,t.xGrid)},g=f=>{Mt(t.gridConfig,f,t.column,t.row,t.xGrid)};return(f,v)=>{const j=te,A=Re,B=T("el-dropdown-item"),R=T("el-dropdown-menu"),C=T("el-dropdown"),$=T("el-button");return p(),b("div",ms,[r(l).length?(p(),D(C,{key:0,onCommand:h},{dropdown:w(()=>[k(R,null,{default:w(()=>[(p(!0),b(H,null,ne(r(l),(x,J)=>ut((p(),D(B,{key:J,command:x},{default:w(()=>{var Z,se,ce;return[(Z=x==null?void 0:x.button)!=null&&Z.icon?(p(),D(j,{key:0,icon:(se=x==null?void 0:x.button)==null?void 0:se.icon,type:(ce=x==null?void 0:x.button)==null?void 0:ce.iconType},null,8,["icon","type"])):L("",!0),P("span",null,F(x.title),1)]}),_:2},1032,["command"])),[[dt,r(u)(x)]])),128))]),_:1})]),default:w(()=>[k(A,X({type:"danger",class:"mr-2"},r(n)),{default:w(()=>[P("span",_s,F(r(i)),1),r(o)?(p(),D(j,{key:0,icon:r(o),type:r(a)},null,8,["icon","type"])):(p(),D(j,{key:1,icon:"ArrowDown",type:"element"}))]),_:1},16)]),_:1})):L("",!0),P("div",fs,[(p(!0),b(H,null,ne(r(c),(x,J)=>{var Z;return ut((p(),b("div",{key:J,class:"item"},[(p(),D($,X({key:J},r(_)((x==null?void 0:x.button)??{}),{onClick:se=>g(x)}),Ke({default:w(()=>[q(" "+F(x.title),1)]),_:2},[(Z=x==null?void 0:x.button)!=null&&Z.icon?{name:"icon",fn:w(()=>{var se,ce,xe;return[(se=x==null?void 0:x.button)!=null&&se.icon?(p(),D(j,{key:0,icon:(ce=x==null?void 0:x.button)==null?void 0:ce.icon,type:((xe=x==null?void 0:x.button)==null?void 0:xe.iconType)??""},null,8,["icon","type"])):L("",!0)]}),key:"0"}:void 0]),1040,["onClick"]))])),[[dt,r(u)(x)]])}),128))])])}}});const gs=M(hs,[["__scopeId","data-v-c608c6af"]]),vs={class:"flex space-x-2"},ys=I({__name:"index",props:{xGrid:{},topButtonList:{},gridConfig:{}},setup(e){const t=e,o=S(()=>t.topButtonList.filter(s=>{var n;return!((n=s.pageData)!=null&&n.group)})),a=S(()=>s=>{var l;const n=((l=s.pageData)==null?void 0:l.api)??"";return!!kt(n)});return(s,n)=>{const l=te,c=Re,i=T("el-space");return p(),b("div",vs,[r(o).length?(p(),D(i,{key:0},{default:w(()=>[(p(!0),b(H,null,ne(r(o),(u,d)=>{var _;return p(),b(H,null,[r(a)(u)?(p(),D(c,X({key:d,type:"primary"},(u==null?void 0:u.button)??{},{onClick:h=>r(us)(t.gridConfig,u,s.xGrid)}),Ke({default:w(()=>[q(" "+F(u.title),1)]),_:2},[(_=u==null?void 0:u.button)!=null&&_.icon?{name:"icon",fn:w(()=>{var h,g;return[k(l,{icon:(h=u==null?void 0:u.button)==null?void 0:h.icon,type:(g=u==null?void 0:u.button)==null?void 0:g.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):L("",!0)],64)}),256))]),_:1})):L("",!0)])}}}),xs={class:"flex space-x-2"},ks=I({__name:"index",props:{xGrid:{},gridConfig:{},selectButtonList:{}},setup(e){const t=e,o=S(()=>{var n;return((n=t.selectButtonList)==null?void 0:n.filter(l=>{var c;return!((c=l.pageData)!=null&&c.group)}))||[]}),a=S(()=>n=>{const l={...n};return l!=null&&l.icon&&delete l.icon,l}),s=S(()=>n=>{var c;const l=((c=n.pageData)==null?void 0:c.api)??"";return!!kt(l)});return(n,l)=>{const c=te,i=Re,u=T("el-space");return p(),b("div",xs,[r(o).length?(p(),D(u,{key:0},{default:w(()=>[(p(!0),b(H,null,ne(r(o),(d,_)=>{var h;return p(),b(H,null,[r(s)(d)?(p(),D(i,X({key:_,type:"primary"},r(a)((d==null?void 0:d.button)??{}),{onClick:g=>r(ds)(t.gridConfig,d,n.xGrid)}),Ke({default:w(()=>[q(" "+F(d.title),1)]),_:2},[(h=d==null?void 0:d.button)!=null&&h.icon?{name:"icon",fn:w(()=>{var g,m;return[k(c,{icon:(g=d==null?void 0:d.button)==null?void 0:g.icon,type:(m=d==null?void 0:d.button)==null?void 0:m.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):L("",!0)],64)}),256))]),_:1})):L("",!0)])}}}),ws={class:"flex space-x-3"},bs={key:1,class:"flex space-x-1"},Cs=I({__name:"index",props:{xGrid:{},gridConfig:{},topButton:{},topButtonList:{},selectButtonList:{}},setup(e){const t=ge();return(o,a)=>{var n,l,c;const s=Re;return p(),b("div",ws,[(n=r(t).query)!=null&&n.isBack?(p(),D(s,{key:0,type:"primary",onClick:r(Ge)},{default:w(()=>[q(" 返回 ")]),_:1},8,["onClick"])):L("",!0),o.topButtonList.length||(l=o.selectButtonList)!=null&&l.length?(p(),b("div",bs,[o.topButtonList.length?(p(),D(ys,Q(X({key:0},{xGrid:o.xGrid,gridConfig:o.gridConfig,topButtonList:o.topButtonList})),null,16)):L("",!0),(c=o.selectButtonList)!=null&&c.length?(p(),D(ks,Q(X({key:1},{xGrid:o.xGrid,gridConfig:o.gridConfig,selectButtonList:o.selectButtonList})),null,16)):L("",!0)])):L("",!0)])}}}),Ps=e=>(Ae("data-v-c11e2f2f"),e=e(),je(),e),$s=Ps(()=>P("div",null,null,-1)),Ds={class:"assets-container"},Is={class:"item"},As=["src"],js=["src"],Bs=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){const t=e,o="",a=S(()=>{var n,l;return((l=(n=t.column)==null?void 0:n.params)==null?void 0:l.resource)??[]}),s=S(()=>re(t.column,t.row));return(n,l)=>{const c=te,i=T("el-tooltip");return p(),b(H,null,[$s,P("div",Ds,[(p(!0),b(H,null,ne(r(a),(u,d)=>(p(),D(i,{key:d,show:u==null?void 0:u.isUpdate,trigger:"hover",placement:"top"},{content:w(()=>[q(F((u==null?void 0:u.title)??"错误"),1)]),default:w(()=>[P("div",Is,[(u==null?void 0:u.type)==="url"&&r(bt)(u==null?void 0:u.icon)?(p(),b("img",{key:0,class:"logo",src:u==null?void 0:u.icon},null,8,As)):(u==null?void 0:u.type)==="path"?(p(),b("img",{key:1,class:"logo",src:`${r(o)}${u==null?void 0:u.icon}`},null,8,js)):(p(),D(c,{key:2,icon:u.icon},null,8,["icon"])),P("span",null,F(r(s)[u.field]??"字段错误"),1)])]),_:2},1032,["show"]))),128))])],64)}}});const Ss=M(Bs,[["__scopeId","data-v-c11e2f2f"]]),Es=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(e){var s,n;const t=e,o=S(()=>re(t.column,t.row)),a=y(((n=(s=t.column)==null?void 0:s.params)==null?void 0:n.props)??{});return(l,c)=>{const i=te;return p(),D(i,X({icon:r(o)},r(a)),null,16,["icon"])}}}),Ts={class:"xh-image-error"},Vs=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(e){var s,n,l;const t=e,o=S(()=>re(t.column,t.row)),a=y(((n=(s=t.column)==null?void 0:s.params)==null?void 0:n.props)??{});return(l=a.value)!=null&&l.style||(a.value.style={width:"30px",height:"30px"}),(c,i)=>{const u=te,d=T("el-image");return p(),D(d,X(r(a),{src:r(o),"preview-src-list":r(a).preview?[r(o)]:[],class:"xh-table-image"}),{error:w(()=>[P("div",Ts,[k(u,{icon:"Picture",type:"element"})])]),_:1},16,["src","preview-src-list"])}}});const Us=M(Vs,[["__scopeId","data-v-4693f0c1"]]),Rs=e=>(Ae("data-v-c9527392"),e=e(),je(),e),Ls={class:"xh-image-error"},Ms=Rs(()=>P("span",null,"加载失败",-1)),Fs=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(e){var l,c,i;const t=e,o=S(()=>{var u;return((u=t.column.params)==null?void 0:u.previewDisabled)??!0}),a=S(()=>{const u=re(t.column,t.row);return u instanceof Array?u.map(d=>d.url):[]}),s=S(()=>{var _;const u=((_=t.column.params)==null?void 0:_.is2d)??!1,d=re(t.column,t.row);return d instanceof Array&&d.length>0?u?d.map(h=>h.url):d:[]}),n=y(((c=(l=t.column)==null?void 0:l.params)==null?void 0:c.props)??{});return(i=n.value)!=null&&i.style||(n.value.style={width:"30px",height:"30px"}),(u,d)=>{const _=te,h=T("el-image");return p(!0),b(H,null,ne(r(s),(g,m)=>(p(),D(h,X(r(n),{key:m,src:g==null?void 0:g.url,"preview-src-list":r(o)?[]:r(a)}),{error:w(()=>[P("div",Ls,[k(_,{icon:"Picture",type:"element"}),Ms])]),_:2},1040,["src","preview-src-list"]))),128)}}});const Os=M(Fs,[["__scopeId","data-v-c9527392"]]),qs=e=>(Ae("data-v-50a2462d"),e=e(),je(),e),zs={class:"xh-image-error"},Ns=qs(()=>P("span",null,"加载失败",-1)),Hs=I({__name:"index",props:{column:{},row:{}},setup(e){var l,c,i;const t=e,o=S(()=>{var u;return((u=t.column.params)==null?void 0:u.previewDisabled)??!0}),a=S(()=>{const u=re(t.column,t.row);return u instanceof Array?u.map(d=>d.url):[]}),s=S(()=>{const u=re(t.column,t.row);return u instanceof Array&&u.length>0?u[0]:[]}),n=y(((c=(l=t.column)==null?void 0:l.params)==null?void 0:c.props)??{});return(i=n.value)!=null&&i.style||(n.value.style={width:"30px",height:"30px"}),(u,d)=>{var g;const _=te,h=T("el-image");return p(),D(h,X(r(n),{src:(g=r(s))==null?void 0:g.url,"preview-src-list":r(o)?[]:r(a)}),{error:w(()=>[P("div",zs,[k(_,{icon:"Picture",type:"element"}),Ns])]),_:1},16,["src","preview-src-list"])}}});const Ws=M(Hs,[["__scopeId","data-v-50a2462d"]]),Xs=I({__name:"index",props:{isBorder:{type:Boolean,default:!1},border:{default:"1px solid #b179ff"}},setup(e){Be(a=>({"564a0163":r(o)}));const t=e,o=S(()=>t.isBorder?t.border:"");return(a,s)=>{const n=T("el-input");return p(),D(n,{class:ve({"xh-input":a.isBorder})},null,8,["class"])}}});const Qs=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){var l,c;const t=e,o=S(()=>re(t.column,t.row)),a=y(""),s=y(((c=(l=t.column)==null?void 0:l.params)==null?void 0:c.props)??{}),n=i=>{var g,m,f,v;const u=De("rowEdit",!0),d=((g=t.column.params)==null?void 0:g.api)??u,_=((f=(m=t.gridConfig)==null?void 0:m.rowConfig)==null?void 0:f.keyField)??"id",h={[_]:t.row[_],keyField:_,field:(v=t.column)==null?void 0:v.field,value:i};Le(d,h,t.xGrid)};return(i,u)=>{const d=Xs;return p(),D(d,X({modelValue:r(a),"onUpdate:modelValue":u[0]||(u[0]=_=>me(a)?a.value=_:null),value:r(o),placeholder:"请输入"},r(s),{"is-border":!0,onChange:n}),null,16,["modelValue","value"])}}}),Zs=I({__name:"index",setup(e){return(t,o)=>{const a=T("el-input-number");return p(),D(a)}}}),Js=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){var c,i;const t=e,o=S(()=>re(t.column,t.row)),a=S(()=>{var u;return((u=t.column.params)==null?void 0:u.isMessage)??!1}),s=y(o),n=y(((i=(c=t.column)==null?void 0:c.params)==null?void 0:i.props)??{}),l=u=>{var m,f,v,j;const d=De("rowEdit",!0),_=((m=t.column.params)==null?void 0:m.api)??d,h=((v=(f=t.gridConfig)==null?void 0:f.rowConfig)==null?void 0:v.keyField)??"id",g={[h]:t.row[h],keyField:h,field:(j=t.column)==null?void 0:j.field,value:u};Le(_,g,t.xGrid,a.value)};return(u,d)=>{const _=Zs;return p(),D(_,X({modelValue:r(s),"onUpdate:modelValue":d[0]||(d[0]=h=>me(s)?s.value=h:null),value:r(o)},r(n),{onChange:l}),null,16,["modelValue","value"])}}}),Gs=I({__name:"index",props:{column:{},row:{}},setup(e){const t=e,o=S(()=>{var l;const n=((l=t.column)==null?void 0:l.params)??{};return n!=null&&n.type||delete n.type,n}),a=S(()=>{var n,l;return((l=(n=t.column)==null?void 0:n.params)==null?void 0:l.format)??"￥"}),s=S(()=>re(t.column,t.row));return(n,l)=>(p(),b("div",Q(ee(r(o))),F(r(a))+F(r(Et).commafy(r(Et).toNumber(r(s)),{digits:2})),17))}}),ro={vue:null},Ks=(e,t,o)=>ie.alert(e,{confirmButtonText:"确定",type:t,...o}),Ys=(e,t,o)=>{Eo({message:e,type:t,...o})},el=(e,t)=>To.service({text:e,...t}),tl=(e,t,o)=>ie({customStyle:{width:"45%",height:"500px"},showClose:!0,title:" ",...o,closeOnClickModal:!1,customClass:"xh-modal-mask",message:()=>Fe(et,{file:e,ajaxParams:t,"onUpdate:close":()=>{ie.close()}})}),ol={web_name:"",web_title:""},ue=Xt("app",()=>{const t=`/${Me()}/Publics/site`,o=Se(),a=y({...ol}),s=y(),n=i=>{a.value=i};return{useAppId:o,siteInfo:a,getSite:async()=>{const{data:i}=await Ce(t);return n(i),i},setSiteInfo:n,setLoginLink:i=>{s.value=i}}}),al=(e,t)=>{na.render(e).then(o=>{const a=document.createElement("style");if(a.setAttribute("type","text/css"),a.setAttribute("id",`css${t}`),a.styleSheet)a.styleSheet.cssText=o.css;else{const n=document.createTextNode(o.css);a.appendChild(n)}const s=document.getElementsByTagName("head");s.length?s[0].appendChild(a):document.documentElement.appendChild(a)})},nl=e=>({templates:e.match(/<template>([\s\S]*)<\/template>/)[1],sctipts:e.match(/<script.*>([\s\S]*)<\/script>/)[1],styles:e.match(/<style.*>([\s\S]*)<\/style>/)[1],stylesHasScoped:e.match(/<style.*scoped>([\s\S]*)<\/style>/)!==null}),sl=()=>{const e=ro.vue,t=ht(),o=ge(),a=ye(),s=ue(),n=Me(),l=ra(),c=la({locale:"fr-FR",messages:{}},l);e.config.globalProperties.$intl=c,e.config.globalProperties.$moduleName=n,e.config.globalProperties.$userApp=a,e.config.globalProperties.$siteApp=s,e.config.globalProperties.$routeApp=o,e.config.globalProperties.$routerApp=t,e.config.globalProperties.$axios=da,e.config.globalProperties.$http={useGet:Ce,usePost:Ue,usePut:Ze,useDelete:Je},e.config.globalProperties.$useGet=Ce,e.config.globalProperties.$usePost=Ue,e.config.globalProperties.$usePut=Ze,e.config.globalProperties.$useDelete=Je,e.config.globalProperties.$echarts=sa,e.config.globalProperties.$useKeyCodeEvent=Bc,e.component("XRemote")===void 0&&e.component("XRemote",fe),e.component("AppIcons")===void 0&&e.component("AppIcons",te),e.config.globalProperties.$useAlert=Ks,e.config.globalProperties.$useConfirm=Pe,e.config.globalProperties.$useMessage=Ys,e.config.globalProperties.$useNotify=W,e.config.globalProperties.$useLoading=el,e.config.globalProperties.$useRemote=tl},ll={key:1,class:"remote-fail"},rl=I({__name:"index",props:{file:{},ajaxParams:{},isApi:{type:Boolean},isModal:{type:Boolean}},emits:["update:init","update:modelValue","update:success","update:error","update:close"],setup(e,{emit:t}){const o=e,a=t,s=No(),n=y(o.isApi),l=y(o.file),c=y(),i=y({status:"",content:""}),u=y(""),d=y(lt()),_=(R,C,$)=>{const x=nl(C),J=x.sctipts.indexOf("{"),Z=x.sctipts.lastIndexOf("}"),se=x.sctipts.slice(J,Z+1),ce=new Function(`return ${se}`)();if(!ce){i.value.status="code",i.value.content="远程组件代码格式解析失败";return}if(ce.template=x==null?void 0:x.templates,R.setAttribute("class",`remote css${$}`),!document.querySelector(`style[id=css${$}]`)){let xe="";x.stylesHasScoped?xe=`
            .css${$}{
                ${x.styles}
            }
        `:xe=x.styles,al(xe,$)}return sl(),ce},h=S(()=>{if(i.value.status==="config"){i.value.content="请先配置远程文件";return}if(!u.value){i.value.content="正在加载中...";return}if(u.value==="fail"){i.value.content="远程组件加载失败";return}return _(c.value,u.value,d.value)}),g=R=>{a("update:modelValue",R)},m=()=>{const R=Date.now(),C=`${l.value}.vue?t=${R}`;Ce(C).then($=>{u.value=$,i.value.status="success",a("update:init",$)}).catch($=>{i.value.content=($==null?void 0:$.msg)||"远程组件加载失败",i.value.status="fail",a("update:error",$),console.error($)})},f=()=>{const R=y({});o.ajaxParams&&(R.value={...o.ajaxParams}),Ce(l.value,R.value).then(C=>{u.value=C==null?void 0:C.data,i.value.status="success",a("update:init",C==null?void 0:C.data)}).catch(C=>{i.value.content=(C==null?void 0:C.msg)||"远程组件加载失败",i.value.status="fail",a("update:error",C),console.error(C)})},v=()=>{if(!l.value){i.value.status="config",i.value.content="请先配置远程文件";return}i.value.status="loading",n.value?f():m()},j=R=>{n.value=!1,l.value=R,d.value=lt(),v()},A=()=>{d.value=lt(),v()},B=()=>{o!=null&&o.isModal&&a("update:close")};return $e(()=>v()),(R,C)=>{const $=T("el-empty");return p(),b("div",{ref_key:"remoteRef",ref:c},[r(i).status==="success"?(p(),D(Qt(r(h)),X({key:0},{...r(s),...R.ajaxParams},{"onUpdate:modelValue":g,"onUpdate:openWin":j,"onUpdate:reloadWin":A,"onUpdate:closeWin":B}),null,16)):(p(),b("div",ll,[k($,{description:r(i).content},null,8,["description"])]))],512)}}});const fe=M(rl,[["__scopeId","data-v-5c5f6a22"]]),cl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){var l;const t=e,o=S(()=>{var c,i;return(i=(c=t.column)==null?void 0:c.params)==null?void 0:i.file}),a=((l=t.column)==null?void 0:l.field)??"",s=S(()=>re(t.column,t.row)),n=c=>{var h,g,m,f;const i=De("rowEdit",!0),u=((h=t.column.params)==null?void 0:h.api)??i,d=((m=(g=t.gridConfig)==null?void 0:g.rowConfig)==null?void 0:m.keyField)??"id",_={[d]:t.row[d],keyField:d,field:(f=t.column)==null?void 0:f.field,value:c};Le(u,_,t.xGrid)};return(c,i)=>{const u=fe;return p(),D(u,X({modelValue:r(s),"onUpdate:modelValue":i[0]||(i[0]=d=>me(s)?s.value=d:null),file:r(o)},{column:c.column,field:r(a),row:c.row},{"onUpdate:value":n}),null,16,["modelValue","file"])}}}),il={key:0,class:"tabs-container"},ul={class:"tabs-list"},dl=["onClick"],pl={class:"pl-1"},ml=I({__name:"index",props:{xGrid:{},gridConfig:{},tabsConfig:{}},setup(e){var i;const t=e,o=ge(),a=ht(),s=((i=t.tabsConfig)==null?void 0:i.field)??"",n=o==null?void 0:o.query[s],l=S(()=>{var u;return n??((u=t.tabsConfig)==null?void 0:u.active)}),c=u=>{a.push({query:{[s]:u.value}})};return(u,d)=>{var g,m;const _=te,h=T("el-space");return(m=(g=u.tabsConfig)==null?void 0:g.list)!=null&&m.length?(p(),b("div",il,[P("div",ul,[k(h,null,{default:w(()=>[(p(!0),b(H,null,ne(u.tabsConfig.list,(f,v)=>(p(),b("div",{key:v,class:ve(["item",{active:r(l)===(f==null?void 0:f.value)}]),onClick:j=>c(f)},[f!=null&&f.icon?(p(),D(_,{key:0,icon:f==null?void 0:f.icon},null,8,["icon"])):L("",!0),P("span",pl,F((f==null?void 0:f.label)??"错误"),1)],10,dl))),128))]),_:1})])])):L("",!0)}}});const _l=M(ml,[["__scopeId","data-v-ae382a3c"]]),fl=I({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{}},setup(e){const t=ht(),o=ge(),a=s=>{t.push({path:o.fullPath,query:{...o.query,...s.data}})};return(s,n)=>{var c;const l=T("vxeForm");return p(),D(l,{items:s.formScreen.items,data:(c=s.formScreen)==null?void 0:c.data,onSubmit:a},null,8,["items","data"])}}}),hl=I({__name:"index",props:{gridConfig:{},xGrid:{},formRemote:{}},setup(e){return(t,o)=>{var s,n;const a=fe;return p(),D(a,X({file:((s=t.formRemote)==null?void 0:s.file)||""},{ajaxParams:(n=t.formRemote)==null?void 0:n.ajaxParams}),null,16,["file"])}}}),gl={class:"form-tabs-container"},vl=I({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{},formRemote:{},tabsConfig:{}},setup(e){return(t,o)=>{var l,c,i,u;const a=hl,s=fl,n=_l;return p(),b("div",gl,[(l=t.formRemote)!=null&&l.file?(p(),D(a,Q(X({key:0},{gridConfig:t.gridConfig,formRemote:t.formRemote,xGrid:t.xGrid})),null,16)):L("",!0),(c=t.formScreen)!=null&&c.data?(p(),D(s,Q(X({key:1},{gridConfig:t.gridConfig,formScreen:t.formScreen,xGrid:t.xGrid})),null,16)):L("",!0),(u=(i=t.tabsConfig)==null?void 0:i.list)!=null&&u.length?(p(),D(n,Q(X({key:2},{gridConfig:t.gridConfig,tabsConfig:t.tabsConfig,xGrid:t.xGrid})),null,16)):L("",!0)])}}});const yl=M(vl,[["__scopeId","data-v-4bb9ed66"]]),xl=["innerHTML"],kl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){var s,n;const t=e,o=S(()=>re(t.column,t.row)),a=y(((n=(s=t.column)==null?void 0:s.params)==null?void 0:n.props)??{});return(l,c)=>(p(),b("div",X(r(a),{innerHTML:r(o)}),null,16,xl))}}),wl=I({__name:"index",props:{options:{},value:{default:""}},setup(e){const t=e,o=S(()=>t.value);return(a,s)=>{const n=T("el-option"),l=T("el-select");return p(),D(l,{modelValue:r(o),"onUpdate:modelValue":s[0]||(s[0]=c=>me(o)?o.value=c:null),placeholder:"请选择"},{default:w(()=>[(p(!0),b(H,null,ne(a.options,c=>(p(),D(n,{key:c.value,label:c.label,value:c.value,disabled:c.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])}}}),bl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){var n;const t=e,o=S(()=>re(t.column,t.row)),a=y(((n=t.column)==null?void 0:n.params)??{}),s=l=>{var _,h,g,m;const c=De("rowEdit",!0),i=((_=t.column.params)==null?void 0:_.api)??c,u=((g=(h=t.gridConfig)==null?void 0:h.rowConfig)==null?void 0:g.keyField)??"id",d={[u]:t.row[u],keyField:u,field:(m=t.column)==null?void 0:m.field,value:l};Le(i,d,t.xGrid)};return(l,c)=>{var u,d;const i=wl;return(d=(u=r(a))==null?void 0:u.options)!=null&&d.length?(p(),D(i,X({key:0,value:r(o)},r(a),{onChange:s}),null,16,["value"])):L("",!0)}}}),Cl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){const t=e,o=S(()=>re(t.column,t.row)),a=s=>{var u,d,_,h;const n=De("rowEdit",!0),l=((u=t.column.params)==null?void 0:u.api)??n,c=((_=(d=t.gridConfig)==null?void 0:d.rowConfig)==null?void 0:_.keyField)??"id",i={[c]:t.row[c],keyField:c,field:(h=t.column)==null?void 0:h.field,value:s};Le(l,i,t.xGrid)};return(s,n)=>{var c,i,u,d,_,h,g,m,f,v,j,A,B,R,C,$,x,J;const l=T("el-switch");return p(),D(l,{modelValue:r(o),"onUpdate:modelValue":n[0]||(n[0]=Z=>me(o)?o.value=Z:null),"active-action-icon":((u=(i=(c=s.column)==null?void 0:c.params)==null?void 0:i.checked)==null?void 0:u.icon)??"","active-text":(h=(_=(d=s.column)==null?void 0:d.params)==null?void 0:_.checked)==null?void 0:h.text,"active-value":(f=(m=(g=s.column)==null?void 0:g.params)==null?void 0:m.checked)==null?void 0:f.value,"inactive-action-icon":((A=(j=(v=s.column)==null?void 0:v.params)==null?void 0:j.unchecked)==null?void 0:A.icon)??"","inactive-text":(C=(R=(B=s.column)==null?void 0:B.params)==null?void 0:R.unchecked)==null?void 0:C.text,"inactive-value":(J=(x=($=s.column)==null?void 0:$.params)==null?void 0:x.unchecked)==null?void 0:J.value,"inline-prompt":"",onChange:a},null,8,["modelValue","active-action-icon","active-text","active-value","inactive-action-icon","inactive-text","inactive-value"])}}}),Pl=I({__name:"index",props:{column:{},row:{}},setup(e){const t=e,o=S(()=>re(t.column,t.row)),a=S(()=>{var l;return(l=t.column.params)!=null&&l.options?t.column.params.options[o.value]||"标签错误":"选项错误"}),s=["primary","success","info","warning","danger"],n=S(()=>{const l={style:{},...t.column.params??{}};l!=null&&l.type&&delete l.type;const c=S(()=>{var u,d;if(!((u=t.column.params)!=null&&u.style))return;const i=(d=t.column.params)==null?void 0:d.style[o.value];return i&&!s.includes(i.type)&&delete i.type,i||void 0});return l.style=c.value,l});return(l,c)=>{const i=T("el-tag");return p(),D(i,Q(ee(r(n).style)),{default:w(()=>[q(F(r(a)),1)]),_:1},16)}}}),$l={class:"flex"},Dl=["href","target"],Il=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(e){var n,l;const t=e,o=S(()=>re(t.column,t.row)),a=y(((l=(n=t.column)==null?void 0:n.params)==null?void 0:l.props)??{}),s=()=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(o.value).then(c=>{});else{const c=document.createElement("input");c.value=o.value,document.body.appendChild(c),c.select(),document.execCommand("Copy"),c.remove()}de("链接复制成功")};return(c,i)=>{var _;const u=te,d=T("el-button");return p(),b("div",$l,[P("a",{href:r(o),target:r(a).target??"_blank"},F(r(a).text?r(a).text:r(o)),9,Dl),(_=r(a))!=null&&_.copy?(p(),D(d,{key:0,type:"primary",size:"small",text:"",onClick:s},{icon:w(()=>[k(u,{icon:"CopyDocument",size:14})]),default:w(()=>[q(" 复制 ")]),_:1})):L("",!0)])}}}),Al=(e,t,o,a)=>{if(t.length<=0){E("请先导入数据");return}if(!e){E("请设置导入API接口");return}Ue(e,{import:o,data:t}).then(n=>{var l;(l=a.xGrid)==null||l.commitProxy("query"),de((n==null?void 0:n.msg)??"操作成功")})},jl=e=>{Te.commands.add("importAllData",{commandMethod:t=>{var n;const{$table:o}=t,a=o==null?void 0:o.getTableData(),s=a==null?void 0:a.fullData;Al(((n=e.vxeTableConfig.importConfig)==null?void 0:n.api)??"",s,"all",e)}})},Bl=P("div",null,"子数据",-1),co=I({__name:"index",props:{api:{},method:{default:"GET"},ajaxParams:{default:void 0}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(e,{emit:t}){const o=e,a=t,s=y(),n=y(),l=y(),c=y(),i=y([]),u=y([]),d=y([]),_=async()=>{const g=y({method:o.method,params:{},data:{}});o.ajaxParams&&(o.method==="GET"?g.value.params=o.ajaxParams:g.value.data=o.ajaxParams),a("update:init",g.value);const m=`${o.api}GetTable`;return await K(m,g.value).then(f=>{const v=f.data;l.value=v==null?void 0:v.realTable,c.value=v==null?void 0:v.tabsConfig,n.value=Mn(o.api,o.method,v.tableConfig,o.ajaxParams,s.value),i.value=v.topButtonList,u.value=v.rightButtonList,d.value=v.selectButtonList,jl({xGrid:s.value,vxeTableConfig:n.value}),a("update:init-ok",v)}).catch(f=>{a("update:init-error",f)})},h=()=>{var g,m,f;if((g=l.value)!=null&&g.enable&&((m=l.value)!=null&&m.time_interval)){const v=((f=l.value)==null?void 0:f.time_interval)*1e3;setInterval(()=>{var j;(j=s.value)==null||j.commitProxy("reload")},v)}};return $e(async()=>{await _(),await h()}),(g,m)=>{var v,j,A,B,R;const f=T("vxe-grid");return(v=r(n))!=null&&v.id?(p(),D(f,X({key:0,ref_key:"xGrid",ref:s,class:"xh-table"},r(n),{onEditClosed:m[0]||(m[0]=({column:C,row:$})=>r(Fn)(C,$,r(n),r(s)))}),Ke({topButtonList:w(({$grid:C})=>[k(r(Cs),Q(ee({gridConfig:r(n),topButtonList:r(i),selectButtonList:r(d),xGrid:C})),null,16)]),rightButtonList:w(({row:C,column:$,$grid:x})=>[k(r(gs),Q(ee({gridConfig:r(n),rightButtonList:r(u),row:C,column:$,xGrid:x})),null,16)]),childrenData:w(()=>[Bl]),html:w(({row:C,column:$,$grid:x})=>[k(r(kl),Q(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),remote:w(({row:C,column:$,$grid:x})=>[k(r(cl),Q(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),tags:w(({row:C,column:$,$grid:x})=>[k(r(Pl),Q(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),link:w(({row:C,column:$,$grid:x})=>[k(r(Il),Q(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),input:w(({row:C,column:$,$grid:x})=>[k(r(Qs),Q(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),InputNumber:w(({row:C,column:$,$grid:x})=>[k(r(Js),Q(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),assets:w(({row:C,column:$,$grid:x})=>[k(r(Ss),Q(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),money:w(({row:C,column:$,$grid:x})=>[k(r(Gs),Q(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),image:w(({row:C,column:$,$grid:x})=>[k(r(Us),Q(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),images:w(({row:C,column:$,$grid:x})=>[k(r(Os),Q(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),photos:w(({row:C,column:$,$grid:x})=>[k(r(Ws),Q(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),icons:w(({row:C,column:$,$grid:x})=>[k(r(Es),Q(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),switch:w(({row:C,column:$,$grid:x})=>[k(r(Cl),Q(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),select:w(({row:C,column:$,$grid:x})=>[k(r(bl),Q(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),_:2},[(A=(j=r(n))==null?void 0:j.screenRemote)!=null&&A.file||(R=(B=r(c))==null?void 0:B.list)!=null&&R.length?{name:"form",fn:w(({$grid:C})=>{var $,x,J;return[k(r(yl),Q(ee({gridConfig:r(n),xGrid:C,formScreen:{...($=r(n))==null?void 0:$.formConfig,screenConfig:(x=r(n))==null?void 0:x.screenConfig},formRemote:(J=r(n))==null?void 0:J.screenRemote,tabsConfig:r(c)})),null,16)]}),key:"0"}:void 0]),1040)):L("",!0)}}}),Sl={class:"xhadmin-table-pro"},El=I({__name:"table-modal",props:{api:{},method:{},ajaxParams:{}},setup(e){return(t,o)=>(p(),b("div",Sl,[k(r(co),{api:t.api,method:t.method,"ajax-params":t.ajaxParams,"is-modal":!0},null,8,["api","method","ajax-params"])]))}});const wt=M(El,[["__scopeId","data-v-62ed6f04"]]),Tl={class:"xh-modal-container"},Vl=I({__name:"remote-modal",props:{file:{},ajaxParams:{}},emits:["update:close"],setup(e,{emit:t}){const o=t,a=()=>{o("update:close")};return(s,n)=>(p(),b("div",Tl,[k(r(fe),{file:s.file,"ajax-params":s.ajaxParams,"is-modal":!0,"onUpdate:close":a},null,8,["file","ajax-params"])]))}});const et=M(Vl,[["__scopeId","data-v-523e3818"]]),Ul={class:"xhadmin-table-pro"},Rl=I({name:"/table"}),Ll=I({...Rl,setup(e){const t=ge(),o=De(),a=t.meta.method,s=t.query??{};return(n,l)=>(p(),b("div",Ul,[k(r(co),{api:r(o),method:r(a),"ajax-params":r(s)},null,8,["api","method","ajax-params"])]))}});const Ml=M(Ll,[["__scopeId","data-v-a39226b1"]]),Fl=e=>(Ae("data-v-7ca0a0aa"),e=e(),je(),e),Ol={class:"xhadmin-page-pro"},ql={key:0,class:"flex items-center bg-white px-5 py-4 mb-[10px]"},zl=Fl(()=>P("span",{class:"pl-1 text-[16px]"},"返回",-1)),Nl={key:0,class:"pl-20px text-[16px] select-none"},Hl={class:"form-pro flex-1"},Wl=I({name:"/form"}),Xl=I({...Wl,setup(e){const t=ge(),o=y(),a=y(),s=De(),n=t.meta.method,l={...t.query};l!=null&&l.isBack&&(l==null||delete l.isBack);const c=y({...l}),i=y({submitBtn:{},resetBtn:{}}),u=m=>{var v;const f=(v=m==null?void 0:m.response)==null?void 0:v.extraConfig;i.value=f},d=()=>{o.value.submit()},_=()=>{o.value.reset(),de("数据重置完成")},h=()=>{a.value.setDisabled(!0)},g=()=>{a.value.setDisabled(!1)};return(m,f)=>{var j,A,B;const v=te;return p(),b("div",Ol,[(j=r(t).query)!=null&&j.isBack?(p(),b("div",ql,[P("div",{class:"flex items-center cursor-pointer select-none",onClick:f[0]||(f[0]=(...R)=>r(Ge)&&r(Ge)(...R))},[k(v,{icon:"ArrowLeftOutlined",size:16}),zl]),(A=r(t).meta)!=null&&A.title?(p(),b("div",Nl,F((B=r(t).meta)==null?void 0:B.title),1)):L("",!0)])):L("",!0),P("div",Hl,[k(r(vt),{ref_key:"formRef",ref:o,class:"xh-form-create",api:r(s),method:r(n),"ajax-params":r(c),"onUpdate:initOk":u,"onUpdate:submit":h,"onUpdate:submitOk":g,"onUpdate:submitError":g,"onUpdate:restOk":g,"onUpdate:initError":g},null,8,["api","method","ajax-params"])]),k(r(lo),{ref_key:"buttonRef",ref:a,class:"xh-buttons-pro","extra-config":r(i),"onUpdate:submit":d,"onUpdate:rest":_},null,8,["extra-config"])])}}});const Ql=M(Xl,[["__scopeId","data-v-7ca0a0aa"]]),Zl={class:"h-100%"},Jl=I({name:"remote"}),Gl=I({...Jl,setup(e){const o=ge().meta.ajaxParams;return(a,s)=>(p(),b("div",Zl,[k(r(fe),{file:r(o)},null,8,["file"])]))}}),Kl={};function Yl(e,t){return p(),b("div",null," Html内容文件 ")}const er=M(Kl,[["render",Yl]]),tr={class:"h-100%"},or=I({name:"remote"}),ar=I({...or,setup(e){const t=De();return(o,a)=>(p(),b("div",tr,[k(r(fe),{file:r(t),"is-api":!0},null,8,["file"])]))}}),nr=Object.freeze(Object.defineProperty({__proto__:null,formIndex:Ql,htmlIndex:er,remoteIndex:Gl,tableIndex:Ml,vueIndex:ar},Symbol.toStringTag,{value:"Module"})),nt={routeView:()=>be(()=>import("./index.f44b3992.js"),["xhadmin/js/index.f44b3992.js","xhadmin/js/vue.7d38ec30.js","xhadmin/js/@vue.711157a1.js","xhadmin/js/pinia.99400ea4.js","xhadmin/js/element-plus.dfdb5447.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.9ffd8649.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.84d1e291.css","xhadmin/js/vxe-table.f573e5e5.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/@wangeditor.30d2bbb2.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.9fd20fd4.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.032dd06c.js","xhadmin/js/vue-router.815db13b.js","xhadmin/js/@form-create.c32edb5f.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css"]),exceptionView:()=>be(()=>import("./exception.f1dd8c37.js"),["xhadmin/js/exception.f1dd8c37.js","xhadmin/js/vue.7d38ec30.js","xhadmin/js/@vue.711157a1.js","xhadmin/js/pinia.99400ea4.js","xhadmin/js/element-plus.dfdb5447.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.9ffd8649.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.84d1e291.css","xhadmin/js/vxe-table.f573e5e5.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/@wangeditor.30d2bbb2.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.9fd20fd4.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.032dd06c.js","xhadmin/js/vue-router.815db13b.js","xhadmin/js/@form-create.c32edb5f.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css"])},sr=e=>{if(!e)return nt.blankView;if(e in nt)return nt[e];const t=jc(e??"");return nr[t]},lr=e=>{for(const t of e){const o=t.remote,a=o.replace("/","_"),s=()=>Fe(fe,{file:o});s.displayName=a;const n={path:t==null?void 0:t.path,name:a,component:s,meta:{title:(t==null?void 0:t.title)||"未知页面",path:(t==null?void 0:t.path)||"未知路径",pid:0,method:"GET",ajaxParams:{}}};G.addRoute(n)}},rr=e=>{const t=[];for(const o of e)if(o.path){const a={path:`/${o.path}`,name:o.path.replace("/","_"),component:Zt(sr(o.component)),meta:{title:o.title,path:o.path,pid:o.pid,icon:o.icon,method:o.method,ajaxParams:o.auth_params},children:[]};(!a.children||a.children.length<1)&&delete a.children,t.push(a)}return t},io=new Map,uo=(e,t,o)=>{var n;const a=[];let s=[];t?s=e.filter(l=>(l==null?void 0:l.pid)===t):s=e.filter(l=>!l.pid);for(const l of s){const c=o?`${o}-${l.id}`:`${l.id}`;let i=`/${l.path}`;if(l!=null&&l.auth_params&&(l!=null&&l.auth_params.includes("group"))){const _=tt(`?${l==null?void 0:l.auth_params}`);i+=`_group=${_==null?void 0:_.group}`}else l!=null&&l.auth_params&&(i+=`_${l==null?void 0:l.auth_params}`);io.set(i,c);const u={activeId:c,title:l.title,icon:l.icon,ajaxParams:l.auth_params,path:l.path,show:l.show==="1",target:l.target??"_blank",isGroup:!1,children:uo(e,l.id,c)},d=(n=u.children)==null?void 0:n.some(_=>_.show);u.show&&d&&(u.isGroup=!0),a.push(u)}return a},Ft=io,cr=y("OS");matchMedia("(prefers-color-scheme: dark)");function ir(){return{theme:cr}}const ye=Xt("user",()=>{const e=He(),t=y({...Ut}),o=y([]),a=y([]),s=y({...at}),n=m=>{if(!(m!=null&&m.menus)){E("用户信息缺少Menus字段参数");return}m.menus instanceof Array&&m.menus.length>0&&(o.value=rr(m.menus),a.value=uo(m.menus)),m!=null&&m.theme&&(s.value={...s.value,...m.theme}),t.value=m};return{layoutInfo:s,userInfo:t,Authorization:e,login:async m=>{var B,R,C;const v=(R=(B=ue().siteInfo)==null?void 0:B.public_api)==null?void 0:R.login;if(!v){E("请配置登录接口");return}const{msg:j,data:A}=await Ue(v,m);if(A!=null&&A.token){let $=A.token;$.includes("Bearer")||($=`Bearer ${$}`),e.value=$,de(j??"登录成功","温馨提示");const J=((C=G.currentRoute.value.query)==null?void 0:C.redirect)||"/";G.push(J)}else E(j??"登录失败")},loginOut:()=>{Pe("是否确认退出登录？","温馨提示","error").then(()=>{e.value="",n({...Ut}),G.push(Qe)})},getUserInfo:async()=>{var j;const f=(j=ue().siteInfo.public_api)==null?void 0:j.user;if(!f){E("请配置用户信息接口");return}const{data:v}=await Ce(f);v&&n(v)},routeList:o,menuList:a,setTheme:m=>{s.value.theme=m,ir().theme.value=m},setLayout:m=>{s.value.layout=m},setLayoutMenu:m=>{s.value.layoutMenu=m},hanldCollapse:m=>{let f=0;m?f=at.sideWidth:f=s.value.sideMenuWidth,s.value.sideMenuCollapse=m,s.value.sideWidth=f},setLayoutMenuCollapse:()=>{let m=0,f=!1;s.value.sideMenuCollapse?(m=at.sideWidth,f=!1):(m=s.value.sideMenuWidth,f=!0),s.value.sideMenuCollapse=f,s.value.sideWidth=m}}}),ur={class:"xhadmin-menus-pro"},dr=["onClick"],pr={class:"text"},mr={key:0,class:"mask"},_r=I({__name:"menu",props:{active:{},menus:{},sideMenuWidth:{default:60},sideWidth:{default:200}},setup(e){Be(m=>({d402cefe:r(i),"5739c300":r(c)}));const t=e,o=Se(),a=ye(),{layoutInfo:s}=ze(a),n=S(()=>{var m;return((m=s.value)==null?void 0:m.layoutMenu)||"group"}),l=S(()=>{var m;return((m=s.value)==null?void 0:m.layoutTabsTheme)||"radius"}),c=S(()=>`${t.sideMenuWidth}px`),i=S(()=>`${t.sideWidth}px`),u=y(""),d=y(""),_=m=>{u.value=m;const f=u.value.split("-");d.value=f[0]},h=m=>{var j;const f=m[0],v=(j=f==null?void 0:f.children)==null?void 0:j.find(A=>A.show===!0);return f!=null&&f.children&&v?h((f==null?void 0:f.children)??[]):f},g=m=>{var C;const f=(C=m==null?void 0:m.children)==null?void 0:C.find($=>$.show===!0);let v=m;m!=null&&m.children&&f&&(v=h((m==null?void 0:m.children)??[]));const j=v.path,A=y({});v.ajaxParams&&(A.value=tt(v.ajaxParams));const B=v.activeId;_(B);let R={...A.value};o.value&&(R={...R,appid:o.value}),pe(`/${j}`,R)};return $e(()=>{_(t.active)}),(m,f)=>{const v=te,j=T("el-menu");return p(),b("div",ur,[(p(!0),b(H,null,ne(m.menus,A=>(p(),b("div",{key:A.id,class:"item"},[A.show?(p(),b("div",{key:0,class:ve({"item-triangle":r(l)==="triangle","item-radius":r(l)==="radius",active:r(d)===A.activeId}),onClick:B=>g(A)},[k(v,{icon:A.icon,size:"22",type:(A==null?void 0:A.iconType)||""},null,8,["icon","type"]),P("div",pr,F(A.title),1),r(l)==="triangle"?(p(),b("div",mr)):L("",!0)],10,dr)):L("",!0),P("div",{class:ve(["item-children",{active:r(d)===A.activeId}])},[k(j,{"default-active":m.active,"unique-opened":r(n)==="level"},{default:w(()=>[(p(!0),b(H,null,ne(A.children,B=>(p(),b(H,{key:B.activeId},[r(n)==="level"?(p(),D(Pa,{key:0,"menu-data":B},null,8,["menu-data"])):(p(),D(Ye,{key:1,"menu-data":B},null,8,["menu-data"]))],64))),128))]),_:2},1032,["default-active","unique-opened"])],2)]))),128))])}}});const fr=M(_r,[["__scopeId","data-v-4c784623"]]),Ot="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAADPCAMAAACKnR5TAAABMlBMVEVHcEx7pvgH+9srxdIsw9ItxdAD/9zLdv0bj/wajv4o3Nsajv6oS/13UvscZfDUdv1Yi/eeSvwg19UbfvkH+tsswdMcYe+CUPttd/sjp+kcavKrWf0E/ttfZ/ootd3Bbv0U6NguxNS0Zf2iTfwfnPIbfvkvwNCKfv4txs4Zjf8da/Md/uIbY/EaY/AH/9x6Y/wY/+CHbv0obPMqbfIcZfEeZfPEeP0O/92ahf6nf/6TTPyOTfsF/92ze/4E/90K/+GGTvucSfyre/6YgP5+UPvCev4eY/Cagf/D6vu2ef6T5fNDffJwXfpBjfmKfvg5Y/Qj09U6vNgtw9Aajf6uR/wE/9sdY+/advzddv2yRv2vRvwC/9sZi/8WZO+pRvwSjv6gSfuQf/11UvdBiP46XfI7XfL04pvpAAAAUnRSTlMABt7b7fX5/e32Ftz8b/L+DuHc1+zM+pgZ0ev58yXb+txi+Pfg5Poz+/vYMJbjx0J7UjlzuFXrrWOj1MJfyZZLre64fYbayo4j2USm7tvE8qtylTSQZQAAColJREFUeNrtnAtf2kgUxQ0QHhUhKGJAAVdUxFoRWt+1lWpb+9pHAUFhWffR7/8VdgKIREgy50qG7G9z/QLe39w5+c85M8zMuOWWW2655ZZbbrn1fyopXZyDq6hKDm1HKc5dLoF1OZdXHNpO+vIkhtbJzxdpZ3ajlk7vajc3t9x1c1MLL6+9KylOHDe1uBRj3UBVW84G3l84ctzSc6c59g9y1+1th61NtHHw7kh1YDvF80rt5hZpJ5xbzjaa0YPjvANFeu6kw/YD1M7yWqDZbAbOjhwn1urceeUWGDVWnfBaNsraaR4cO27c8kuxMLY2bOdko41Ggy3Pp48OGzeldBrGRq0Wzq0FGk2tnUaAibWjdk7xMgaPGhNp1oq2Po33H4tO2j2MBzCR7nXT6JWmBk5iA6V4nuvcoiLdXxutnWjWQeMm5bsiXcNFunG/PtFPzmED5ei8cgPtnE5fpAfT1nQQG1wdV+5AvMn1RHqwOs5hA0k9OruDd87wqHXFzSlsoJaOYx1k42jfnOFR6/dzcFxS/4si3eWBwPCsOYkNNJHG2umR9ON2HMEGOElrX9BHO6dxzwb5ae8e7dB2i/EAE+lAdEw7TmCD/HkFVLXOmFHrrc702UCdO4UPbblxo+YINlCKSzHaoW1cN1NnA4JI3+l5oOEgNmCHtrsnkPTo7pkqGyjs0AbygEbSUaN2pswGTAcquLMWMJq1abNBfqnSwZ01k276bDCVaWMkfdKpTUqkh9jgYipsoJbOKzVo59RqhiI9fTZIL52Eb28ozpr56jA2mIKtI5VOc4RRazQbVqWxgeh+pPzlCRs1pB0Dkh7DBsdHz5wefzCSXuZaHI0NPl6Jtj0pJM3TjUaijA2eiRw3evzR4OlHNBsopfPYk5w1i3ETzAbppVh4ciQ9hg2yItmgm1FPmgdG2EDUQa6bUcMkzTtqwtlAvaRk1AHeWeuzgbCDnCbSBJJuIu00omdFp4p0jV+khw4KYtrBM2pEpAdk8EnQsNEzaqQdUeG8llHbKtI9qhZkgTwto+YeNVEGFc1ZC6CjdnYhZtTwjLpj4qwZMsHHoggm6GXUsLOGjlrgTMyVPRXNqLs8gIq0MJ7Owxm1lbM2XqSF5CKSenT65Iya4zB6dpQWMmolRtK1STtrY0RajDGliTTurKEiLexo0BXpJ2fUHAc3EYujdEkaO7blKCQt5lg9uYzaESJdnFhG7QRLipJRLzuWpPGMutPJUUTaySQN84CYIF6acEY9ZXeNllHDoybqztTkM2oDkRbDA/mlSth+kn5/LObQRsmolykkLeaTA2fUJGftQJizBmfU+KgxWDsSsnMkWvzhUJKW8pcxWzJq/ahlBXnShCd6d1pG7UyRtjOjHupHEEnbm1EPQFrUtTx7M+rBqB0IjD8EOGvvRH1Bbc6oBxeOhThrtmfUYkmaklFncZIW5qzR3lGDJC3mmaWIjLpndwg6tGEZNc1ZE0bSTAc60K9D9J01rESJdP8dNVJ9kQbu3mgknRaXUYPt9J/s81dDmLPGSPoOq1xuLRvA6uDsIq8oz6Ai5ablL1//Auvr1z/h+vnLbz+B9Zxwj1fd//DPjx8//gHql+1vf4P17VvGuwjWr3t4P1J558XvUCUiqYXZ0B9QBZNJ3/fvW+yPv7ZWD/eeo+N29fJDAmsn8mJhI1RA21n0fYdqU5bj8d098J619PlL6vdrqCLbC8HqH1WgCsH1jFfG2pG98/FW/PCzhOHNyw/XaDts1KpQBdeTGXkLbGd+daXV2sXGTd1/9QJrJhHZ2AhC7bTbs/io+eZX4yt1tjyvETVgOpDARy1UgEYthI+azzvv8dfrdb/nzXNoccBuEqkFtnOgCs0mM74ttJ3VeKtVr7fqu6+5XykobHHQUUuBo1Zta6q2BbWzuelb9axo7dTr8TdveceN6UAEbOfFBjpqhXV458i+ebZxerXC1ID3C/oK7OaaMGpMpPFRm4/XW/f9HL5VOEV6G1wbtnNmg+CorSfBbja7stbqt9NqefjEmukAuDhs42xgo9bbOQSR9tfvq+XnYwOaSIOjpom0j8ADrYd2+NiAkTTYDYUHCCLd44H6Qz91DjYgiTTYTrvdI2l01Dy6dphYW7MBE2l81ATsHI0HVvx1XVmygaQQRHqbItI43qzG9WvDwQZKGRVphjcb8M5JJr0gSQ/xgG7czNlAffkqBXeDknSVRNIjo8bBBjSRxjYOkaQfeEDXjwkbSEykr+0nafjQpucB3e4xYwN1XxhJU3hg3OqYsUEZJukII2l41HCS1vOAfnkM2UDZF0HSs+sUHjBqx4QNYJHu8kAQtjsmwAMcbMBEGh61afGANRtIMKwRSLoQpIm08doYsIGEw9p1SoSztimbjpoBGygEkd4gifRkeMCCDdI727Y7a+1CkDRqFt2w7fOYDRTYWaPaHTL+BTUftTFswA5tYkgadda6PGDVzggbpF8S7A541Gg8ULdqZpQNyjsR20macmiTOUZtlA20+MN2Zy20Do+a7LMU6TFswEiacmibOg8YsEGZJNJVmKS9kyNpEzYgkHRkYUGIs8Y7avdsIFFgDXfWqkRnzeDQZsgGyox0hTtrMEm3aTsn7q8DtXL49vnMFZ5Rp0SQNBcPPGaD1zNFQRm1T4ZFmoMHdP2sHO7N7MNnUNxZo5A0Omp1Lc/emymjZpSYjFoGR00rbdhU0CokOGuF2fUMPGqP4g9eKZAwI5fmrKF4IwM8oBdq9t1Bdo/mrGHdFAoTddasPqMYFUSEZNQyPGpDBgi/60Eg6WoIz6j7N2+QdvzxAYLy2x5s1AQ5a+DG0ZmHKu/yEDPqCSRtVqPm6eoAaBnSMmqZfPMGAIJhL4fP0NVEGifpzBNu3vB249c7bXxiTXDW2sHJJW1mPPBGb7TxiHUiIsBZ24RJWpO13cchQnrHMqoS6Kxha6P5BBLqUeN2R7sQFMIDK6MJD0O3D9aHNvszapwHNJIek7+Vd1KJiWfU6KHNImkbO2pMpKVxt3HM1IBG0hkbnTWLqxLmF1gStFHz2c0DXZF+ZpBcJ6ZL0hQe8BteMzKOrEjO2nrGhqRtpB3jS2DGYk3LqL0++3nA5IqeZJgkiMioKTxgfoHSkKyFOGugidv3osyut44Xa8rrDwJJE3jA4vKxNDYjxUm6SsioSc7aG/O7umPJWsSVfAoPsC+o1VXd0egqkRDhrFF4gOMVjzISLFIyappItyYn0sZiHdkWwQMyPmpMpK2fJEn6UJ7srG3ZzQNscd5KPI+RhtWAllFn7E7atG7Y4vA9Fdt+YkZte9L22FmzEOvEkzJqOP7gu3nzmKR5H789JD5iSFomoCfw1FIZPIIlvf4QwgPAy0RlINY0kgadNdk3TxDp1/zPlAcPyAnOGkzSFB5gi4M8uu5dnaC8/hBC0q34LvTmunfw6d5ZAzNqys7xTMZZs3h1nSCRtIhDG+8TWB1Zp2jO2pbtPMD/QHn48cv2RhtbG7ZzMl7bQ11IpB/Iev/LQihUCCHVFWlWmzJfdW9DMFmDqntog38pRy3vvJrFaiGZXFz0QrW4uLvrwSru4SLpkfWZccstt9xyyy233HLLLbfccssx9S/OTXvmn2y+VgAAAABJRU5ErkJggg==",hr=["src"],gr=I({__name:"image",props:{logoSrc:{},logoHeight:{default:35}},setup(e){Be(s=>({"2035992c":r(a)}));const t=e,o=S(()=>t.logoSrc?t.logoSrc:Ot),a=S(()=>`${t.logoHeight}px`);return(s,n)=>{const l=T("el-image");return p(),D(l,{src:r(o),class:"logo"},{error:w(()=>[P("img",{src:r(Ot),class:"logo"},null,8,hr)]),_:1},8,["src"])}}});const po=M(gr,[["__scopeId","data-v-25a57a60"]]),vr=I({__name:"title",props:{sideName:{default:"XhAdmin"}},setup(e){return(t,o)=>(p(),b("span",null,F(t.sideName),1))}}),yr={class:"xhadmin-logo-pro"},xr={class:"logo-image"},kr={class:"logo-text"},wr=I({__name:"index",props:{headerHeight:{},sideWidth:{},sideMenuWidth:{},logoHeight:{},logoSrc:{},sideName:{}},setup(e){Be(c=>({eb290234:r(s),c8095676:r(l),"375a2236":r(n)}));const t=e,o=ye(),{layoutInfo:a}=ze(o),s=S(()=>`${t.sideWidth}px`),n=S(()=>`${t.sideMenuWidth}px`),l=S(()=>`${t.headerHeight}px`);return(c,i)=>(p(),b("div",yr,[P("div",xr,[k(po,{"logo-src":c.logoSrc,"logo-height":c.logoHeight},null,8,["logo-src","logo-height"])]),ut(P("div",kr,[k(vr,{"side-name":c.sideName,"logo-height":c.logoHeight},null,8,["side-name","logo-height"])],512),[[dt,!r(a).sideMenuCollapse]])]))}});const br=M(wr,[["__scopeId","data-v-2826983b"]]),mo=I({__name:"index",setup(e){const t=ge(),o=()=>`${new Date().getTime()}${Math.random()}`,a=y("");return ft(()=>t.fullPath,()=>{a.value=o()}),(s,n)=>{const l=T("router-view");return p(),D(l,{key:r(a)})}}}),Cr="/xhadmin/png/beian.gov.a20583c8.png",qt="OUtzMas9edTHUH/JnNdjl4lHWYG9gISU6vl1DnlCzkumaS2EkD8OLhRzTMziPeF5AxwRwukfkvIVs2nzq7KWi2RxbtTzzLtOQMml5cLVHkQZs8dhEMLkXtyVFKOTAjsXTvU2NFMCfwUc8LhqIrDnbd11kU5oQoTcysWvQbk/P6wfBMd7p3TOZwWewFg+oz5qHfwhgtW2dXev4p+a9fknRNBKUgdBxStKVsImmh4SlXRfOlhgMhOoL6ycaOdbhz6LgvDynfuWIA7dngosFv6x9SXIW2WndIoztR/4A+9uYG6xxiuH7Por9QJjFVU/VzLytposud3gAQi7ba2gyN9I6g==e3dqJ6AL4KUa3qpU0WtHV215X5FP5e1CZeyTqT2ap9dEOIS8hp94xpVIod9MSyYorLrNVOo8OyocipT9zLZITtPJ5LNVczJcnzHrNi6goXzojZ7etvuGK0HRj8CygkIhZMb7PUF9lNodtoUJ8BOjKvvETpXXSnHmyhwyskBRtBZ3LwAbKNCNKPCDhDQgF/Zo8P0h+oUjCZ/3B2kvSxPhPS9OjPU583PqOlZZNf0/2TzC+JxCI2Du/87kDGUXS8Y7UKP2NzdlqT21VkOQnbsFHRGg3jfT/+uJu6M/qljnvGo6bp6nL0vpD0paZmKrSUGVE99FWkLYNRiWAKkttCDn2g==",zt=`-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCz+Ny6Y+2LRQb5
d81sZgzExl3EwWHJnP/BDOqD90UxEYStdzVulGtykumcfUPW+Hugspq8waetBGb7
MEFcbl3y7cTmrK/4Uninmy5Nf4nsGQk+/5WvQE2pzlLfPH0ZgxWyFepNdIXc6+k/
loXCOLus0jUZoDnN1YJfDMtGi+VyYl1jbatu3TQohO15NRb4KZ1TUeWQbOSnpXDA
WA2x9qVJtgKn1sD3KlxPu9Lm01QqCiIrEHEBWWCJQesgwP98JS438kCRmZMQBEJV
urr4UsLH889TMFg5ySKoGFLs3NOwOKbf0wwSpl4t7kAqyKOhbd4IprPVih/E9We5
VvYn5+7JAgMBAAECggEAMGRcRaoU93vKEk5KaDlQeaC1GfC9sI6MnoYwkOduLXF+
cX46Wc+CzL4AHtn34dfStjUQMm0H/xfN8QDaslXi4S1Z4oTQlD7ovniVjLUciuV4
fP4Qa50oxN37npcPNErxDH+kDsukKvEsOLLqqHzEygWDza4tnNEqSxCPoBqBya2B
TZomn3559fCOxGbKn7+3wlF7kKqr1HCbgX04RGISksh/EA1KPZRxOIol3B4dtz+H
xG/aG5aAGGnsFhlk/V/UiCBpyNYyJjVidJE9r8sY+GrszIEzsCLePhSWwG0UoTTN
PRt1o+nMCTuF8VoCkWGI7K6S5J5mQKdsFSaLPbLj4QKBgQDuEkf17kRNxWd2zBE7
fLGeRoezjyTBxcn6zzaJ1jQXs/ROV08q/LxNdRRNJ3jPk3V9y9Ceh6tyGvitumDF
m2fsrb+yofXQ8gL8xKFXhJHhbPRVqNKfb0DIWIeLSmhDM4xvmK3E+EuDQCe+t+7d
KRhUzYVXtsfid2MOrCfCkTwR5QKBgQDBhn/cs78V6hheZt0JUpV+bL01qelEC+SV
qwprkxbp6HWkRLp0yQb18Khq1s0NtMAQXlM5BGCQR9i7syy5vGi80a/lsR1O8F3y
PSo1GFYX9MGhIUHp7pw/6ls4WgZQ4eDMW7w0mrJ8DPUXlw2q/kY4SCAAHbGqarBo
nc8cv4UrFQKBgDbF0fSM+v4BmspELPrIt3y4sWPoXQaP4OZpYhzYQWfqqRyVDcvQ
FeqkMyWFHVB0lqV4jOjMQe+gsPIXXUhZdtGHMAGDLbEC3RkWjCA8ieuZS6Whj8PK
rtbpN1Yeqlo7s+XA9MnKbmUmD37bhoMvfz+TgUgq71X1Lb8kcIldLLrZAoGAJR1/
fjt25WQNImXF9JjDFQkTzKv2kddaEp5IFFOUbG3pygRoYid/z0FFe6AQmZVV1I3S
ljfRsTomRfFaHZEV4Uix3HJ4dYBB9EhoxOAS+us1C4sOUigyDUwMDKWvWmnHrEnX
sZsNqh7uDoUo2OeFXhvvDzaisVVe2eGSLChLCPUCgYEAqIu/Ws/C2OceneO25l/3
2WxcN3UbVT6x8TkwFjYv9UWs0/Opqlnj8aFy4zgU76zIDRGjVyObv53Gwhaaim1z
TeIrGe7RcWmPjzsERGlb+qe7tvCiNNDTd6RK0ywIrcSUrkEaZepqUepGFgB/vq9T
v07JgHIyR8viVUUqohaz5hM=
-----END PRIVATE KEY-----`,Nt=window.location.hostname,st=(e,t)=>{const o=new ua;o.setPrivateKey(t);const a=e.match(/.{1,344}/g);if(!a)throw new Error("令牌表单解密失败");let s="";if(a==null||a.forEach(n=>{const l=o.decrypt(n);l&&(s+=l)}),!s)throw new Error("解密失败");return JSON.parse(new TextDecoder().decode(Uint8Array.from(window.atob(s),n=>n.charCodeAt(0))))},Pr=()=>{const t=ue().siteInfo;if(t!=null&&t.empower_token&&t.empower_private_key)try{const o=st(t.empower_token,t.empower_private_key);return console.log("当前域名",Nt),o.systemUrl.includes(Nt)||o!=null&&o.isChannels?(console.log("使用自定义版权"),console.log("版权数据",o),o):(console.log("使用原生版权"),st(qt,zt))}catch(o){console.error("服务端授权失败",o)}try{return st(qt,zt)}catch(o){console.error("系统授权错误",o)}},_o=()=>{const t=ue().siteInfo;return{version_name:(t==null?void 0:t.version_name)??"v1.0.0",version:(t==null?void 0:t.version)??1e3,web_icp:t==null?void 0:t.web_icp,web_mps:t==null?void 0:t.web_mps,web_mps_text:t==null?void 0:t.web_mps_text}},$r=e=>(Ae("data-v-6475729a"),e=e(),je(),e),Dr={class:"copyright-set"},Ir={key:0},Ar=["href"],jr=["href"],Br={key:2,href:"https://beian.miit.gov.cn/",target:"_blank",class:"pl-10px"},Sr=["href"],Er=$r(()=>P("img",{src:Cr,alt:"备案图标",style:{width:"15px",height:"15px","vertical-align":"middle"}},null,-1)),Tr=I({__name:"index",setup(e){const{systemAbout:t,systemAboutUrl:o,systemName:a,systemUrl:s}=Pr(),n=_o(),l=window.location.protocol;return(c,i)=>(p(),b("div",Dr,[q(" copyright © 2023 "),r(o)==="#"?(p(),b("span",Ir,F(r(t)),1)):(p(),b("a",{key:1,href:`${r(l)}//${r(o)}`,target:"_blank",class:"pl-10px"},F(r(t)),9,Ar)),q(" All Rights Reserved "),P("a",{href:`${r(l)}//${r(s)}`,target:"_blank",class:"pl-10px"},F(r(a))+" "+F(r(n).version_name),9,jr),r(n).web_icp?(p(),b("a",Br,F(r(n).web_icp),1)):L("",!0),r(n).web_mps?(p(),b("a",{key:3,href:`http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=${r(n).web_mps}`,target:"_blank",class:"pl-10px"},[Er,q(" "+F(r(n).web_mps_text),1)],8,Sr)):L("",!0)]))}});const fo=M(Tr,[["__scopeId","data-v-6475729a"]]),Vr={class:"flex items-center"},Ur={class:"xhadmin-header-breadcrumb"},Rr=I({__name:"side",setup(e){var n;const t=ue(),o=ye(),{layoutInfo:a}=ze(o),s=((n=t.siteInfo.public_api)==null?void 0:n.header_left_file)??"";return(l,c)=>{const i=te;return p(),b("div",Vr,[P("div",Ur,[P("div",{class:"side-action",onClick:c[0]||(c[0]=u=>r(o).setLayoutMenuCollapse())},[k(i,{icon:r(a).sideMenuCollapse?"Expand":"Fold",color:"#555"},null,8,["icon"])])]),r(s)?(p(),D(r(fe),{key:0,file:r(s)},null,8,["file"])):L("",!0)])}}});const Lr=M(Rr,[["__scopeId","data-v-852079fd"]]),Mr={class:"xh-dropdown-link"},Fr={class:"text"},Or=I({__name:"index",setup(e){const t=ue(),o=ye(),{userInfo:a}=ze(o),s=()=>{var c;if(!((c=t.siteInfo.public_api)!=null&&c.user_edit)){Pe("当前系统未开启个人资料修改功能","温馨提示");return}pe(xa)},n=()=>{o.loginOut()},l=c=>{switch(c){case"hanldProfile":s();break;case"loginout":n();break}};return(c,i)=>{const u=te,d=T("el-dropdown-item"),_=T("el-dropdown-menu"),h=T("el-dropdown");return p(),D(h,{class:"xh-dropdown",onCommand:l},{dropdown:w(()=>[k(_,null,{default:w(()=>[k(d,{command:"hanldProfile"},{default:w(()=>[q(" 个人中心 ")]),_:1}),k(d,{command:"loginout"},{default:w(()=>[q(" 退出登录 ")]),_:1})]),_:1})]),default:w(()=>{var g;return[P("div",Mr,[P("span",Fr,F((g=r(a))==null?void 0:g.nickname),1),k(u,{icon:"ArrowUp",size:14})])]}),_:1})}}});const ho=M(Or,[["__scopeId","data-v-12572241"]]),qr={class:"flex-1 flex items-center justify-end"},zr=I({__name:"tools",setup(e){var a;const o=((a=ue().siteInfo.public_api)==null?void 0:a.header_right_file)??"";return(s,n)=>(p(),b("div",qr,[r(o)?(p(),D(r(fe),{key:0,file:r(o)},null,8,["file"])):L("",!0),k(ho)]))}}),Nr={class:"flex justify-between"},Hr=I({__name:"index",setup(e){return(t,o)=>(p(),b("div",Nr,[k(Lr),k(zr)]))}});const Wr={class:"xhadmin-mix-layout"},Xr={class:"xhadmin-header-pro"},Qr={class:"xhadmin-main-pro"},Zr={class:"xhadmin-side-pro"},Jr={class:"xhadmin-content-pro"},Gr={class:"xhadmin-content pt-4 pl-4 pr-4"},Kr={class:"xhadmin-copyright-pro"},Yr=I({__name:"index",props:{active:{},menus:{},sideName:{},sideLogo:{},logoHeight:{},sideWidth:{},sideMenuWidth:{},headerHeight:{}},setup(e){Be(s=>({ea5e16fa:r(o),"10abb030":r(a)}));const t=e,o=S(()=>`${t.headerHeight}px`),a=S(()=>t.sideWidth);return(s,n)=>(p(),b("div",Wr,[P("div",Xr,[k(br,{"header-height":s.headerHeight,"side-width":s.sideWidth,"logo-src":s.sideLogo,"side-name":s.sideName,"logo-height":s.logoHeight,"side-menu-width":s.sideMenuWidth},null,8,["header-height","side-width","logo-src","side-name","logo-height","side-menu-width"]),k(Hr,{class:"xhadmin-toolbar"})]),P("div",Qr,[P("div",Zr,[k(fr,{"side-width":s.sideWidth,"side-menu-width":s.sideMenuWidth,active:s.active,menus:s.menus},null,8,["side-width","side-menu-width","active","menus"])]),P("div",Jr,[P("div",Gr,[k(mo)]),P("div",Kr,[k(fo)])])])]))}});const ec=M(Yr,[["__scopeId","data-v-82ea02ce"]]),tc={};function oc(e,t){return p(),b("div",null," 侧边栏布局 ")}const ac=M(tc,[["render",oc]]),nc=I({__name:"menus",props:{active:{},menus:{}},setup(e){return(t,o)=>{const a=T("el-menu");return p(),D(a,{mode:"horizontal",class:"menus","default-active":t.active},{default:w(()=>[(p(!0),b(H,null,ne(t.menus,s=>(p(),D(Ye,{key:s.id,"menu-data":s},null,8,["menu-data"]))),128))]),_:1},8,["default-active"])}}});const sc={class:"xhadmin-top-layout"},lc={class:"xhadmin-header-pro"},rc={class:"xhadmin-header"},cc={class:"logo"},ic={class:"menus"},uc={key:0,class:"tools"},dc={class:"user"},pc={class:"xhadmin-main-pro"},mc={class:"xhadmin-main"},_c={class:"xhadmin-content"},fc={class:"xhadmin-copyright"},hc=I({__name:"index",props:{headerHeight:{},active:{},menus:{}},setup(e){Be(n=>({"6794f285":r(s)}));const t=ue().siteInfo,a=ye().layoutInfo.layoutSize,s=S(()=>a?"100%":"1200px");return(n,l)=>{var c,i,u;return p(),b("div",sc,[P("div",lc,[P("div",rc,[P("div",cc,[k(po,{"logo-src":((c=r(t))==null?void 0:c.web_logo)??""},null,8,["logo-src"])]),P("div",ic,[k(nc,{active:n.active,menus:n.menus},null,8,["active","menus"])]),(i=r(t).public_api)!=null&&i.header_right_file?(p(),b("div",uc,[k(r(fe),{file:(u=r(t).public_api)==null?void 0:u.header_right_file},null,8,["file"])])):L("",!0),P("div",dc,[k(ho)])])]),P("div",pc,[P("div",mc,[P("div",_c,[k(mo)]),P("div",fc,[k(fo)])])])])}}});const gc=M(hc,[["__scopeId","data-v-e4f32260"]]),vc={};function yc(e,t){return p(),b("div",null," 用户中心布局 ")}const xc=M(vc,[["render",yc]]),kc=()=>{const e=ge(),t=pt({active:""}),o=a=>{let s=Ft.get(a);s||(s=Ft.get(no)),t.active=s??""};return ft(()=>e.fullPath,()=>{var s,n;let a="";(s=e.query)!=null&&s.group&&e.meta.ajaxParams.includes("group")?a=`${e.path}_group=${(n=e.query)==null?void 0:n.group}`:e.meta.ajaxParams&&!a?a=`${e.path}_${e.meta.ajaxParams}`:a=e.path,o(a)}),{...Ho(t),updateActive:o}},[wc,bc]=Zo(kc),Cc=()=>bc()??{active:y(""),updateActive:()=>{}},Pc=I({__name:"index",setup(e){const t=ue(),o=ye(),{active:a}=Cc(),{layoutInfo:s}=ze(o),n=t.siteInfo,l=o.menuList;return(c,i)=>{var u,d;return p(),b(H,null,[r(s).layout==="mix"?(p(),D(r(ec),{key:0,"header-height":r(s).headerHeight,"side-width":r(s).sideWidth,"side-menu-width":r(s).sideMenuWidth,"side-logo":(u=r(n))==null?void 0:u.web_logo,"side-name":(d=r(n))==null?void 0:d.web_name,"logo-height":r(s).logoHeight,active:r(a),menus:r(l)},null,8,["header-height","side-width","side-menu-width","side-logo","side-name","logo-height","active","menus"])):L("",!0),r(s).layout==="side"?(p(),D(r(ac),{key:1})):L("",!0),r(s).layout==="top"?(p(),D(r(gc),{key:2,"header-height":r(s).headerHeight,active:r(a),menus:r(l)},null,8,["header-height","active","menus"])):L("",!0),r(s).layout==="user"?(p(),D(r(xc),{key:3})):L("",!0)],64)}}}),$c={path:"/",name:"default-router",component:Pc,redirect:no,children:[]},Dc=[{path:"/workspace/exception",name:"workspaceException",component:()=>be(()=>import("./index.4b939dc2.js"),["xhadmin/js/index.4b939dc2.js","xhadmin/js/vue.7d38ec30.js","xhadmin/js/@vue.711157a1.js","xhadmin/js/vue-router.815db13b.js","xhadmin/js/pinia.99400ea4.js","xhadmin/js/element-plus.dfdb5447.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.9ffd8649.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.84d1e291.css","xhadmin/js/vxe-table.f573e5e5.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/@wangeditor.30d2bbb2.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.9fd20fd4.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.032dd06c.js","xhadmin/js/@form-create.c32edb5f.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css"]),meta:{title:"出现错误啦~"}},{path:"/user/personal",name:"userPersonal",component:()=>be(()=>import("./index.4a0e1f60.js"),["xhadmin/js/index.4a0e1f60.js","xhadmin/js/vue.7d38ec30.js","xhadmin/js/@vue.711157a1.js","xhadmin/js/vxe-table.f573e5e5.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/vue-router.815db13b.js","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/pinia.99400ea4.js","xhadmin/js/element-plus.dfdb5447.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.9ffd8649.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.84d1e291.css","xhadmin/js/@wangeditor.30d2bbb2.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.9fd20fd4.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.032dd06c.js","xhadmin/js/@form-create.c32edb5f.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css","xhadmin/css/index.27a712b3.css"]),meta:{title:"个人资料"}}],Ic=[{...$c,children:[...Dc]},{path:"/login",name:"Login",component:()=>be(()=>import("./index.2b23e906.js"),["xhadmin/js/index.2b23e906.js","xhadmin/js/vue.7d38ec30.js","xhadmin/js/@vue.711157a1.js","xhadmin/js/pinia.99400ea4.js","xhadmin/js/element-plus.dfdb5447.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.9ffd8649.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.84d1e291.css","xhadmin/js/vxe-table.f573e5e5.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/@wangeditor.30d2bbb2.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.9fd20fd4.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.032dd06c.js","xhadmin/js/vue-router.815db13b.js","xhadmin/js/@form-create.c32edb5f.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css","xhadmin/css/index.04a85923.css"]),meta:{title:"用户登录"}},{path:"/redirect/:path(.*)",name:"redirect",component:()=>be(()=>import("./index.3ba8f4e4.js"),["xhadmin/js/index.3ba8f4e4.js","xhadmin/js/vue.7d38ec30.js","xhadmin/js/@vue.711157a1.js","xhadmin/js/pinia.99400ea4.js","xhadmin/js/element-plus.dfdb5447.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.9ffd8649.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.84d1e291.css","xhadmin/js/vxe-table.f573e5e5.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/@wangeditor.30d2bbb2.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.9fd20fd4.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.032dd06c.js","xhadmin/js/vue-router.815db13b.js","xhadmin/js/@form-create.c32edb5f.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css"])},{path:"/exception",name:"exception",meta:{title:"抱歉，你访问的页面不存在~"},component:()=>be(()=>import("./index.4b939dc2.js"),["xhadmin/js/index.4b939dc2.js","xhadmin/js/vue.7d38ec30.js","xhadmin/js/@vue.711157a1.js","xhadmin/js/vue-router.815db13b.js","xhadmin/js/pinia.99400ea4.js","xhadmin/js/element-plus.dfdb5447.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.9ffd8649.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.84d1e291.css","xhadmin/js/vxe-table.f573e5e5.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/@wangeditor.30d2bbb2.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.9fd20fd4.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.032dd06c.js","xhadmin/js/@form-create.c32edb5f.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css"])},{path:"/:pathMatch(.*)",component:()=>be(()=>import("./index.4b939dc2.js"),["xhadmin/js/index.4b939dc2.js","xhadmin/js/vue.7d38ec30.js","xhadmin/js/@vue.711157a1.js","xhadmin/js/vue-router.815db13b.js","xhadmin/js/pinia.99400ea4.js","xhadmin/js/element-plus.dfdb5447.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.9ffd8649.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.84d1e291.css","xhadmin/js/vxe-table.f573e5e5.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/@wangeditor.30d2bbb2.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.9fd20fd4.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.032dd06c.js","xhadmin/js/@form-create.c32edb5f.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css"])}],Ac=Jo({routes:[...Ic],history:Go("/")}),G=Ac,Me=()=>location.pathname.replace(/^\/+|\/+$/g,""),De=(e="",t=!1)=>{const o=G.currentRoute.value,a=Me(),s=y(o.path);if(t){const n=s.value.indexOf("/",1);s.value=s.value.substring(0,n),s.value=`${s.value}/`}return`${a}${s.value}${e}`},bt=e=>{let t;try{t=new URL(e)}catch{return!1}return t.protocol==="http:"||t.protocol==="https:"},pe=(e,t)=>{bt(e)?location.href=e:G.push({path:e,query:t})};function lt(e=6){let t="";for(let o=0;o<e;o++)t+=Math.floor(Math.random()*10);return t}const qe=(e,t)=>{for(const o in t)if(t[o]===e)return!0;return!1},Ge=()=>{var t;(t=G.currentRoute.value.query)!=null&&t.isBack||E("返回上次页面错误"),G.back()},jc=e=>e.replace(/\/(\w)/g,(t,o)=>o.toUpperCase()),Bc=(e,t="Enter")=>{const o=a=>{a.key===t&&(e(),a.preventDefault())};Wo(()=>document.addEventListener("keydown",o)),Jt(()=>document.removeEventListener("keydown",o))},tt=e=>{let t;const o={},a=e.slice(e.indexOf("?")+1).split("&");for(let s=0;s<a.length;s++)t=a[s].split("="),o[t[0]]=t[1];return o},Ct="authorization",Pt="appid",He=Kt(()=>{const e=Me();return Yt(`${e}_${Ct}`,null)}),Se=Kt(()=>{const e=Me();return Yt(`${e}_${Pt}`,null)}),$t="/",K=Qo.create({baseURL:$t,timeout:6e4}),Sc=async e=>{const t=He();t.value&&e.headers.set(Ct,t.value);const o=Se();return o.value&&e.headers.set(Pt,o.value),e},Ec=e=>{var s,n,l,c,i;const t=He(),o=e.data,a=e.headers["content-type"];if(a.includes("application/json")){if((o==null?void 0:o.code)===301)return pe(((s=o==null?void 0:o.data)==null?void 0:s.url)??""),Promise.reject(o);if((o==null?void 0:o.code)===302)return E((o==null?void 0:o.msg)||"302.网络错误~"),pe(((n=o==null?void 0:o.data)==null?void 0:n.url)??""),Promise.reject(o);if((o==null?void 0:o.code)===303)return E((o==null?void 0:o.msg)||"303.网络错误~"),pe(((l=o==null?void 0:o.data)==null?void 0:l.url)??""),Promise.reject(o);if((o==null?void 0:o.code)===304)return window.location.reload(),Promise.reject(o);if((o==null?void 0:o.code)===305)return E((o==null?void 0:o.msg)||"305.网络错误~"),setTimeout(()=>{window.location.reload()},2500),Promise.reject(o);if([600,666,11e3].includes(o==null?void 0:o.code))return Promise.reject(o);if((o==null?void 0:o.code)===200)return o;if((o==null?void 0:o.code)===12e3){t.value="";let u=(c=G.currentRoute.value)==null?void 0:c.fullPath;return(i=G.currentRoute.value.query)!=null&&i.redirect&&(u=G.currentRoute.value.query.redirect),u===Qe&&(u="/"),G.replace({path:Qe,query:{redirect:u}}),E((o==null?void 0:o.msg)||"登录超时啦~"),Promise.reject(o)}return o!=null&&o.msg&&E((o==null?void 0:o.msg)||"网络错误~"),Promise.reject(o)}else return a.includes("application/octet-stream")?Promise.resolve(o):Promise.reject(o)},Tc=e=>{if(e.response){const{status:t}=e.response;t===401?pe("/exception",{code:401}):t===403?pe("/exception",{code:403}):t===500?pe("/exception",{code:500}):t===502&&pe("/exception",{code:502})}return Promise.reject(e)};K.interceptors.request.use(Sc);K.interceptors.response.use(Ec,Tc);const Vc={class:"bundle-name"},Uc=P("div",{class:"flex-1"}," 附件分类 ",-1),Rc=P("div",{class:"bundle-title"}," 附件管理器 ",-1),Lc={class:"categrory"},Mc=P("div",{class:"categrory-item-title"}," 全部数据 ",-1),Fc=["onClick","onDblclick"],Oc={class:"categrory-item-title"},qc=["onClick"],zc={class:"bundle-file-list"},Nc=["title","onClick"],Hc={class:"file-name"},Wc={class:"pagination"},Xc=P("div",{class:"flex-1"},null,-1),Qc={key:3,class:"btn-group"},Zc={key:4,class:"btn-group"},go=I({__name:"modal",props:{limit:{default:1},suffix:{default:"*"},format:{default:"*"}},emits:["update:confirm","update:close"],setup(e,{expose:t,emit:o}){var jt;const a=e,s=o,n=ue(),l=He(),c=Se(),i=n.siteInfo,u=y(),d=y([]),_=y([]),h=y({active:"",list:[]}),g=y([]),m=y(!1),f=y(a.limit),v=y(!1),j=(jt=i.uploadify_api)==null?void 0:jt.upload,A=y({[Ct]:l.value||"",ACCEPT:"application/json"});c.value&&(A.value={...A.value,[Pt]:c.value});let B=$t;{const{protocol:V,hostname:U}=window.location;B=`${V}//${U}`}const R=y({action:`${B}/${j}`,data:{cid:h.value.cid||"",dir_name:h.value.dir_name||""},headers:A.value,multiple:!0,withCredentials:!0,showFileList:!1}),C=y({page:1,limit:24,total:0}),$=()=>{var O,Y;if(m.value)return;m.value=!0;const V=((O=i==null?void 0:i.uploadify_api)==null?void 0:O.index)||"";let U=a.suffix;Array.isArray(a.suffix)?U=a.suffix.join(","):Array.isArray(a.format)&&(U=a.format.join(",")),Array.isArray(a.format)&&Array.isArray(a.suffix)&&(U=[...a.suffix,...a.format].join(","));const z={cid:((Y=h.value)==null?void 0:Y.cid)||"",page:C.value.page,limit:C.value.limit,suffix:U};g.value=[],Ce(V,z).then(oe=>{var Ie,ke;C.value.total=((Ie=oe==null?void 0:oe.data)==null?void 0:Ie.total)||0;const ae=((ke=oe==null?void 0:oe.data)==null?void 0:ke.data)||[];g.value=ae}).finally(()=>{m.value=!1})},x=V=>{C.value.page=V,$()},J=V=>{C.value.limit=V,$()},Z=()=>{C.value.page=1,C.value.limit=20,h.value.active="",h.value.moveCid=void 0,h.value.cid=void 0,g.value=[],d.value=[],_.value=[]},se=y(!1),ce=V=>{v.value?_.value.includes(V)?_.value.splice(_.value.indexOf(V),1):_.value.push(V):f.value===1?d.value[0]=V:d.value.includes(V)?d.value.splice(d.value.indexOf(V),1):(f.value===0||d.value.length<f.value)&&d.value.push(V)},xe=V=>{(V==null?void 0:V.code)===200?(Z(),$(),W((V==null?void 0:V.msg)||"上传成功！","success")):W((V==null?void 0:V.msg)??"上传失败","error")},vo=V=>{console.error(V),W("上传失败","error")},We=()=>{var U;const V=((U=i==null?void 0:i.uploadify_cate)==null?void 0:U.index)||"";Ce(V).then(z=>{h.value.list=(z==null?void 0:z.data)||[]})},Dt=V=>{if(h.value.active===V)return;Z(),h.value.active=V;const U=h.value.list.find((z,O)=>O===V);h.value.cid=U==null?void 0:U.id,h.value.dir_name=U==null?void 0:U.dir_name,R.value.data={cid:h.value.cid||"",dir_name:h.value.dir_name||""},$()},yo=()=>{var z;const V=(z=i==null?void 0:i.uploadify_cate)==null?void 0:z.add;if(!V){W("请先配置分类添加接口","error");return}const U=y({sort:100});ie({title:"添加分类",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"保存",message:()=>Fe(Tt,{modelValue:U.value,"onUpdate:modelValue":O=>{U.value=O}}),beforeClose:(O,Y,oe)=>{if(O==="cancel"){oe();return}if(!U.value.title){W("请输入分类名称","error");return}if(!U.value.dir_name){W("请输入分类目录","error");return}if(!U.value.sort){W("请输入分类排序","error");return}Y.confirmButtonLoading=!0,Y.confirmButtonText="保存中...",Ue(V,U.value).then(ae=>{W((ae==null?void 0:ae.msg)||"添加成功！","success"),Z(),We(),$(),oe()}).catch(()=>{Y.confirmButtonLoading=!1,Y.confirmButtonText="保存"})}})},xo=V=>{var Y;const U=(Y=i==null?void 0:i.uploadify_cate)==null?void 0:Y.edit;if(!U){W("请先配置分类修改接口","error");return}const z=h.value.list[V],O=y({...z});ie({title:"添加分类",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"保存",message:()=>Fe(Tt,{modelValue:O.value,"onUpdate:modelValue":oe=>{O.value=oe}}),beforeClose:(oe,ae,Ie)=>{if(oe==="cancel"){Ie();return}if(!O.value.title){W("请输入分类名称","error");return}if(!O.value.dir_name){W("请输入分类目录","error");return}if(!O.value.sort){W("请输入分类排序","error");return}ae.confirmButtonLoading=!0,ae.confirmButtonText="保存中...",Ze(`${U}?id=${z==null?void 0:z.id}`,O.value).then(ke=>{W((ke==null?void 0:ke.msg)||"添加成功！","success"),Z(),We(),$(),Ie()}).catch(()=>{ae.confirmButtonLoading=!1,ae.confirmButtonText="保存"})}})},ko=V=>{var O;const U=h.value.list[V],z=(O=i==null?void 0:i.uploadify_cate)==null?void 0:O.del;if(!z){W("请先配置分类删除接口","error");return}Pe("是否确认删除该分类？","温馨提示","error").then(()=>{const Y={id:U==null?void 0:U.id};Je(z,Y).then(oe=>{W((oe==null?void 0:oe.msg)||"添加成功！","success"),Z(),We(),$()})})},wo=()=>{var z,O;if(!((z=h.value)!=null&&z.moveCid)){W("请选择需要移动到的分类","error");return}if(_.value.length<=0){W("请选择需要移动的文件","error");return}const V=(O=i==null?void 0:i.uploadify_api)==null?void 0:O.move;if(!V){W("请先配置文件移动接口","error");return}const U={cid:h.value.moveCid,ids:_.value.map(Y=>Y.id)};Ue(V,U).then(Y=>{Z(),$(),v.value=!1,W((Y==null?void 0:Y.msg)||"移动成功！","success")})},bo=()=>{var z;if(_.value.length<=0){W("请选择需要删除的文件","error");return}const V=(z=i==null?void 0:i.uploadify_api)==null?void 0:z.del;if(!V){W("请先配置文件删除接口","error");return}const U={ids:_.value.map(O=>O.id)};Pe("是否确认删除选中的文件？","温馨提示","error").then(()=>{Je(V,U).then(O=>{Z(),$(),v.value=!1,W((O==null?void 0:O.msg)||"删除成功！","success")})})},Co=()=>{v.value=!1,_.value=[]},Po=()=>{_.value.length===g.value.length?_.value=[]:_.value=[...g.value]},$o=()=>{if(d.value.length<=0){W("请选择文件","error");return}s("update:confirm",d.value),se.value=!1},It=()=>{se.value=!0,We(),$()},At=()=>{Z(),s("update:close")};return t({open:It,close:At}),(V,U)=>{const z=te,O=T("el-icon"),Y=T("el-image"),oe=T("el-pagination"),ae=T("el-button"),Ie=T("el-upload"),ke=T("el-option"),Do=T("el-select"),Io=T("el-dialog");return p(),b(H,null,[he(V.$slots,"open",{open:It}),k(Io,{modelValue:r(se),"onUpdate:modelValue":U[3]||(U[3]=N=>me(se)?se.value=N:null),width:"60%",class:"bundle-dialog",draggable:"","append-to-body":"","close-on-click-modal":!1,"show-close":!1,onClose:Z},{header:w(()=>[P("div",Vc,[Uc,k(O,{size:20,class:"pointer",onClick:yo},{default:w(()=>[k(z,{icon:"FolderAdd",type:"element"})]),_:1})]),Rc]),footer:w(()=>[k(Ie,X(r(R),{class:"mr-3","on-success":xe,"on-error":vo}),{default:w(()=>[k(ae,{type:"success"},{default:w(()=>[q(" 上传 ")]),_:1})]),_:1},16),r(v)?(p(),D(ae,{key:0,type:"danger",onClick:Co},{default:w(()=>[q(" 退出 ")]),_:1})):(p(),D(ae,{key:1,onClick:U[1]||(U[1]=N=>v.value=!0)},{default:w(()=>[q(" 管理 ")]),_:1})),r(v)?(p(),D(ae,{key:2,onClick:Po},{default:w(()=>[q(" 全选 ")]),_:1})):L("",!0),Xc,r(v)?(p(),b("div",Qc,[k(Do,{modelValue:r(h).moveCid,"onUpdate:modelValue":U[2]||(U[2]=N=>r(h).moveCid=N),class:"mr-2"},{default:w(()=>[(p(!0),b(H,null,ne(r(h).list,(N,we)=>(p(),D(ke,{key:we,label:N.title,value:N.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),k(ae,{type:"warning",disabled:r(_).length<=0,onClick:wo},{default:w(()=>[q(" 移动 ")]),_:1},8,["disabled"]),k(ae,{type:"danger",disabled:r(_).length<=0,onClick:bo},{default:w(()=>[q(" 删除("+F(r(_).length)+") ",1)]),_:1},8,["disabled"])])):(p(),b("div",Zc,[k(ae,{onClick:At},{default:w(()=>[q(" 取消 ")]),_:1}),k(ae,{type:"primary",disabled:r(d).length<=0,onClick:$o},{default:w(()=>[q(" 确认选择("+F(r(d).length)+") ",1)]),_:1},8,["disabled"])]))]),default:w(()=>[P("div",Lc,[P("div",{class:ve(["categrory-item",{active:r(h).active===""}])},[P("div",{class:"categrory-item-left-title",onClick:U[0]||(U[0]=N=>Dt(""))},[k(O,{color:"#FBAC15"},{default:w(()=>[k(z,{icon:"FolderOpened",type:"element"})]),_:1}),Mc])],2),(p(!0),b(H,null,ne(r(h).list,(N,we)=>(p(),b("div",{key:N,class:ve(["categrory-item",{active:we===r(h).active}])},[P("div",{class:"categrory-item-left-title",onClick:ot=>Dt(we),onDblclick:ot=>xo(we)},[k(O,{color:"#FBAC15"},{default:w(()=>[k(z,{icon:"FolderOpened",type:"element"})]),_:1}),P("div",Oc,F((N==null?void 0:N.title)||""),1)],40,Fc),(N==null?void 0:N.is_system)==="10"?(p(),b("div",{key:0,class:"categrory-item-right-icon",onClick:ot=>ko(we)},[k(z,{icon:"Delete",class:"delete-icon",type:"element"})],8,qc)):L("",!0)],2))),128))]),P("div",{ref_key:"bundleBodyRef",ref:u,class:"bundle-body"},[P("div",zc,[(p(!0),b(H,null,ne(r(g),(N,we)=>(p(),b("div",{key:we,title:N.filename,class:ve(["file-item",{active:!r(v)&&r(d).includes(N),"active-warning":r(v)&&r(_).includes(N)}]),onClick:ot=>ce(N)},[r(to)(N.url)?(p(),D(Y,{key:0,src:N==null?void 0:N.url,class:"file-thumb",fit:"contain"},null,8,["src"])):(p(),D(O,{key:1,class:"file-thumb"},{default:w(()=>[k(z,{icon:"Document",size:40,type:"element"})]),_:1})),P("div",Hc,F((N==null?void 0:N.filename)||""),1)],10,Nc))),128))]),P("div",Wc,[k(oe,{small:"",background:"","page-sizes":[24,24*2,24*3,24*4],layout:"total,sizes,prev, pager, next,jumper",total:r(C).total,"page-size":r(C).limit,"current-page":r(C).page,onCurrentChange:x,onSizeChange:J},null,8,["total","page-size","current-page"])])],512)]),_:1},8,["modelValue"])],64)}}}),mt=I({__name:"upload",props:{params:{}},emits:["update:close","update:modelValue"],setup(e,{emit:t}){const o=e,a=t,s=y(),n=c=>{const i=c.map(u=>u==null?void 0:u.url);a("update:modelValue",i)},l=()=>{a("update:close")};return $e(()=>{var c;(c=s.value)==null||c.open()}),(c,i)=>(p(),D(go,X({ref_key:"uploadRef",ref:s},o.params,{"onUpdate:confirm":n,"onUpdate:close":l}),null,16))}});class Jc{constructor(){Xe(this,"title","");Xe(this,"iconSvg","");Xe(this,"tag","");this.title="附件库",this.iconSvg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 75"><defs><style>.cls-1{fill:#1677ff;fill-rule:evenodd;}</style></defs><title>xhadmin</title><g id="图层_2" data-name="图层 2"><g id="svg26"><g id="g24"><path id="path14" class="cls-1" d="M30.8,32.9q22.35-17.38,42.46-4c10,6.64,14.29,8.63,17.26,6.64,6-4,.66-12-10.62-15.92Q54,10.47,30.8,32.9Z"/><path id="path16" class="cls-1" d="M24.16,38.2q7.45-23.75,30.65-24.64C66.29,13.11,70.73,12.23,72,9c2.4-6.46-6.22-9.66-17.24-6.42Q29.43,10.07,24.16,38.2Z"/><path id="path18" class="cls-1" d="M20,51.8q-3-23,11.75-36.39c7.31-6.64,9.75-9.7,8.77-12.47-2-5.57-9.45-2.91-14.89,5.31Q13.2,27.12,20,51.8Z"/><path id="path20" class="cls-1" d="M26.41,65Q13.5,49,14.19,32.24c.35-8.28,0-11.66-2-13.09-4-2.86-5.7,4.85-5.68,11.37Q6.6,51.93,26.41,65Z"/><path id="path22" class="cls-1" d="M35.44,69.4c1.5-.67-17.24.66-25.8-14.8-3.39-6.12-5.18-8.39-7.3-8.36-4.22.06-2,6.45.92,11.14C12.88,72.71,34,70.05,35.44,69.4Z"/></g><text data-v-4db12289="" class="logo-svg-cls-2 logo-svg-text theme--transparent" transform="translate(28.28 57.81)">xhadmin</text></g></g></svg>',this.tag="button"}getValue(t){return""}isActive(t){return!1}isDisabled(t){return!1}exec(t,o){le(mt,{"onUpdate:modelValue":a=>{a.forEach(s=>{const n=s.lastIndexOf("."),l=s.substr(n+1);let c="";["gif","jpg","jpeg","png"].includes(l.toLowerCase())?c=`<img src="${s}" />`:["mp4"].includes(l.toLowerCase())?c=`<video src="${s}" controls="controls" />`:["mp3","ogg","wav"].includes(l.toLowerCase())?c=`<audio src="${s}" controls="controls" />`:c=`<a href="${s}">${s}</a>`,t.setHtml(c)})},"onUpdate:close":()=>{_e()}},{title:"附件库",customStyle:{width:0,height:0}})}}const Gc=I({__name:"index",setup(e){const t=y("zh-cn"),o=S(()=>t.value==="zh-cn"?Vo:Uo),a=pt({autoInsertSpace:!1}),s=pt({max:1});return(n,l)=>{const c=T("router-view"),i=T("el-config-provider");return p(),D(i,{button:r(a),message:r(s),locale:r(o)},{default:w(()=>[k(c)]),_:1},8,["button","message","locale"])}}}),Kc=I({__name:"App",setup(e){const t={key:"xhUploadify",factory(){return new Jc}};return Oo.registerMenu(t),wc(),(o,a)=>(p(),D(Gc))}}),Yc=e=>{let t="",o=0;e=(e||0).toString();for(let a=e.length-1;a>=0;a--)o++,t=e.charAt(a)+t,!(o%3)&&a!==0&&(t=`,${t}`);return t},Ht=(e,t,o,a)=>{let s;const n=o-t;function l(c){s||(s=c);const i=c-s,u=Math.min(i/a,1),d=t+Math.floor(u*n);d>999&&e.dataset.numberScrollThousandsOff===void 0?e.innerHTML=Yc(d):e.innerHTML=d.toString(),i<a&&globalThis.requestAnimationFrame(l)}globalThis.requestAnimationFrame(l)},ei={mounted(e,t,o){const{value:a}=t,s=parseFloat(e.dataset.numberScrollValue??"0"),n=a?parseFloat(a.toString()):0,l=parseInt(e.dataset.numberScrollDuration??"1000");Ht(e,s,n,l),e.dataset.numberScrollValue=n.toString()},updated(e,t){if(e.dataset.numberScrollOnceExecuted)return;console.log("updated");const{value:o}=t,a=parseFloat(e.dataset.numberScrollValue??"0"),s=o?parseFloat(o.toString()):0,n=parseInt(e.dataset.numberScrollDuration??"1000");s!==a&&(Ht(e,a??0,o,n),t.modifiers.once&&(e.dataset.numberScrollOnceExecuted="true")),e.dataset.numberScrollValue=s.toString()}};function ti(e){e.directive("number-scroll",ei)}const Ve=y(Qe),_t=y([...ka]),rt=y([..._t.value,Ve.value,oo,ao]),Wt=y(!1);G.beforeEach(async(e,t,o)=>{var u,d,_,h,g;if(eo.start(),_t.value.includes(e.path)){o();return}const a=ye(),s=Se(),n=He(),l=S(()=>a.userInfo);if((u=e.query)!=null&&u.token){let m=(d=e.query)==null?void 0:d.token;m=m.includes("Bearer")?m:`Bearer ${m}`,n.value=m}if((_=e.query)!=null&&_.appid&&(s.value=(h=e.query)==null?void 0:h.appid),n.value&&[Ve.value,oo,ao].includes(e.path)){o({path:"/"});return}const c=ue(),i=S(()=>c.siteInfo);if(!i.value.web_name){if(await c.getSite(),!i.value.web_name){E("站点名称web_name字段缺失");return}if(i.value.login_link&&c.setLoginLink(i.value.login_link),(g=i.value)!=null&&g.remote_url&&!Wt.value){const m=i.value.remote_url;Ve.value&&(rt.value=[...rt.value,Ve.value]),lr(m),Wt.value=!0,o({...e,replace:!0});return}}if(n.value){if(!l.value.username&&!_t.value.includes(e.path))try{if(await a.getUserInfo(),!l.value.username){E("用户信息缺少username字段");return}const m=a.routeList;if(m.length===0){a.Authorization="",E("您没有任何权限，请联系管理员！"),o({path:Ve.value});return}m.forEach(f=>{G.addRoute("default-router",f)}),o({...e,replace:!0});return}catch(m){console.error("前置路由错误",m)}}else if(!rt.value.includes(e.path)){o({path:Ve.value,query:{redirect:e.path}});return}o()});G.afterEach(e=>{var c,i,u;const{version_name:t}=_o(),a=((c=ue().siteInfo)==null?void 0:c.web_name)||"XHAdmin",s=`${a} ${t}`;let n=(i=e.meta)==null?void 0:i.title;const l=(u=e.query)==null?void 0:u.code;l&&(n=wa[l]||"抱歉，你访问的页面不存在"),n?document.title=`${n} - ${s}`:a&&(document.title=s),eo.done()});const oi=e=>{e.use(Te),e.config.globalProperties.$XModal=Te.modal,e.config.globalProperties.$XPrint=Te.print,e.config.globalProperties.$XSaveFile=Te.saveFile,e.config.globalProperties.$XReadFile=Te.readFile},ai=Bo(),Ee=Xo(Kc);oi(Ee);Ee.use(ai);Ee.use(G);Ee.use(Ro);Ee.use(ti);Ee.mount("#app");ro.vue=Ee;export{lo as X,te as _,ue as a,Bc as b,fo as c,M as d,He as e,wa as f,Re as g,mo as h,Ge as i,vt as j,fe as k,Qe as l,pe as o,ye as u};
