var Io=Object.defineProperty;var jo=(e,t,o)=>t in e?Io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var Xe=(e,t,o)=>(jo(e,typeof t!="symbol"?t+"":t,o),o);import"./vue.4a9689d1.js";import{d as Wt,s as He,c as Do}from"./pinia.a28c96ab.js";import{E as Bo,a as ie,b as So,c as Eo,z as To,e as Vo,i as Ro}from"./element-plus.7ba5dff5.js";import{V as Uo,a as Te}from"./vxe-table.d35ff2cd.js";import{T as Lo,E as Mo,Z as Fo}from"./@wangeditor.0cc4d431.js";import{N as ct}from"./@vicons.19962190.js";import{Q as it}from"./@element-plus.c73cd653.js";import{d as I,b as S,f as T,o as p,$ as A,a0 as w,a1 as Xt,C as r,h as y,w as ft,c as b,a as P,e as k,aE as je,aF as De,a4 as F,F as z,af as ne,a2 as L,a3 as H,I as qo,X as he,Y as ve,v as $e,U as me,l as Fe,aj as Z,ak as ee,Z as Oo,p as X,aG as Be,H as Zt,a7 as Qt,g as Yt,j as ut,a5 as dt,ah as Ge,a9 as Ho,r as pt,u as No,W as zo,k as Wo}from"./@vue.2c031df9.js";import{a as Xo}from"./axios.a342f982.js";import{c as Zo,a as Jt,u as Gt}from"./@vueuse.25323d91.js";import{u as ge,a as ht,c as Qo,b as Yo}from"./vue-router.e6e43b7c.js";import{F as Bt}from"./@form-create.80117775.js";import{H as St,j as Jo,p as Go,a as Ko,b as ea,c as ta,x as oa}from"./highlight.js.1f34202d.js";import{X as Et}from"./xe-utils.a41f8ad3.js";import{l as aa}from"./less.9f8d4656.js";import{e as na}from"./echarts.eeef61a5.js";import{l as sa,n as la}from"./@formatjs.edd32ab3.js";import{r as ra,u as ca}from"./xlsx.04f2268f.js";import{J as ia}from"./jsencrypt.a25df808.js";import{n as Kt}from"./nprogress.467ab7a9.js";import"./lodash-es.2e98bc53.js";import"./@popperjs.c75af06c.js";import"./@ctrl.f8748455.js";import"./dayjs.f21ac596.js";import"./async-validator.dee29e8b.js";import"./memoize-one.297ddbcb.js";import"./normalize-wheel-es.ed76fb12.js";import"./@floating-ui.ac9e5c57.js";import"./dom-zindex.4334dded.js";import"./zrender.29f65bdb.js";import"./tslib.96271c1f.js";import"./intl-messageformat.353b9996.js";const ua=Object.freeze(Object.defineProperty({__proto__:null,get baseURL(){return $t},get default(){return G},get instance(){return G}},Symbol.toStringTag,{value:"Module"}));(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();const te=I({__name:"index",props:{icon:{},size:{default:18},color:{}},setup(e){const t=e,o=S(()=>{if(it[t.icon])return it[t.icon];if(ct[t.icon])return ct[t.icon]});return(a,s)=>{const n=T("el-icon");return p(),A(n,{size:a.size,color:a.color},{default:w(()=>[(p(),A(Xt(r(o))))]),_:1},8,["size","color"])}}}),eo=S(()=>e=>{const o=e.split("?")[0].split(".").pop();if(!o)return!1;const a=o.toLowerCase();return["png","jpg","jpeg","gif","webp","svg","bmp"].includes(a)}),gt=e=>(je("data-v-d120635f"),e=e(),De(),e),da={class:"category-container"},pa={class:"item"},ma=gt(()=>P("div",{class:"title"}," 请输入分类名称 ",-1)),_a={class:"item"},fa=gt(()=>P("div",{class:"title"}," 请输入分类目录 ",-1)),ha={class:"item"},ga=gt(()=>P("div",{class:"title"}," 请输入分类排序 ",-1)),va=I({__name:"category",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,a=t,s=y({...o.modelValue});return ft(()=>s,n=>{a("update:modelValue",s.value)},{immediate:!0}),(n,l)=>{const c=T("el-input");return p(),b("div",da,[P("div",pa,[ma,k(c,{modelValue:r(s).title,"onUpdate:modelValue":l[0]||(l[0]=i=>r(s).title=i),placeholder:"请输入分类名称"},null,8,["modelValue"])]),P("div",_a,[fa,k(c,{modelValue:r(s).dir_name,"onUpdate:modelValue":l[1]||(l[1]=i=>r(s).dir_name=i),placeholder:"请输入分类目录"},null,8,["modelValue"])]),P("div",ha,[ga,k(c,{modelValue:r(s).sort,"onUpdate:modelValue":l[2]||(l[2]=i=>r(s).sort=i),placeholder:"请输入分类排序"},null,8,["modelValue"])])])}}});const M=(e,t)=>{const o=e.__vccOpts||e;for(const[a,s]of t)o[a]=s;return o},Tt=M(va,[["__scopeId","data-v-d120635f"]]),Ze="/login",to="/register",oo="/password",ya="/user/personal",ao="/Index/index",xa=["/exception","/401","/403","/404","/401","/500","/502"],ka={401:"您没有权限访问该页面",403:"资源错误",404:"资源错误",500:"服务器内部错误",502:"请求错误，无法获取到数据"},wa="modulepreload",ba=function(e){return"/"+e},Vt={},be=function(t,o,a){if(!o||o.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(o.map(n=>{if(n=ba(n),n in Vt)return;Vt[n]=!0;const l=n.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!a)for(let d=s.length-1;d>=0;d--){const _=s[d];if(_.href===n&&(!l||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":wa,l||(u.as="script",u.crossOrigin=""),u.href=n,document.head.appendChild(u),l)return new Promise((d,_)=>{u.addEventListener("load",d),u.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t()).catch(n=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=n,window.dispatchEvent(l),!l.defaultPrevented)throw n})},Ke=I({__name:"menu-item",props:{menuData:{}},setup(e){const t=Se(),o=a=>{const s=a.path,n=y({});a.ajaxParams&&(n.value=tt(a.ajaxParams));let l={...n.value};t.value&&(l={...l,appid:t.value}),pe(`/${s}`,l)};return(a,s)=>{const n=T("el-menu-item-group"),l=T("el-menu-item");return p(),b(z,null,[a.menuData.isGroup&&a.menuData.show?(p(),A(n,{key:0},{title:w(()=>[P("span",null,F(a.menuData.title),1)]),default:w(()=>[(p(!0),b(z,null,ne(a.menuData.children,c=>(p(),A(Ke,{key:c.activeId,"menu-data":c},null,8,["menu-data"]))),128))]),_:1})):L("",!0),!a.menuData.isGroup&&a.menuData.show?(p(),A(l,{key:1,index:a.menuData.activeId,onClick:s[0]||(s[0]=c=>o(a.menuData))},{default:w(()=>[H(F(a.menuData.title),1)]),_:1},8,["index"])):L("",!0)],64)}}}),Ca=I({__name:"menu-item-level",props:{menuData:{}},setup(e){const t=Se(),o=a=>{const s=a.path,n=y({});a.ajaxParams&&(n.value=tt(a.ajaxParams));let l={...n.value};t.value&&(l={...l,appid:t.value}),pe(`/${s}`,l)};return(a,s)=>{const n=T("el-sub-menu"),l=T("el-menu-item");return p(),b(z,null,[a.menuData.isGroup&&a.menuData.show?(p(),A(n,{key:0,index:a.menuData.activeId},{title:w(()=>[P("span",null,F(a.menuData.title),1)]),default:w(()=>[(p(!0),b(z,null,ne(a.menuData.children,c=>(p(),A(Ke,{key:c.activeId,"menu-data":c},null,8,["menu-data"]))),128))]),_:1},8,["index"])):L("",!0),!a.menuData.isGroup&&a.menuData.show?(p(),A(l,{key:1,index:a.menuData.activeId,onClick:s[0]||(s[0]=c=>o(a.menuData))},{default:w(()=>[H(F(a.menuData.title),1)]),_:1},8,["index"])):L("",!0)],64)}}}),at={layout:"mix",layoutMenu:"level",layoutTabsTheme:"radius",layoutSize:!1,theme:"OS",sideMenuCollapse:!1,sideMenuWidth:80,sideWidth:220,headerHeight:50,logoHeight:30,footerHeight:35},Rt={nickname:"",username:"",password:"",headimg:"",role:{},menus:[]},Pa={form:{inline:!1,labelPosition:"top",labelSuffix:void 0,hideRequiredAsterisk:!0,labelWidth:"auto",showMessage:!0,inlineMessage:!0,statusIcon:!1,validateOnRuleChange:!0,disabled:!1,size:void 0,title:!0},row:{gutter:50,type:void 0,align:void 0,justify:void 0,tag:"div"},global:{"*":{}},submitBtn:!1,resetBtn:!1},$a=e=>e.map(t=>(t.handle=o=>{if((t==null?void 0:t.where)==="==")return o===t.value;if((t==null?void 0:t.where)==="!=")return o!==t.value;if((t==null?void 0:t.where)==="in"){const a=t.value;return a instanceof Array&&a instanceof Object?Oe(o,t.value):(console.error("联动组件的IN条件值必须是数组或对象"),!1)}},t)),Aa=e=>e.map(t=>(t!=null&&t.control&&(t.control=$a(t.control)),t)),Ia={};function ja(e,t){return p(),b("div",null," 高德地图 ")}const Da=M(Ia,[["render",ja]]),Ba={};function Sa(e,t){return p(),b("div",null," 百度地图 ")}const Ea=M(Ba,[["render",Sa]]),Ta={};function Va(e,t){return p(),b("div",null," 腾讯地图 ")}const Ra=M(Ta,[["render",Va]]),Ua={javascript:Jo,php:Go,python:Ko,java:ea,css:ta,xml:oa},La=e=>(St.registerLanguage(e,Ua[e]),St),Ma={class:"w-100%"},Fa=["innerHTML"],qa=I({__name:"index",props:{modelValue:{},language:{default:"javascript"},showLineNumbers:{type:Boolean}},setup(e){const t=e,o=La(t.language),a=y("");return qo(()=>{a.value=o.highlight(t.modelValue,{language:t.language}).value}),(s,n)=>(p(),b("div",Ma,[P("pre",null,[H("    "),P("code",{class:"hljs",innerHTML:r(a)},null,8,Fa),H(`
    `)])]))}}),Oa=I({__name:"xh-button",props:{type:{default:"default"},text:{type:Boolean}},setup(e){const t=e,o=S(()=>t.text?"":`xh-button-${t.type}`);return(a,s)=>(p(),b("button",{class:ve(["xh-button",r(o)])},[he(a.$slots,"loading",{},void 0,!0),he(a.$slots,"icon",{},void 0,!0),he(a.$slots,"default",{},void 0,!0)],2))}});const Ha=M(Oa,[["__scopeId","data-v-dbf03c62"]]),Ue=I({__name:"index",props:{type:{default:"default"}},setup(e){const t=e,o=["","primary","success","info","warning","danger"],a=S(()=>!o.includes(t.type));return(s,n)=>{const l=T("el-button");return r(a)?(p(),A(Ha,{key:0,type:s.type},{default:w(()=>[he(s.$slots,"loading"),he(s.$slots,"icon"),he(s.$slots,"default")]),_:3},8,["type"])):(p(),A(l,{key:1,type:s.type},{default:w(()=>[he(s.$slots,"loading"),he(s.$slots,"icon"),he(s.$slots,"default")]),_:3},8,["type"]))}}}),W=(e,t,o="",a)=>{Bo({message:e,title:o,duration:2e3,type:t,...a})},de=(e,t="温馨提示",o)=>{W(e,"success",t,o)},E=(e,t="温馨提示",o)=>{W(e,"error",t,o)},no=e=>(je("data-v-f0d97d29"),e=e(),De(),e),Na={class:"xh-icons-modal"},za={class:"xh-icons"},Wa={class:"search-container"},Xa=no(()=>P("div",{class:"placeholder text-blueGray"}," 温馨提示：单击图标为选择，双击图标为复制 ",-1)),Za={class:"icon-list"},Qa={class:"tools"},Ya=no(()=>P("div",{class:"title"}," 所有图标 ",-1)),Ja={class:"options"},Ga={class:"list"},Ka=["onDblclick","onClick"],en={class:"icon-title"},tn={class:"xh-action"},on=I({__name:"modal",emits:["update:confirm","update:close"],setup(e,{emit:t}){const o=t,a=y([{title:"Element-Plus",type:"element",icons:Object.keys(it)},{title:"vicons/antd",type:"naiveui",icons:Object.keys(ct)}]),s=y(""),n=y("element"),l=y(""),c=y([]),i=m=>{c.value=[];const f=a.value.find(v=>v.type===m);f&&u(f.icons)};function u(m){let f=0;function v(){globalThis.requestIdleCallback(D=>{for(;D.timeRemaining()>0&&f<m.length;)c.value.push(m[f++]);f<m.length&&v()})}v()}const d=m=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(m).then(f=>{});else{const f=document.createElement("input");f.value=m,document.body.appendChild(f),f.select(),document.execCommand("Copy"),f.remove()}de("复制成功")},_=m=>{l.value=m===l.value?"":m},h=()=>{o("update:confirm",{icon:l.value,type:n.value})},g=()=>{o("update:close")};return $e(()=>{u(a.value[0].icons)}),(m,f)=>{const v=te,D=T("el-button"),j=T("el-button-group"),B=T("el-input"),U=T("el-option"),C=T("el-select"),$=Ue;return p(),b("div",Na,[P("div",za,[P("div",Wa,[k(B,{modelValue:r(s),"onUpdate:modelValue":f[1]||(f[1]=x=>me(s)?s.value=x:null),placeholder:"图标名称"},{prepend:w(()=>[k(v,{icon:"Search",type:"element"})]),append:w(()=>[k(j,null,{default:w(()=>[k(D,{onClick:f[0]||(f[0]=x=>s.value="")},{default:w(()=>[H(" 重置 ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),Xa]),P("div",Za,[P("div",Qa,[Ya,P("div",Ja,[k(C,{modelValue:r(n),"onUpdate:modelValue":f[2]||(f[2]=x=>me(n)?n.value=x:null),onChange:i},{default:w(()=>[(p(!0),b(z,null,ne(r(a),(x,Y)=>(p(),A(U,{key:Y,label:x.title,value:x.type},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),P("div",Ga,[(p(!0),b(z,null,ne(r(c).filter(x=>x.includes(r(s))),(x,Y)=>(p(),b("div",{key:Y,class:ve(["item",{active:x===r(l)}]),onDblclick:Q=>d(x),onClick:Q=>_(x)},[k(v,{icon:x,size:26,type:r(n),color:"#888"},null,8,["icon","type"]),P("div",en,F(x),1)],42,Ka))),128))])])]),P("div",tn,[k($,{type:"primary",class:"xh-group-button",onClick:h},{default:w(()=>[H(" 确定 ")]),_:1}),k($,{type:"danger",class:"xh-group-button",onClick:g},{default:w(()=>[H(" 取消 ")]),_:1})])])}}});const an=M(on,[["__scopeId","data-v-f0d97d29"]]),le=(e,t,o)=>ie({title:"通用模态框",customStyle:{width:"45%",height:"650px"},showClose:!0,closeOnClickModal:!1,...o,showConfirmButton:!1,customClass:"xh-modal-mask",message:()=>Fe(e,t)}),_e=()=>{ie.close()},nn={key:1},sn=I({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const o=t,a=()=>{le(an,{"onUpdate:confirm":n=>{o("update:modelValue",n),ie.close()},"onUpdate:close":()=>{ie.close()}},{title:"图标库",closeOnClickModal:!1,customStyle:{width:"45%",height:"650px"}})},s=()=>{o("update:modelValue",""),de("重置成功")};return(n,l)=>{var _;const c=te,i=T("el-button"),u=T("el-button-group"),d=T("el-input");return p(),A(d,{value:((_=n.modelValue)==null?void 0:_.icon)||"",placeholder:"请选择图标",disabled:""},{prepend:w(()=>{var h,g,m;return[(h=n.modelValue)!=null&&h.icon?(p(),A(c,{key:0,icon:(g=n.modelValue)==null?void 0:g.icon,type:((m=n.modelValue)==null?void 0:m.type)||"",size:18},null,8,["icon","type"])):(p(),b("span",nn,"无"))]}),append:w(()=>[k(u,null,{default:w(()=>[k(i,{type:"primary",onClick:s},{default:w(()=>[H(" 重置图标 ")]),_:1}),k(i,{type:"danger",onClick:a},{default:w(()=>[H(" 选择图标 ")]),_:1})]),_:1})]),_:1},8,["value"])}}}),ln=I({__name:"index",props:{modelValue:{},style:{default:{}}},setup(e){return(t,o)=>(p(),b("div",Z(ee(t.style)),F(t.modelValue),17))}}),rn={};function cn(e,t){return p(),b("div",null," 自定义输入框（未实现） ")}const un=M(rn,[["render",cn]]),dn=["innerHTML"],pn=I({__name:"index",props:{text:{},icon:{default:""},style:{default:{color:"#666",padding:"5px 0 0 0",fontSize:"12px"}},iconSize:{default:16}},setup(e){return(t,o)=>{const a=te;return p(),b("div",{class:"form-prompt",style:Oo(t.style)},[t.icon?(p(),A(a,{key:0,icon:t.icon,size:t.iconSize},null,8,["icon","size"])):L("",!0),P("span",{class:"text",innerHTML:t.text},null,8,dn)],4)}}});const mn=M(pn,[["__scopeId","data-v-7484828e"]]),_n=I({__name:"index",props:{modelValue:{},file:{},ajaxParams:{}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,a=t,s=l=>{a("update:modelValue",l)},n=y(o.modelValue);return(l,c)=>(p(),A(r(fe),X({modelValue:r(n),"onUpdate:modelValue":c[0]||(c[0]=i=>me(n)?n.value=i:null),file:l.file},{ajaxParams:l.ajaxParams},{"onUpdate:modelValue":s}),null,16,["modelValue","file"]))}}),fn={};function hn(e,t){return p(),b("div",null," 表格展示器 ")}const gn=M(fn,[["render",hn]]),vn={class:"upload-container"},yn=["onClick"],xn=["onClick"],kn=I({__name:"index",props:{modelValue:{default:[]},limit:{default:1},suffix:{default:"*"},format:{default:"*"}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,a=t,s=l=>{const c=l.map(i=>i==null?void 0:i.url);a("update:modelValue",c)},n=l=>{const c=o.modelValue.filter((i,u)=>u!==l);a("update:modelValue",c)};return $e(()=>{if(typeof o.modelValue=="string"){const l=o.modelValue===""?"":[o.modelValue];a("update:modelValue",l)}}),(l,c)=>{const i=T("el-image"),u=te,d=T("el-icon");return p(),b("div",null,[k(ho,{limit:l.limit,suffix:l.suffix,format:l.format,"onUpdate:confirm":s},{open:w(({open:_})=>[P("div",vn,[(p(!0),b(z,null,ne(l.modelValue,(h,g)=>(p(),b("div",{key:g,class:"item"},[r(eo)(h)?(p(),A(i,{key:0,class:"image","preview-src-list":l.modelValue,"z-index":999,src:h,infinite:!1},null,8,["preview-src-list","src"])):(p(),A(d,{key:1,class:"file-thumb"},{default:w(()=>[k(u,{icon:"Document",size:28,type:"element"})]),_:1})),P("div",{class:"del-file",onClick:m=>n(g)},[k(u,{icon:"Delete",size:15,type:"element"})],8,yn)]))),128)),P("div",{class:"item",onClick:_},[k(u,{icon:"PlusOutlined",size:24,color:"#888"})],8,xn)])]),_:1},8,["limit","suffix","format"])])}}});const wn=M(kn,[["__scopeId","data-v-fa07f09d"]]),bn={class:"editor-container"},Cn=I({__name:"index",props:{modelValue:{},toolbarConfig:{},editorConfig:{},editHeight:{default:450},isUploadify:{type:Boolean,default:!0},uploadifyLimit:{},uploadifyExt:{}},emits:["update:modelValue"],setup(e,{emit:t}){Be(d=>({f3406b70:r(u)}));const o=e,a=t,s=Zt(),n=y(o.modelValue);y({defaultConfig:{insertKeys:{index:22,keys:["xhUploadify"]}}});const l=y({});o.editorConfig&&(l.value=o.editorConfig),l.value.MENU_CONF={uploadImage:{customBrowseAndUpload(d){le(mt,{params:{limit:99,suffix:["png","jpg","jpeg","gif","bmp"],format:["png","jpg","jpeg","gif","bmp"]},"onUpdate:modelValue":_=>{_.forEach(h=>{d(h)}),_e()},"onUpdate:close":()=>{_e()}},{title:"附件库",customStyle:{width:0,height:0}})}},uploadVideo:{customBrowseAndUpload(d){le(mt,{params:{suffix:["mp4","avi","flv","wmv","mov","rmvb","rm","mkv","webm","3gp","mpeg","mpg","dat","ts","mts","vob"],format:["mp4","avi","flv","wmv","mov","rmvb","rm","mkv","webm","3gp","mpeg","mpg","dat","ts","mts","vob"]},"onUpdate:modelValue":_=>{_.forEach(h=>{d(h)}),_e()},"onUpdate:close":()=>{_e()}},{title:"附件库",customStyle:{width:0,height:0}})}}},Qt(()=>{s.value&&(s.value.destroy(),s.value=null)});const c=d=>{s.value=d},i=d=>{const _=d.getHtml();a("update:modelValue",_)},u=S(()=>`${o.editHeight}px`);return(d,_)=>(p(),b("div",bn,[k(r(Lo),{class:"toolbar",editor:r(s)},null,8,["editor"]),k(r(Mo),{modelValue:r(n),"onUpdate:modelValue":_[0]||(_[0]=h=>me(n)?n.value=h:null),"default-config":r(l),class:"editor-content",onOnCreated:c,onOnChange:i},null,8,["modelValue","default-config"])]))}});const Ut=M(Cn,[["__scopeId","data-v-4a95b320"]]),Lt={amap:Da,bmap:Ea,icons:sn,qmap:Ra,remote:_n,uploadify:wn,info:ln,HCode:qa,PromptTip:mn,wangEditor:Ut,tinymceEditor:Ut,XInput:un,XTable:gn},Pn=e=>{Object.keys(Lt).forEach(t=>{e.component(t,Lt[t])})},vt=I({__name:"index",props:{api:{default:""},method:{default:"GET"},ajaxParams:{},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(e,{expose:t,emit:o}){const a=e,s=o,n=ge(),l=Yt(),c=y({}),i=y({api:"",method:"POST"}),u=y({}),d=y(),_=y(Pa),h=y("");Bt.use(Pn);const g=Bt.$form(),m=()=>{const D=y({method:a.method,params:{...a.ajaxParams},data:{...a.ajaxParams}});a.method==="GET"?delete D.value.data:delete D.value.params,s("update:init"),G(a.api,D.value).then(j=>{const{data:B}=j;if(!(B!=null&&B.http))return E("提交接口获取失败"),Promise.reject(new Error("提交接口获取失败"));if(!(B!=null&&B.formRule))return E("表单规则获取失败"),Promise.reject(new Error("表单规则获取失败"));i.value=B.http,d.value=Aa(B.formRule),_.value={..._.value,...B.config},h.value=(B==null?void 0:B.redirect)??"",s("update:init-ok",{response:B,exposed:l.exposed})}).catch(j=>{s("update:init-error",j)})},f=()=>{var j,B,U;const D=y({method:((j=i.value)==null?void 0:j.method)??"GET",params:{...a.ajaxParams},data:{}});((B=i.value)==null?void 0:B.method)==="GET"?D.value.params={...D.value.params,...u.value}:D.value.data={...D.value.data,...u.value},s("update:submit",{api:i.value.api,queryParams:D}),G(((U=i.value)==null?void 0:U.api)??"",D.value).then(C=>{var $;($=n.query)!=null&&$.isBack&&!a.isModal&&!h.value?Je():h.value&&pe(h.value),s("update:submit-ok",C),de((C==null?void 0:C.msg)??"操作失败")}).catch(C=>{s("update:submit-error",C)})},v=()=>{s("update:rest-ok")};return $e(()=>m()),t({init:m,submit:f,reset:v}),(D,j)=>(p(),A(r(g),{api:r(c),"onUpdate:api":j[0]||(j[0]=B=>me(c)?c.value=B:null),modelValue:r(u),"onUpdate:modelValue":j[1]||(j[1]=B=>me(u)?u.value=B:null),modelModifiers:{lazy:!0},rule:r(d),option:r(_),title:""},null,8,["api","modelValue","rule","option"]))}}),$n={class:"xh-modal-container"},An=I({__name:"info-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},setup(e){const t=y(),o=y({submitBtn:{},resetBtn:{}}),a=s=>{var l;const n=(l=s==null?void 0:s.response)==null?void 0:l.extraConfig;o.value=n};return(s,n)=>(p(),b("div",$n,[k(r(vt),{ref_key:"formRef",ref:t,class:"xh-form-create",api:s.api,method:s.method,"ajax-params":s.ajaxParams,"is-modal":!0,"onUpdate:initOk":a},null,8,["api","method","ajax-params"])]))}});const yt=M(An,[["__scopeId","data-v-be00eddc"]]),In={class:"xh-modal-container"},jn={class:"xh-modal-content"},Dn=I({__name:"form-modal",props:{api:{default:""},method:{default:"GET"},ajaxParams:{default:void 0},isModal:{type:Boolean}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(e,{emit:t}){const o=t,a=y(),s=y(),n=y({submitBtn:{},resetBtn:{}}),l=()=>{s.value.setDisabled(!1)},c=h=>{var m;const g=(m=h==null?void 0:h.response)==null?void 0:m.extraConfig;g.resetBtn.content="关闭窗口",g.resetBtn.type="error",n.value=g},i=()=>{a.value.submit()},u=()=>{l(),o("update:submit-ok")},d=()=>{l(),o("update:submit-error")},_=()=>{a.value.reset(),o("update:rest-ok")};return(h,g)=>(p(),b("div",In,[P("div",jn,[k(r(vt),{ref_key:"formRef",ref:a,class:"xh-form-create",api:h.api,method:h.method,"ajax-params":h.ajaxParams,"is-modal":!0,"onUpdate:initOk":c,"onUpdate:submitOk":u,"onUpdate:submitError":d,"onUpdate:restOk":l,"onUpdate:initError":l},null,8,["api","method","ajax-params"])]),k(r(so),{ref_key:"buttonRef",ref:s,"extra-config":r(n),"onUpdate:submit":i,"onUpdate:rest":_},null,8,["extra-config"])]))}});const xt=M(Dn,[["__scopeId","data-v-cea8d9fb"]]),Bn=I({__name:"buttons",props:{extraConfig:{}},emits:["update:init","update:submit","update:rest"],setup(e,{expose:t,emit:o}){const a=o,s=Yt(),n=y(!1),l=u=>{n.value=u},c=()=>{l(!0),a("update:submit")},i=()=>{l(!0),a("update:rest")};return $e(()=>{a("update:init",{exposed:s.exposed})}),t({setDisabled:l}),(u,d)=>{var g;const _=Ue,h=T("el-space");return(g=u.extraConfig.submitBtn)!=null&&g.show?(p(),A(h,{key:0,alignment:"center",class:"footer-buttons",size:[30,0]},{default:w(()=>{var m,f,v,D;return[(m=u.extraConfig.submitBtn)!=null&&m.show?(p(),A(_,X({key:0,type:"primary",class:"xh-extra-button"},((f=u.extraConfig)==null?void 0:f.submitBtn)??{},{loading:r(n),disabled:r(n),onClick:c}),{default:w(()=>{var j;return[H(F(r(n)?"请求中...":((j=u.extraConfig.submitBtn)==null?void 0:j.content)??"提交"),1)]}),_:1},16,["loading","disabled"])):L("",!0),(v=u.extraConfig.resetBtn)!=null&&v.show?(p(),A(_,X({key:1,type:"warning",class:"xh-extra-button"},((D=u.extraConfig)==null?void 0:D.resetBtn)??{},{disabled:r(n),onClick:i}),{default:w(()=>{var j;return[H(F(((j=u.extraConfig.resetBtn)==null?void 0:j.content)??"重置"),1)]}),_:1},16,["disabled"])):L("",!0)]}),_:1})):L("",!0)}}});const so=M(Bn,[["__scopeId","data-v-c3072cde"]]),Sn=(e,t,o,a,s)=>{var _,h;o==null||o.xGrid;const n=o==null?void 0:o.form,l=o==null?void 0:o.page,c=o==null?void 0:o.sort,i=o==null?void 0:o.filters;o!=null&&o.code&&((_=a.screenConfig)!=null&&_.api)&&(e=(h=a.screenConfig)==null?void 0:h.api);const u=J.currentRoute.value,d=y({method:t,params:{page:l.currentPage??1,limit:l.pageSize??20,...s??{},...n,...(u==null?void 0:u.query)??{}}});return JSON.stringify(c)!=="{}"&&d.value.params&&(d.value.params={...d.value.params,field:c.field,order:c.order}),i.length>0&&d.value.params&&i.forEach(({field:g,values:m})=>{d.value.params={...d.value.params,[g]:m.join(",")}}),new Promise((g,m)=>{G(e,d.value).then(f=>{g(f)}).catch(f=>{m(f)})})},En=(e,t,o)=>{G(o.file,{responseType:"blob"}).then(a=>{Uo.saveFile({filename:e,type:t,content:a.data})})},Tn=(e,t,o)=>new Promise((a,s)=>{var c;if(!((c=t.exportConfig)!=null&&c.api))return E("请设置请求API"),Promise.reject(new Error("请设置请求API"));const n=o==null?void 0:o.getProxyInfo(),l={format:e.type??"xlsx",filename:e.filename??"导出文件",sheetName:e.sheetName??"",isHeader:e.isHeader??!1,original:e.original??!1,mode:e.mode??"all",pager:n?n.pager:null,ids:e.mode==="selected"?e.data.map(i=>i.id):[],fields:e.columns.map(i=>({field:i.field,title:i.title}))};return new Promise(i=>{var _;const u={method:"POST",data:{...l}},d=((_=t.exportConfig)==null?void 0:_.api)??"";G(d,u).then(h=>{const{data:g}=h;if(!(g!=null&&g.file))return E("导出数据失败，缺少[file]地址"),Promise.reject(new Error("导出数据失败，缺少导出地址"));En(l.filename,l.format,g),i(h)})})}),Vn=(e,t,o)=>{const a=new FormData;return a.append("file",e.file),new Promise(s=>{var c;const n=((c=t.importConfig)==null?void 0:c.api)??"";G(n,{method:"POST",data:a}).then(i=>{const{msg:u}=i;de(u||"操作成功"),o==null||o.commitProxy("query"),s(i)}).catch(i=>{console.error("导入失败",i)})})},Rn=(e,t,o)=>new Promise(a=>{const s=new FileReader;s.onload=n=>{const l=n.target?n.target.result:"",c=ra(l,{type:"binary"}),i=ca.sheet_to_json(c.Sheets.Sheet1);e.$table.loadData(i),de("已将数据导入至本地表格"),a(i)},s.readAsBinaryString(e.file)}),Un=(e,t,o)=>{var a,s;return(a=t.importConfig)!=null&&a.api&&((s=t.importConfig)!=null&&s.isRemote)?Vn(e,t,o):Rn(e)},Ln=(e,t,o,a,s)=>{const n={...o.toolbarConfig,slots:{buttons:"topButtonList"}};return o.toolbarConfig=n,n!=null&&n.import&&(o.importConfig={...o.importConfig,remote:!0,importMethod:l=>Un(l,o,s)}),n!=null&&n.export&&(o.exportConfig={...o.exportConfig,remote:!0,exportMethod:l=>Tn(l,o,s)}),o.proxyConfig={...o.proxyConfig,ajax:{query:l=>Sn(e,t,l,o,a)}},o},Ce=(e,t,o)=>G.request({url:e,params:t,method:"GET",...o}),Re=(e,t,o)=>G.request({url:e,data:t,method:"POST",...o}),Qe=(e,t,o)=>G.request({url:e,data:t,method:"PUT",...o}),Ye=(e,t,o)=>G.request({url:e,data:t,method:"DELETE",...o}),re=(e,t)=>{const o=e.field;let a=t[o];if(o.includes(".")){const s=o.split(".");let n=t;s.forEach(l=>{n=n[l]}),a=n}return a},Le=(e,t,o,a=!0)=>{if(!e){E("请设置请求API接口"),o==null||o.commitProxy("query");return}Qe(e,t).then(s=>{o==null||o.commitProxy("query"),a&&de((s==null?void 0:s.msg)??"操作成功")})},Mn=(e,t,o,a)=>{var c,i;const s=((c=o==null?void 0:o.rowConfig)==null?void 0:c.keyField)??"id",n=t[e==null?void 0:e.field],l={[s]:t[s],keyField:s,field:e==null?void 0:e.field,value:n};Le((i=e==null?void 0:e.params)==null?void 0:i.api,l,a)},Fn=(e,t)=>{let o={};for(const a in e){const s=e[a]||"id";o={...o,[s]:t[a]||""}}return o},Ne=(e,t,o)=>{var l,c;const a=J.currentRoute.value;let n={...((l=e==null?void 0:e.pageData)==null?void 0:l.queryParams)??{},...a.query};return(c=e.pageData)!=null&&c.isBack&&(n={...n,isBack:1}),n},qn=(e,t,o,a,s)=>{var u,d,_,h,g;const n=J.currentRoute.value,l=((u=e==null?void 0:e.pageData)==null?void 0:u.queryParams)??{},c=y({...n.query}),i=y({...c.value});if(l instanceof Object&&(i.value={...i.value,...l}),o&&!Oe(JSON.stringify((d=e==null?void 0:e.pageData)==null?void 0:d.aliasParams),["[]","{}"]))i.value={...i.value,...Fn((_=e==null?void 0:e.pageData)==null?void 0:_.aliasParams,o)};else{const m=((h=a==null?void 0:a.rowConfig)==null?void 0:h.keyField)??"id";if(!o[m]){E("当前数据错误");return}const f=o[m];i.value={...i.value,[m]:f}}return(g=e.pageData)!=null&&g.isBack&&(i.value={...i.value,isBack:1}),i.value},On=(e,t,o)=>{var s,n;if(!((s=e==null?void 0:e.pageData)!=null&&s.path)){E("缺少跳转地址");return}const a=Ne(e);J.push({path:(n=e==null?void 0:e.pageData)==null?void 0:n.path,query:{...a}})},Hn=(e,t,o,a)=>{var s,n;if(!((s=e==null?void 0:e.pageData)!=null&&s.path)){E("缺少跳转地址");return}J.push({path:(n=e==null?void 0:e.pageData)==null?void 0:n.path,query:{...t}})},qe=e=>{bt(e)||(e=`${window.location.origin}/${e}`),window.open(e)},Nn=(e,t,o)=>{var i,u,d;const a=((i=e==null?void 0:e.pageData)==null?void 0:i.api)??"",s=((u=e.pageData)==null?void 0:u.method)??"GET";let n=((d=e.pageData)==null?void 0:d.path)??"";const l=Ne(e),c={method:s,params:{},data:{}};if(s==="GET"?c.params=l:c.data=l,n){qe(n);return}G(a,c).then(_=>{const{data:h}=_;if(!(h!=null&&h.url)){E("缺少目标跳转地址");return}n=h.url,qe(n)})},zn=(e,t,o,a)=>{var d,_,h,g,m;const s=((d=e==null?void 0:e.pageData)==null?void 0:d.api)??"",n=((_=e.pageData)==null?void 0:_.method)??"GET";let l=((h=t.checkboxConfig)==null?void 0:h.labelField)??"";l||(l=((g=t==null?void 0:t.rowConfig)==null?void 0:g.keyField)??"id");let c=((m=e.pageData)==null?void 0:m.path)??"";const i=Ne(e),u={method:n,params:{},data:{}};if(n==="GET"?u.params={...i,[l]:o}:u.data={...i,[l]:o},c){qe(c);return}G(s,u).then(f=>{const{data:v}=f;if(!(v!=null&&v.url)){E("缺少目标跳转地址");return}c=v.url,qe(c)})},Wn=(e,t,o,a)=>{var i,u,d;const s=((i=e==null?void 0:e.pageData)==null?void 0:i.api)??"",n=((u=e.pageData)==null?void 0:u.method)??"GET";let l=((d=e.pageData)==null?void 0:d.path)??"";const c=y({method:n,params:{...t},data:{...t}});if(n==="GET"?delete c.value.data:delete c.value.params,l){window.open(l);return}G(s,c.value).then(_=>{const{data:h}=_;if(!(h!=null&&h.url)){E("缺少目标跳转地址");return}l=h.url,qe(l)})},Xn=(e,t,o)=>{var n,l,c,i;if(!(((n=e.message)==null?void 0:n.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供模态框接口");return}const s={api:((l=e.pageData)==null?void 0:l.api)||"",method:((c=e.pageData)==null?void 0:c.method)||"GET",ajaxParams:((i=e.pageData)==null?void 0:i.queryParams)||{},"onUpdate:submit-ok":()=>{_e(),o==null||o.commitProxy("reload")},"onUpdate:rest-ok":()=>{_e(),o==null||o.commitProxy("reload")}};le(xt,s,{...e.message,beforeClose:(u,d,_)=>{_(),o==null||o.commitProxy("reload")}})},Zn=(e,t,o,a)=>{var c,i,u,d,_,h,g;if(!(((c=e.message)==null?void 0:c.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供模态框接口");return}let n=((i=t.checkboxConfig)==null?void 0:i.labelField)??"";n||(n=((u=t==null?void 0:t.rowConfig)==null?void 0:u.keyField)??"id");const l=y({api:(d=e.pageData)==null?void 0:d.api,method:((_=e.pageData)==null?void 0:_.method)||"GET",ajaxParams:{[n]:o},"onUpdate:submit-ok":()=>{_e(),a==null||a.commitProxy("reload")},"onUpdate:rest-ok":()=>{_e(),a==null||a.commitProxy("reload")}});((h=e.pageData)==null?void 0:h.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(g=e.pageData)==null?void 0:g.queryParams}),le(xt,l.value,{...e.message,beforeClose:(m,f,v)=>{v(),a==null||a.commitProxy("reload")}})},Qn=(e,t,o,a)=>{var c,i,u,d,_;if(!(((c=e.message)==null?void 0:c.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供模态框接口");return}const n=y({api:((i=e.pageData)==null?void 0:i.api)||"",method:((u=e.pageData)==null?void 0:u.method)||"GET",ajaxParams:{...t},"onUpdate:submit-ok":()=>{_e(),a==null||a.commitProxy("reload")},"onUpdate:rest-ok":()=>{_e(),a==null||a.commitProxy("reload")}}),l=((d=e.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(n.value.ajaxParams={...n.value.ajaxParams,...l}),(_=n.value.ajaxParams)!=null&&_.isBack&&delete n.value.ajaxParams.isBack,le(xt,n.value,{...e.message,beforeClose:(h,g,m)=>{m(),a==null||a.commitProxy("reload")}})},Pe=(e,t="温馨提示",o="",a)=>ie.confirm(e,t,{confirmButtonText:"确定",cancelButtonText:"取消",type:o,...a}),Yn=(e,t,o)=>{var d,_,h,g,m;const a=(d=e.pageData)==null?void 0:d.api,s=((_=e.pageData)==null?void 0:_.method)??"GET",n=Ne(e);n!=null&&n.isBack&&delete n.isBack;const l=y({method:s,params:{...n},data:{...n}});s==="GET"?delete l.value.data:delete l.value.params;const c=((h=e.message)==null?void 0:h.content)??"",i=((g=e.message)==null?void 0:g.title)??"",u=((m=e.message)==null?void 0:m.type)??"";if(!a){E("接口地址不存在");return}Pe(c,i,u).then(()=>{G(a,l.value).then(f=>{de((f==null?void 0:f.msg)??"操作成功"),o==null||o.commitProxy("reload")})})},Jn=(e,t,o,a)=>{var h,g,m,f,v,D,j;const s=(h=e.pageData)==null?void 0:h.api,n=((g=e.pageData)==null?void 0:g.method)??"GET",l=Ne(e);l!=null&&l.isBack&&delete l.isBack;let c=((m=t.checkboxConfig)==null?void 0:m.labelField)??"";c||(c=((f=t==null?void 0:t.rowConfig)==null?void 0:f.keyField)??"id");const i=y({method:n,params:{...l,[c]:o},data:{...l,[c]:o}});n==="GET"?delete i.value.data:delete i.value.params;const u=((v=e.message)==null?void 0:v.content)??"",d=((D=e.message)==null?void 0:D.title)??"",_=((j=e.message)==null?void 0:j.type)??"";if(!s){E("接口地址不存在");return}Pe(u,d,_).then(()=>{G(s,i.value).then(B=>{de((B==null?void 0:B.msg)??"操作成功"),a==null||a.commitProxy("reload")})})},Gn=(e,t,o,a)=>{var _,h,g,m,f,v,D;const s=(_=e.pageData)==null?void 0:_.api,n=((h=e.pageData)==null?void 0:h.method)??"GET";let l=((g=o.checkboxConfig)==null?void 0:g.labelField)??"";l||(l=((m=o==null?void 0:o.rowConfig)==null?void 0:m.keyField)??"id");const c=y({method:n,params:{...t},data:{...t}});n==="GET"?delete c.value.data:delete c.value.params;const i=((f=e.message)==null?void 0:f.content)??"",u=((v=e.message)==null?void 0:v.title)??"",d=((D=e.message)==null?void 0:D.type)??"";if(!s){E("接口地址不存在");return}Pe(i,u,d).then(()=>{G(s,c.value).then(j=>{de((j==null?void 0:j.msg)??"操作成功"),a==null||a.commitProxy("reload")})})},Kn=(e,t,o)=>{var n,l,c;if(!(((n=e.message)==null?void 0:n.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.path){E("请提供远程组件地址");return}const s={file:((l=e.pageData)==null?void 0:l.path)||"",ajaxParams:((c=e.pageData)==null?void 0:c.queryParams)||{},"onUpdate:close":()=>{ie.close(),o==null||o.commitProxy("reload")}};le(et,s,{...e.message,beforeClose:(i,u,d)=>{d(),o==null||o.commitProxy("reload")}})},es=(e,t,o,a)=>{var c,i,u,d,_,h;if(!(((c=e.message)==null?void 0:c.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.path){E("请提供远程组件地址");return}let n=((i=t.checkboxConfig)==null?void 0:i.labelField)??"";n||(n=((u=t==null?void 0:t.rowConfig)==null?void 0:u.keyField)??"id");const l=y({file:(d=e.pageData)==null?void 0:d.path,ajaxParams:{[n]:o},"onUpdate:close":()=>{ie.close(),a==null||a.commitProxy("reload")}});((_=e.pageData)==null?void 0:_.queryParams)instanceof Object&&(l.value.ajaxParams={...(h=e.pageData)==null?void 0:h.queryParams}),le(et,l.value,{...e.message,beforeClose:(g,m,f)=>{f(),a==null||a.commitProxy("reload")}})},ts=(e,t,o,a)=>{var l,c;if(!(((l=e.message)==null?void 0:l.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.path){E("请提供远程组件地址");return}const n=y({file:(c=e.pageData)==null?void 0:c.path,ajaxParams:t,"onUpdate:close":()=>{ie.close(),a==null||a.commitProxy("reload")}});le(et,n.value,{...e.message,beforeClose:(i,u,d)=>{d(),a==null||a.commitProxy("reload")}})},os=(e,t,o)=>{var n,l,c,i;if(!(((n=e.message)==null?void 0:n.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供信息模态框接口");return}const s={api:((l=e.pageData)==null?void 0:l.api)||"",method:((c=e.pageData)==null?void 0:c.method)||"GET",ajaxParams:((i=e.pageData)==null?void 0:i.queryParams)||{}};le(yt,s,{...e.message,beforeClose:(u,d,_)=>{_(),o==null||o.commitProxy("reload")}})},as=(e,t,o,a)=>{var i,u,d,_,h,g;if(!(((i=e.message)==null?void 0:i.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供模态框接口");return}let n=((u=t.checkboxConfig)==null?void 0:u.labelField)??"";n||(n=((d=t==null?void 0:t.rowConfig)==null?void 0:d.keyField)??"id");const l=y({api:(_=e.pageData)==null?void 0:_.api,method:((h=e.pageData)==null?void 0:h.method)||"GET",ajaxParams:{[n]:o}}),c=((g=e==null?void 0:e.pageData)==null?void 0:g.queryParams)??"";c instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...c}),le(yt,l.value,{...e.message,beforeClose:(m,f,v)=>{v(),a==null||a.commitProxy("reload")}})},ns=(e,t,o,a)=>{var c,i,u,d,_;if(!(((c=e.message)==null?void 0:c.title)||"")){E("信息模态框标题不能为空");return}if(!e.pageData.api){E("请提供信息模态框接口");return}const n=y({api:((i=e.pageData)==null?void 0:i.api)||"",method:((u=e.pageData)==null?void 0:u.method)||"GET",ajaxParams:{...t}}),l=((d=e.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(n.value.ajaxParams={...n.value.ajaxParams,...l}),(_=n.value.ajaxParams)!=null&&_.isBack&&delete n.value.ajaxParams.isBack,le(yt,n.value,{...e.message,beforeClose:(h,g,m)=>{m(),a==null||a.commitProxy("reload")}})},ss=(e,t,o)=>{var n,l,c,i;if(!(((n=e.message)==null?void 0:n.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供表格模态框接口");return}const s={api:((l=e.pageData)==null?void 0:l.api)||"",method:((c=e.pageData)==null?void 0:c.method)||"GET",ajaxParams:((i=e.pageData)==null?void 0:i.queryParams)||{}};le(wt,s,{...e.message,beforeClose:(u,d,_)=>{_(),o==null||o.commitProxy("reload")}})},ls=(e,t,o,a)=>{var c,i,u,d,_,h,g;if(!(((c=e.message)==null?void 0:c.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供模态框接口");return}let n=((i=t.checkboxConfig)==null?void 0:i.labelField)??"";n||(n=((u=t==null?void 0:t.rowConfig)==null?void 0:u.keyField)??"id");const l=y({api:(d=e.pageData)==null?void 0:d.api,method:((_=e.pageData)==null?void 0:_.method)||"GET",ajaxParams:{[n]:o}});((h=e.pageData)==null?void 0:h.queryParams)instanceof Object&&(l.value.ajaxParams={...l.value.ajaxParams,...(g=e.pageData)==null?void 0:g.queryParams}),le(wt,l.value,{...e.message,beforeClose:(m,f,v)=>{v(),a==null||a.commitProxy("reload")}})},rs=(e,t,o,a)=>{var c,i,u,d;if(!(((c=e.message)==null?void 0:c.title)||"")){E("模态框标题不能为空");return}if(!e.pageData.api){E("请提供模态框接口");return}const n=y({api:(i=e.pageData)==null?void 0:i.api,method:((u=e.pageData)==null?void 0:u.method)||"GET",ajaxParams:{...t}}),l=((d=e==null?void 0:e.pageData)==null?void 0:d.queryParams)??"";l instanceof Object&&(n.value.ajaxParams={...n.value.ajaxParams,...l}),le(wt,n.value,{...e.message,beforeClose:(_,h,g)=>{g(),a==null||a.commitProxy("reload")}})},cs=(e,t,o,a)=>{},is=(e,t,o)=>{var a;switch((a=t.pageData)==null?void 0:a.type){case"page":On(t);break;case"link":Nn(t);break;case"down":break;case"confirm":Yn(t,e,o);break;case"modal":Xn(t,e,o);break;case"info":os(t,e,o);break;case"table":ss(t,e,o);break;case"remote":Kn(t,e,o);break;default:E("按钮类型错误");break}},us=(e,t,o)=>{var c,i,u,d;const a=(c=e.columns)==null?void 0:c.filter(_=>_.type==="checkbox");if(!(a!=null&&a.length)){E("请先开启批量操作");return}const s=(o==null?void 0:o.getCheckboxRecords())??[];if(s.length<=0){E("请选择数据");return}let n=((i=e.checkboxConfig)==null?void 0:i.labelField)??"";n||(n=((u=e==null?void 0:e.rowConfig)==null?void 0:u.keyField)??"id");const l=s.map(_=>_[n]);switch((d=t.pageData)==null?void 0:d.type){case"link":zn(t,e,l);break;case"down":break;case"confirm":Jn(t,e,l,o);break;case"remote":es(t,e,l,o);break;case"modal":Zn(t,e,l,o);break;case"info":as(t,e,l,o);break;case"table":ls(t,e,l,o);break;default:E("按钮类型错误");break}},Mt=(e,t,o,a,s)=>{var c,i;if(!a){E("行参数出错");return}const n=y({}),l=((c=t.pageData)==null?void 0:c.queryParams)??"";switch(l instanceof Object&&(n.value={...l}),n.value={...n.value,...qn(t,o,a,e)},(i=t.pageData)==null?void 0:i.type){case"page":Hn(t,n.value);break;case"link":Wn(t,n.value);break;case"down":cs(t,n.value);break;case"confirm":Gn(t,n.value,e,s);break;case"modal":Qn(t,n.value,e,s);break;case"info":ns(t,n.value,e,s);break;case"table":rs(t,n.value,e,s);break;case"remote":ts(t,n.value,e,s);break;default:E("按钮类型错误");break}};const ds=()=>{const e=ye(),t=Me(),o=(e==null?void 0:e.routeList)??[],a=[];for(const s of o){const n=`${t}${s.path}`;a.push(n)}return a},kt=e=>{const t=ds();return Oe(e,t)},ps={class:"button-group"},ms={class:"pr-1"},_s={class:"no-group-buttons"},fs=I({__name:"index",props:{xGrid:{},column:{},rightButtonList:{},gridConfig:{},row:{}},setup(e){var m;const t=e,o=S(()=>{var f;return((f=t.column.params)==null?void 0:f.buttonGroupIcon)??"Operation"}),a=S(()=>{var f;return((f=t.column.params)==null?void 0:f.buttonGroupIconType)??"element"}),s={type:"primary",size:"small"},n=y(((m=t.column.params)==null?void 0:m.buttonStyle)??s),l=S(()=>t.rightButtonList.filter(f=>{var v,D;return((v=f.pageData)==null?void 0:v.group)||((D=t.column.params)==null?void 0:D.group)})),c=S(()=>t.rightButtonList.filter(f=>{var v;return!((v=f.pageData)!=null&&v.group)})),i=S(()=>{var f;return((f=t.column.params)==null?void 0:f.groupText)||"更多"}),u=S(()=>f=>{var C,$,x,Y,Q,se,ce;const v=((C=f.pageData)==null?void 0:C.api)??"";if(!kt(v))return!1;const D=((x=($=f==null?void 0:f.pageData)==null?void 0:$.params)==null?void 0:x.where)??"",j=(Q=(Y=f==null?void 0:f.pageData)==null?void 0:Y.params)==null?void 0:Q.field,B=(ce=(se=f==null?void 0:f.pageData)==null?void 0:se.params)==null?void 0:ce.value;if(j===void 0&&B===void 0)return!0;if(j===void 0||j===""||j&&(B===void 0||B===""))return!1;const U=t.row[j];switch(D){case"!=":return B!==U;case"in":return B instanceof Array&&Oe(U,B);case"notIn":return B instanceof Array&&!Oe(U,B);default:return B===U}}),d=["","primary","success","info","warning","danger"],_=S(()=>f=>{const v={...f};return v!=null&&v.icon&&delete v.icon,v.type==="error"&&(v.type="danger"),d.includes(v.type)||(v.type=""),v}),h=f=>{Mt(t.gridConfig,f,t.column,t.row,t.xGrid)},g=f=>{Mt(t.gridConfig,f,t.column,t.row,t.xGrid)};return(f,v)=>{const D=te,j=Ue,B=T("el-dropdown-item"),U=T("el-dropdown-menu"),C=T("el-dropdown"),$=T("el-button");return p(),b("div",ps,[r(l).length?(p(),A(C,{key:0,onCommand:h},{dropdown:w(()=>[k(U,null,{default:w(()=>[(p(!0),b(z,null,ne(r(l),(x,Y)=>ut((p(),A(B,{key:Y,command:x},{default:w(()=>{var Q,se,ce;return[(Q=x==null?void 0:x.button)!=null&&Q.icon?(p(),A(D,{key:0,icon:(se=x==null?void 0:x.button)==null?void 0:se.icon,type:(ce=x==null?void 0:x.button)==null?void 0:ce.iconType},null,8,["icon","type"])):L("",!0),P("span",null,F(x.title),1)]}),_:2},1032,["command"])),[[dt,r(u)(x)]])),128))]),_:1})]),default:w(()=>[k(j,X({type:"danger",class:"mr-2"},r(n)),{default:w(()=>[P("span",ms,F(r(i)),1),r(o)?(p(),A(D,{key:0,icon:r(o),type:r(a)},null,8,["icon","type"])):(p(),A(D,{key:1,icon:"ArrowDown",type:"element"}))]),_:1},16)]),_:1})):L("",!0),P("div",_s,[(p(!0),b(z,null,ne(r(c),(x,Y)=>{var Q;return ut((p(),b("div",{key:Y,class:"item"},[(p(),A($,X({key:Y},r(_)((x==null?void 0:x.button)??{}),{onClick:se=>g(x)}),Ge({default:w(()=>[H(" "+F(x.title),1)]),_:2},[(Q=x==null?void 0:x.button)!=null&&Q.icon?{name:"icon",fn:w(()=>{var se,ce,xe;return[(se=x==null?void 0:x.button)!=null&&se.icon?(p(),A(D,{key:0,icon:(ce=x==null?void 0:x.button)==null?void 0:ce.icon,type:((xe=x==null?void 0:x.button)==null?void 0:xe.iconType)??""},null,8,["icon","type"])):L("",!0)]}),key:"0"}:void 0]),1040,["onClick"]))])),[[dt,r(u)(x)]])}),128))])])}}});const hs=M(fs,[["__scopeId","data-v-c608c6af"]]),gs={class:"flex space-x-2"},vs=I({__name:"index",props:{xGrid:{},topButtonList:{},gridConfig:{}},setup(e){const t=e,o=S(()=>t.topButtonList.filter(s=>{var n;return!((n=s.pageData)!=null&&n.group)})),a=S(()=>s=>{var l;const n=((l=s.pageData)==null?void 0:l.api)??"";return!!kt(n)});return(s,n)=>{const l=te,c=Ue,i=T("el-space");return p(),b("div",gs,[r(o).length?(p(),A(i,{key:0},{default:w(()=>[(p(!0),b(z,null,ne(r(o),(u,d)=>{var _;return p(),b(z,null,[r(a)(u)?(p(),A(c,X({key:d,type:"primary"},(u==null?void 0:u.button)??{},{onClick:h=>r(is)(t.gridConfig,u,s.xGrid)}),Ge({default:w(()=>[H(" "+F(u.title),1)]),_:2},[(_=u==null?void 0:u.button)!=null&&_.icon?{name:"icon",fn:w(()=>{var h,g;return[k(l,{icon:(h=u==null?void 0:u.button)==null?void 0:h.icon,type:(g=u==null?void 0:u.button)==null?void 0:g.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):L("",!0)],64)}),256))]),_:1})):L("",!0)])}}}),ys={class:"flex space-x-2"},xs=I({__name:"index",props:{xGrid:{},gridConfig:{},selectButtonList:{}},setup(e){const t=e,o=S(()=>{var n;return((n=t.selectButtonList)==null?void 0:n.filter(l=>{var c;return!((c=l.pageData)!=null&&c.group)}))||[]}),a=S(()=>n=>{const l={...n};return l!=null&&l.icon&&delete l.icon,l}),s=S(()=>n=>{var c;const l=((c=n.pageData)==null?void 0:c.api)??"";return!!kt(l)});return(n,l)=>{const c=te,i=Ue,u=T("el-space");return p(),b("div",ys,[r(o).length?(p(),A(u,{key:0},{default:w(()=>[(p(!0),b(z,null,ne(r(o),(d,_)=>{var h;return p(),b(z,null,[r(s)(d)?(p(),A(i,X({key:_,type:"primary"},r(a)((d==null?void 0:d.button)??{}),{onClick:g=>r(us)(t.gridConfig,d,n.xGrid)}),Ge({default:w(()=>[H(" "+F(d.title),1)]),_:2},[(h=d==null?void 0:d.button)!=null&&h.icon?{name:"icon",fn:w(()=>{var g,m;return[k(c,{icon:(g=d==null?void 0:d.button)==null?void 0:g.icon,type:(m=d==null?void 0:d.button)==null?void 0:m.iconType},null,8,["icon","type"])]}),key:"0"}:void 0]),1040,["onClick"])):L("",!0)],64)}),256))]),_:1})):L("",!0)])}}}),ks={class:"flex space-x-3"},ws={key:1,class:"flex space-x-1"},bs=I({__name:"index",props:{xGrid:{},gridConfig:{},topButton:{},topButtonList:{},selectButtonList:{}},setup(e){const t=ge();return(o,a)=>{var n,l,c;const s=Ue;return p(),b("div",ks,[(n=r(t).query)!=null&&n.isBack?(p(),A(s,{key:0,type:"primary",onClick:r(Je)},{default:w(()=>[H(" 返回 ")]),_:1},8,["onClick"])):L("",!0),o.topButtonList.length||(l=o.selectButtonList)!=null&&l.length?(p(),b("div",ws,[o.topButtonList.length?(p(),A(vs,Z(X({key:0},{xGrid:o.xGrid,gridConfig:o.gridConfig,topButtonList:o.topButtonList})),null,16)):L("",!0),(c=o.selectButtonList)!=null&&c.length?(p(),A(xs,Z(X({key:1},{xGrid:o.xGrid,gridConfig:o.gridConfig,selectButtonList:o.selectButtonList})),null,16)):L("",!0)])):L("",!0)])}}}),Cs=e=>(je("data-v-c11e2f2f"),e=e(),De(),e),Ps=Cs(()=>P("div",null,null,-1)),$s={class:"assets-container"},As={class:"item"},Is=["src"],js=["src"],Ds=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){const t=e,o="",a=S(()=>{var n,l;return((l=(n=t.column)==null?void 0:n.params)==null?void 0:l.resource)??[]}),s=S(()=>re(t.column,t.row));return(n,l)=>{const c=te,i=T("el-tooltip");return p(),b(z,null,[Ps,P("div",$s,[(p(!0),b(z,null,ne(r(a),(u,d)=>(p(),A(i,{key:d,show:u==null?void 0:u.isUpdate,trigger:"hover",placement:"top"},{content:w(()=>[H(F((u==null?void 0:u.title)??"错误"),1)]),default:w(()=>[P("div",As,[(u==null?void 0:u.type)==="url"&&r(bt)(u==null?void 0:u.icon)?(p(),b("img",{key:0,class:"logo",src:u==null?void 0:u.icon},null,8,Is)):(u==null?void 0:u.type)==="path"?(p(),b("img",{key:1,class:"logo",src:`${r(o)}${u==null?void 0:u.icon}`},null,8,js)):(p(),A(c,{key:2,icon:u.icon},null,8,["icon"])),P("span",null,F(r(s)[u.field]??"字段错误"),1)])]),_:2},1032,["show"]))),128))])],64)}}});const Bs=M(Ds,[["__scopeId","data-v-c11e2f2f"]]),Ss=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(e){var s,n;const t=e,o=S(()=>re(t.column,t.row)),a=y(((n=(s=t.column)==null?void 0:s.params)==null?void 0:n.props)??{});return(l,c)=>{const i=te;return p(),A(i,X({icon:r(o)},r(a)),null,16,["icon"])}}}),Es={class:"xh-image-error"},Ts=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(e){var s,n,l;const t=e,o=S(()=>re(t.column,t.row)),a=y(((n=(s=t.column)==null?void 0:s.params)==null?void 0:n.props)??{});return(l=a.value)!=null&&l.style||(a.value.style={width:"30px",height:"30px"}),(c,i)=>{const u=te,d=T("el-image");return p(),A(d,X(r(a),{src:r(o),"preview-src-list":r(a).preview?[r(o)]:[],class:"xh-table-image"}),{error:w(()=>[P("div",Es,[k(u,{icon:"Picture",type:"element"})])]),_:1},16,["src","preview-src-list"])}}});const Vs=M(Ts,[["__scopeId","data-v-4693f0c1"]]),Rs=e=>(je("data-v-c9527392"),e=e(),De(),e),Us={class:"xh-image-error"},Ls=Rs(()=>P("span",null,"加载失败",-1)),Ms=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(e){var l,c,i;const t=e,o=S(()=>{var u;return((u=t.column.params)==null?void 0:u.previewDisabled)??!0}),a=S(()=>{const u=re(t.column,t.row);return u instanceof Array?u.map(d=>d.url):[]}),s=S(()=>{var _;const u=((_=t.column.params)==null?void 0:_.is2d)??!1,d=re(t.column,t.row);return d instanceof Array&&d.length>0?u?d.map(h=>h.url):d:[]}),n=y(((c=(l=t.column)==null?void 0:l.params)==null?void 0:c.props)??{});return(i=n.value)!=null&&i.style||(n.value.style={width:"30px",height:"30px"}),(u,d)=>{const _=te,h=T("el-image");return p(!0),b(z,null,ne(r(s),(g,m)=>(p(),A(h,X(r(n),{key:m,src:g==null?void 0:g.url,"preview-src-list":r(o)?[]:r(a)}),{error:w(()=>[P("div",Us,[k(_,{icon:"Picture",type:"element"}),Ls])]),_:2},1040,["src","preview-src-list"]))),128)}}});const Fs=M(Ms,[["__scopeId","data-v-c9527392"]]),qs=e=>(je("data-v-50a2462d"),e=e(),De(),e),Os={class:"xh-image-error"},Hs=qs(()=>P("span",null,"加载失败",-1)),Ns=I({__name:"index",props:{column:{},row:{}},setup(e){var l,c,i;const t=e,o=S(()=>{var u;return((u=t.column.params)==null?void 0:u.previewDisabled)??!0}),a=S(()=>{const u=re(t.column,t.row);return u instanceof Array?u.map(d=>d.url):[]}),s=S(()=>{const u=re(t.column,t.row);return u instanceof Array&&u.length>0?u[0]:[]}),n=y(((c=(l=t.column)==null?void 0:l.params)==null?void 0:c.props)??{});return(i=n.value)!=null&&i.style||(n.value.style={width:"30px",height:"30px"}),(u,d)=>{var g;const _=te,h=T("el-image");return p(),A(h,X(r(n),{src:(g=r(s))==null?void 0:g.url,"preview-src-list":r(o)?[]:r(a)}),{error:w(()=>[P("div",Os,[k(_,{icon:"Picture",type:"element"}),Hs])]),_:1},16,["src","preview-src-list"])}}});const zs=M(Ns,[["__scopeId","data-v-50a2462d"]]),Ws=I({__name:"index",props:{isBorder:{type:Boolean,default:!1},border:{default:"1px solid #b179ff"}},setup(e){Be(a=>({"564a0163":r(o)}));const t=e,o=S(()=>t.isBorder?t.border:"");return(a,s)=>{const n=T("el-input");return p(),A(n,{class:ve({"xh-input":a.isBorder})},null,8,["class"])}}});const Xs=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){var l,c;const t=e,o=S(()=>re(t.column,t.row)),a=y(""),s=y(((c=(l=t.column)==null?void 0:l.params)==null?void 0:c.props)??{}),n=i=>{var g,m,f,v;const u=Ae("rowEdit",!0),d=((g=t.column.params)==null?void 0:g.api)??u,_=((f=(m=t.gridConfig)==null?void 0:m.rowConfig)==null?void 0:f.keyField)??"id",h={[_]:t.row[_],keyField:_,field:(v=t.column)==null?void 0:v.field,value:i};Le(d,h,t.xGrid)};return(i,u)=>{const d=Ws;return p(),A(d,X({modelValue:r(a),"onUpdate:modelValue":u[0]||(u[0]=_=>me(a)?a.value=_:null),value:r(o),placeholder:"请输入"},r(s),{"is-border":!0,onChange:n}),null,16,["modelValue","value"])}}}),Zs=I({__name:"index",setup(e){return(t,o)=>{const a=T("el-input-number");return p(),A(a)}}}),Qs=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){var c,i;const t=e,o=S(()=>re(t.column,t.row)),a=S(()=>{var u;return((u=t.column.params)==null?void 0:u.isMessage)??!1}),s=y(o),n=y(((i=(c=t.column)==null?void 0:c.params)==null?void 0:i.props)??{}),l=u=>{var m,f,v,D;const d=Ae("rowEdit",!0),_=((m=t.column.params)==null?void 0:m.api)??d,h=((v=(f=t.gridConfig)==null?void 0:f.rowConfig)==null?void 0:v.keyField)??"id",g={[h]:t.row[h],keyField:h,field:(D=t.column)==null?void 0:D.field,value:u};Le(_,g,t.xGrid,a.value)};return(u,d)=>{const _=Zs;return p(),A(_,X({modelValue:r(s),"onUpdate:modelValue":d[0]||(d[0]=h=>me(s)?s.value=h:null),value:r(o)},r(n),{onChange:l}),null,16,["modelValue","value"])}}}),Ys=I({__name:"index",props:{column:{},row:{}},setup(e){const t=e,o=S(()=>{var l;const n=((l=t.column)==null?void 0:l.params)??{};return n!=null&&n.type||delete n.type,n}),a=S(()=>{var n,l;return((l=(n=t.column)==null?void 0:n.params)==null?void 0:l.format)??"￥"}),s=S(()=>re(t.column,t.row));return(n,l)=>(p(),b("div",Z(ee(r(o))),F(r(a))+F(r(Et).commafy(r(Et).toNumber(r(s)),{digits:2})),17))}}),lo={vue:null},Js=(e,t,o)=>ie.alert(e,{confirmButtonText:"确定",type:t,...o}),Gs=(e,t,o)=>{So({message:e,type:t,...o})},Ks=(e,t)=>Eo.service({text:e,...t}),el=(e,t,o)=>ie({customStyle:{width:"45%",height:"500px"},showClose:!0,title:" ",...o,closeOnClickModal:!1,customClass:"xh-modal-mask",message:()=>Fe(et,{file:e,ajaxParams:t,"onUpdate:close":()=>{ie.close()}})}),tl={web_name:"",web_title:""},ue=Wt("app",()=>{const t=`/${Me()}/Publics/site`,o=Se(),a=y({...tl}),s=y(),n=i=>{a.value=i};return{useAppId:o,siteInfo:a,getSite:async()=>{const{data:i}=await Ce(t);return n(i),i},setSiteInfo:n,setLoginLink:i=>{s.value=i}}}),ol=(e,t)=>{aa.render(e).then(o=>{const a=document.createElement("style");if(a.setAttribute("type","text/css"),a.setAttribute("id",`css${t}`),a.styleSheet)a.styleSheet.cssText=o.css;else{const n=document.createTextNode(o.css);a.appendChild(n)}const s=document.getElementsByTagName("head");s.length?s[0].appendChild(a):document.documentElement.appendChild(a)})},al=e=>({templates:e.match(/<template>([\s\S]*)<\/template>/)[1],sctipts:e.match(/<script.*>([\s\S]*)<\/script>/)[1],styles:e.match(/<style.*>([\s\S]*)<\/style>/)[1],stylesHasScoped:e.match(/<style.*scoped>([\s\S]*)<\/style>/)!==null}),nl=()=>{const e=lo.vue,t=ht(),o=ge(),a=ye(),s=ue(),n=Me(),l=la(),c=sa({locale:"fr-FR",messages:{}},l);e.config.globalProperties.$intl=c,e.config.globalProperties.$moduleName=n,e.config.globalProperties.$userApp=a,e.config.globalProperties.$siteApp=s,e.config.globalProperties.$routeApp=o,e.config.globalProperties.$routerApp=t,e.config.globalProperties.$axios=ua,e.config.globalProperties.$http={useGet:Ce,usePost:Re,usePut:Qe,useDelete:Ye},e.config.globalProperties.$useGet=Ce,e.config.globalProperties.$usePost=Re,e.config.globalProperties.$usePut=Qe,e.config.globalProperties.$useDelete=Ye,e.config.globalProperties.$echarts=na,e.config.globalProperties.$useKeyCodeEvent=Bc,e.component("XRemote")===void 0&&e.component("XRemote",fe),e.component("AppIcons")===void 0&&e.component("AppIcons",te),e.config.globalProperties.$useAlert=Js,e.config.globalProperties.$useConfirm=Pe,e.config.globalProperties.$useMessage=Gs,e.config.globalProperties.$useNotify=W,e.config.globalProperties.$useLoading=Ks,e.config.globalProperties.$useRemote=el},sl={key:1,class:"remote-fail"},ll=I({__name:"index",props:{file:{},ajaxParams:{},isApi:{type:Boolean},isModal:{type:Boolean}},emits:["update:init","update:modelValue","update:success","update:error","update:close"],setup(e,{emit:t}){const o=e,a=t,s=Ho(),n=y(o.isApi),l=y(o.file),c=y(),i=y({status:"",content:""}),u=y(""),d=y(lt()),_=(U,C,$)=>{const x=al(C),Y=x.sctipts.indexOf("{"),Q=x.sctipts.lastIndexOf("}"),se=x.sctipts.slice(Y,Q+1),ce=new Function(`return ${se}`)();if(!ce){i.value.status="code",i.value.content="远程组件代码格式解析失败";return}if(ce.template=x==null?void 0:x.templates,U.setAttribute("class",`remote css${$}`),!document.querySelector(`style[id=css${$}]`)){let xe="";x.stylesHasScoped?xe=`
            .css${$}{
                ${x.styles}
            }
        `:xe=x.styles,ol(xe,$)}return nl(),ce},h=S(()=>{if(i.value.status==="config"){i.value.content="请先配置远程文件";return}if(!u.value){i.value.content="正在加载中...";return}if(u.value==="fail"){i.value.content="远程组件加载失败";return}return _(c.value,u.value,d.value)}),g=U=>{a("update:modelValue",U)},m=()=>{const U=Date.now(),C=`${l.value}.vue?t=${U}`;Ce(C).then($=>{u.value=$,i.value.status="success",a("update:init",$)}).catch($=>{i.value.content=($==null?void 0:$.msg)||"远程组件加载失败",i.value.status="fail",a("update:error",$),console.error($)})},f=()=>{const U=y({});o.ajaxParams&&(U.value={...o.ajaxParams}),Ce(l.value,U.value).then(C=>{u.value=C==null?void 0:C.data,i.value.status="success",a("update:init",C==null?void 0:C.data)}).catch(C=>{i.value.content=(C==null?void 0:C.msg)||"远程组件加载失败",i.value.status="fail",a("update:error",C),console.error(C)})},v=()=>{if(!l.value){i.value.status="config",i.value.content="请先配置远程文件";return}i.value.status="loading",n.value?f():m()},D=U=>{n.value=!1,l.value=U,d.value=lt(),v()},j=()=>{d.value=lt(),v()},B=()=>{o!=null&&o.isModal&&a("update:close")};return $e(()=>v()),(U,C)=>{const $=T("el-empty");return p(),b("div",{ref_key:"remoteRef",ref:c},[r(i).status==="success"?(p(),A(Xt(r(h)),X({key:0},{...r(s),...U.ajaxParams},{"onUpdate:modelValue":g,"onUpdate:openWin":D,"onUpdate:reloadWin":j,"onUpdate:closeWin":B}),null,16)):(p(),b("div",sl,[k($,{description:r(i).content},null,8,["description"])]))],512)}}});const fe=M(ll,[["__scopeId","data-v-5c5f6a22"]]),rl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){var l;const t=e,o=S(()=>{var c,i;return(i=(c=t.column)==null?void 0:c.params)==null?void 0:i.file}),a=((l=t.column)==null?void 0:l.field)??"",s=S(()=>re(t.column,t.row)),n=c=>{var h,g,m,f;const i=Ae("rowEdit",!0),u=((h=t.column.params)==null?void 0:h.api)??i,d=((m=(g=t.gridConfig)==null?void 0:g.rowConfig)==null?void 0:m.keyField)??"id",_={[d]:t.row[d],keyField:d,field:(f=t.column)==null?void 0:f.field,value:c};Le(u,_,t.xGrid)};return(c,i)=>{const u=fe;return p(),A(u,X({modelValue:r(s),"onUpdate:modelValue":i[0]||(i[0]=d=>me(s)?s.value=d:null),file:r(o)},{column:c.column,field:r(a),row:c.row},{"onUpdate:value":n}),null,16,["modelValue","file"])}}}),cl={key:0,class:"tabs-container"},il={class:"tabs-list"},ul=["onClick"],dl={class:"pl-1"},pl=I({__name:"index",props:{xGrid:{},gridConfig:{},tabsConfig:{}},setup(e){var i;const t=e,o=ge(),a=ht(),s=((i=t.tabsConfig)==null?void 0:i.field)??"",n=o==null?void 0:o.query[s],l=S(()=>{var u;return n??((u=t.tabsConfig)==null?void 0:u.active)}),c=u=>{a.push({query:{[s]:u.value}})};return(u,d)=>{var g,m;const _=te,h=T("el-space");return(m=(g=u.tabsConfig)==null?void 0:g.list)!=null&&m.length?(p(),b("div",cl,[P("div",il,[k(h,null,{default:w(()=>[(p(!0),b(z,null,ne(u.tabsConfig.list,(f,v)=>(p(),b("div",{key:v,class:ve(["item",{active:r(l)===(f==null?void 0:f.value)}]),onClick:D=>c(f)},[f!=null&&f.icon?(p(),A(_,{key:0,icon:f==null?void 0:f.icon},null,8,["icon"])):L("",!0),P("span",dl,F((f==null?void 0:f.label)??"错误"),1)],10,ul))),128))]),_:1})])])):L("",!0)}}});const ml=M(pl,[["__scopeId","data-v-ae382a3c"]]),_l=I({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{}},setup(e){const t=ht(),o=ge(),a=s=>{t.push({path:o.fullPath,query:{...o.query,...s.data}})};return(s,n)=>{var c;const l=T("vxeForm");return p(),A(l,{items:s.formScreen.items,data:(c=s.formScreen)==null?void 0:c.data,onSubmit:a},null,8,["items","data"])}}}),fl=I({__name:"index",props:{gridConfig:{},xGrid:{},formRemote:{}},setup(e){return(t,o)=>{var s,n;const a=fe;return p(),A(a,X({file:((s=t.formRemote)==null?void 0:s.file)||""},{ajaxParams:(n=t.formRemote)==null?void 0:n.ajaxParams}),null,16,["file"])}}}),hl={class:"form-tabs-container"},gl=I({__name:"index",props:{xGrid:{},gridConfig:{},formScreen:{},formRemote:{},tabsConfig:{}},setup(e){return(t,o)=>{var l,c,i,u;const a=fl,s=_l,n=ml;return p(),b("div",hl,[(l=t.formRemote)!=null&&l.file?(p(),A(a,Z(X({key:0},{gridConfig:t.gridConfig,formRemote:t.formRemote,xGrid:t.xGrid})),null,16)):L("",!0),(c=t.formScreen)!=null&&c.data?(p(),A(s,Z(X({key:1},{gridConfig:t.gridConfig,formScreen:t.formScreen,xGrid:t.xGrid})),null,16)):L("",!0),(u=(i=t.tabsConfig)==null?void 0:i.list)!=null&&u.length?(p(),A(n,Z(X({key:2},{gridConfig:t.gridConfig,tabsConfig:t.tabsConfig,xGrid:t.xGrid})),null,16)):L("",!0)])}}});const vl=M(gl,[["__scopeId","data-v-4bb9ed66"]]),yl=["innerHTML"],xl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){var s,n;const t=e,o=S(()=>re(t.column,t.row)),a=y(((n=(s=t.column)==null?void 0:s.params)==null?void 0:n.props)??{});return(l,c)=>(p(),b("div",X(r(a),{innerHTML:r(o)}),null,16,yl))}}),kl=I({__name:"index",props:{options:{},value:{default:""}},setup(e){const t=e,o=S(()=>t.value);return(a,s)=>{const n=T("el-option"),l=T("el-select");return p(),A(l,{modelValue:r(o),"onUpdate:modelValue":s[0]||(s[0]=c=>me(o)?o.value=c:null),placeholder:"请选择"},{default:w(()=>[(p(!0),b(z,null,ne(a.options,c=>(p(),A(n,{key:c.value,label:c.label,value:c.value,disabled:c.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])}}}),wl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){var n;const t=e,o=S(()=>re(t.column,t.row)),a=y(((n=t.column)==null?void 0:n.params)??{}),s=l=>{var _,h,g,m;const c=Ae("rowEdit",!0),i=((_=t.column.params)==null?void 0:_.api)??c,u=((g=(h=t.gridConfig)==null?void 0:h.rowConfig)==null?void 0:g.keyField)??"id",d={[u]:t.row[u],keyField:u,field:(m=t.column)==null?void 0:m.field,value:l};Le(i,d,t.xGrid)};return(l,c)=>{var u,d;const i=kl;return(d=(u=r(a))==null?void 0:u.options)!=null&&d.length?(p(),A(i,X({key:0,value:r(o)},r(a),{onChange:s}),null,16,["value"])):L("",!0)}}}),bl=I({__name:"index",props:{xGrid:{},gridConfig:{},column:{},row:{}},setup(e){const t=e,o=S(()=>re(t.column,t.row)),a=s=>{var u,d,_,h;const n=Ae("rowEdit",!0),l=((u=t.column.params)==null?void 0:u.api)??n,c=((_=(d=t.gridConfig)==null?void 0:d.rowConfig)==null?void 0:_.keyField)??"id",i={[c]:t.row[c],keyField:c,field:(h=t.column)==null?void 0:h.field,value:s};Le(l,i,t.xGrid)};return(s,n)=>{var c,i,u,d,_,h,g,m,f,v,D,j,B,U,C,$,x,Y;const l=T("el-switch");return p(),A(l,{modelValue:r(o),"onUpdate:modelValue":n[0]||(n[0]=Q=>me(o)?o.value=Q:null),"active-action-icon":((u=(i=(c=s.column)==null?void 0:c.params)==null?void 0:i.checked)==null?void 0:u.icon)??"","active-text":(h=(_=(d=s.column)==null?void 0:d.params)==null?void 0:_.checked)==null?void 0:h.text,"active-value":(f=(m=(g=s.column)==null?void 0:g.params)==null?void 0:m.checked)==null?void 0:f.value,"inactive-action-icon":((j=(D=(v=s.column)==null?void 0:v.params)==null?void 0:D.unchecked)==null?void 0:j.icon)??"","inactive-text":(C=(U=(B=s.column)==null?void 0:B.params)==null?void 0:U.unchecked)==null?void 0:C.text,"inactive-value":(Y=(x=($=s.column)==null?void 0:$.params)==null?void 0:x.unchecked)==null?void 0:Y.value,"inline-prompt":"",onChange:a},null,8,["modelValue","active-action-icon","active-text","active-value","inactive-action-icon","inactive-text","inactive-value"])}}}),Cl=I({__name:"index",props:{column:{},row:{}},setup(e){const t=e,o=S(()=>re(t.column,t.row)),a=S(()=>{var l;return(l=t.column.params)!=null&&l.options?t.column.params.options[o.value]||"标签错误":"选项错误"}),s=["primary","success","info","warning","danger"],n=S(()=>{const l={style:{},...t.column.params??{}};l!=null&&l.type&&delete l.type;const c=S(()=>{var u,d;if(!((u=t.column.params)!=null&&u.style))return;const i=(d=t.column.params)==null?void 0:d.style[o.value];return i&&!s.includes(i.type)&&delete i.type,i||void 0});return l.style=c.value,l});return(l,c)=>{const i=T("el-tag");return p(),A(i,Z(ee(r(n).style)),{default:w(()=>[H(F(r(a)),1)]),_:1},16)}}}),Pl={class:"flex"},$l=["href","target"],Al=I({__name:"index",props:{xGrid:{},column:{},gridConfig:{},row:{}},setup(e){var n,l;const t=e,o=S(()=>re(t.column,t.row)),a=y(((l=(n=t.column)==null?void 0:n.params)==null?void 0:l.props)??{}),s=()=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(o.value).then(c=>{});else{const c=document.createElement("input");c.value=o.value,document.body.appendChild(c),c.select(),document.execCommand("Copy"),c.remove()}de("链接复制成功")};return(c,i)=>{var _;const u=te,d=T("el-button");return p(),b("div",Pl,[P("a",{href:r(o),target:r(a).target??"_blank"},F(r(a).text?r(a).text:r(o)),9,$l),(_=r(a))!=null&&_.copy?(p(),A(d,{key:0,type:"primary",size:"small",text:"",onClick:s},{icon:w(()=>[k(u,{icon:"CopyDocument",size:14})]),default:w(()=>[H(" 复制 ")]),_:1})):L("",!0)])}}}),Il=(e,t,o,a)=>{if(t.length<=0){E("请先导入数据");return}if(!e){E("请设置导入API接口");return}Re(e,{import:o,data:t}).then(n=>{var l;(l=a.xGrid)==null||l.commitProxy("query"),de((n==null?void 0:n.msg)??"操作成功")})},jl=e=>{Te.commands.add("importAllData",{commandMethod:t=>{var n;const{$table:o}=t,a=o==null?void 0:o.getTableData(),s=a==null?void 0:a.fullData;Il(((n=e.vxeTableConfig.importConfig)==null?void 0:n.api)??"",s,"all",e)}})},Dl=P("div",null,"子数据",-1),ro=I({__name:"index",props:{api:{},method:{default:"GET"},ajaxParams:{default:void 0}},emits:["update:init","update:init-ok","update:init-error","update:submit","update:submit-ok","update:submit-error","update:rest","update:rest-ok"],setup(e,{emit:t}){const o=e,a=t,s=y(),n=y(),l=y(),c=y(),i=y([]),u=y([]),d=y([]),_=async()=>{const g=y({method:o.method,params:{},data:{}});o.ajaxParams&&(o.method==="GET"?g.value.params=o.ajaxParams:g.value.data=o.ajaxParams),a("update:init",g.value);const m=`${o.api}GetTable`;return await G(m,g.value).then(f=>{const v=f.data;l.value=v==null?void 0:v.realTable,c.value=v==null?void 0:v.tabsConfig,n.value=Ln(o.api,o.method,v.tableConfig,o.ajaxParams,s.value),i.value=v.topButtonList,u.value=v.rightButtonList,d.value=v.selectButtonList,jl({xGrid:s.value,vxeTableConfig:n.value}),a("update:init-ok",v)}).catch(f=>{a("update:init-error",f)})},h=()=>{var g,m,f;if((g=l.value)!=null&&g.enable&&((m=l.value)!=null&&m.time_interval)){const v=((f=l.value)==null?void 0:f.time_interval)*1e3;setInterval(()=>{var D;(D=s.value)==null||D.commitProxy("reload")},v)}};return $e(async()=>{await _(),await h()}),(g,m)=>{var v,D,j,B,U;const f=T("vxe-grid");return(v=r(n))!=null&&v.id?(p(),A(f,X({key:0,ref_key:"xGrid",ref:s,class:"xh-table"},r(n),{onEditClosed:m[0]||(m[0]=({column:C,row:$})=>r(Mn)(C,$,r(n),r(s)))}),Ge({topButtonList:w(({$grid:C})=>[k(r(bs),Z(ee({gridConfig:r(n),topButtonList:r(i),selectButtonList:r(d),xGrid:C})),null,16)]),rightButtonList:w(({row:C,column:$,$grid:x})=>[k(r(hs),Z(ee({gridConfig:r(n),rightButtonList:r(u),row:C,column:$,xGrid:x})),null,16)]),childrenData:w(()=>[Dl]),html:w(({row:C,column:$,$grid:x})=>[k(r(xl),Z(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),remote:w(({row:C,column:$,$grid:x})=>[k(r(rl),Z(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),tags:w(({row:C,column:$,$grid:x})=>[k(r(Cl),Z(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),link:w(({row:C,column:$,$grid:x})=>[k(r(Al),Z(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),input:w(({row:C,column:$,$grid:x})=>[k(r(Xs),Z(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),InputNumber:w(({row:C,column:$,$grid:x})=>[k(r(Qs),Z(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),assets:w(({row:C,column:$,$grid:x})=>[k(r(Bs),Z(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),money:w(({row:C,column:$,$grid:x})=>[k(r(Ys),Z(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),image:w(({row:C,column:$,$grid:x})=>[k(r(Vs),Z(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),images:w(({row:C,column:$,$grid:x})=>[k(r(Fs),Z(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),photos:w(({row:C,column:$,$grid:x})=>[k(r(zs),Z(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),icons:w(({row:C,column:$,$grid:x})=>[k(r(Ss),Z(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),switch:w(({row:C,column:$,$grid:x})=>[k(r(bl),Z(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),select:w(({row:C,column:$,$grid:x})=>[k(r(wl),Z(ee({gridConfig:r(n),row:C,column:$,xGrid:x})),null,16)]),_:2},[(j=(D=r(n))==null?void 0:D.screenRemote)!=null&&j.file||(U=(B=r(c))==null?void 0:B.list)!=null&&U.length?{name:"form",fn:w(({$grid:C})=>{var $,x,Y;return[k(r(vl),Z(ee({gridConfig:r(n),xGrid:C,formScreen:{...($=r(n))==null?void 0:$.formConfig,screenConfig:(x=r(n))==null?void 0:x.screenConfig},formRemote:(Y=r(n))==null?void 0:Y.screenRemote,tabsConfig:r(c)})),null,16)]}),key:"0"}:void 0]),1040)):L("",!0)}}}),Bl={class:"xhadmin-table-pro"},Sl=I({__name:"table-modal",props:{api:{},method:{},ajaxParams:{}},setup(e){return(t,o)=>(p(),b("div",Bl,[k(r(ro),{api:t.api,method:t.method,"ajax-params":t.ajaxParams,"is-modal":!0},null,8,["api","method","ajax-params"])]))}});const wt=M(Sl,[["__scopeId","data-v-62ed6f04"]]),El={class:"xh-modal-container"},Tl=I({__name:"remote-modal",props:{file:{},ajaxParams:{}},emits:["update:close"],setup(e,{emit:t}){const o=t,a=()=>{o("update:close")};return(s,n)=>(p(),b("div",El,[k(r(fe),{file:s.file,"ajax-params":s.ajaxParams,"is-modal":!0,"onUpdate:close":a},null,8,["file","ajax-params"])]))}});const et=M(Tl,[["__scopeId","data-v-523e3818"]]),Vl={class:"xhadmin-table-pro"},Rl=I({name:"/table"}),Ul=I({...Rl,setup(e){const t=ge(),o=Ae(),a=t.meta.method,s=t.query??{};return(n,l)=>(p(),b("div",Vl,[k(r(ro),{api:r(o),method:r(a),"ajax-params":r(s)},null,8,["api","method","ajax-params"])]))}});const Ll=M(Ul,[["__scopeId","data-v-a39226b1"]]),Ml=e=>(je("data-v-7ca0a0aa"),e=e(),De(),e),Fl={class:"xhadmin-page-pro"},ql={key:0,class:"flex items-center bg-white px-5 py-4 mb-[10px]"},Ol=Ml(()=>P("span",{class:"pl-1 text-[16px]"},"返回",-1)),Hl={key:0,class:"pl-20px text-[16px] select-none"},Nl={class:"form-pro flex-1"},zl=I({name:"/form"}),Wl=I({...zl,setup(e){const t=ge(),o=y(),a=y(),s=Ae(),n=t.meta.method,l={...t.query};l!=null&&l.isBack&&(l==null||delete l.isBack);const c=y({...l}),i=y({submitBtn:{},resetBtn:{}}),u=m=>{var v;const f=(v=m==null?void 0:m.response)==null?void 0:v.extraConfig;i.value=f},d=()=>{o.value.submit()},_=()=>{o.value.reset(),de("数据重置完成")},h=()=>{a.value.setDisabled(!0)},g=()=>{a.value.setDisabled(!1)};return(m,f)=>{var D,j,B;const v=te;return p(),b("div",Fl,[(D=r(t).query)!=null&&D.isBack?(p(),b("div",ql,[P("div",{class:"flex items-center cursor-pointer select-none",onClick:f[0]||(f[0]=(...U)=>r(Je)&&r(Je)(...U))},[k(v,{icon:"ArrowLeftOutlined",size:16}),Ol]),(j=r(t).meta)!=null&&j.title?(p(),b("div",Hl,F((B=r(t).meta)==null?void 0:B.title),1)):L("",!0)])):L("",!0),P("div",Nl,[k(r(vt),{ref_key:"formRef",ref:o,class:"xh-form-create",api:r(s),method:r(n),"ajax-params":r(c),"onUpdate:initOk":u,"onUpdate:submit":h,"onUpdate:submitOk":g,"onUpdate:submitError":g,"onUpdate:restOk":g,"onUpdate:initError":g},null,8,["api","method","ajax-params"])]),k(r(so),{ref_key:"buttonRef",ref:a,class:"xh-buttons-pro","extra-config":r(i),"onUpdate:submit":d,"onUpdate:rest":_},null,8,["extra-config"])])}}});const Xl=M(Wl,[["__scopeId","data-v-7ca0a0aa"]]),Zl={class:"h-100%"},Ql=I({name:"remote"}),Yl=I({...Ql,setup(e){const o=ge().meta.ajaxParams;return(a,s)=>(p(),b("div",Zl,[k(r(fe),{file:r(o)},null,8,["file"])]))}}),Jl={};function Gl(e,t){return p(),b("div",null," Html内容文件 ")}const Kl=M(Jl,[["render",Gl]]),er={class:"h-100%"},tr=I({name:"remote"}),or=I({...tr,setup(e){const t=Ae();return(o,a)=>(p(),b("div",er,[k(r(fe),{file:r(t),"is-api":!0},null,8,["file"])]))}}),ar=Object.freeze(Object.defineProperty({__proto__:null,formIndex:Xl,htmlIndex:Kl,remoteIndex:Yl,tableIndex:Ll,vueIndex:or},Symbol.toStringTag,{value:"Module"})),nt={routeView:()=>be(()=>import("./index.2eab1a56.js"),["xhadmin/js/index.2eab1a56.js","xhadmin/js/vue.4a9689d1.js","xhadmin/js/@vue.2c031df9.js","xhadmin/js/pinia.a28c96ab.js","xhadmin/js/element-plus.7ba5dff5.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.c73cd653.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.e3627c37.css","xhadmin/js/vxe-table.d35ff2cd.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/@wangeditor.0cc4d431.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.19962190.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.25323d91.js","xhadmin/js/vue-router.e6e43b7c.js","xhadmin/js/@form-create.80117775.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css"]),exceptionView:()=>be(()=>import("./exception.4b28ba2f.js"),["xhadmin/js/exception.4b28ba2f.js","xhadmin/js/vue.4a9689d1.js","xhadmin/js/@vue.2c031df9.js","xhadmin/js/pinia.a28c96ab.js","xhadmin/js/element-plus.7ba5dff5.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.c73cd653.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.e3627c37.css","xhadmin/js/vxe-table.d35ff2cd.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/@wangeditor.0cc4d431.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.19962190.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.25323d91.js","xhadmin/js/vue-router.e6e43b7c.js","xhadmin/js/@form-create.80117775.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css"])},nr=e=>{if(!e)return nt.blankView;if(e in nt)return nt[e];const t=Dc(e??"");return ar[t]},sr=e=>{for(const t of e){const o=t.remote,a=o.replace("/","_"),s=()=>Fe(fe,{file:o});s.displayName=a;const n={path:t==null?void 0:t.path,name:a,component:s,meta:{title:(t==null?void 0:t.title)||"未知页面",path:(t==null?void 0:t.path)||"未知路径",pid:0,method:"GET",ajaxParams:{}}};J.addRoute(n)}},lr=e=>{const t=[];for(const o of e)if(o.path){const a={path:`/${o.path}`,name:o.path.replace("/","_"),component:Zt(nr(o.component)),meta:{title:o.title,path:o.path,pid:o.pid,icon:o.icon,method:o.method,ajaxParams:o.auth_params},children:[]};(!a.children||a.children.length<1)&&delete a.children,t.push(a)}return t},co=new Map,io=(e,t,o)=>{var n;const a=[];let s=[];t?s=e.filter(l=>(l==null?void 0:l.pid)===t):s=e.filter(l=>!l.pid);for(const l of s){const c=o?`${o}-${l.id}`:`${l.id}`;let i=`/${l.path}`;if(l!=null&&l.auth_params&&(l!=null&&l.auth_params.includes("group"))){const _=tt(`?${l==null?void 0:l.auth_params}`);i+=`_group=${_==null?void 0:_.group}`}else l!=null&&l.auth_params&&(i+=`_${l==null?void 0:l.auth_params}`);co.set(i,c);const u={activeId:c,title:l.title,icon:l.icon,ajaxParams:l.auth_params,path:l.path,show:l.show==="1",target:l.target??"_blank",isGroup:!1,children:io(e,l.id,c)},d=(n=u.children)==null?void 0:n.some(_=>_.show);u.show&&d&&(u.isGroup=!0),a.push(u)}return a},Ft=co,rr=y("OS");matchMedia("(prefers-color-scheme: dark)");function cr(){return{theme:rr}}const ye=Wt("user",()=>{const e=ze(),t=y({...Rt}),o=y([]),a=y([]),s=y({...at}),n=m=>{if(!(m!=null&&m.menus)){E("用户信息缺少Menus字段参数");return}m.menus instanceof Array&&m.menus.length>0&&(o.value=lr(m.menus),a.value=io(m.menus)),m!=null&&m.theme&&(s.value={...s.value,...m.theme}),t.value=m};return{layoutInfo:s,userInfo:t,Authorization:e,login:async m=>{var B,U,C;const v=(U=(B=ue().siteInfo)==null?void 0:B.public_api)==null?void 0:U.login;if(!v){E("请配置登录接口");return}const{msg:D,data:j}=await Re(v,m);if(j!=null&&j.token){let $=j.token;$.includes("Bearer")||($=`Bearer ${$}`),e.value=$,de(D??"登录成功","温馨提示");const Y=((C=J.currentRoute.value.query)==null?void 0:C.redirect)||"/";J.push(Y)}else E(D??"登录失败")},loginOut:()=>{Pe("是否确认退出登录？","温馨提示","error").then(()=>{e.value="",n({...Rt}),J.push(Ze)})},getUserInfo:async()=>{var D;const f=(D=ue().siteInfo.public_api)==null?void 0:D.user;if(!f){E("请配置用户信息接口");return}const{data:v}=await Ce(f);v&&n(v)},routeList:o,menuList:a,setTheme:m=>{s.value.theme=m,cr().theme.value=m},setLayout:m=>{s.value.layout=m},setLayoutMenu:m=>{s.value.layoutMenu=m},hanldCollapse:m=>{let f=0;m?f=at.sideWidth:f=s.value.sideMenuWidth,s.value.sideMenuCollapse=m,s.value.sideWidth=f},setLayoutMenuCollapse:()=>{let m=0,f=!1;s.value.sideMenuCollapse?(m=at.sideWidth,f=!1):(m=s.value.sideMenuWidth,f=!0),s.value.sideMenuCollapse=f,s.value.sideWidth=m}}}),ir={class:"xhadmin-menus-pro"},ur=["onClick"],dr={class:"text"},pr={key:0,class:"mask"},mr=I({__name:"menu",props:{active:{},menus:{},sideMenuWidth:{default:60},sideWidth:{default:200}},setup(e){Be(m=>({d402cefe:r(i),"5739c300":r(c)}));const t=e,o=Se(),a=ye(),{layoutInfo:s}=He(a),n=S(()=>{var m;return((m=s.value)==null?void 0:m.layoutMenu)||"group"}),l=S(()=>{var m;return((m=s.value)==null?void 0:m.layoutTabsTheme)||"radius"}),c=S(()=>`${t.sideMenuWidth}px`),i=S(()=>`${t.sideWidth}px`),u=y(""),d=y(""),_=m=>{u.value=m;const f=u.value.split("-");d.value=f[0]},h=m=>{var D;const f=m[0],v=(D=f==null?void 0:f.children)==null?void 0:D.find(j=>j.show===!0);return f!=null&&f.children&&v?h((f==null?void 0:f.children)??[]):f},g=m=>{var C;const f=(C=m==null?void 0:m.children)==null?void 0:C.find($=>$.show===!0);let v=m;m!=null&&m.children&&f&&(v=h((m==null?void 0:m.children)??[]));const D=v.path,j=y({});v.ajaxParams&&(j.value=tt(v.ajaxParams));const B=v.activeId;_(B);let U={...j.value};o.value&&(U={...U,appid:o.value}),pe(`/${D}`,U)};return $e(()=>{_(t.active)}),(m,f)=>{const v=te,D=T("el-menu");return p(),b("div",ir,[(p(!0),b(z,null,ne(m.menus,j=>(p(),b("div",{key:j.id,class:"item"},[j.show?(p(),b("div",{key:0,class:ve({"item-triangle":r(l)==="triangle","item-radius":r(l)==="radius",active:r(d)===j.activeId}),onClick:B=>g(j)},[k(v,{icon:j.icon,size:"22",type:(j==null?void 0:j.iconType)||""},null,8,["icon","type"]),P("div",dr,F(j.title),1),r(l)==="triangle"?(p(),b("div",pr)):L("",!0)],10,ur)):L("",!0),P("div",{class:ve(["item-children",{active:r(d)===j.activeId}])},[k(D,{"default-active":m.active,"unique-opened":r(n)==="level"},{default:w(()=>[(p(!0),b(z,null,ne(j.children,B=>(p(),b(z,{key:B.activeId},[r(n)==="level"?(p(),A(Ca,{key:0,"menu-data":B},null,8,["menu-data"])):(p(),A(Ke,{key:1,"menu-data":B},null,8,["menu-data"]))],64))),128))]),_:2},1032,["default-active","unique-opened"])],2)]))),128))])}}});const _r=M(mr,[["__scopeId","data-v-4c784623"]]),qt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAADPCAMAAACKnR5TAAABMlBMVEVHcEx7pvgH+9srxdIsw9ItxdAD/9zLdv0bj/wajv4o3Nsajv6oS/13UvscZfDUdv1Yi/eeSvwg19UbfvkH+tsswdMcYe+CUPttd/sjp+kcavKrWf0E/ttfZ/ootd3Bbv0U6NguxNS0Zf2iTfwfnPIbfvkvwNCKfv4txs4Zjf8da/Md/uIbY/EaY/AH/9x6Y/wY/+CHbv0obPMqbfIcZfEeZfPEeP0O/92ahf6nf/6TTPyOTfsF/92ze/4E/90K/+GGTvucSfyre/6YgP5+UPvCev4eY/Cagf/D6vu2ef6T5fNDffJwXfpBjfmKfvg5Y/Qj09U6vNgtw9Aajf6uR/wE/9sdY+/advzddv2yRv2vRvwC/9sZi/8WZO+pRvwSjv6gSfuQf/11UvdBiP46XfI7XfL04pvpAAAAUnRSTlMABt7b7fX5/e32Ftz8b/L+DuHc1+zM+pgZ0ev58yXb+txi+Pfg5Poz+/vYMJbjx0J7UjlzuFXrrWOj1MJfyZZLre64fYbayo4j2USm7tvE8qtylTSQZQAAColJREFUeNrtnAtf2kgUxQ0QHhUhKGJAAVdUxFoRWt+1lWpb+9pHAUFhWffR7/8VdgKIREgy50qG7G9z/QLe39w5+c85M8zMuOWWW2655ZZbbrn1fyopXZyDq6hKDm1HKc5dLoF1OZdXHNpO+vIkhtbJzxdpZ3ajlk7vajc3t9x1c1MLL6+9KylOHDe1uBRj3UBVW84G3l84ctzSc6c59g9y1+1th61NtHHw7kh1YDvF80rt5hZpJ5xbzjaa0YPjvANFeu6kw/YD1M7yWqDZbAbOjhwn1urceeUWGDVWnfBaNsraaR4cO27c8kuxMLY2bOdko41Ggy3Pp48OGzeldBrGRq0Wzq0FGk2tnUaAibWjdk7xMgaPGhNp1oq2Po33H4tO2j2MBzCR7nXT6JWmBk5iA6V4nuvcoiLdXxutnWjWQeMm5bsiXcNFunG/PtFPzmED5ei8cgPtnE5fpAfT1nQQG1wdV+5AvMn1RHqwOs5hA0k9OruDd87wqHXFzSlsoJaOYx1k42jfnOFR6/dzcFxS/4si3eWBwPCsOYkNNJHG2umR9ON2HMEGOElrX9BHO6dxzwb5ae8e7dB2i/EAE+lAdEw7TmCD/HkFVLXOmFHrrc702UCdO4UPbblxo+YINlCKSzHaoW1cN1NnA4JI3+l5oOEgNmCHtrsnkPTo7pkqGyjs0AbygEbSUaN2pswGTAcquLMWMJq1abNBfqnSwZ01k276bDCVaWMkfdKpTUqkh9jgYipsoJbOKzVo59RqhiI9fTZIL52Eb28ozpr56jA2mIKtI5VOc4RRazQbVqWxgeh+pPzlCRs1pB0Dkh7DBsdHz5wefzCSXuZaHI0NPl6Jtj0pJM3TjUaijA2eiRw3evzR4OlHNBsopfPYk5w1i3ETzAbppVh4ciQ9hg2yItmgm1FPmgdG2EDUQa6bUcMkzTtqwtlAvaRk1AHeWeuzgbCDnCbSBJJuIu00omdFp4p0jV+khw4KYtrBM2pEpAdk8EnQsNEzaqQdUeG8llHbKtI9qhZkgTwto+YeNVEGFc1ZC6CjdnYhZtTwjLpj4qwZMsHHoggm6GXUsLOGjlrgTMyVPRXNqLs8gIq0MJ7Owxm1lbM2XqSF5CKSenT65Iya4zB6dpQWMmolRtK1STtrY0RajDGliTTurKEiLexo0BXpJ2fUHAc3EYujdEkaO7blKCQt5lg9uYzaESJdnFhG7QRLipJRLzuWpPGMutPJUUTaySQN84CYIF6acEY9ZXeNllHDoybqztTkM2oDkRbDA/mlSth+kn5/LObQRsmolykkLeaTA2fUJGftQJizBmfU+KgxWDsSsnMkWvzhUJKW8pcxWzJq/ahlBXnShCd6d1pG7UyRtjOjHupHEEnbm1EPQFrUtTx7M+rBqB0IjD8EOGvvRH1Bbc6oBxeOhThrtmfUYkmaklFncZIW5qzR3lGDJC3mmaWIjLpndwg6tGEZNc1ZE0bSTAc60K9D9J01rESJdP8dNVJ9kQbu3mgknRaXUYPt9J/s81dDmLPGSPoOq1xuLRvA6uDsIq8oz6Ai5ablL1//Auvr1z/h+vnLbz+B9Zxwj1fd//DPjx8//gHql+1vf4P17VvGuwjWr3t4P1J558XvUCUiqYXZ0B9QBZNJ3/fvW+yPv7ZWD/eeo+N29fJDAmsn8mJhI1RA21n0fYdqU5bj8d098J619PlL6vdrqCLbC8HqH1WgCsH1jFfG2pG98/FW/PCzhOHNyw/XaDts1KpQBdeTGXkLbGd+daXV2sXGTd1/9QJrJhHZ2AhC7bTbs/io+eZX4yt1tjyvETVgOpDARy1UgEYthI+azzvv8dfrdb/nzXNoccBuEqkFtnOgCs0mM74ttJ3VeKtVr7fqu6+5XykobHHQUUuBo1Zta6q2BbWzuelb9axo7dTr8TdveceN6UAEbOfFBjpqhXV458i+ebZxerXC1ID3C/oK7OaaMGpMpPFRm4/XW/f9HL5VOEV6G1wbtnNmg+CorSfBbja7stbqt9NqefjEmukAuDhs42xgo9bbOQSR9tfvq+XnYwOaSIOjpom0j8ADrYd2+NiAkTTYDYUHCCLd44H6Qz91DjYgiTTYTrvdI2l01Dy6dphYW7MBE2l81ATsHI0HVvx1XVmygaQQRHqbItI43qzG9WvDwQZKGRVphjcb8M5JJr0gSQ/xgG7czNlAffkqBXeDknSVRNIjo8bBBjSRxjYOkaQfeEDXjwkbSEykr+0nafjQpucB3e4xYwN1XxhJU3hg3OqYsUEZJukII2l41HCS1vOAfnkM2UDZF0HSs+sUHjBqx4QNYJHu8kAQtjsmwAMcbMBEGh61afGANRtIMKwRSLoQpIm08doYsIGEw9p1SoSztimbjpoBGygEkd4gifRkeMCCDdI727Y7a+1CkDRqFt2w7fOYDRTYWaPaHTL+BTUftTFswA5tYkgadda6PGDVzggbpF8S7A541Gg8ULdqZpQNyjsR20macmiTOUZtlA20+MN2Zy20Do+a7LMU6TFswEiacmibOg8YsEGZJNJVmKS9kyNpEzYgkHRkYUGIs8Y7avdsIFFgDXfWqkRnzeDQZsgGyox0hTtrMEm3aTsn7q8DtXL49vnMFZ5Rp0SQNBcPPGaD1zNFQRm1T4ZFmoMHdP2sHO7N7MNnUNxZo5A0Omp1Lc/emymjZpSYjFoGR00rbdhU0CokOGuF2fUMPGqP4g9eKZAwI5fmrKF4IwM8oBdq9t1Bdo/mrGHdFAoTddasPqMYFUSEZNQyPGpDBgi/60Eg6WoIz6j7N2+QdvzxAYLy2x5s1AQ5a+DG0ZmHKu/yEDPqCSRtVqPm6eoAaBnSMmqZfPMGAIJhL4fP0NVEGifpzBNu3vB249c7bXxiTXDW2sHJJW1mPPBGb7TxiHUiIsBZ24RJWpO13cchQnrHMqoS6Kxha6P5BBLqUeN2R7sQFMIDK6MJD0O3D9aHNvszapwHNJIek7+Vd1KJiWfU6KHNImkbO2pMpKVxt3HM1IBG0hkbnTWLqxLmF1gStFHz2c0DXZF+ZpBcJ6ZL0hQe8BteMzKOrEjO2nrGhqRtpB3jS2DGYk3LqL0++3nA5IqeZJgkiMioKTxgfoHSkKyFOGugidv3osyut44Xa8rrDwJJE3jA4vKxNDYjxUm6SsioSc7aG/O7umPJWsSVfAoPsC+o1VXd0egqkRDhrFF4gOMVjzISLFIyappItyYn0sZiHdkWwQMyPmpMpK2fJEn6UJ7srG3ZzQNscd5KPI+RhtWAllFn7E7atG7Y4vA9Fdt+YkZte9L22FmzEOvEkzJqOP7gu3nzmKR5H789JD5iSFomoCfw1FIZPIIlvf4QwgPAy0RlINY0kgadNdk3TxDp1/zPlAcPyAnOGkzSFB5gi4M8uu5dnaC8/hBC0q34LvTmunfw6d5ZAzNqys7xTMZZs3h1nSCRtIhDG+8TWB1Zp2jO2pbtPMD/QHn48cv2RhtbG7ZzMl7bQ11IpB/Iev/LQihUCCHVFWlWmzJfdW9DMFmDqntog38pRy3vvJrFaiGZXFz0QrW4uLvrwSru4SLpkfWZccstt9xyyy233HLLLbfccssx9S/OTXvmn2y+VgAAAABJRU5ErkJggg==",fr=["src"],hr=I({__name:"image",props:{logoSrc:{},logoHeight:{default:35}},setup(e){Be(s=>({"2035992c":r(a)}));const t=e,o=S(()=>t.logoSrc?t.logoSrc:qt),a=S(()=>`${t.logoHeight}px`);return(s,n)=>{const l=T("el-image");return p(),A(l,{src:r(o),class:"logo"},{error:w(()=>[P("img",{src:r(qt),class:"logo"},null,8,fr)]),_:1},8,["src"])}}});const uo=M(hr,[["__scopeId","data-v-25a57a60"]]),gr=I({__name:"title",props:{sideName:{default:"XhAdmin"}},setup(e){return(t,o)=>(p(),b("span",null,F(t.sideName),1))}}),vr={class:"xhadmin-logo-pro"},yr={class:"logo-image"},xr={class:"logo-text"},kr=I({__name:"index",props:{headerHeight:{},sideWidth:{},sideMenuWidth:{},logoHeight:{},logoSrc:{},sideName:{}},setup(e){Be(c=>({eb290234:r(s),c8095676:r(l),"375a2236":r(n)}));const t=e,o=ye(),{layoutInfo:a}=He(o),s=S(()=>`${t.sideWidth}px`),n=S(()=>`${t.sideMenuWidth}px`),l=S(()=>`${t.headerHeight}px`);return(c,i)=>(p(),b("div",vr,[P("div",yr,[k(uo,{"logo-src":c.logoSrc,"logo-height":c.logoHeight},null,8,["logo-src","logo-height"])]),ut(P("div",xr,[k(gr,{"side-name":c.sideName,"logo-height":c.logoHeight},null,8,["side-name","logo-height"])],512),[[dt,!r(a).sideMenuCollapse]])]))}});const wr=M(kr,[["__scopeId","data-v-2826983b"]]),po=I({__name:"index",setup(e){const t=ge(),o=()=>`${new Date().getTime()}${Math.random()}`,a=y("");return ft(()=>t.fullPath,()=>{a.value=o()}),(s,n)=>{const l=T("router-view");return p(),A(l,{key:r(a)})}}}),br="/xhadmin/png/beian.gov.a20583c8.png",Ot="WC1gnPb4puCNmKpyhAXNceOWfPgsZLC5SWOYiwTXN5wQENJku7NZc5lewwUmXCjwWuFtV82ZUQ3XBPt44AMdfrJHA7e3vUhBq+NCVe74j9WA6wG6LZv8PZ3dSx4qDWW2l7fjGjikEYN8pKr/lXPtCe6Q+bId+87bp+sEIi6mvEpyGxCaWur+Wyq19uFSQkXC4lnq5xd2ssvwvZHeilpVsqPx5++WlMH6vOp1GS7CYIQ+cwpedbvlwMdtVNfo3MHrT6jef+18NilpbdDrZ92tkAeYN9j66fPxEmp1V4WfLoPEbKtl7Egv2R+/VD9UJXAv3rIBhgoJL1isybvcxWYdIA==XnW+Az3gquDSAj6s1XQNYW9zRTRBwXcr/pko+KE7NgVPkOJifciROntB2hDBoomldBuu/9H1ejcbDTjAH8WNuGr9cf2HOaIkB+mX9vnq9beh68gNTjO4Sq3zjhPv8Dr85L224iP4RIKU+zr8wcImCEXrtN9HhIYkx1XzAbmYp0OnGMHTf6OtvC60f0ijZvw19tbAs6qITPUlKC5+R4zSsJEj6WfpUGLytqArLV9N/1Jbfo2JlUUCHQglsUEUIr7sGmSjeff3sWos0tfhk07HJulXxly1d64bhP92egj5GjIylT0IUT469LaV1JK3Tgt1qF0C6h7Am6IYhITdhR4fSg==UYPrcazf7JHIaUQxH/8qhJ+rsVXJe0+iQKdH4h0SLtwpHZhWY7SySZMkdNMFC/2QqZLz67QgJqp6XKB2B6oz4vkHevav9uN0dMoS+fYCiRbx6UPDwE2kLpjYUVsqZu5RbGtEnJIrRF2WLMirHHBJB7avqSElcOxHkvf/wnPa3mBXhtos31yqgRGr1Xi34ArxaP+NzVRQTwLD2+Vwjel0UpiOw/8cFVNYay4gqgdXUuz46yFoOkigqlKR7o4XavgdoeoWLn0EZr0vRXBL6o2dfnYA4YrtbbYX2t4rsy8xuGvz5TGtKkr63NrHEHu88d0iFDEr2CeSuVu8ogbmXV+amw==",Ht=`-----BEGIN PRIVATE KEY-----
MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQC2q0/qE770f/Tw
9v2SnWkPH1/grjrm9GxakPcj4A0yWk6lFd5ulycd5r3xlA5HXjDkJKx0vgrtUo9K
rrP7gMMjRhst48GZzyvsYhY1Wu3YdGQqyj3QY0IIVeEJSWwy/yJ+Lx4mPSrL0fzO
tpif89qA63AwA92iqS0xvfBk9tT7L71yrFb9rIC6+C7ulWi1OhQVHPN7MhhiOYwQ
YYeUhvLcpLrKyWHdP1M9Zt05vFEFNdIEl+olzrObQIWcw/AueEFXK6oYiFQDvN1A
nBoGLpfeaJnwFDLh5b6+IrzsOSGNBs8JseRwHCVL5kiM+szQZzF5dg7N14mcnW7b
Rnmcbl/RAgMBAAECggEAR5z/1nfpS/eCMpnSLZGSp4AYWYBUzUiT1imxChqDcfMf
k+7v5hFSH5Hfc38k3evaZQbPqXD73bCZRqEZJIeFeSW58BKzSraCtMh7hm1gg5SV
1IS3GSRgtd3dPIPRbGjDwA5+1mTyizeG0g+Z5FN4nUQwFlLdqDCE7FRXk22Fb/fM
Kj2wmCC8j141/tL1GNfViOqna7jlkKQyc+OUFFFaQ5QI1RvdX5A8bobJSuOJ9tvk
iR8r4FAVb0tSt+7pnhRVyUrla2uIoIE6mgZBdJBl/eldD/XhN4ont6Q5Sz96RCR7
C80REqaSRsQX/cOSsHX5QdDCsj8nG1gEq5876zm8lQKBgQDsHhkUEmtvt/3C0lte
+8Rows7GUH17JRyxVD1oQZz0A11t0aG0vVfy7FIhjD1K1qCHgzhL5r/uh7nckXTt
lSYcE43eet8gr0UBCoNANUq58lAxMnZsKuCo2PNPGKTTxeMsHiTPF4RbaQVDfgys
q+Grw4w3eMzn0UwGo5PKWTKmnwKBgQDGDQvqLFWda6Z2s5FAf1n3UWMG/eKasU2R
CCUKEna/lEvPaHGXybDf0N/jDEYIXC3QITnJHaEpGWCPAZZvZ1pWT0b2tMcFjkyv
nF3x7iAXsHVcmf8NEzstLDfCZ43VClFUGoeBQcJqHF3PEN4UTinl4iHzwkQo1CUJ
w6kVhsqTjwKBgQC5jkGpG3yg9FgRNd0mfPbyWT3Ebdbe4uB0nz4O45ljzg0rU5Yg
ArjOKFe3E43LdXX8aOviAjoNS06N/yWD3DVx1RAlqiwVdIfm9IsG95p9HOdWclDM
WrnpF23GWBiYcKhBsIK+2L1kVNkVHEb7n6wenvNfWKi2+S0k/oITgBulAwKBgQC/
d1FzfJTwcWgnDYZ5MiVJwfbYhY4TOyHf+l3ElQEUSUvZIgHfWm+SkR5BJFZ4MpVf
xx9UXT62uv/sgP5siSB+nHnge/iEWIOuqp7wCuQfwspTUdWPUG4/R6ZIXVBzC1yA
0Hz76xUG/JF8Y7QvMTm0Mp/cRo0aY63C+NN4Ki2h5QKBgQDgWQuLjpAtxffN9xkI
4SHHM7GjYPjLfqujYt/ECR5eBhBRXF+T0zagBxuvsuXzqvoNyOFj4xGZpLWyD9QA
ugR+IPQxAMLo7/i/1v24CefuO9L3Ah2UZYM+VfSkzQpmkUsoaA7bVtZoqiZ6MARE
7LrYuWscyPYgVhZk+BGsFgQZ7A==
-----END PRIVATE KEY-----`,Cr=window.location.hostname,st=(e,t)=>{const o=new ia;o.setPrivateKey(t);const a=e.match(/.{1,344}/g);if(!a)throw new Error("令牌表单解密失败");let s="";if(a==null||a.forEach(n=>{const l=o.decrypt(n);l&&(s+=l)}),!s)throw new Error("解密失败");return JSON.parse(new TextDecoder().decode(Uint8Array.from(window.atob(s),n=>n.charCodeAt(0))))},Pr=()=>{const t=ue().siteInfo;if(t!=null&&t.empower_token&&t.empower_private_key)try{const o=st(t.empower_token,t.empower_private_key);return o.systemUrl.includes(Cr)||o!=null&&o.isChannels?(console.log("使用自定义版权"),o):(console.log("使用原生版权"),st(Ot,Ht))}catch(o){console.error("服务端授权失败",o)}try{return st(Ot,Ht)}catch(o){console.error("系统授权错误",o)}},mo=()=>{const t=ue().siteInfo;return{version_name:(t==null?void 0:t.version_name)??"v1.0.0",version:(t==null?void 0:t.version)??1e3,web_icp:t==null?void 0:t.web_icp,web_mps:t==null?void 0:t.web_mps,web_mps_text:t==null?void 0:t.web_mps_text}},$r=e=>(je("data-v-89f0841d"),e=e(),De(),e),Ar={class:"copyright-set"},Ir={key:0},jr=["href"],Dr=["href"],Br={key:2,href:"https://beian.miit.gov.cn/",target:"_blank",class:"pl-10px"},Sr=["href"],Er=$r(()=>P("img",{src:br,alt:"备案图标",style:{width:"15px",height:"15px","vertical-align":"middle"}},null,-1)),Tr=I({__name:"index",setup(e){const{systemAbout:t,systemAboutUrl:o,systemName:a}=Pr(),s=mo(),n=y(o);n.value.includes("http")||(n.value=`//${n.value}`);const l=y(t);if(!l.value.includes("©")){const c=new Date;l.value=`Copyright © 2023-${c.getFullYear()} ${l.value}`}return(c,i)=>(p(),b("div",Ar,[r(o)==="#"?(p(),b("span",Ir,F(r(l)),1)):(p(),b("a",{key:1,href:r(n),target:"_blank",class:"pl-10px"},F(r(l)),9,jr)),P("a",{href:r(n),target:"_blank",class:"pl-10px"},F(r(a))+" "+F(r(s).version_name),9,Dr),r(s).web_icp?(p(),b("a",Br,F(r(s).web_icp),1)):L("",!0),r(s).web_mps?(p(),b("a",{key:3,href:`http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=${r(s).web_mps}`,target:"_blank",class:"pl-10px"},[Er,H(" "+F(r(s).web_mps_text),1)],8,Sr)):L("",!0)]))}});const _o=M(Tr,[["__scopeId","data-v-89f0841d"]]),Vr={class:"flex items-center"},Rr={class:"xhadmin-header-breadcrumb"},Ur=I({__name:"side",setup(e){var n;const t=ue(),o=ye(),{layoutInfo:a}=He(o),s=((n=t.siteInfo.public_api)==null?void 0:n.header_left_file)??"";return(l,c)=>{const i=te;return p(),b("div",Vr,[P("div",Rr,[P("div",{class:"side-action",onClick:c[0]||(c[0]=u=>r(o).setLayoutMenuCollapse())},[k(i,{icon:r(a).sideMenuCollapse?"Expand":"Fold",color:"#555"},null,8,["icon"])])]),r(s)?(p(),A(r(fe),{key:0,file:r(s)},null,8,["file"])):L("",!0)])}}});const Lr=M(Ur,[["__scopeId","data-v-852079fd"]]),Mr={class:"xh-dropdown-link"},Fr={class:"text"},qr=I({__name:"index",setup(e){const t=ue(),o=ye(),{userInfo:a}=He(o),s=()=>{var c;if(!((c=t.siteInfo.public_api)!=null&&c.user_edit)){Pe("当前系统未开启个人资料修改功能","温馨提示");return}pe(ya)},n=()=>{o.loginOut()},l=c=>{switch(c){case"hanldProfile":s();break;case"loginout":n();break}};return(c,i)=>{const u=te,d=T("el-dropdown-item"),_=T("el-dropdown-menu"),h=T("el-dropdown");return p(),A(h,{class:"xh-dropdown",onCommand:l},{dropdown:w(()=>[k(_,null,{default:w(()=>[k(d,{command:"hanldProfile"},{default:w(()=>[H(" 个人中心 ")]),_:1}),k(d,{command:"loginout"},{default:w(()=>[H(" 退出登录 ")]),_:1})]),_:1})]),default:w(()=>{var g;return[P("div",Mr,[P("span",Fr,F((g=r(a))==null?void 0:g.nickname),1),k(u,{icon:"ArrowUp",size:14})])]}),_:1})}}});const fo=M(qr,[["__scopeId","data-v-12572241"]]),Or={class:"flex-1 flex items-center justify-end"},Hr=I({__name:"tools",setup(e){var a;const o=((a=ue().siteInfo.public_api)==null?void 0:a.header_right_file)??"";return(s,n)=>(p(),b("div",Or,[r(o)?(p(),A(r(fe),{key:0,file:r(o)},null,8,["file"])):L("",!0),k(fo)]))}}),Nr={class:"flex justify-between"},zr=I({__name:"index",setup(e){return(t,o)=>(p(),b("div",Nr,[k(Lr),k(Hr)]))}});const Wr={class:"xhadmin-mix-layout"},Xr={class:"xhadmin-header-pro"},Zr={class:"xhadmin-main-pro"},Qr={class:"xhadmin-side-pro"},Yr={class:"xhadmin-content-pro"},Jr={class:"xhadmin-content pt-4 pl-4 pr-4"},Gr={class:"xhadmin-copyright-pro"},Kr=I({__name:"index",props:{active:{},menus:{},sideName:{},sideLogo:{},logoHeight:{},sideWidth:{},sideMenuWidth:{},headerHeight:{}},setup(e){Be(s=>({ea5e16fa:r(o),"10abb030":r(a)}));const t=e,o=S(()=>`${t.headerHeight}px`),a=S(()=>t.sideWidth);return(s,n)=>(p(),b("div",Wr,[P("div",Xr,[k(wr,{"header-height":s.headerHeight,"side-width":s.sideWidth,"logo-src":s.sideLogo,"side-name":s.sideName,"logo-height":s.logoHeight,"side-menu-width":s.sideMenuWidth},null,8,["header-height","side-width","logo-src","side-name","logo-height","side-menu-width"]),k(zr,{class:"xhadmin-toolbar"})]),P("div",Zr,[P("div",Qr,[k(_r,{"side-width":s.sideWidth,"side-menu-width":s.sideMenuWidth,active:s.active,menus:s.menus},null,8,["side-width","side-menu-width","active","menus"])]),P("div",Yr,[P("div",Jr,[k(po)]),P("div",Gr,[k(_o)])])])]))}});const ec=M(Kr,[["__scopeId","data-v-82ea02ce"]]),tc={};function oc(e,t){return p(),b("div",null," 侧边栏布局 ")}const ac=M(tc,[["render",oc]]),nc=I({__name:"menus",props:{active:{},menus:{}},setup(e){return(t,o)=>{const a=T("el-menu");return p(),A(a,{mode:"horizontal",class:"menus","default-active":t.active},{default:w(()=>[(p(!0),b(z,null,ne(t.menus,s=>(p(),A(Ke,{key:s.id,"menu-data":s},null,8,["menu-data"]))),128))]),_:1},8,["default-active"])}}});const sc={class:"xhadmin-top-layout"},lc={class:"xhadmin-header-pro"},rc={class:"xhadmin-header"},cc={class:"logo"},ic={class:"menus"},uc={key:0,class:"tools"},dc={class:"user"},pc={class:"xhadmin-main-pro"},mc={class:"xhadmin-main"},_c={class:"xhadmin-content"},fc={class:"xhadmin-copyright"},hc=I({__name:"index",props:{headerHeight:{},active:{},menus:{}},setup(e){Be(n=>({"6794f285":r(s)}));const t=ue().siteInfo,a=ye().layoutInfo.layoutSize,s=S(()=>a?"100%":"1200px");return(n,l)=>{var c,i,u;return p(),b("div",sc,[P("div",lc,[P("div",rc,[P("div",cc,[k(uo,{"logo-src":((c=r(t))==null?void 0:c.web_logo)??""},null,8,["logo-src"])]),P("div",ic,[k(nc,{active:n.active,menus:n.menus},null,8,["active","menus"])]),(i=r(t).public_api)!=null&&i.header_right_file?(p(),b("div",uc,[k(r(fe),{file:(u=r(t).public_api)==null?void 0:u.header_right_file},null,8,["file"])])):L("",!0),P("div",dc,[k(fo)])])]),P("div",pc,[P("div",mc,[P("div",_c,[k(po)]),P("div",fc,[k(_o)])])])])}}});const gc=M(hc,[["__scopeId","data-v-e4f32260"]]),vc={};function yc(e,t){return p(),b("div",null," 用户中心布局 ")}const xc=M(vc,[["render",yc]]),kc=()=>{const e=ge(),t=pt({active:""}),o=a=>{let s=Ft.get(a);s||(s=Ft.get(ao)),t.active=s??""};return ft(()=>e.fullPath,()=>{var s,n;let a="";(s=e.query)!=null&&s.group&&e.meta.ajaxParams.includes("group")?a=`${e.path}_group=${(n=e.query)==null?void 0:n.group}`:e.meta.ajaxParams&&!a?a=`${e.path}_${e.meta.ajaxParams}`:a=e.path,o(a)}),{...No(t),updateActive:o}},[wc,bc]=Zo(kc),Cc=()=>bc()??{active:y(""),updateActive:()=>{}},Pc=I({__name:"index",setup(e){const t=ue(),o=ye(),{active:a}=Cc(),{layoutInfo:s}=He(o),n=t.siteInfo,l=o.menuList;return(c,i)=>{var u,d;return p(),b(z,null,[r(s).layout==="mix"?(p(),A(r(ec),{key:0,"header-height":r(s).headerHeight,"side-width":r(s).sideWidth,"side-menu-width":r(s).sideMenuWidth,"side-logo":(u=r(n))==null?void 0:u.web_logo,"side-name":(d=r(n))==null?void 0:d.web_name,"logo-height":r(s).logoHeight,active:r(a),menus:r(l)},null,8,["header-height","side-width","side-menu-width","side-logo","side-name","logo-height","active","menus"])):L("",!0),r(s).layout==="side"?(p(),A(r(ac),{key:1})):L("",!0),r(s).layout==="top"?(p(),A(r(gc),{key:2,"header-height":r(s).headerHeight,active:r(a),menus:r(l)},null,8,["header-height","active","menus"])):L("",!0),r(s).layout==="user"?(p(),A(r(xc),{key:3})):L("",!0)],64)}}}),$c={path:"/",name:"default-router",component:Pc,redirect:ao,children:[]},Ac=[{path:"/workspace/exception",name:"workspaceException",component:()=>be(()=>import("./index.a1446aa2.js"),["xhadmin/js/index.a1446aa2.js","xhadmin/js/vue.4a9689d1.js","xhadmin/js/@vue.2c031df9.js","xhadmin/js/vue-router.e6e43b7c.js","xhadmin/js/pinia.a28c96ab.js","xhadmin/js/element-plus.7ba5dff5.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.c73cd653.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.e3627c37.css","xhadmin/js/vxe-table.d35ff2cd.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/@wangeditor.0cc4d431.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.19962190.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.25323d91.js","xhadmin/js/@form-create.80117775.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css"]),meta:{title:"出现错误啦~"}},{path:"/user/personal",name:"userPersonal",component:()=>be(()=>import("./index.780fcc61.js"),["xhadmin/js/index.780fcc61.js","xhadmin/js/vue.4a9689d1.js","xhadmin/js/@vue.2c031df9.js","xhadmin/js/vxe-table.d35ff2cd.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/vue-router.e6e43b7c.js","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/pinia.a28c96ab.js","xhadmin/js/element-plus.7ba5dff5.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.c73cd653.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.e3627c37.css","xhadmin/js/@wangeditor.0cc4d431.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.19962190.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.25323d91.js","xhadmin/js/@form-create.80117775.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css","xhadmin/css/index.27a712b3.css"]),meta:{title:"个人资料"}}],Ic=[{...$c,children:[...Ac]},{path:"/login",name:"Login",component:()=>be(()=>import("./index.dd3fb560.js"),["xhadmin/js/index.dd3fb560.js","xhadmin/js/vue.4a9689d1.js","xhadmin/js/@vue.2c031df9.js","xhadmin/js/pinia.a28c96ab.js","xhadmin/js/element-plus.7ba5dff5.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.c73cd653.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.e3627c37.css","xhadmin/js/vxe-table.d35ff2cd.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/@wangeditor.0cc4d431.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.19962190.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.25323d91.js","xhadmin/js/vue-router.e6e43b7c.js","xhadmin/js/@form-create.80117775.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css","xhadmin/css/index.04a85923.css"]),meta:{title:"用户登录"}},{path:"/redirect/:path(.*)",name:"redirect",component:()=>be(()=>import("./index.8a9e727a.js"),["xhadmin/js/index.8a9e727a.js","xhadmin/js/vue.4a9689d1.js","xhadmin/js/@vue.2c031df9.js","xhadmin/js/pinia.a28c96ab.js","xhadmin/js/element-plus.7ba5dff5.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.c73cd653.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.e3627c37.css","xhadmin/js/vxe-table.d35ff2cd.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/@wangeditor.0cc4d431.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.19962190.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.25323d91.js","xhadmin/js/vue-router.e6e43b7c.js","xhadmin/js/@form-create.80117775.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css"])},{path:"/exception",name:"exception",meta:{title:"抱歉，你访问的页面不存在~"},component:()=>be(()=>import("./index.a1446aa2.js"),["xhadmin/js/index.a1446aa2.js","xhadmin/js/vue.4a9689d1.js","xhadmin/js/@vue.2c031df9.js","xhadmin/js/vue-router.e6e43b7c.js","xhadmin/js/pinia.a28c96ab.js","xhadmin/js/element-plus.7ba5dff5.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.c73cd653.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.e3627c37.css","xhadmin/js/vxe-table.d35ff2cd.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/@wangeditor.0cc4d431.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.19962190.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.25323d91.js","xhadmin/js/@form-create.80117775.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css"])},{path:"/:pathMatch(.*)",component:()=>be(()=>import("./index.a1446aa2.js"),["xhadmin/js/index.a1446aa2.js","xhadmin/js/vue.4a9689d1.js","xhadmin/js/@vue.2c031df9.js","xhadmin/js/vue-router.e6e43b7c.js","xhadmin/js/pinia.a28c96ab.js","xhadmin/js/element-plus.7ba5dff5.js","xhadmin/js/lodash-es.2e98bc53.js","xhadmin/js/@element-plus.c73cd653.js","xhadmin/js/@popperjs.c75af06c.js","xhadmin/js/@ctrl.f8748455.js","xhadmin/js/dayjs.f21ac596.js","xhadmin/js/async-validator.dee29e8b.js","xhadmin/js/memoize-one.297ddbcb.js","xhadmin/js/normalize-wheel-es.ed76fb12.js","xhadmin/js/@floating-ui.ac9e5c57.js","xhadmin/css/element-plus.e3627c37.css","xhadmin/js/vxe-table.d35ff2cd.js","xhadmin/js/xe-utils.a41f8ad3.js","xhadmin/js/dom-zindex.4334dded.js","xhadmin/css/vxe-table.f35a93e0.css","xhadmin/js/@wangeditor.0cc4d431.js","xhadmin/css/@wangeditor.501cf061.css","xhadmin/js/@vicons.19962190.js","xhadmin/js/axios.a342f982.js","xhadmin/js/@vueuse.25323d91.js","xhadmin/js/@form-create.80117775.js","xhadmin/js/highlight.js.1f34202d.js","xhadmin/css/highlight.1ff499e7.css","xhadmin/js/less.9f8d4656.js","xhadmin/js/echarts.eeef61a5.js","xhadmin/js/zrender.29f65bdb.js","xhadmin/js/@formatjs.edd32ab3.js","xhadmin/js/tslib.96271c1f.js","xhadmin/js/intl-messageformat.353b9996.js","xhadmin/js/xlsx.04f2268f.js","xhadmin/js/jsencrypt.a25df808.js","xhadmin/js/nprogress.467ab7a9.js","xhadmin/css/nprogress.771398e6.css"])}],jc=Qo({routes:[...Ic],history:Yo("/")}),J=jc,Me=()=>location.pathname.replace(/^\/+|\/+$/g,""),Ae=(e="",t=!1)=>{const o=J.currentRoute.value,a=Me(),s=y(o.path);if(t){const n=s.value.indexOf("/",1);s.value=s.value.substring(0,n),s.value=`${s.value}/`}return`${a}${s.value}${e}`},bt=e=>{let t;try{t=new URL(e)}catch{return!1}return t.protocol==="http:"||t.protocol==="https:"},pe=(e,t)=>{bt(e)?location.href=e:J.push({path:e,query:t})};function lt(e=6){let t="";for(let o=0;o<e;o++)t+=Math.floor(Math.random()*10);return t}const Oe=(e,t)=>{for(const o in t)if(t[o]===e)return!0;return!1},Je=()=>{var t;(t=J.currentRoute.value.query)!=null&&t.isBack||E("返回上次页面错误"),J.back()},Dc=e=>e.replace(/\/(\w)/g,(t,o)=>o.toUpperCase()),Bc=(e,t="Enter")=>{const o=a=>{a.key===t&&(e(),a.preventDefault())};zo(()=>document.addEventListener("keydown",o)),Qt(()=>document.removeEventListener("keydown",o))},tt=e=>{let t;const o={},a=e.slice(e.indexOf("?")+1).split("&");for(let s=0;s<a.length;s++)t=a[s].split("="),o[t[0]]=t[1];return o},Ct="authorization",Pt="appid",ze=Jt(()=>{const e=Me();return Gt(`${e}_${Ct}`,null)}),Se=Jt(()=>{const e=Me();return Gt(`${e}_${Pt}`,null)}),$t="/",G=Xo.create({baseURL:$t,timeout:6e4}),Sc=async e=>{const t=ze();t.value&&e.headers.set(Ct,t.value);const o=Se();return o.value&&e.headers.set(Pt,o.value),e},Ec=e=>{var s,n,l,c,i;const t=ze(),o=e.data,a=e.headers["content-type"];if(a.includes("application/json")){if((o==null?void 0:o.code)===301)return pe(((s=o==null?void 0:o.data)==null?void 0:s.url)??""),Promise.reject(o);if((o==null?void 0:o.code)===302)return E((o==null?void 0:o.msg)||"302.网络错误~"),pe(((n=o==null?void 0:o.data)==null?void 0:n.url)??""),Promise.reject(o);if((o==null?void 0:o.code)===303)return E((o==null?void 0:o.msg)||"303.网络错误~"),pe(((l=o==null?void 0:o.data)==null?void 0:l.url)??""),Promise.reject(o);if((o==null?void 0:o.code)===304)return window.location.reload(),Promise.reject(o);if((o==null?void 0:o.code)===305)return E((o==null?void 0:o.msg)||"305.网络错误~"),setTimeout(()=>{window.location.reload()},2500),Promise.reject(o);if([600,666,11e3].includes(o==null?void 0:o.code))return Promise.reject(o);if((o==null?void 0:o.code)===200)return o;if((o==null?void 0:o.code)===12e3){t.value="";let u=(c=J.currentRoute.value)==null?void 0:c.fullPath;return(i=J.currentRoute.value.query)!=null&&i.redirect&&(u=J.currentRoute.value.query.redirect),u===Ze&&(u="/"),J.replace({path:Ze,query:{redirect:u}}),E((o==null?void 0:o.msg)||"登录超时啦~"),Promise.reject(o)}return o!=null&&o.msg&&E((o==null?void 0:o.msg)||"网络错误~"),Promise.reject(o)}else return a.includes("application/octet-stream")?Promise.resolve(o):Promise.reject(o)},Tc=e=>{if(e.response){const{status:t}=e.response;t===401?pe("/exception",{code:401}):t===403?pe("/exception",{code:403}):t===500?pe("/exception",{code:500}):t===502&&pe("/exception",{code:502})}return Promise.reject(e)};G.interceptors.request.use(Sc);G.interceptors.response.use(Ec,Tc);const Vc={class:"bundle-name"},Rc=P("div",{class:"flex-1"}," 附件分类 ",-1),Uc=P("div",{class:"bundle-title"}," 附件管理器 ",-1),Lc={class:"categrory"},Mc=P("div",{class:"categrory-item-title"}," 全部数据 ",-1),Fc=["onClick","onDblclick"],qc={class:"categrory-item-title"},Oc=["onClick"],Hc={class:"bundle-file-list"},Nc=["title","onClick"],zc={class:"file-name"},Wc={class:"pagination"},Xc=P("div",{class:"flex-1"},null,-1),Zc={key:3,class:"btn-group"},Qc={key:4,class:"btn-group"},ho=I({__name:"modal",props:{limit:{default:1},suffix:{default:"*"},format:{default:"*"}},emits:["update:confirm","update:close"],setup(e,{expose:t,emit:o}){var Dt;const a=e,s=o,n=ue(),l=ze(),c=Se(),i=n.siteInfo,u=y(),d=y([]),_=y([]),h=y({active:"",list:[]}),g=y([]),m=y(!1),f=y(a.limit),v=y(!1),D=(Dt=i.uploadify_api)==null?void 0:Dt.upload,j=y({[Ct]:l.value||"",ACCEPT:"application/json"});c.value&&(j.value={...j.value,[Pt]:c.value});let B=$t;{const{protocol:V,hostname:R}=window.location;B=`${V}//${R}`}const U=y({action:`${B}/${D}`,data:{cid:h.value.cid||"",dir_name:h.value.dir_name||""},headers:j.value,multiple:!0,withCredentials:!0,showFileList:!1}),C=y({page:1,limit:24,total:0}),$=()=>{var q,K;if(m.value)return;m.value=!0;const V=((q=i==null?void 0:i.uploadify_api)==null?void 0:q.index)||"";let R=a.suffix;Array.isArray(a.suffix)?R=a.suffix.join(","):Array.isArray(a.format)&&(R=a.format.join(",")),Array.isArray(a.format)&&Array.isArray(a.suffix)&&(R=[...a.suffix,...a.format].join(","));const O={cid:((K=h.value)==null?void 0:K.cid)||"",page:C.value.page,limit:C.value.limit,suffix:R};g.value=[],Ce(V,O).then(oe=>{var Ie,ke;C.value.total=((Ie=oe==null?void 0:oe.data)==null?void 0:Ie.total)||0;const ae=((ke=oe==null?void 0:oe.data)==null?void 0:ke.data)||[];g.value=ae}).finally(()=>{m.value=!1})},x=V=>{C.value.page=V,$()},Y=V=>{C.value.limit=V,$()},Q=()=>{C.value.page=1,C.value.limit=20,h.value.active="",h.value.moveCid=void 0,h.value.cid=void 0,g.value=[],d.value=[],_.value=[]},se=y(!1),ce=V=>{v.value?_.value.includes(V)?_.value.splice(_.value.indexOf(V),1):_.value.push(V):f.value===1?d.value[0]=V:d.value.includes(V)?d.value.splice(d.value.indexOf(V),1):(f.value===0||d.value.length<f.value)&&d.value.push(V)},xe=V=>{(V==null?void 0:V.code)===200?(Q(),$(),W((V==null?void 0:V.msg)||"上传成功！","success")):W((V==null?void 0:V.msg)??"上传失败","error")},go=V=>{console.error(V),W("上传失败","error")},We=()=>{var R;const V=((R=i==null?void 0:i.uploadify_cate)==null?void 0:R.index)||"";Ce(V).then(O=>{h.value.list=(O==null?void 0:O.data)||[]})},At=V=>{if(h.value.active===V)return;Q(),h.value.active=V;const R=h.value.list.find((O,q)=>q===V);h.value.cid=R==null?void 0:R.id,h.value.dir_name=R==null?void 0:R.dir_name,U.value.data={cid:h.value.cid||"",dir_name:h.value.dir_name||""},$()},vo=()=>{var O;const V=(O=i==null?void 0:i.uploadify_cate)==null?void 0:O.add;if(!V){W("请先配置分类添加接口","error");return}const R=y({sort:100});ie({title:"添加分类",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"保存",message:()=>Fe(Tt,{modelValue:R.value,"onUpdate:modelValue":q=>{R.value=q}}),beforeClose:(q,K,oe)=>{if(q==="cancel"){oe();return}if(!R.value.title){W("请输入分类名称","error");return}if(!R.value.dir_name){W("请输入分类目录","error");return}if(!R.value.sort){W("请输入分类排序","error");return}K.confirmButtonLoading=!0,K.confirmButtonText="保存中...",Re(V,R.value).then(ae=>{W((ae==null?void 0:ae.msg)||"添加成功！","success"),Q(),We(),$(),oe()}).catch(()=>{K.confirmButtonLoading=!1,K.confirmButtonText="保存"})}})},yo=V=>{var K;const R=(K=i==null?void 0:i.uploadify_cate)==null?void 0:K.edit;if(!R){W("请先配置分类修改接口","error");return}const O=h.value.list[V],q=y({...O});ie({title:"添加分类",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"保存",message:()=>Fe(Tt,{modelValue:q.value,"onUpdate:modelValue":oe=>{q.value=oe}}),beforeClose:(oe,ae,Ie)=>{if(oe==="cancel"){Ie();return}if(!q.value.title){W("请输入分类名称","error");return}if(!q.value.dir_name){W("请输入分类目录","error");return}if(!q.value.sort){W("请输入分类排序","error");return}ae.confirmButtonLoading=!0,ae.confirmButtonText="保存中...",Qe(`${R}?id=${O==null?void 0:O.id}`,q.value).then(ke=>{W((ke==null?void 0:ke.msg)||"添加成功！","success"),Q(),We(),$(),Ie()}).catch(()=>{ae.confirmButtonLoading=!1,ae.confirmButtonText="保存"})}})},xo=V=>{var q;const R=h.value.list[V],O=(q=i==null?void 0:i.uploadify_cate)==null?void 0:q.del;if(!O){W("请先配置分类删除接口","error");return}Pe("是否确认删除该分类？","温馨提示","error").then(()=>{const K={id:R==null?void 0:R.id};Ye(O,K).then(oe=>{W((oe==null?void 0:oe.msg)||"添加成功！","success"),Q(),We(),$()})})},ko=()=>{var O,q;if(!((O=h.value)!=null&&O.moveCid)){W("请选择需要移动到的分类","error");return}if(_.value.length<=0){W("请选择需要移动的文件","error");return}const V=(q=i==null?void 0:i.uploadify_api)==null?void 0:q.move;if(!V){W("请先配置文件移动接口","error");return}const R={cid:h.value.moveCid,ids:_.value.map(K=>K.id)};Re(V,R).then(K=>{Q(),$(),v.value=!1,W((K==null?void 0:K.msg)||"移动成功！","success")})},wo=()=>{var O;if(_.value.length<=0){W("请选择需要删除的文件","error");return}const V=(O=i==null?void 0:i.uploadify_api)==null?void 0:O.del;if(!V){W("请先配置文件删除接口","error");return}const R={ids:_.value.map(q=>q.id)};Pe("是否确认删除选中的文件？","温馨提示","error").then(()=>{Ye(V,R).then(q=>{Q(),$(),v.value=!1,W((q==null?void 0:q.msg)||"删除成功！","success")})})},bo=()=>{v.value=!1,_.value=[]},Co=()=>{_.value.length===g.value.length?_.value=[]:_.value=[...g.value]},Po=()=>{if(d.value.length<=0){W("请选择文件","error");return}s("update:confirm",d.value),se.value=!1},It=()=>{se.value=!0,We(),$()},jt=()=>{se.value=!1,Q(),s("update:close")};return t({open:It,close:jt}),(V,R)=>{const O=te,q=T("el-icon"),K=T("el-image"),oe=T("el-pagination"),ae=T("el-button"),Ie=T("el-upload"),ke=T("el-option"),$o=T("el-select"),Ao=T("el-dialog");return p(),b(z,null,[he(V.$slots,"open",{open:It}),k(Ao,{modelValue:r(se),"onUpdate:modelValue":R[3]||(R[3]=N=>me(se)?se.value=N:null),width:"60%",class:"bundle-dialog",draggable:"","append-to-body":"","close-on-click-modal":!1,"show-close":!1,onClose:Q},{header:w(()=>[P("div",Vc,[Rc,k(q,{size:20,class:"pointer",onClick:vo},{default:w(()=>[k(O,{icon:"FolderAdd",type:"element"})]),_:1})]),Uc]),footer:w(()=>[k(Ie,X(r(U),{class:"mr-3","on-success":xe,"on-error":go}),{default:w(()=>[k(ae,{type:"success"},{default:w(()=>[H(" 上传 ")]),_:1})]),_:1},16),r(v)?(p(),A(ae,{key:0,type:"danger",onClick:bo},{default:w(()=>[H(" 退出 ")]),_:1})):(p(),A(ae,{key:1,onClick:R[1]||(R[1]=N=>v.value=!0)},{default:w(()=>[H(" 管理 ")]),_:1})),r(v)?(p(),A(ae,{key:2,onClick:Co},{default:w(()=>[H(" 全选 ")]),_:1})):L("",!0),Xc,r(v)?(p(),b("div",Zc,[k($o,{modelValue:r(h).moveCid,"onUpdate:modelValue":R[2]||(R[2]=N=>r(h).moveCid=N),class:"mr-2"},{default:w(()=>[(p(!0),b(z,null,ne(r(h).list,(N,we)=>(p(),A(ke,{key:we,label:N.title,value:N.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),k(ae,{type:"warning",disabled:r(_).length<=0,onClick:ko},{default:w(()=>[H(" 移动 ")]),_:1},8,["disabled"]),k(ae,{type:"danger",disabled:r(_).length<=0,onClick:wo},{default:w(()=>[H(" 删除("+F(r(_).length)+") ",1)]),_:1},8,["disabled"])])):(p(),b("div",Qc,[k(ae,{onClick:jt},{default:w(()=>[H(" 取消 ")]),_:1}),k(ae,{type:"primary",disabled:r(d).length<=0,onClick:Po},{default:w(()=>[H(" 确认选择("+F(r(d).length)+") ",1)]),_:1},8,["disabled"])]))]),default:w(()=>[P("div",Lc,[P("div",{class:ve(["categrory-item",{active:r(h).active===""}])},[P("div",{class:"categrory-item-left-title",onClick:R[0]||(R[0]=N=>At(""))},[k(q,{color:"#FBAC15"},{default:w(()=>[k(O,{icon:"FolderOpened",type:"element"})]),_:1}),Mc])],2),(p(!0),b(z,null,ne(r(h).list,(N,we)=>(p(),b("div",{key:N,class:ve(["categrory-item",{active:we===r(h).active}])},[P("div",{class:"categrory-item-left-title",onClick:ot=>At(we),onDblclick:ot=>yo(we)},[k(q,{color:"#FBAC15"},{default:w(()=>[k(O,{icon:"FolderOpened",type:"element"})]),_:1}),P("div",qc,F((N==null?void 0:N.title)||""),1)],40,Fc),(N==null?void 0:N.is_system)==="10"?(p(),b("div",{key:0,class:"categrory-item-right-icon",onClick:ot=>xo(we)},[k(O,{icon:"Delete",class:"delete-icon",type:"element"})],8,Oc)):L("",!0)],2))),128))]),P("div",{ref_key:"bundleBodyRef",ref:u,class:"bundle-body"},[P("div",Hc,[(p(!0),b(z,null,ne(r(g),(N,we)=>(p(),b("div",{key:we,title:N.filename,class:ve(["file-item",{active:!r(v)&&r(d).includes(N),"active-warning":r(v)&&r(_).includes(N)}]),onClick:ot=>ce(N)},[r(eo)(N.url)?(p(),A(K,{key:0,src:N==null?void 0:N.url,class:"file-thumb",fit:"contain"},null,8,["src"])):(p(),A(q,{key:1,class:"file-thumb"},{default:w(()=>[k(O,{icon:"Document",size:40,type:"element"})]),_:1})),P("div",zc,F((N==null?void 0:N.filename)||""),1)],10,Nc))),128))]),P("div",Wc,[k(oe,{small:"",background:"","page-sizes":[24,24*2,24*3,24*4],layout:"total,sizes,prev, pager, next,jumper",total:r(C).total,"page-size":r(C).limit,"current-page":r(C).page,onCurrentChange:x,onSizeChange:Y},null,8,["total","page-size","current-page"])])],512)]),_:1},8,["modelValue"])],64)}}}),mt=I({__name:"upload",props:{params:{}},emits:["update:close","update:modelValue"],setup(e,{emit:t}){const o=e,a=t,s=y(),n=c=>{const i=c.map(u=>u==null?void 0:u.url);a("update:modelValue",i)},l=()=>{a("update:close")};return $e(()=>{var c;(c=s.value)==null||c.open()}),(c,i)=>(p(),A(ho,X({ref_key:"uploadRef",ref:s},o.params,{"onUpdate:confirm":n,"onUpdate:close":l}),null,16))}});class Yc{constructor(){Xe(this,"title","");Xe(this,"iconSvg","");Xe(this,"tag","");this.title="附件库",this.iconSvg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 75"><defs><style>.cls-1{fill:#1677ff;fill-rule:evenodd;}</style></defs><title>xhadmin</title><g id="图层_2" data-name="图层 2"><g id="svg26"><g id="g24"><path id="path14" class="cls-1" d="M30.8,32.9q22.35-17.38,42.46-4c10,6.64,14.29,8.63,17.26,6.64,6-4,.66-12-10.62-15.92Q54,10.47,30.8,32.9Z"/><path id="path16" class="cls-1" d="M24.16,38.2q7.45-23.75,30.65-24.64C66.29,13.11,70.73,12.23,72,9c2.4-6.46-6.22-9.66-17.24-6.42Q29.43,10.07,24.16,38.2Z"/><path id="path18" class="cls-1" d="M20,51.8q-3-23,11.75-36.39c7.31-6.64,9.75-9.7,8.77-12.47-2-5.57-9.45-2.91-14.89,5.31Q13.2,27.12,20,51.8Z"/><path id="path20" class="cls-1" d="M26.41,65Q13.5,49,14.19,32.24c.35-8.28,0-11.66-2-13.09-4-2.86-5.7,4.85-5.68,11.37Q6.6,51.93,26.41,65Z"/><path id="path22" class="cls-1" d="M35.44,69.4c1.5-.67-17.24.66-25.8-14.8-3.39-6.12-5.18-8.39-7.3-8.36-4.22.06-2,6.45.92,11.14C12.88,72.71,34,70.05,35.44,69.4Z"/></g><text data-v-4db12289="" class="logo-svg-cls-2 logo-svg-text theme--transparent" transform="translate(28.28 57.81)">xhadmin</text></g></g></svg>',this.tag="button"}getValue(t){return""}isActive(t){return!1}isDisabled(t){return!1}exec(t,o){le(mt,{"onUpdate:modelValue":a=>{a.forEach(s=>{const n=s.lastIndexOf("."),l=s.substr(n+1);let c="";["gif","jpg","jpeg","png"].includes(l.toLowerCase())?c=`<img src="${s}" />`:["mp4"].includes(l.toLowerCase())?c=`<video src="${s}" controls="controls" />`:["mp3","ogg","wav"].includes(l.toLowerCase())?c=`<audio src="${s}" controls="controls" />`:c=`<a href="${s}">${s}</a>`,t.setHtml(c)})},"onUpdate:close":()=>{_e()}},{title:"附件库",customStyle:{width:0,height:0}})}}const Jc=I({__name:"index",setup(e){const t=y("zh-cn"),o=S(()=>t.value==="zh-cn"?To:Vo),a=pt({autoInsertSpace:!1}),s=pt({max:1});return(n,l)=>{const c=T("router-view"),i=T("el-config-provider");return p(),A(i,{button:r(a),message:r(s),locale:r(o)},{default:w(()=>[k(c)]),_:1},8,["button","message","locale"])}}}),Gc=I({__name:"App",setup(e){const t={key:"xhUploadify",factory(){return new Yc}};return Fo.registerMenu(t),wc(),(o,a)=>(p(),A(Jc))}}),Kc=e=>{let t="",o=0;e=(e||0).toString();for(let a=e.length-1;a>=0;a--)o++,t=e.charAt(a)+t,!(o%3)&&a!==0&&(t=`,${t}`);return t},Nt=(e,t,o,a)=>{let s;const n=o-t;function l(c){s||(s=c);const i=c-s,u=Math.min(i/a,1),d=t+Math.floor(u*n);d>999&&e.dataset.numberScrollThousandsOff===void 0?e.innerHTML=Kc(d):e.innerHTML=d.toString(),i<a&&globalThis.requestAnimationFrame(l)}globalThis.requestAnimationFrame(l)},ei={mounted(e,t,o){const{value:a}=t,s=parseFloat(e.dataset.numberScrollValue??"0"),n=a?parseFloat(a.toString()):0,l=parseInt(e.dataset.numberScrollDuration??"1000");Nt(e,s,n,l),e.dataset.numberScrollValue=n.toString()},updated(e,t){if(e.dataset.numberScrollOnceExecuted)return;console.log("updated");const{value:o}=t,a=parseFloat(e.dataset.numberScrollValue??"0"),s=o?parseFloat(o.toString()):0,n=parseInt(e.dataset.numberScrollDuration??"1000");s!==a&&(Nt(e,a??0,o,n),t.modifiers.once&&(e.dataset.numberScrollOnceExecuted="true")),e.dataset.numberScrollValue=s.toString()}};function ti(e){e.directive("number-scroll",ei)}const Ve=y(Ze),_t=y([...xa]),rt=y([..._t.value,Ve.value,to,oo]),zt=y(!1);J.beforeEach(async(e,t,o)=>{var u,d,_,h,g;if(Kt.start(),_t.value.includes(e.path)){o();return}const a=ye(),s=Se(),n=ze(),l=S(()=>a.userInfo);if((u=e.query)!=null&&u.token){let m=(d=e.query)==null?void 0:d.token;m=m.includes("Bearer")?m:`Bearer ${m}`,n.value=m}if((_=e.query)!=null&&_.appid&&(s.value=(h=e.query)==null?void 0:h.appid),n.value&&[Ve.value,to,oo].includes(e.path)){o({path:"/"});return}const c=ue(),i=S(()=>c.siteInfo);if(!i.value.web_name){if(await c.getSite(),!i.value.web_name){E("站点名称web_name字段缺失");return}if(i.value.login_link&&c.setLoginLink(i.value.login_link),(g=i.value)!=null&&g.remote_url&&!zt.value){const m=i.value.remote_url;Ve.value&&(rt.value=[...rt.value,Ve.value]),sr(m),zt.value=!0,o({...e,replace:!0});return}}if(n.value){if(!l.value.username&&!_t.value.includes(e.path))try{if(await a.getUserInfo(),!l.value.username){E("用户信息缺少username字段");return}const m=a.routeList;if(m.length===0){a.Authorization="",E("您没有任何权限，请联系管理员！"),o({path:Ve.value});return}m.forEach(f=>{J.addRoute("default-router",f)}),o({...e,replace:!0});return}catch(m){console.error("前置路由错误",m)}}else if(!rt.value.includes(e.path)){o({path:Ve.value,query:{redirect:e.path}});return}o()});J.afterEach(e=>{var c,i,u;const{version_name:t}=mo(),a=((c=ue().siteInfo)==null?void 0:c.web_name)||"XHAdmin",s=`${a} ${t}`;let n=(i=e.meta)==null?void 0:i.title;const l=(u=e.query)==null?void 0:u.code;l&&(n=ka[l]||"抱歉，你访问的页面不存在"),n?document.title=`${n} - ${s}`:a&&(document.title=s),Kt.done()});const oi=e=>{e.use(Te),e.config.globalProperties.$XModal=Te.modal,e.config.globalProperties.$XPrint=Te.print,e.config.globalProperties.$XSaveFile=Te.saveFile,e.config.globalProperties.$XReadFile=Te.readFile},ai=Do(),Ee=Wo(Gc);oi(Ee);Ee.use(ai);Ee.use(J);Ee.use(Ro);Ee.use(ti);Ee.mount("#app");lo.vue=Ee;export{so as X,te as _,ue as a,Bc as b,_o as c,M as d,ze as e,ka as f,Ue as g,po as h,Je as i,vt as j,fe as k,Ze as l,pe as o,ye as u};
