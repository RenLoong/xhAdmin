import{d as g,r as L,a as y,o as v,c as P,w as E,u as O,z as R,b as w,e as A,f as T,g as b,h as C,n as p,i as q,j as x,A as I}from"./.pnpm.e7cb82db.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(s){if(s.ep)return;s.ep=!0;const t=o(s);fetch(s.href,t)}})();const S=g({__name:"index",setup(r){const e=L(R);return(o,n)=>{const s=y("a-config-provider");return v(),P(s,{locale:O(e)},{default:E(()=>[w(o.$slots,"default")]),_:3},8,["locale"])}}}),V=g({__name:"App",setup(r){return(e,o)=>{const n=y("router-view");return v(),P(S,null,{default:E(()=>[A(n)]),_:1})}}});const D="modulepreload",N=function(r){return"/install/"+r},h={},u=function(e,o,n){if(!o||o.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(o.map(t=>{if(t=N(t),t in h)return;h[t]=!0;const i=t.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(!!n)for(let l=s.length-1;l>=0;l--){const m=s[l];if(m.href===t&&(!i||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${a}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":D,i||(c.as="script",c.crossOrigin=""),c.href=t,document.head.appendChild(c),i)return new Promise((l,m)=>{c.addEventListener("load",l),c.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>e())},j=[{path:"/",name:"layouts",component:()=>u(()=>import("./index.322a9865.js"),["assets/js/index.322a9865.js","assets/js/.pnpm.e7cb82db.js","assets/css/.pnpm.9c178708.css","assets/js/_plugin-vue_export-helper.c27b6911.js","assets/css/index.821f34b7.css"]),redirect:"/step1",children:[{path:"/step1",component:()=>u(()=>import("./index.da5a0b32.js"),["assets/js/index.da5a0b32.js","assets/js/.pnpm.e7cb82db.js","assets/css/.pnpm.9c178708.css","assets/js/_plugin-vue_export-helper.c27b6911.js","assets/css/index.e20dfc03.css"]),name:"index"},{path:"/step2",component:()=>u(()=>import("./index.b847d37b.js"),["assets/js/index.b847d37b.js","assets/js/.pnpm.e7cb82db.js","assets/css/.pnpm.9c178708.css","assets/js/_plugin-vue_export-helper.c27b6911.js","assets/css/index.f232bf10.css"]),name:"environment"},{path:"/step3",component:()=>u(()=>import("./index.39ac92e1.js"),["assets/js/index.39ac92e1.js","assets/js/app.37dce1ba.js","assets/js/.pnpm.e7cb82db.js","assets/css/.pnpm.9c178708.css","assets/js/_plugin-vue_export-helper.c27b6911.js","assets/css/index.6aec722b.css"]),name:"database"},{path:"/step4",component:()=>u(()=>import("./index.ad3de3b7.js"),["assets/js/index.ad3de3b7.js","assets/js/app.37dce1ba.js","assets/js/.pnpm.e7cb82db.js","assets/css/.pnpm.9c178708.css","assets/js/_plugin-vue_export-helper.c27b6911.js","assets/css/index.16cdcd5c.css"]),name:"install"},{path:"/step5",component:()=>u(()=>import("./index.b472a969.js"),["assets/js/index.b472a969.js","assets/js/.pnpm.e7cb82db.js","assets/css/.pnpm.9c178708.css","assets/js/_plugin-vue_export-helper.c27b6911.js","assets/css/index.f888369b.css"]),name:"complete"}]}],_=T({routes:[...j],history:b("/")}),B=(r,e)=>{for(const o in e)if(e[o]===r)return!0;return!1},K=(r,e)=>{_.push({path:r,query:{...e}})},H="/",d=C.create({baseURL:H,timeout:6e4}),$=async r=>(r.headers.set("Content-Type","application/x-www-form-urlencoded"),r),k=r=>{var o;const e=r.data;return r.headers["content-type"]==="application/json"?B(e==null?void 0:e.code,[404,500])?((o=p)==null||o.error({message:"温馨提示",description:(e==null?void 0:e.msg)||"网络错误",duration:3}),Promise.reject(r.data)):(e==null?void 0:e.code)===200?e:Promise.reject(r.data):r.headers["content-type"]==="application/octet-stream"?Promise.resolve(e):Promise.resolve(r)},U=r=>{var e,o,n,s;if(r.response){const{data:t,status:i,statusText:a}=r.response;i===401?(e=p)==null||e.error({message:"请求错误",description:(t==null?void 0:t.msg)||a,duration:3}):i===403?(o=p)==null||o.error({message:"资源请求错误",description:(t==null?void 0:t.msg)||a,duration:3}):i===500?(n=p)==null||n.error({message:"服务器错误",description:(t==null?void 0:t.msg)||a,duration:3}):(s=p)==null||s.error({message:"系统错误",description:(t==null?void 0:t.msg)||a,duration:3})}return Promise.reject(r)};d.interceptors.request.use($);d.interceptors.response.use(k,U);const W=(r,e,o)=>d.request({url:r,params:e,method:"GET",...o}),J=(r,e,o)=>d.request({url:r,data:e,method:"POST",...o});_.beforeEach(async(r,e,o)=>{const{data:n}=await W("install/install.php");(n==null?void 0:n.install)==="ok"&&r.path!=="/step5"?o({path:"/step5"}):o()});const z=q(),f=x(V);f.use(_);f.use(z);f.use(I);f.mount("#app");export{J as a,K as o,W as u};
