import{o as C,u as w}from"./index.712e9451.js";import{d as T,r as o,l as $,s as z,a as I,o as u,m as i,p as a,e as f,w as p,u as n,x as c,t as d,y as r,v as g,B as E,C as M}from"./.pnpm.f2f3c7ce.js";import{_ as P}from"./_plugin-vue_export-helper.c27b6911.js";const h=_=>(E("data-v-10a35740"),_=_(),M(),_),W={class:"environment-container"},j={class:"environment"},q={class:"item"},A=h(()=>a("div",{class:"title"}," 环境检测 ",-1)),F={class:"item"},G=h(()=>a("div",{class:"title"}," 目录权限 ",-1)),H={class:"item"},J=h(()=>a("div",{class:"title"}," 函数检测 ",-1)),K={class:"action"},L={class:"item"},O={class:"item"},Q=T({__name:"index",props:{api:{}},setup(_){const b=_,V=o([{title:"函数名称",dataIndex:"name",key:"name"},{title:"是否通过",dataIndex:"status",key:"status"},{title:"函数状态",dataIndex:"value",key:"value"}]),y=o([]),D=o([{title:"项目名称",dataIndex:"title",key:"title"},{title:"是否通过",dataIndex:"status",key:"status",render:()=>"否"},{title:"扩展状态",dataIndex:"value",key:"value"}]),m=o([]),B=o([{title:"目录名称",dataIndex:"name",key:"name"},{title:"是否通过",dataIndex:"status",key:"status",render:()=>"否"},{title:"目录状态",dataIndex:"value",key:"value"}]),x=o([]),N=$(()=>{if(y.value.length<=0||m.value.length<=0)return!0;const k=y.value.filter(l=>l.status===!1),t=m.value.filter(l=>l.status===!1),v=x.value.filter(l=>l.status===!1);return!(k.length<=0&&t.length<=0&&v.length<=0)}),S=()=>{w(b.api).then(k=>{const{data:t}=k;y.value=(t==null?void 0:t.fun)??[],m.value=(t==null?void 0:t.extra)??[],x.value=(t==null?void 0:t.dirData)??[]})};return z(()=>{S()}),(k,t)=>{const v=I("a-table"),l=I("a-button");return u(),i("div",W,[a("div",j,[a("div",q,[A,f(v,{columns:n(D),"data-source":n(m),pagination:!1},{bodyCell:p(({column:e,record:s})=>[e.key==="status"?(u(),i("div",{key:0,class:c(s.status?"status-success":"status-fail")},d(s.status?"通过":"失败"),3)):r("",!0),e.key==="value"?(u(),i("div",{key:1,class:c(s.status?"status-success":"status-fail")},d(s.value),3)):r("",!0)]),_:1},8,["columns","data-source"])]),a("div",F,[G,f(v,{columns:n(B),"data-source":n(x),pagination:!1},{bodyCell:p(({column:e,record:s})=>[e.key==="status"?(u(),i("div",{key:0,class:c(s.status?"status-success":"status-fail")},d(s.status?"通过":"失败"),3)):r("",!0),e.key==="value"?(u(),i("div",{key:1,class:c(s.status?"status-success":"status-fail")},d(s.value),3)):r("",!0)]),_:1},8,["columns","data-source"])]),a("div",H,[J,f(v,{columns:n(V),"data-source":n(y),pagination:!1},{bodyCell:p(({column:e,record:s})=>[e.key==="status"?(u(),i("div",{key:0,class:c(s.status?"status-success":"status-fail")},d(s.status?"通过":"失败"),3)):r("",!0),e.key==="value"?(u(),i("div",{key:1,class:c(s.status?"status-success":"status-fail")},d(s.value),3)):r("",!0)]),_:1},8,["columns","data-source"])])]),a("div",K,[a("div",L,[f(l,{type:"primary",ghost:!1,onClick:t[0]||(t[0]=e=>n(C)("/"))},{default:p(()=>[g(" 上一步 ")]),_:1})]),a("div",O,[f(l,{type:"primary",danger:"",disabled:n(N),onClick:t[1]||(t[1]=e=>n(C)("/installType"))},{default:p(()=>[g(" 下一步 ")]),_:1},8,["disabled"])])])])}}});const Y=P(Q,[["__scopeId","data-v-10a35740"]]);export{Y as default};
