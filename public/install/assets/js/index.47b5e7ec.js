import{d as g,r as L,a as y,o as v,c as P,w as E,u as O,z as R,b as T,e as A,f as w,g as b,h as C,n as p,i as I,j as V,A as x}from"./.pnpm.806cdd1d.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const e of o)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const e={};return o.integrity&&(e.integrity=o.integrity),o.referrerPolicy&&(e.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?e.credentials="include":o.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function s(o){if(o.ep)return;o.ep=!0;const e=n(o);fetch(o.href,e)}})();const D=g({__name:"index",setup(r){const t=L(R);return(n,s)=>{const o=y("a-config-provider");return v(),P(o,{locale:O(t)},{default:E(()=>[T(n.$slots,"default")]),_:3},8,["locale"])}}}),S=g({__name:"App",setup(r){return(t,n)=>{const s=y("router-view");return v(),P(D,null,{default:E(()=>[A(s)]),_:1})}}});const q="modulepreload",N=function(r){return"/install/"+r},h={},c=function(t,n,s){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(e=>{if(e=N(e),e in h)return;h[e]=!0;const i=e.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!s)for(let u=o.length-1;u>=0;u--){const m=o[u];if(m.href===e&&(!i||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${l}`))return;const a=document.createElement("link");if(a.rel=i?"stylesheet":q,i||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),i)return new Promise((u,m)=>{a.addEventListener("load",u),a.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>t())},j=[{path:"/",name:"layouts",component:()=>c(()=>import("./index.7c519708.js"),["assets/js/index.7c519708.js","assets/js/.pnpm.806cdd1d.js","assets/css/.pnpm.9c178708.css","assets/js/_plugin-vue_export-helper.c27b6911.js","assets/css/index.fdabe1ac.css"]),redirect:"/agreement",children:[{path:"/agreement",component:()=>c(()=>import("./index.1e9ca872.js"),["assets/js/index.1e9ca872.js","assets/js/.pnpm.806cdd1d.js","assets/css/.pnpm.9c178708.css","assets/js/_plugin-vue_export-helper.c27b6911.js","assets/css/index.735df790.css"]),name:"agreement"},{path:"/environment",component:()=>c(()=>import("./index.4d2ad451.js"),["assets/js/index.4d2ad451.js","assets/js/.pnpm.806cdd1d.js","assets/css/.pnpm.9c178708.css","assets/js/_plugin-vue_export-helper.c27b6911.js","assets/css/index.0037da4f.css"]),name:"environment"},{path:"/installType",component:()=>c(()=>import("./index.ce9302c8.js"),["assets/js/index.ce9302c8.js","assets/js/complete.127c5be6.js","assets/js/.pnpm.806cdd1d.js","assets/css/.pnpm.9c178708.css","assets/js/_plugin-vue_export-helper.c27b6911.js","assets/css/index.5160db55.css"]),name:"installType"},{path:"/database",component:()=>c(()=>import("./index.9bf59a9f.js"),["assets/js/index.9bf59a9f.js","assets/js/app.498162da.js","assets/js/.pnpm.806cdd1d.js","assets/css/.pnpm.9c178708.css","assets/js/_plugin-vue_export-helper.c27b6911.js","assets/css/index.f14faa78.css"]),name:"database"},{path:"/install",component:()=>c(()=>import("./index.4dd4d4a8.js"),["assets/js/index.4dd4d4a8.js","assets/js/app.498162da.js","assets/js/.pnpm.806cdd1d.js","assets/css/.pnpm.9c178708.css","assets/js/_plugin-vue_export-helper.c27b6911.js","assets/css/index.544a9cb1.css"]),name:"install"},{path:"/complete",component:()=>c(()=>import("./index.aa934f3b.js"),["assets/js/index.aa934f3b.js","assets/js/complete.127c5be6.js","assets/js/.pnpm.806cdd1d.js","assets/css/.pnpm.9c178708.css","assets/js/_plugin-vue_export-helper.c27b6911.js","assets/css/index.f8101fe9.css"]),name:"complete"}]}],f=w({routes:[...j],history:b("/")}),B=(r,t)=>{for(const n in t)if(t[n]===r)return!0;return!1},G=(r,t)=>{f.push({path:r,query:{...t}})},H="/",_=C.create({baseURL:H,timeout:6e4}),$=async r=>(r.headers.set("Content-Type","application/x-www-form-urlencoded"),r),k=r=>{var n;const t=r.data;return r.headers["content-type"]==="application/json"?B(t==null?void 0:t.code,[404,500])?((n=p)==null||n.error({message:"温馨提示",description:(t==null?void 0:t.msg)||"网络错误",duration:3}),Promise.reject(r.data)):(t==null?void 0:t.code)===200?t:Promise.reject(r.data):r.headers["content-type"]==="application/octet-stream"?Promise.resolve(t):Promise.resolve(r)},U=r=>{var t,n,s,o;if(r.response){const{data:e,status:i,statusText:l}=r.response;i===401?(t=p)==null||t.error({message:"请求错误",description:(e==null?void 0:e.msg)||l,duration:3}):i===403?(n=p)==null||n.error({message:"资源请求错误",description:(e==null?void 0:e.msg)||l,duration:3}):i===500?(s=p)==null||s.error({message:"服务器错误",description:(e==null?void 0:e.msg)||l,duration:3}):(o=p)==null||o.error({message:"系统错误",description:(e==null?void 0:e.msg)||l,duration:3})}return Promise.reject(r)};_.interceptors.request.use($);_.interceptors.response.use(k,U);const W=(r,t,n)=>_.request({url:r,data:t,method:"POST",...n});f.beforeEach(async(r,t,n)=>{const{data:s}=await W("/index.php");(s==null?void 0:s.install)==="ok"&&r.path!=="/complete"?n({path:"/complete"}):n()});const z=I(),d=V(S);d.use(f);d.use(z);d.use(x);d.mount("#app");export{G as o,W as u};
