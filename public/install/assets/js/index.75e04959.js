import{u as k,o as x}from"./index.6365c285.js";import{d as D,m as p,c as B,v as I,n as S,p as e,e as s,w as n,u as i,r as f,o as w,y as v,t as m,x as y,A as N,B as $}from"./.pnpm.c979882e.js";import{_ as z}from"./_plugin-vue_export-helper.c27b6911.js";const h=c=>(N("data-v-3e45e5b7"),c=c(),$(),c),A={class:"environment-container"},E={class:"environment"},M={class:"item"},P=h(()=>e("div",{class:"title"}," 环境检测 ",-1)),T={class:"item"},W=h(()=>e("div",{class:"title"}," 目录权限 ",-1)),j={class:"item"},q=h(()=>e("div",{class:"title"}," 函数检测 ",-1)),F={class:"action"},G={class:"item"},H={class:"item"},J=D({__name:"index",props:{api:null},setup(c){const g=c,d=p([]),u=p([]),r=p([]),V=B(()=>{if(d.value.length<=0||u.value.length<=0)return!0;const _=d.value.filter(l=>l.status===!1),t=u.value.filter(l=>l.status===!1),o=r.value.filter(l=>l.status===!1);return!(_.length<=0&&t.length<=0&&o.length<=0)}),C=()=>{k(g.api).then(_=>{const{data:t}=_;d.value=(t==null?void 0:t.fun)??[],u.value=(t==null?void 0:t.extra)??[],r.value=(t==null?void 0:t.dirData)??[]})};return I(()=>{C()}),(_,t)=>{const o=f("el-table-column"),l=f("el-table"),b=f("el-button");return w(),S("div",A,[e("div",E,[e("div",M,[P,s(l,{data:i(u)},{default:n(()=>[s(o,{prop:"title",label:"检测项目"}),s(o,{prop:"status",label:"检测状态",width:"200"},{default:n(({row:a})=>[e("div",{class:v(a.status?"status-success":"status-fail")},m(a.status?"通过":"失败"),3)]),_:1})]),_:1},8,["data"])]),e("div",T,[W,s(l,{data:i(r)},{default:n(()=>[s(o,{prop:"title",label:"检测项目"}),s(o,{prop:"value",label:"检测状态",width:"200"},{default:n(({row:a})=>[e("div",{class:v(a.status?"status-success":"status-fail")},m(a.status?"通过":"权限错误"),3)]),_:1})]),_:1},8,["data"])]),e("div",j,[q,s(l,{data:i(d)},{default:n(()=>[s(o,{prop:"title",label:"检测项目"}),s(o,{prop:"value",label:"检测状态",width:"200"},{default:n(({row:a})=>[e("div",{class:v(a.status?"status-success":"status-fail")},m(a.status?"通过":"失败"),3)]),_:1})]),_:1},8,["data"])])]),e("div",F,[e("div",G,[s(b,{type:"danger",onClick:t[0]||(t[0]=a=>i(x)("/"))},{default:n(()=>[y(" 上一步 ")]),_:1})]),e("div",H,[s(b,{type:"primary",danger:"",disabled:i(V),onClick:t[1]||(t[1]=a=>i(x)("/database"))},{default:n(()=>[y(" 下一步 ")]),_:1},8,["disabled"])])])])}}});const Q=z(J,[["__scopeId","data-v-3e45e5b7"]]);export{Q as default};
