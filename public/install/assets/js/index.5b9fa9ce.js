import{o as C,u as w}from"./index.0158f1ad.js";import{d as T,r as o,l as $,s as z,a as I,o as u,m as i,p as a,e as v,w as p,u as n,x as d,t as c,y as r,v as g,B as E,C as M}from"./.pnpm.806cdd1d.js";import{_ as P}from"./_plugin-vue_export-helper.c27b6911.js";const k=_=>(E("data-v-8ad12a61"),_=_(),M(),_),W={class:"environment-container"},j={class:"environment"},q={class:"item"},A=k(()=>a("div",{class:"title"}," 环境检测 ",-1)),F={class:"item"},G=k(()=>a("div",{class:"title"}," 目录权限 ",-1)),H={class:"item"},J=k(()=>a("div",{class:"title"}," 函数检测 ",-1)),K={class:"action"},L={class:"item"},O={class:"item"},Q=T({__name:"index",props:{api:{}},setup(_){const b=_,V=o([{title:"函数名称",dataIndex:"name",key:"name"},{title:"是否通过",dataIndex:"status",key:"status"},{title:"函数状态",dataIndex:"value",key:"value"}]),m=o([]),D=o([{title:"项目名称",dataIndex:"title",key:"title"},{title:"是否通过",dataIndex:"status",key:"status",render:()=>"否"},{title:"扩展状态",dataIndex:"value",key:"value"}]),y=o([]),B=o([{title:"目录名称",dataIndex:"name",key:"name"},{title:"是否通过",dataIndex:"status",key:"status",render:()=>"否"},{title:"目录状态",dataIndex:"value",key:"value"}]),x=o([]),N=$(()=>{if(m.value.length<=0||y.value.length<=0)return!0;const f=m.value.filter(l=>l.status===!1),t=y.value.filter(l=>l.status===!1);return!(f.length<=0&&t.length<=0)}),S=()=>{w(b.api).then(f=>{const{data:t}=f;m.value=(t==null?void 0:t.fun)??[],y.value=(t==null?void 0:t.extra)??[],x.value=(t==null?void 0:t.dirData)??[]})};return z(()=>{S()}),(f,t)=>{const l=I("a-table"),h=I("a-button");return u(),i("div",W,[a("div",j,[a("div",q,[A,v(l,{columns:n(D),"data-source":n(y),pagination:!1},{bodyCell:p(({column:e,record:s})=>[e.key==="status"?(u(),i("div",{key:0,class:d(s.status?"status-success":"status-fail")},c(s.status?"通过":"失败"),3)):r("",!0),e.key==="value"?(u(),i("div",{key:1,class:d(s.status?"status-success":"status-fail")},c(s.value),3)):r("",!0)]),_:1},8,["columns","data-source"])]),a("div",F,[G,v(l,{columns:n(B),"data-source":n(x),pagination:!1},{bodyCell:p(({column:e,record:s})=>[e.key==="status"?(u(),i("div",{key:0,class:d(s.status?"status-success":"status-fail")},c(s.status?"通过":"失败"),3)):r("",!0),e.key==="value"?(u(),i("div",{key:1,class:d(s.status?"status-success":"status-fail")},c(s.value),3)):r("",!0)]),_:1},8,["columns","data-source"])]),a("div",H,[J,v(l,{columns:n(V),"data-source":n(m),pagination:!1},{bodyCell:p(({column:e,record:s})=>[e.key==="status"?(u(),i("div",{key:0,class:d(s.status?"status-success":"status-fail")},c(s.status?"通过":"失败"),3)):r("",!0),e.key==="value"?(u(),i("div",{key:1,class:d(s.status?"status-success":"status-fail")},c(s.value),3)):r("",!0)]),_:1},8,["columns","data-source"])])]),a("div",K,[a("div",L,[v(h,{type:"primary",ghost:!1,onClick:t[0]||(t[0]=e=>n(C)("/"))},{default:p(()=>[g(" 上一步 ")]),_:1})]),a("div",O,[v(h,{type:"primary",danger:"",disabled:n(N),onClick:t[1]||(t[1]=e=>n(C)("/installType"))},{default:p(()=>[g(" 下一步 ")]),_:1},8,["disabled"])])])])}}});const Y=P(Q,[["__scopeId","data-v-8ad12a61"]]);export{Y as default};
