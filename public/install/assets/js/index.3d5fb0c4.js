import{o as k,u as S}from"./index.d636619e.js";import{d as w,r as _,l as D,s as $,a as h,o as l,m as u,p as e,e as p,w as v,u as n,x as f,t as m,y,v as C,B as z,C as E}from"./.pnpm.e7cb82db.js";import{_ as G}from"./_plugin-vue_export-helper.c27b6911.js";const g=i=>(z("data-v-c940d55a"),i=i(),E(),i),M={class:"environment-container"},T={class:"environment"},W={class:"item"},j=g(()=>e("div",{class:"title"}," 环境检测 ",-1)),q={class:"item"},A=g(()=>e("div",{class:"title"}," 函数检测 ",-1)),F={class:"action"},H={class:"item"},J={class:"item"},K=w({__name:"index",props:{api:{}},setup(i){const I=i,b=_([{title:"函数名称",dataIndex:"name",key:"name"},{title:"是否通过",dataIndex:"status",key:"status"},{title:"函数状态",dataIndex:"value",key:"value"}]),c=_([]),V=_([{title:"项目名称",dataIndex:"title",key:"title"},{title:"是否通过",dataIndex:"status",key:"status",render:()=>"否"},{title:"扩展状态",dataIndex:"value",key:"value"}]),d=_([]),B=D(()=>{if(c.value.length<=0||d.value.length<=0)return!0;const r=c.value.filter(o=>o.status===!1),t=d.value.filter(o=>o.status===!1);return!(r.length<=0&&t.length<=0)}),N=()=>{S(I.api).then(r=>{const{data:t}=r;c.value=t.fun,d.value=t.extra})};return $(()=>{N()}),(r,t)=>{const o=h("a-table"),x=h("a-button");return l(),u("div",M,[e("div",T,[e("div",W,[j,p(o,{columns:n(V),"data-source":n(d),pagination:!1},{bodyCell:v(({column:a,record:s})=>[a.key==="status"?(l(),u("div",{key:0,class:f(s.status?"status-success":"status-fail")},m(s.status?"通过":"失败"),3)):y("",!0),a.key==="value"?(l(),u("div",{key:1,class:f(s.status?"status-success":"status-fail")},m(s.value),3)):y("",!0)]),_:1},8,["columns","data-source"])]),e("div",q,[A,p(o,{columns:n(b),"data-source":n(c),pagination:!1},{bodyCell:v(({column:a,record:s})=>[a.key==="status"?(l(),u("div",{key:0,class:f(s.status?"status-success":"status-fail")},m(s.status?"通过":"失败"),3)):y("",!0),a.key==="value"?(l(),u("div",{key:1,class:f(s.status?"status-success":"status-fail")},m(s.value),3)):y("",!0)]),_:1},8,["columns","data-source"])])]),e("div",F,[e("div",H,[p(x,{type:"primary",ghost:!1,onClick:t[0]||(t[0]=a=>n(k)("/step1"))},{default:v(()=>[C(" 上一步 ")]),_:1})]),e("div",J,[p(x,{type:"primary",danger:"",disabled:n(B),onClick:t[1]||(t[1]=a=>n(k)("/step3"))},{default:v(()=>[C(" 下一步 ")]),_:1},8,["disabled"])])])])}}});const Q=G(K,[["__scopeId","data-v-c940d55a"]]);export{Q as default};
