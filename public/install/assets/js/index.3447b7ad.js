import{o as k,u as S}from"./index.2fb2dabc.js";import{d as w,r as _,l as D,s as T,a as h,o as i,m as u,p as e,e as p,w as v,u as n,x as f,t as m,y,v as C,B as $,C as z}from"./.pnpm.806cdd1d.js";import{_ as E}from"./_plugin-vue_export-helper.c27b6911.js";const b=l=>($("data-v-68bca1d2"),l=l(),z(),l),G={class:"environment-container"},M={class:"environment"},W={class:"item"},j=b(()=>e("div",{class:"title"}," 环境检测 ",-1)),q={class:"item"},A=b(()=>e("div",{class:"title"}," 函数检测 ",-1)),F={class:"action"},H={class:"item"},J={class:"item"},K=w({__name:"index",props:{api:{}},setup(l){const g=l,I=_([{title:"函数名称",dataIndex:"name",key:"name"},{title:"是否通过",dataIndex:"status",key:"status"},{title:"函数状态",dataIndex:"value",key:"value"}]),c=_([]),V=_([{title:"项目名称",dataIndex:"title",key:"title"},{title:"是否通过",dataIndex:"status",key:"status",render:()=>"否"},{title:"扩展状态",dataIndex:"value",key:"value"}]),d=_([]),B=D(()=>{if(c.value.length<=0||d.value.length<=0)return!0;const r=c.value.filter(o=>o.status===!1),t=d.value.filter(o=>o.status===!1);return!(r.length<=0&&t.length<=0)}),N=()=>{S(g.api).then(r=>{const{data:t}=r;c.value=t.fun,d.value=t.extra})};return T(()=>{N()}),(r,t)=>{const o=h("a-table"),x=h("a-button");return i(),u("div",G,[e("div",M,[e("div",W,[j,p(o,{columns:n(V),"data-source":n(d),pagination:!1},{bodyCell:v(({column:a,record:s})=>[a.key==="status"?(i(),u("div",{key:0,class:f(s.status?"status-success":"status-fail")},m(s.status?"通过":"失败"),3)):y("",!0),a.key==="value"?(i(),u("div",{key:1,class:f(s.status?"status-success":"status-fail")},m(s.value),3)):y("",!0)]),_:1},8,["columns","data-source"])]),e("div",q,[A,p(o,{columns:n(I),"data-source":n(c),pagination:!1},{bodyCell:v(({column:a,record:s})=>[a.key==="status"?(i(),u("div",{key:0,class:f(s.status?"status-success":"status-fail")},m(s.status?"通过":"失败"),3)):y("",!0),a.key==="value"?(i(),u("div",{key:1,class:f(s.status?"status-success":"status-fail")},m(s.value),3)):y("",!0)]),_:1},8,["columns","data-source"])])]),e("div",F,[e("div",H,[p(x,{type:"primary",ghost:!1,onClick:t[0]||(t[0]=a=>n(k)("/"))},{default:v(()=>[C(" 上一步 ")]),_:1})]),e("div",J,[p(x,{type:"primary",danger:"",disabled:n(B),onClick:t[1]||(t[1]=a=>n(k)("/installType"))},{default:v(()=>[C(" 下一步 ")]),_:1},8,["disabled"])])])])}}});const Q=E(K,[["__scopeId","data-v-68bca1d2"]]);export{Q as default};
