<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.socket.io/socket.io-1.4.4.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
</head>
<body>

<div>
    <div>
        返回内容:
    </div>
    <div style="width: 600px;height: 300px" id="content">

    </div>
</div>
<div>
    在控制台中执行 socket.emit("test",{"type":"login","data":"我是内容"})
</div>
<div>
    在控制台中执行 socket.emit("join",{"room":"roomtest"})  加入房间
</div>
<div>
    在控制台中执行 socket.emit("leave",{"room":["roomtest"]})  离开房间
</div>
<script>
    var  socket = io('https://tp8.dev.xbai8.com:39600',{transports: ['websocket']});
    //xxx.com 这个自己替换成自己的环境thinkphp-swoole 的端口或者是nginx的代理端口
    //transports: ['websocket'] 一定要这个,改为websocket链接
    //polling 这个不支持,轮询会导致请求变成http请求,post请求全部拒接掉
    // socket.emit('test',{"asd":"asd"});
    // //自定义msg事件，发送‘你好服务器’字符串向服务器
    socket.on('testcallback',(data)=>{
        //监听浏览器通过msg事件发送的信息
        console.log('data',data);
    });
    // socket.emit('join',{"asd":"asd"});
    // socket.on('roomJoin',(data)=>{
    //     console.log(data);//你好浏览器
    // })
</script>
</body>
</html>