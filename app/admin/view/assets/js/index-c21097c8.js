import{u as I,s as k,r as w,t as b,v as S,c as M,f as s,x as m,y as h,z as B,A as N,m as D,B as E,C as P,o as U,p as V,q}from"./index-15dcfb22.js";import{u as C}from"./useMsg-94faf12e.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";const d=a=>(V("data-v-d81d0213"),a=a(),q(),a),z={class:"main"},A={class:"bgInfo",style:{height:"927px"}},H={class:"info"},L=d(()=>s("div",{class:"textInfo"},[s("div",{class:"textInfo1"})],-1)),R={class:"login"},W={class:"loginInfo"},j=d(()=>s("div",{class:"loginInfoNav"},[s("span",{class:"on",style:{width:"100%"}},"用户登录")],-1)),F={class:"form_login"},G={class:"one"},J={class:"one"},K=d(()=>s("div",{class:"cheackMsg"},[s("div",{class:"info",id:"errorMsg"},[s("span")])],-1)),O={__name:"index",setup(a){const f=I(),n=k(),t=w({username:"",password:""}),r=()=>{var o,u,_,p,v;const c=((p=(_=(u=(o=B)==null?void 0:o.currentRoute)==null?void 0:u.value)==null?void 0:_.query)==null?void 0:p.redirect)??"/",e=C("正在登录中");N((v=n==null?void 0:n.public_api)==null?void 0:v.login,t.value).then(l=>{const{msg:x,data:i}=l;e.close();const y=i==null?void 0:i.token;f.setToken(y),D(c),E(x)}).catch(l=>{e.close(),console.error(l)})},g=()=>{P("Publics/site").then(c=>{const{data:e}=c;n.setData(e)})};return b(()=>{g()}),S(()=>r()),(c,e)=>(U(),M("div",z,[s("div",A,[s("div",H,[L,s("div",R,[s("div",W,[j,s("div",F,[s("ul",null,[s("li",G,[m(s("input",{type:"text",class:"userName","onUpdate:modelValue":e[0]||(e[0]=o=>t.value.username=o),placeholder:"请输入登录账号"},null,512),[[h,t.value.username]])]),s("li",J,[m(s("input",{type:"password",class:"userPass","onUpdate:modelValue":e[1]||(e[1]=o=>t.value.password=o),placeholder:"请输入登录密码"},null,512),[[h,t.value.password]])]),K,s("li",{class:"li1 three"},[s("button",{class:"submit",onClick:r},"立即登录")])])])])])])])]))}},Z=T(O,[["__scopeId","data-v-d81d0213"]]);export{Z as default};
