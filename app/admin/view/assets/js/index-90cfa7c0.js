var se=Object.defineProperty;var ae=(d,o,e)=>o in d?se(d,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):d[o]=e;var Q=(d,o,e)=>(ae(d,typeof o!="symbol"?o+"":o,e),e);import{o as c,c as h,s as K,an as ce,B as Z,u as H,r as i,e as a,W as E,X as D,l as U,w as n,f as u,h as w,i as t,a8 as A,U as W,V as b,p as ue,q as de,z as T,t as ee,ao as re,k as O,j as F,ap as _e,aq as ie,ar as pe,as as me,A as fe,J as he,a as ve,at as ke}from"./index-15dcfb22.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import{e as I}from"./eventBus-7f99bbc0.js";import{b as ge}from"./useConfirm-3c470918.js";const ye={},be={class:"panel-left"};function we(d,o){return c(),h("div",be)}const $e=j(ye,[["render",we],["__scopeId","data-v-235e8cee"]]);class xe{constructor(){Q(this,"fullscreen",!1)}message(o){I.emit("notify")}lock(o){I.emit("lockUI")}system(o){I.emit("system")}zoom(o){const e=document.documentElement;this.fullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),this.fullscreen=!this.fullscreen}clear(o){var r;const e=K(),p=(r=e==null?void 0:e.public_api)==null?void 0:r.clear;ce(p).then(s=>{Z(s==null?void 0:s.msg)})}refresh(o){window.location.reload()}run(o,e){this[o](e)}}const Ce=new xe;class Ve{loginOut(){const o=H();ge("是否确认退出？",()=>{o.loginOut(!0)})}openUser(){I.emit("user")}}const Y=new Ve;const G=d=>(ue("data-v-256b5127"),d=d(),de(),d),Re={class:"right-panel"},Oe=["onClick"],Ue={class:"item"},Fe={class:"userinfo"},Se={class:"info-group"},Be={class:"info"},ze={class:"nickname"},Ie={class:"pl-1"},qe=G(()=>u("span",{class:"hp-icon fa fa-user-o"},null,-1)),He=G(()=>u("span",{class:"pl-1"},"个人资料",-1)),Me=G(()=>u("span",{class:"hp-icon fa fa-user-o"},null,-1)),Ae=G(()=>u("span",{class:"pl-1"},"退出登录",-1)),Le={__name:"headerRight",setup(d){const o=H(),e=i([{content:"消息中心",effect:"dark",icon:"fa-envelope-o",placement:"bottom",method:"message",badge:0},{content:"锁定界面",effect:"dark",icon:"fa-expeditedssl",placement:"bottom",method:"lock",badge:0},{content:"设置界面",effect:"dark",icon:"fa-cog",placement:"bottom",method:"system",badge:0},{content:"页面全屏",effect:"dark",icon:"fa-arrows-alt",placement:"bottom",method:"zoom",badge:0},{content:"清除缓存",effect:"dark",icon:"fa-bitbucket",placement:"bottom",method:"clear",badge:0},{content:"刷新页面",effect:"dark",icon:"fa-refresh",placement:"bottom",method:"refresh",badge:0}]);return(p,r)=>{const s=a("el-badge"),m=a("el-tooltip"),k=a("el-avatar"),v=a("el-dropdown-item"),S=a("el-dropdown-menu"),f=a("el-dropdown");return c(),h("div",Re,[(c(!0),h(E,null,D(e.value,(l,_)=>(c(),U(m,W({key:_},l),{default:n(()=>[u("div",{class:"item",onClick:$=>w(Ce).run(l.method,l)},[t(s,{value:l.badge?l.badge:""},{default:n(()=>[u("span",{class:A(["hp-icon fa",l.icon])},null,2)]),_:2},1032,["value"])],8,Oe)]),_:2},1040))),128)),u("div",Ue,[t(f,{size:"small"},{dropdown:n(()=>[t(S,null,{default:n(()=>[t(v,{onClick:r[0]||(r[0]=l=>w(Y).openUser())},{default:n(()=>[qe,He]),_:1}),t(v,{divided:"",onClick:r[1]||(r[1]=l=>w(Y).loginOut())},{default:n(()=>[Me,Ae]),_:1})]),_:1})]),default:n(()=>{var l,_;return[u("div",Fe,[t(k,{size:40,class:"avatar",src:(l=w(o))==null?void 0:l.headimg},null,8,["src"]),u("div",Se,[u("div",Be,[u("div",ze,[u("span",Ie,b((_=w(o))==null?void 0:_.nickname),1)])])])])]}),_:1})])])}}},Pe=j(Le,[["__scopeId","data-v-256b5127"]]),te=(d,o)=>{const e=d.find(p=>{if(`/${p.path_text}`==o)return!0});if(e!=null&&e.pid)return te(d,`/${e.module}/${e.pid}`);if(e)return`/${e.path_text}`};const Ne={class:"aside-menus"},Te={class:"logo-container"},Ee={class:"image"},De={class:"text"},We=["onClick"],je={class:"tab-text"},Ge={class:"pl-1"},Je={class:"pl-1"},Ke={class:"pl-1"},Xe={__name:"asideMenus",props:{menus:Array},emits:["onClickMenu"],setup(d,{emit:o}){var l,_,$,V,R,B;const e=d,p=H(),r=K(),s=i(""),m=i({backgroundColor:"transparent",uniqueOpened:!0,defaultActive:($=(_=(l=T)==null?void 0:l.currentRoute)==null?void 0:_.value)==null?void 0:$.path}),k=i(te(p.menus,(B=(R=(V=T)==null?void 0:V.currentRoute)==null?void 0:R.value)==null?void 0:B.path)),v=({item1:x,index1:y})=>{var L,M,P;let z=(M=(L=e.menus[y])==null?void 0:L.children[0])==null?void 0:M.children[0];(z==null||z=="undefined")&&(z=(P=e.menus[y])==null?void 0:P.children[0]),m.value.defaultActive=`/${z.path_text}`,o("onClickMenu",z),T.push(`/${z.path_text}`)},S=({item2:x})=>{},f=({item3:x})=>{o("onClickMenu",x),m.value.defaultActive=`/${x.path_text}`,T.push(`/${x.path_text}`)};return ee(()=>{s.value=r.web_logo?r.web_logo:re("logo.png")}),(x,y)=>{const z=a("el-image"),L=a("el-divider"),M=a("el-menu-item"),P=a("el-sub-menu"),ne=a("el-menu"),le=a("el-tab-pane"),oe=a("el-tabs");return c(),h("div",Ne,[u("div",Te,[u("div",Ee,[t(z,{src:s.value,class:"logo"},null,8,["src"])]),u("div",De,b(w(r).web_name),1)]),t(oe,{"tab-position":"left",class:"tabs-menu",modelValue:k.value,"onUpdate:modelValue":y[0]||(y[0]=C=>k.value=C)},{default:n(()=>[(c(!0),h(E,null,D(d.menus,(C,N)=>(c(),U(le,{class:"panel-item",key:N,name:`/${C.path_text}`},{label:n(()=>[u("div",{class:"tab-label",onClick:g=>v({item1:C,index1:N})},[C.icon?(c(),h("span",{key:0,class:A(["fa",C.icon])},null,2)):O("",!0),u("span",je,b(C.title),1)],8,We)]),default:n(()=>[t(L,{class:"aside-divider"},{default:n(()=>[F(b(C.title),1)]),_:2},1024),C.children.length?(c(),U(ne,W({key:0,class:"menu-vertical"},m.value),{default:n(()=>[(c(!0),h(E,null,D(C.children,(g,J)=>(c(),h("div",{key:J},[g.children.length<=0&&g.show=="1"?(c(),U(M,{key:0,index:`/${g.path_text}`,onClick:q=>S({item2:g,index1:N,index2:J})},{default:n(()=>[g.icon?(c(),h("span",{key:0,class:A(["fa",g.icon])},null,2)):O("",!0),u("span",Ge,b(g.title),1)]),_:2},1032,["index","onClick"])):g.show=="1"?(c(),U(P,{key:1,index:`/${g.path_text}`},{title:n(()=>[g.icon?(c(),h("span",{key:0,class:A(["fa",g.icon])},null,2)):O("",!0),u("span",Je,b(g.title),1)]),default:n(()=>[(c(!0),h(E,null,D(g.children,(q,X)=>(c(),U(M,{key:X,index:`/${q.path_text}`,onClick:pt=>f({item3:q,index1:N,index2:J,index3:X})},{default:n(()=>[q.icon?(c(),h("span",{key:0,class:A(["fa",q.icon])},null,2)):O("",!0),u("span",Ke,b(q.title),1)]),_:2},1032,["index","onClick"]))),128))]),_:2},1032,["index"])):O("",!0)]))),128))]),_:2},1040)):O("",!0)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])])}}};const Qe={class:"footer-copyright"},Ye=["href"],Ze={__name:"footer",setup(d){return(o,e)=>(c(),h("div",Qe,[F(" Copyright "+b(w(_e))+" ",1),u("a",{href:w(pe),target:"_blank"},b(w(ie)),9,Ye),F(" v"+b(w(me)),1)]))}},et=j(Ze,[["__scopeId","data-v-866312a8"]]),tt={__name:"notify",setup(d,{expose:o}){const e=i(!1);return o({hanldOpen:()=>{e.value=!0},hanldHide:()=>{e.value=!0}}),(s,m)=>{const k=a("el-drawer");return c(),h("div",null,[t(k,{modelValue:e.value,"onUpdate:modelValue":m[0]||(m[0]=v=>e.value=v),title:"消息中心",direction:"rtl",size:"25%"},{default:n(()=>[F(" 组件内容 ")]),_:1},8,["modelValue"])])}}},nt={__name:"system",setup(d,{expose:o}){const e=i(!1);return o({hanldOpen:()=>{e.value=!0},hanldHide:()=>{e.value=!0}}),(s,m)=>{const k=a("el-drawer");return c(),h("div",null,[t(k,{modelValue:e.value,"onUpdate:modelValue":m[0]||(m[0]=v=>e.value=v),title:"系统设置",direction:"rtl",size:"25%"},{default:n(()=>[F(" 组件内容 ")]),_:1},8,["modelValue"])])}}},lt={__name:"user",setup(d,{expose:o}){const e=H(),p=i({modelValue:!1,title:"用户信息",direction:"rtl",size:"25%",destroyOnClose:!0,closeOnClickModal:!1}),r=i({action:"",Headers:{}}),s=i({username:e.username,password:"",vpassword:"",nickname:e.nickname,headimg:e.headimg}),m=()=>{},k=()=>{p.value.modelValue=!0},v=()=>{p.value.modelValue=!1};return o({hanldOpen:k,hanldHide:v}),(S,f)=>{const l=a("el-input"),_=a("el-form-item"),$=a("el-image"),V=a("el-upload"),R=a("el-button"),B=a("el-form"),x=a("el-drawer");return c(),h("div",null,[t(x,W(p.value,{onClose:v}),{default:n(()=>[t(B,{model:s.value,"label-width":"120px","label-position":"top"},{default:n(()=>[t(_,{label:"登录账号"},{default:n(()=>[t(l,{modelValue:s.value.username,"onUpdate:modelValue":f[0]||(f[0]=y=>s.value.username=y),placeholder:"请输入登录账号"},null,8,["modelValue"])]),_:1}),t(_,{label:"登录密码"},{default:n(()=>[t(l,{modelValue:s.value.password,"onUpdate:modelValue":f[1]||(f[1]=y=>s.value.password=y),placeholder:"不填写，则不修改"},null,8,["modelValue"])]),_:1}),t(_,{label:"重复密码"},{default:n(()=>[t(l,{modelValue:s.value.vpassword,"onUpdate:modelValue":f[2]||(f[2]=y=>s.value.vpassword=y),placeholder:"不填写，则不修改"},null,8,["modelValue"])]),_:1}),t(_,{label:"我的昵称"},{default:n(()=>[t(l,{modelValue:s.value.nickname,"onUpdate:modelValue":f[3]||(f[3]=y=>s.value.nickname=y),placeholder:"请输入用户昵称"},null,8,["modelValue"])]),_:1}),t(_,{label:"我的头像"},{default:n(()=>[t(V,W({class:"avatar-uploader"},r.value),{default:n(()=>[s.value.headimg?(c(),U($,{key:0,src:s.value.headimg},null,8,["src"])):O("",!0)]),_:1},16)]),_:1}),t(_,null,{default:n(()=>[t(R,{type:"primary",onClick:m},{default:n(()=>[F("提交保存")]),_:1}),t(R,{type:"danger",onClick:v},{default:n(()=>[F("取消修改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},16)])}}};const ot={key:0,class:"lock-ui"},st={class:"login-container"},at={class:"text-gray-600"},ct={class:"text-gray-600"},ut={__name:"index",setup(d,{expose:o}){const e=H(),p=K(),r=i(""),s=i((e==null?void 0:e.lockUI)??!1),m=()=>{var l;const f={password:r.value};fe((l=p==null?void 0:p.public_api)==null?void 0:l.lock,f).then(_=>{const{msg:$}=_;e.setLock(!1),s.value=!1,Z($)})},k=()=>{e.setLock(!1),s.value=!1,e.loginOut(!0)};return o({hanldOpen:()=>{e.setLock(!0),s.value=!0},hanldHide:()=>{e.setLock(!1),s.value=!1}}),(f,l)=>{const _=a("el-form-item"),$=a("el-input"),V=a("el-button"),R=a("el-form");return s.value?(c(),h("div",ot,[u("div",st,[t(R,{"label-width":"90px"},{default:n(()=>[t(_,{label:"登录账号"},{default:n(()=>[u("span",at,b(w(e).username),1)]),_:1}),t(_,{label:"用户昵称"},{default:n(()=>[u("span",ct,b(w(e).nickname),1)]),_:1}),t(_,{label:"登录密码"},{default:n(()=>[t($,{placeholder:"请输入登录密码",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=B=>r.value=B)},null,8,["modelValue"])]),_:1}),t(_,{class:"text-center"},{default:n(()=>[t(V,{type:"primary",onClick:m},{default:n(()=>[F("立即解锁")]),_:1}),t(V,{type:"danger",onClick:k},{default:n(()=>[F("切换用户")]),_:1})]),_:1})]),_:1})])])):O("",!0)}}},dt=j(ut,[["__scopeId","data-v-22058234"]]);const rt={class:"page-container"},_t={class:"header-left"},it={class:"header-right"},gt={__name:"index",setup(d){const o=ve(),e=i(""),p=H(),r=i([]);r.value=p.getApiMenus();const s=i(null),m=i(0),k=i(null),v=i(null),S=i(null),f=i(null);return ee(()=>{m.value=s.value.clientHeight}),he(()=>o.fullPath,()=>{e.value=ke()}),I.on("user",()=>{var l;(l=S.value)==null||l.hanldOpen()}),I.on("notify",()=>{var l;(l=k.value)==null||l.hanldOpen()}),I.on("system",()=>{var l;(l=v.value)==null||l.hanldOpen()}),I.on("lockUI",()=>{var l;(l=f.value)==null||l.hanldOpen()}),(l,_)=>{const $=a("el-aside"),V=a("el-header"),R=a("RouterView"),B=a("el-main"),x=a("el-container");return c(),h("div",rt,[t(x,{class:"container-box"},{default:n(()=>[t($,{class:"aside-container"},{default:n(()=>[r.value.length?(c(),U(Xe,{key:0,menus:r.value},null,8,["menus"])):O("",!0)]),_:1}),t(x,null,{default:n(()=>[t(V,{class:"header-line"},{default:n(()=>[u("div",_t,[t($e)]),u("div",it,[t(Pe)])]),_:1}),t(B,null,{default:n(()=>[u("div",{class:"main-body",ref_key:"mainBody",ref:s},[(c(),U(R,{key:e.value,mainBodyHeight:m.value},null,8,["mainBodyHeight"]))],512),t(et)]),_:1})]),_:1})]),_:1}),t(tt,{ref_key:"notifyRef",ref:k},null,512),t(nt,{ref_key:"systemRef",ref:v},null,512),t(lt,{ref_key:"userRef",ref:S},null,512),t(dt,{ref_key:"lockUI",ref:f},null,512)])}}};export{gt as default};
